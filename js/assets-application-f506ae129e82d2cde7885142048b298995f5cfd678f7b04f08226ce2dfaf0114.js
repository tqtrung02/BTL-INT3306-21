function report_expand(t,e){for(var i,n=0;i=document.getElementById(t+"_"+n);)e?i.className=e:"show"==i.className?i.className="hide":"hide"==i.className?i.className="show":"tdown"==i.className?i.className="tup":"tup"==i.className?i.className="tdown":$("#"+t+"_"+n).toggle(),n++}function remove_td_borders(t){jQuery("#"+t).children().addClass("noborder")}function add_td_borders(t){jQuery("#"+t).children().removeClass("noborder")}function toggle_row_detail(t,e){var i=jQuery("#"+t+"_detail_"+e);i.is(":visible")?(i.hide(),add_td_borders(t+"_row_"+e)):(i.show(),remove_td_borders(t+"_row_"+e))}function isInteger(t){var e=parseInt(t);return!isNaN(e)&&(t==e&&t.toString()==e.toString())}function validateField(t,e){return field=jQuery("#"+t),!!field.val()||(alert(e),field.focus(),!1)}function selectAll(t,e){for(i=0;i<e;i++)jQuery("#rowvalid_"+i).prop("checked",!0)}function unselectAll(t,e){for(i=0;i<e;i++)jQuery("#rowvalid_"+i).prop("checked",!1)}function addEvent(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&(t["e"+e+i]=i,t[e+i]=function(){t["e"+e+i](window.event)},t.attachEvent("on"+e,t[e+i]))}function createElement(t){return void 0!==document.createElementNS?document.createElementNS("http://www.w3.org/1999/xhtml",t):void 0!==document.createElement&&document.createElement(t)}function insertTop(t){d=createElement("div"),d.className="bt",d2=createElement("div"),d.appendChild(d2),t.insertBefore(d,t.firstChild)}function insertBottom(t){d=createElement("div"),d.className="bb",d2=createElement("div"),d.appendChild(d2),t.appendChild(d)}function initCB(){for(var t,e,i,n,r=document.getElementsByTagName("div"),o=[],s=0;s<r.length;s++)/\bcbb\b/.test(r[s].className)&&(o[o.length]=r[s]);for(s=0;s<o.length;s++)t=o[s],(e=createElement("div")).className=t.className,e.className=t.className.replace("cbb","cb"),t.className="i3",t.parentNode.replaceChild(e,t),(i=createElement("div")).className="i1",e.appendChild(i),(n=createElement("div")).className="i2",i.appendChild(n),n.appendChild(t),insertTop(e),insertBottom(e)}function aligniAjaxActivity(){$("body").on("ajax:before","a[data-aligni-activity]",(function(){var t=$(this).attr("data-aligni-activity"),e="true"==t?this:$(t);Aligni.Util.activity(e)})),$("body").on("ajax:complete","a[data-aligni-activity]",(function(){var t=$(this).attr("data-aligni-activity"),e="true"==t?this:$(t);Aligni.Util.activity(e,!1)})),$("body").on("ajax:error","a[data-aligni-activity]",(function(){$(this).bt("Sorry, an error occurred.",{trigger:"none",positions:"bottom",fill:"rgba(150,75,75,1)",strokeWidth:1,strokeStyle:"rgba(100,0,0,1)",cssStyles:{color:"white",width:"auto"},cornerRadius:0,spikeLength:5,padding:"7px"}).btOn()}))}function aligniMousewheelDelegates(){$(document).delegate(".ui-dialog-content, ul.connected-list, .scrollable","mouseenter mouseleave",(function(t){$(this).find("ul.connected-list").length>0||("mouseenter"===t.type?$(this).bind("mousewheel DOMMouseScroll",(function(t){height=$(this).outerHeight(),scrollHeight=$(this).get(0).scrollHeight,scrollTop=$(this).scrollTop(),t.originalEvent&&(t=t.originalEvent);var e=t.wheelDeltaY||-t.detail;(scrollHeight-height-scrollTop<2&&e<0||0==scrollTop&&e>0)&&t.preventDefault()})):"mouseleave"===t.type&&$("body").unbind("mousewheel DOMMouseScroll"))})),$(document).delegate(".scrollableX","mouseenter mouseleave",(function(t){"mouseenter"===t.type?$(this).bind("mousewheel DOMMouseScroll",(function(t){width=$(this).outerWidth(),scrollWidth=$(this).get(0).scrollWidth,scrollLeft=$(this).scrollLeft(),t.originalEvent&&(t=t.originalEvent);var e=t.wheelDeltaX||-t.detail;(scrollWidth-width-scrollLeft<2&&e<0||0==scrollLeft&&e>0)&&t.preventDefault()})):"mouseleave"===t.type&&$("body").unbind("mousewheel DOMMouseScroll")}))}function aligniTooltipDelegates(){jQuery(document).delegate("[aligni-tooltip-simple]","mouseenter",(function(){element=jQuery(this);var t=element.attr("aligni-tooltip-simple");element.bt(t,{trigger:"none",positions:["top","bottom"],fill:"rgba(0,0,0,1)",cssStyles:{color:"white",width:"auto"},offsetParent:"body",cornerRadius:0,spikeLength:5,padding:"7px"}).btOn()})),jQuery(document).delegate("[aligni-tooltip-simple]","mouseleave",(function(){jQuery(this).btOff()}))}function aligniConfirmationDelegates(){jQuery(document).delegate("a[data-aligni-confirm]","click",(function(){return obj=jQuery(this),obj.fastConfirm({position:obj.attr("data-aligni-confirm-position")||"top",questionText:obj.attr("data-aligni-confirm"),proceedText:obj.attr("data-aligni-confirm-yes")||"Yes",cancelText:obj.attr("data-aligni-confirm-no")||"No",onProceed:function(t){return obj.removeClass("fade"),jQuery.ajax({type:obj.attr("data-aligni-confirm-method")||"post",dataType:"script",headers:{"X-CSRF-Token":jQuery('meta[name="csrf-token"]').attr("content")},url:obj.attr("href"),beforeSend:function(){Aligni.Util.activity(obj)},complete:function(){Aligni.Util.activity(obj,!1)}}),$(t).fastConfirm("close"),!1}}),!1}))}function toggleAllocationColumns(t,e){$("div#"+t+" th.allocation_column").hide(),$("div#"+t+" td.allocation_column").hide(),$.each(e,(function(e,i){$("div#"+t+" th#"+i+".allocation_column").show(),$("div#"+t+" td."+i+".allocation_column").show()}))}function aligniPageSetup(){aligniAjaxActivity(),aligniMousewheelDelegates(),aligniTooltipDelegates(),aligniConfirmationDelegates()}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function inventory_adjustment_batch_fields(){var t=$(".adjustment-field");switch(t.length){case 0:return[];case 1:return[t.parsley()];default:return t.parsley()}}function set_post_adjustment_quantity_available_field(t){var e=parseFloat($(t).data("pre-adjustment-quantity")),i=$(t).val(),n=Aligni.InventoryAdjustment.parseAdjustment(i,$(t).data("allowFractional")),r=Aligni.InventoryAdjustment.calculatePostAdjustmentQuantity(e,n),o=$(t).closest("tr").find(".post-adjustment-field");i!=n.field_value&&$(t).val(n.field_value),$(t).data("previous_value",$(t).val()),o.text(r),r<0?o.addClass("alert alert-danger"):(o.removeClass("alert alert-danger"),e<r?o.addClass("text-success").removeClass("text-danger"):e==r?o.removeClass("text-success text-danger"):o.addClass("text-danger").removeClass("text-success"))}function adjustment_field_changed(t){set_post_adjustment_quantity_available_field(t),$.ajax({type:"POST",dataType:"script",headers:{"X-CSRF-Token":$("meta[name='csrf-token']").attr("content")},url:"/inventory_adjustment_batches/"+t.attr("data-inventory-adjustment-batch-id")+"/inventory_adjustments/"+t.attr("data-inventory-adjustment-id"),data:{_method:"PUT",inventory_adjustment:{amount:t.val()}},beforeSend:function(){Aligni.Util.activity(t.parent("div"))},complete:function(){Aligni.Util.activity(t.parent("div"),!1)}})}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,(function(t,e){function i(t){var e=!!t&&"length"in t&&t.length,i=pt.type(t);return"function"!==i&&!pt.isWindow(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}function n(t,e,i){if(pt.isFunction(e))return pt.grep(t,(function(t,n){return!!e.call(t,n,t)!==i}));if(e.nodeType)return pt.grep(t,(function(t){return t===e!==i}));if("string"==typeof e){if($t.test(e))return pt.filter(e,t,i);e=pt.filter(e,t)}return pt.grep(t,(function(t){return pt.inArray(t,e)>-1!==i}))}function r(t,e){do{t=t[e]}while(t&&1!==t.nodeType);return t}function o(t){var e={};return pt.each(t.match(Dt)||[],(function(t,i){e[i]=!0})),e}function s(){nt.addEventListener?(nt.removeEventListener("DOMContentLoaded",a),t.removeEventListener("load",a)):(nt.detachEvent("onreadystatechange",a),t.detachEvent("onload",a))}function a(){(nt.addEventListener||"load"===t.event.type||"complete"===nt.readyState)&&(s(),pt.ready())}function l(t,e,i){if(void 0===i&&1===t.nodeType){var n="data-"+e.replace(Ot,"-$1").toLowerCase();if("string"==typeof(i=t.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:Pt.test(i)?pt.parseJSON(i):i)}catch(t){}pt.data(t,e,i)}else i=void 0}return i}function c(t){var e;for(e in t)if(("data"!==e||!pt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function u(t,e,i,n){if(Et(t)){var r,o,s=pt.expando,a=t.nodeType,l=a?pt.cache:t,c=a?t[s]:t[s]&&s;if(c&&l[c]&&(n||l[c].data)||void 0!==i||"string"!=typeof e)return c||(c=a?t[s]=it.pop()||pt.guid++:s),l[c]||(l[c]=a?{}:{toJSON:pt.noop}),"object"!=typeof e&&"function"!=typeof e||(n?l[c]=pt.extend(l[c],e):l[c].data=pt.extend(l[c].data,e)),o=l[c],n||(o.data||(o.data={}),o=o.data),void 0!==i&&(o[pt.camelCase(e)]=i),"string"==typeof e?null==(r=o[e])&&(r=o[pt.camelCase(e)]):r=o,r}}function d(t,e,i){if(Et(t)){var n,r,o=t.nodeType,s=o?pt.cache:t,a=o?t[pt.expando]:pt.expando;if(s[a]){if(e&&(n=i?s[a]:s[a].data)){r=(e=pt.isArray(e)?e.concat(pt.map(e,pt.camelCase)):e in n||(e=pt.camelCase(e))in n?[e]:e.split(" ")).length;for(;r--;)delete n[e[r]];if(i?!c(n):!pt.isEmptyObject(n))return}(i||(delete s[a].data,c(s[a])))&&(o?pt.cleanData([t],!0):dt.deleteExpando||s!=s.window?delete s[a]:s[a]=void 0)}}}function h(t,e,i,n){var r,o=1,s=20,a=n?function(){return n.cur()}:function(){return pt.css(t,e,"")},l=a(),c=i&&i[3]||(pt.cssNumber[e]?"":"px"),u=(pt.cssNumber[e]||"px"!==c&&+l)&&qt.exec(pt.css(t,e));if(u&&u[3]!==c){c=c||u[3],i=i||[],u=+l||1;do{u/=o=o||".5",pt.style(t,e,u+c)}while(o!==(o=a()/l)&&1!==o&&--s)}return i&&(u=+u||+l||0,r=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=u,n.end=r)),r}function p(t){var e=Vt.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function f(t,e){var i,n,r=0,o=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):void 0;if(!o)for(o=[],i=t.childNodes||t;null!=(n=i[r]);r++)!e||pt.nodeName(n,e)?o.push(n):pt.merge(o,f(n,e));return void 0===e||e&&pt.nodeName(t,e)?pt.merge([t],o):o}function g(t,e){for(var i,n=0;null!=(i=t[n]);n++)pt._data(i,"globalEval",!e||pt._data(e[n],"globalEval"))}function m(t){Bt.test(t.type)&&(t.defaultChecked=t.checked)}function v(t,e,i,n,r){for(var o,s,a,l,c,u,d,h=t.length,v=p(e),y=[],b=0;b<h;b++)if((s=t[b])||0===s)if("object"===pt.type(s))pt.merge(y,s.nodeType?[s]:s);else if(Yt.test(s)){for(l=l||v.appendChild(e.createElement("div")),c=(Wt.exec(s)||["",""])[1].toLowerCase(),d=Qt[c]||Qt._default,l.innerHTML=d[1]+pt.htmlPrefilter(s)+d[2],o=d[0];o--;)l=l.lastChild;if(!dt.leadingWhitespace&&Ut.test(s)&&y.push(e.createTextNode(Ut.exec(s)[0])),!dt.tbody)for(o=(s="table"!==c||Xt.test(s)?"<table>"!==d[1]||Xt.test(s)?0:l:l.firstChild)&&s.childNodes.length;o--;)pt.nodeName(u=s.childNodes[o],"tbody")&&!u.childNodes.length&&s.removeChild(u);for(pt.merge(y,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=v.lastChild}else y.push(e.createTextNode(s));for(l&&v.removeChild(l),dt.appendChecked||pt.grep(f(y,"input"),m),b=0;s=y[b++];)if(n&&pt.inArray(s,n)>-1)r&&r.push(s);else if(a=pt.contains(s.ownerDocument,s),l=f(v.appendChild(s),"script"),a&&g(l),i)for(o=0;s=l[o++];)Gt.test(s.type||"")&&i.push(s);return l=null,v}function y(){return!0}function b(){return!1}function _(){try{return nt.activeElement}catch(t){}}function w(t,e,i,n,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof i&&(n=n||i,i=void 0),e)w(t,a,i,n,e[a],o);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=b;else if(!r)return t;return 1===o&&(s=r,r=function(t){return pt().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=pt.guid++)),t.each((function(){pt.event.add(this,e,r,n,i)}))}function x(t,e){return pt.nodeName(t,"table")&&pt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function $(t){return t.type=(null!==pt.find.attr(t,"type"))+"/"+t.type,t}function C(t){var e=ae.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function k(t,e){if(1===e.nodeType&&pt.hasData(t)){var i,n,r,o=pt._data(t),s=pt._data(e,o),a=o.events;if(a)for(i in delete s.handle,s.events={},a)for(n=0,r=a[i].length;n<r;n++)pt.event.add(e,i,a[i][n]);s.data&&(s.data=pt.extend({},s.data))}}function S(t,e){var i,n,r;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!dt.noCloneEvent&&e[pt.expando]){for(n in(r=pt._data(e)).events)pt.removeEvent(e,n,r.handle);e.removeAttribute(pt.expando)}"script"===i&&e.text!==t.text?($(e).text=t.text,C(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),dt.html5Clone&&t.innerHTML&&!pt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&Bt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}}function j(t,e,i,n){e=ot.apply([],e);var r,o,s,a,l,c,u=0,d=t.length,h=d-1,p=e[0],g=pt.isFunction(p);if(g||d>1&&"string"==typeof p&&!dt.checkClone&&se.test(p))return t.each((function(r){var o=t.eq(r);g&&(e[0]=p.call(this,r,o.html())),j(o,e,i,n)}));if(d&&(r=(c=v(e,t[0].ownerDocument,!1,t,n)).firstChild,1===c.childNodes.length&&(c=r),r||n)){for(s=(a=pt.map(f(c,"script"),$)).length;u<d;u++)o=c,u!==h&&(o=pt.clone(o,!0,!0),s&&pt.merge(a,f(o,"script"))),i.call(t[u],o,u);if(s)for(l=a[a.length-1].ownerDocument,pt.map(a,C),u=0;u<s;u++)o=a[u],Gt.test(o.type||"")&&!pt._data(o,"globalEval")&&pt.contains(l,o)&&(o.src?pt._evalUrl&&pt._evalUrl(o.src):pt.globalEval((o.text||o.textContent||o.innerHTML||"").replace(le,"")));c=r=null}return t}function T(t,e,i){for(var n,r=e?pt.filter(e,t):t,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||pt.cleanData(f(n)),n.parentNode&&(i&&pt.contains(n.ownerDocument,n)&&g(f(n,"script")),n.parentNode.removeChild(n));return t}function A(t,e){var i=pt(e.createElement(t)).appendTo(e.body),n=pt.css(i[0],"display");return i.detach(),n}function D(t){var e=nt,i=de[t];return i||("none"!==(i=A(t,e))&&i||((e=((ue=(ue||pt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentWindow||ue[0].contentDocument).document).write(),e.close(),i=A(t,e),ue.detach()),de[t]=i),i}function I(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function E(t){if(t in Se)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),i=ke.length;i--;)if((t=ke[i]+e)in Se)return t}function P(t,e){for(var i,n,r,o=[],s=0,a=t.length;s<a;s++)(n=t[s]).style&&(o[s]=pt._data(n,"olddisplay"),i=n.style.display,e?(o[s]||"none"!==i||(n.style.display=""),""===n.style.display&&zt(n)&&(o[s]=pt._data(n,"olddisplay",D(n.nodeName)))):(r=zt(n),(i&&"none"!==i||!r)&&pt._data(n,"olddisplay",r?i:pt.css(n,"display"))));for(s=0;s<a;s++)(n=t[s]).style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?o[s]||"":"none"));return t}function O(t,e,i){var n=xe.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function F(t,e,i,n,r){for(var o=i===(n?"border":"content")?4:"width"===e?1:0,s=0;o<4;o+=2)"margin"===i&&(s+=pt.css(t,i+Lt[o],!0,r)),n?("content"===i&&(s-=pt.css(t,"padding"+Lt[o],!0,r)),"margin"!==i&&(s-=pt.css(t,"border"+Lt[o]+"Width",!0,r))):(s+=pt.css(t,"padding"+Lt[o],!0,r),"padding"!==i&&(s+=pt.css(t,"border"+Lt[o]+"Width",!0,r)));return s}function M(e,i,n){var r=!0,o="width"===i?e.offsetWidth:e.offsetHeight,s=me(e),a=dt.boxSizing&&"border-box"===pt.css(e,"boxSizing",!1,s);if(nt.msFullscreenElement&&t.top!==t&&e.getClientRects().length&&(o=Math.round(100*e.getBoundingClientRect()[i])),o<=0||null==o){if(((o=ve(e,i,s))<0||null==o)&&(o=e.style[i]),pe.test(o))return o;r=a&&(dt.boxSizingReliable()||o===e.style[i]),o=parseFloat(o)||0}return o+F(e,i,n||(a?"border":"content"),r,s)+"px"}function R(t,e,i,n,r){return new R.prototype.init(t,e,i,n,r)}function N(){return t.setTimeout((function(){je=void 0})),je=pt.now()}function q(t,e){var i,n={height:t},r=0;for(e=e?1:0;r<4;r+=2-e)n["margin"+(i=Lt[r])]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function L(t,e,i){for(var n,r=(B.tweeners[e]||[]).concat(B.tweeners["*"]),o=0,s=r.length;o<s;o++)if(n=r[o].call(i,e,t))return n}function z(t,e,i){var n,r,o,s,a,l,c,u=this,d={},h=t.style,p=t.nodeType&&zt(t),f=pt._data(t,"fxshow");for(n in i.queue||(null==(a=pt._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always((function(){u.always((function(){a.unqueued--,pt.queue(t,"fx").length||a.empty.fire()}))}))),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(c=pt.css(t,"display"))?pt._data(t,"olddisplay")||D(t.nodeName):c)&&"none"===pt.css(t,"float")&&(dt.inlineBlockNeedsLayout&&"inline"!==D(t.nodeName)?h.zoom=1:h.display="inline-block")),i.overflow&&(h.overflow="hidden",dt.shrinkWrapBlocks()||u.always((function(){h.overflow=i.overflow[0],h.overflowX=i.overflow[1],h.overflowY=i.overflow[2]}))),e)if(r=e[n],Ae.exec(r)){if(delete e[n],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!f||void 0===f[n])continue;p=!0}d[n]=f&&f[n]||pt.style(t,n)}else c=void 0;if(pt.isEmptyObject(d))"inline"===("none"===c?D(t.nodeName):c)&&(h.display=c);else for(n in f?"hidden"in f&&(p=f.hidden):f=pt._data(t,"fxshow",{}),o&&(f.hidden=!p),p?pt(t).show():u.done((function(){pt(t).hide()})),u.done((function(){var e;for(e in pt._removeData(t,"fxshow"),d)pt.style(t,e,d[e])})),d)s=L(p?f[n]:0,n,u),n in f||(f[n]=s.start,p&&(s.end=s.start,s.start="width"===n||"height"===n?1:0))}function H(t,e){var i,n,r,o,s;for(i in t)if(r=e[n=pt.camelCase(i)],o=t[i],pt.isArray(o)&&(r=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),(s=pt.cssHooks[n])&&"expand"in s)for(i in o=s.expand(o),delete t[n],o)i in t||(t[i]=o[i],e[i]=r);else e[n]=r}function B(t,e,i){var n,r,o=0,s=B.prefilters.length,a=pt.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var e=je||N(),i=Math.max(0,c.startTime+c.duration-e),n=1-(i/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(n);return a.notifyWith(t,[c,n,i]),n<1&&s?i:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:pt.extend({},e),opts:pt.extend(!0,{specialEasing:{},easing:pt.easing._default},i),originalProperties:e,originalOptions:i,startTime:je||N(),duration:i.duration,tweens:[],createTween:function(e,i){var n=pt.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)c.tweens[i].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),u=c.props;for(H(u,c.opts.specialEasing);o<s;o++)if(n=B.prefilters[o].call(c,t,u,c.opts))return pt.isFunction(n.stop)&&(pt._queueHooks(c.elem,c.opts.queue).stop=pt.proxy(n.stop,n)),n;return pt.map(u,L,c),pt.isFunction(c.opts.start)&&c.opts.start.call(t,c),pt.fx.timer(pt.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function W(t){return pt.attr(t,"class")||""}function G(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,o=e.toLowerCase().match(Dt)||[];if(pt.isFunction(i))for(;n=o[r++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function U(t,e,i,n){function r(a){var l;return o[a]=!0,pt.each(t[a]||[],(function(t,a){var c=a(e,i,n);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),r(c),!1)})),l}var o={},s=t===Ze;return r(e.dataTypes[0])||!o["*"]&&r("*")}function V(t,e){var i,n,r=pt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&pt.extend(!0,t,i),t}function Q(t,e,i){for(var n,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){l.unshift(s);break}if(l[0]in i)o=l[0];else{for(s in i){if(!l[0]||t.converters[s+" "+l[0]]){o=s;break}n||(n=s)}o=o||n}if(o)return o!==l[0]&&l.unshift(o),i[o]}function Y(t,e,i,n){var r,o,s,a,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=u.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function X(t){return t.style&&t.style.display||pt.css(t,"display")}function K(t){for(;t&&1===t.nodeType;){if("none"===X(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}
function J(t,e,i,n){var r;if(pt.isArray(e))pt.each(e,(function(e,r){i||ri.test(t)?n(t,r):J(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,i,n)}));else if(i||"object"!==pt.type(e))n(t,e);else for(r in e)J(t+"["+r+"]",e[r],i,n)}function Z(){try{return new t.XMLHttpRequest}catch(t){}}function tt(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function et(t){return pt.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var it=[],nt=t.document,rt=it.slice,ot=it.concat,st=it.push,at=it.indexOf,lt={},ct=lt.toString,ut=lt.hasOwnProperty,dt={},ht="1.12.1",pt=function(t,e){return new pt.fn.init(t,e)},ft=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,gt=/^-ms-/,mt=/-([\da-z])/gi,vt=function(t,e){return e.toUpperCase()};pt.fn=pt.prototype={jquery:ht,constructor:pt,selector:"",length:0,toArray:function(){return rt.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:rt.call(this)},pushStack:function(t){var e=pt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return pt.each(this,t)},map:function(t){return this.pushStack(pt.map(this,(function(e,i){return t.call(e,i,e)})))},slice:function(){return this.pushStack(rt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:st,sort:it.sort,splice:it.splice},pt.extend=pt.fn.extend=function(){var t,e,i,n,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||pt.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(r=arguments[a]))for(n in r)t=s[n],s!==(i=r[n])&&(c&&i&&(pt.isPlainObject(i)||(e=pt.isArray(i)))?(e?(e=!1,o=t&&pt.isArray(t)?t:[]):o=t&&pt.isPlainObject(t)?t:{},s[n]=pt.extend(c,o,i)):void 0!==i&&(s[n]=i));return s},pt.extend({expando:"jQuery"+(ht+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===pt.type(t)},isArray:Array.isArray||function(t){return"array"===pt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!pt.isArray(t)&&e-parseFloat(e)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==pt.type(t)||t.nodeType||pt.isWindow(t))return!1;try{if(t.constructor&&!ut.call(t,"constructor")&&!ut.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(!dt.ownFirst)for(e in t)return ut.call(t,e);for(e in t);return void 0===e||ut.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?lt[ct.call(t)]||"object":typeof t},globalEval:function(e){e&&pt.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(gt,"ms-").replace(mt,vt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,r=0;if(i(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(ft,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?pt.merge(n,"string"==typeof t?[t]:t):st.call(n,t)),n},inArray:function(t,e,i){var n;if(e){if(at)return at.call(e,t,i);for(n=e.length,i=i?i<0?Math.max(0,n+i):i:0;i<n;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;)t[r++]=e[n++];if(i!=i)for(;void 0!==e[n];)t[r++]=e[n++];return t.length=r,t},grep:function(t,e,i){for(var n=[],r=0,o=t.length,s=!i;r<o;r++)!e(t[r],r)!==s&&n.push(t[r]);return n},map:function(t,e,n){var r,o,s=0,a=[];if(i(t))for(r=t.length;s<r;s++)null!=(o=e(t[s],s,n))&&a.push(o);else for(s in t)null!=(o=e(t[s],s,n))&&a.push(o);return ot.apply([],a)},guid:1,proxy:function(t,e){var i,n,r;if("string"==typeof e&&(r=t[e],e=t,t=r),pt.isFunction(t))return i=rt.call(arguments,2),n=function(){return t.apply(e||this,i.concat(rt.call(arguments)))},n.guid=t.guid=t.guid||pt.guid++,n},now:function(){return+new Date},support:dt}),"function"==typeof Symbol&&(pt.fn[Symbol.iterator]=it[Symbol.iterator]),pt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){lt["[object "+e+"]"]=e.toLowerCase()}));var yt=function(t){function e(t,e,i,n){var r,o,s,a,l,c,d,p,f=e&&e.ownerDocument,g=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return i;if(!n&&((e?e.ownerDocument||e:L)!==E&&I(e),e=e||E,O)){if(11!==g&&(c=vt.exec(t)))if(r=c[1]){if(9===g){if(!(s=e.getElementById(r)))return i;if(s.id===r)return i.push(s),i}else if(f&&(s=f.getElementById(r))&&N(e,s)&&s.id===r)return i.push(s),i}else{if(c[2])return J.apply(i,e.getElementsByTagName(t)),i;if((r=c[3])&&w.getElementsByClassName&&e.getElementsByClassName)return J.apply(i,e.getElementsByClassName(r)),i}if(w.qsa&&!G[t+" "]&&(!F||!F.test(t))){if(1!==g)f=e,p=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(bt,"\\$&"):e.setAttribute("id",a=q),o=(d=k(t)).length,l=ht.test(a)?"#"+a:"[id='"+a+"']";o--;)d[o]=l+" "+h(d[o]);p=d.join(","),f=yt.test(t)&&u(e.parentNode)||e}if(p)try{return J.apply(i,f.querySelectorAll(p)),i}catch(t){}finally{a===q&&e.removeAttribute("id")}}}return j(t.replace(at,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>x.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[q]=!0,t}function r(t){var e=E.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var i=t.split("|"),n=i.length;n--;)x.attrHandle[i[n]]=e}function s(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||V)-(~t.sourceIndex||V);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function c(t){return n((function(e){return e=+e,n((function(i,n){for(var r,o=t([],i.length,e),s=o.length;s--;)i[r=o[s]]&&(i[r]=!(n[r]=i[r]))}))}))}function u(t){return t&&void 0!==t.getElementsByTagName&&t}function d(){}function h(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function p(t,e,i){var n=e.dir,r=i&&"parentNode"===n,o=H++;return e.first?function(e,i,o){for(;e=e[n];)if(1===e.nodeType||r)return t(e,i,o)}:function(e,i,s){var a,l,c,u=[z,o];if(s){for(;e=e[n];)if((1===e.nodeType||r)&&t(e,i,s))return!0}else for(;e=e[n];)if(1===e.nodeType||r){if((a=(l=(c=e[q]||(e[q]={}))[e.uniqueID]||(c[e.uniqueID]={}))[n])&&a[0]===z&&a[1]===o)return u[2]=a[2];if(l[n]=u,u[2]=t(e,i,s))return!0}}}function f(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function g(t,i,n){for(var r=0,o=i.length;r<o;r++)e(t,i[r],n);return n}function m(t,e,i,n,r){for(var o,s=[],a=0,l=t.length,c=null!=e;a<l;a++)(o=t[a])&&(i&&!i(o,n,r)||(s.push(o),c&&e.push(a)));return s}function v(t,e,i,r,o,s){return r&&!r[q]&&(r=v(r)),o&&!o[q]&&(o=v(o,s)),n((function(n,s,a,l){var c,u,d,h=[],p=[],f=s.length,v=n||g(e||"*",a.nodeType?[a]:a,[]),y=!t||!n&&e?v:m(v,h,t,a,l),b=i?o||(n?t:f||r)?[]:s:y;if(i&&i(y,b,a,l),r)for(c=m(b,p),r(c,[],a,l),u=c.length;u--;)(d=c[u])&&(b[p[u]]=!(y[p[u]]=d));if(n){if(o||t){if(o){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(y[u]=d);o(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=o?tt(n,d):h[u])>-1&&(n[c]=!(s[c]=d))}}else b=m(b===s?b.splice(f,b.length):b),o?o(null,s,b,l):J.apply(s,b)}))}function y(t){for(var e,i,n,r=t.length,o=x.relative[t[0].type],s=o||x.relative[" "],a=o?1:0,l=p((function(t){return t===e}),s,!0),c=p((function(t){return tt(e,t)>-1}),s,!0),u=[function(t,i,n){var r=!o&&(n||i!==T)||((e=i).nodeType?l(t,i,n):c(t,i,n));return e=null,r}];a<r;a++)if(i=x.relative[t[a].type])u=[p(f(u),i)];else{if((i=x.filter[t[a].type].apply(null,t[a].matches))[q]){for(n=++a;n<r&&!x.relative[t[n].type];n++);return v(a>1&&f(u),a>1&&h(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),i,a<n&&y(t.slice(a,n)),n<r&&y(t=t.slice(n)),n<r&&h(t))}u.push(i)}return f(u)}function b(t,i){var r=i.length>0,o=t.length>0,s=function(n,s,a,l,c){var u,d,h,p=0,f="0",g=n&&[],v=[],y=T,b=n||o&&x.find.TAG("*",c),_=z+=null==y?1:Math.random()||.1,w=b.length;for(c&&(T=s===E||s||c);f!==w&&null!=(u=b[f]);f++){if(o&&u){for(d=0,s||u.ownerDocument===E||(I(u),a=!O);h=t[d++];)if(h(u,s||E,a)){l.push(u);break}c&&(z=_)}r&&((u=!h&&u)&&p--,n&&g.push(u))}if(p+=f,r&&f!==p){for(d=0;h=i[d++];)h(g,v,s,a);if(n){if(p>0)for(;f--;)g[f]||v[f]||(v[f]=X.call(l));v=m(v)}J.apply(l,v),c&&!n&&v.length>0&&p+i.length>1&&e.uniqueSort(l)}return c&&(z=_,T=y),g};return r?n(s):s}var _,w,x,$,C,k,S,j,T,A,D,I,E,P,O,F,M,R,N,q="sizzle"+1*new Date,L=t.document,z=0,H=0,B=i(),W=i(),G=i(),U=function(t,e){return t===e&&(D=!0),0},V=1<<31,Q={}.hasOwnProperty,Y=[],X=Y.pop,K=Y.push,J=Y.push,Z=Y.slice,tt=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+it+"*\\]",ot=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(it+"+","g"),at=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),lt=new RegExp("^"+it+"*,"+it+"*"),ct=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ut=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),dt=new RegExp(ot),ht=new RegExp("^"+nt+"$"),pt={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,_t=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),wt=function(t,e,i){var n="0x"+e-65536;return n!=n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},xt=function(){I()};try{J.apply(Y=Z.call(L.childNodes),L.childNodes),Y[L.childNodes.length].nodeType}catch(t){J={apply:Y.length?function(t,e){K.apply(t,Z.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}for(_ in w=e.support={},C=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},I=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:L;return n!==E&&9===n.nodeType&&n.documentElement?(P=(E=n).documentElement,O=!C(E),(i=E.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",xt,!1):i.attachEvent&&i.attachEvent("onunload",xt)),w.attributes=r((function(t){return t.className="i",!t.getAttribute("className")})),w.getElementsByTagName=r((function(t){return t.appendChild(E.createComment("")),!t.getElementsByTagName("*").length})),w.getElementsByClassName=mt.test(E.getElementsByClassName),w.getById=r((function(t){return P.appendChild(t).id=q,!E.getElementsByName||!E.getElementsByName(q).length})),w.getById?(x.find.ID=function(t,e){if(void 0!==e.getElementById&&O){var i=e.getElementById(t);return i?[i]:[]}},x.filter.ID=function(t){var e=t.replace(_t,wt);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(_t,wt);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),x.find.TAG=w.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},x.find.CLASS=w.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&O)return e.getElementsByClassName(t)},M=[],F=[],(w.qsa=mt.test(E.querySelectorAll))&&(r((function(t){P.appendChild(t).innerHTML="<a id='"+q+"'></a><select id='"+q+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||F.push("\\["+it+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+q+"-]").length||F.push("~="),t.querySelectorAll(":checked").length||F.push(":checked"),t.querySelectorAll("a#"+q+"+*").length||F.push(".#.+[+~]")})),r((function(t){var e=E.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&F.push("name"+it+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),F.push(",.*:")}))),(w.matchesSelector=mt.test(R=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&r((function(t){w.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),M.push("!=",ot)})),F=F.length&&new RegExp(F.join("|")),M=M.length&&new RegExp(M.join("|")),e=mt.test(P.compareDocumentPosition),N=e||mt.test(P.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=e?function(t,e){if(t===e)return D=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!w.sortDetached&&e.compareDocumentPosition(t)===i?t===E||t.ownerDocument===L&&N(L,t)?-1:e===E||e.ownerDocument===L&&N(L,e)?1:A?tt(A,t)-tt(A,e):0:4&i?-1:1)}:function(t,e){if(t===e)return D=!0,0;var i,n=0,r=t.parentNode,o=e.parentNode,a=[t],l=[e];if(!r||!o)return t===E?-1:e===E?1:r?-1:o?1:A?tt(A,t)-tt(A,e):0;if(r===o)return s(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)l.unshift(i);for(;a[n]===l[n];)n++;return n?s(a[n],l[n]):a[n]===L?-1:l[n]===L?1:0},E):E},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==E&&I(t),i=i.replace(ut,"='$1']"),w.matchesSelector&&O&&!G[i+" "]&&(!M||!M.test(i))&&(!F||!F.test(i)))try{var n=R.call(t,i);if(n||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return e(i,E,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==E&&I(t),N(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==E&&I(t);var i=x.attrHandle[e.toLowerCase()],n=i&&Q.call(x.attrHandle,e.toLowerCase())?i(t,e,!O):void 0;return void 0!==n?n:w.attributes||!O?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,r=0;if(D=!w.detectDuplicates,A=!w.sortStable&&t.slice(0),t.sort(U),D){for(;e=t[r++];)e===t[r]&&(n=i.push(r));for(;n--;)t.splice(i[n],1)}return A=null,t},$=e.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=$(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=$(e);return i},x=e.selectors={cacheLength:50,createPseudo:n,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_t,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(_t,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&dt.test(i)&&(e=k(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_t,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=B[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&B(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,i,n){return function(r){var o=e.attr(r,t);return null==o?"!="===i:!i||(o+="","="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o.replace(st," ")+" ").indexOf(n)>-1:"|="===i&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var c,u,d,h,p,f,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(m){if(o){for(;g;){for(h=e;h=h[g];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&y){for(b=(p=(c=(u=(d=(h=m)[q]||(h[q]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]||[])[0]===z&&c[1])&&c[2],h=p&&m.childNodes[p];h=++p&&h&&h[g]||(b=p=0)||f.pop();)if(1===h.nodeType&&++b&&h===e){u[t]=[z,p,b];break}}else if(y&&(b=p=(c=(u=(d=(h=e)[q]||(h[q]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]||[])[0]===z&&c[1]),!1===b)for(;(h=++p&&h&&h[g]||(b=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&((u=(d=h[q]||(h[q]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]=[z,b]),h!==e)););return(b-=r)===n||b%n==0&&b/n>=0}}},PSEUDO:function(t,i){var r,o=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[q]?o(i):o.length>1?(r=[t,t,"",i],x.setFilters.hasOwnProperty(t.toLowerCase())?n((function(t,e){for(var n,r=o(t,i),s=r.length;s--;)t[n=tt(t,r[s])]=!(e[n]=r[s])})):function(t){return o(t,0,r)}):o}},pseudos:{not:n((function(t){var e=[],i=[],r=S(t.replace(at,"$1"));return r[q]?n((function(t,e,i,n){for(var o,s=r(t,null,n,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))})):function(t,n,o){return e[0]=t,r(e,null,o,i),e[0]=null,!i.pop()}})),has:n((function(t){return function(i){return e(t,i).length>0}})),contains:n((function(t){return t=t.replace(_t,wt),function(e){return(e.textContent||e.innerText||$(e)).indexOf(t)>-1}})),lang:n((function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(_t,wt).toLowerCase(),function(e){var i;do{if(i=O?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===P},focus:function(t){return t===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c((function(){return[0]})),last:c((function(t,e){return[e-1]})),eq:c((function(t,e,i){return[i<0?i+e:i]})),even:c((function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t})),odd:c((function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t})),lt:c((function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t})),gt:c((function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t}))}},x.pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[_]=a(_);for(_ in{submit:!0,reset:!0})x.pseudos[_]=l(_);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,k=e.tokenize=function(t,i){var n,r,o,s,a,l,c,u=W[t+" "];if(u)return i?0:u.slice(0);for(a=t,l=[],c=x.preFilter;a;){for(s in n&&!(r=lt.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=ct.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(at," ")}),a=a.slice(n.length)),x.filter)!(r=pt[s].exec(a))||c[s]&&!(r=c[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):W(t,l).slice(0)},S=e.compile=function(t,e){var i,n=[],r=[],o=G[t+" "];if(!o){for(e||(e=k(t)),i=e.length;i--;)(o=y(e[i]))[q]?n.push(o):r.push(o);(o=G(t,b(r,n))).selector=t}return o},j=e.select=function(t,e,i,n){var r,o,s,a,l,c="function"==typeof t&&t,d=!n&&k(t=c.selector||t);if(i=i||[],1===d.length){if((o=d[0]=d[0].slice(0)).length>2&&"ID"===(s=o[0]).type&&w.getById&&9===e.nodeType&&O&&x.relative[o[1].type]){if(!(e=(x.find.ID(s.matches[0].replace(_t,wt),e)||[])[0]))return i;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=pt.needsContext.test(t)?0:o.length;r--&&(s=o[r],!x.relative[a=s.type]);)if((l=x.find[a])&&(n=l(s.matches[0].replace(_t,wt),yt.test(o[0].type)&&u(e.parentNode)||e))){if(o.splice(r,1),!(t=n.length&&h(o)))return J.apply(i,n),i;break}}return(c||S(t,d))(n,e,!O,i,!e||yt.test(t)&&u(e.parentNode)||e),i},w.sortStable=q.split("").sort(U).join("")===q,w.detectDuplicates=!!D,I(),w.sortDetached=r((function(t){return 1&t.compareDocumentPosition(E.createElement("div"))})),r((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||o("type|href|height|width",(function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),w.attributes&&r((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||o("value",(function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),r((function(t){return null==t.getAttribute("disabled")}))||o(et,(function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null})),e}(t);pt.find=yt,pt.expr=yt.selectors,pt.expr[":"]=pt.expr.pseudos,pt.uniqueSort=pt.unique=yt.uniqueSort,pt.text=yt.getText,pt.isXMLDoc=yt.isXML,pt.contains=yt.contains;var bt=function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&pt(t).is(i))break;n.push(t)}return n},_t=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},wt=pt.expr.match.needsContext,xt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,$t=/^.[^:#\[\.,]*$/;pt.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?pt.find.matchesSelector(n,t)?[n]:[]:pt.find.matches(t,pt.grep(e,(function(t){return 1===t.nodeType})))},pt.fn.extend({find:function(t){var e,i=[],n=this,r=n.length;if("string"!=typeof t)return this.pushStack(pt(t).filter((function(){for(e=0;e<r;e++)if(pt.contains(n[e],this))return!0})));for(e=0;e<r;e++)pt.find(t,n[e],i);return(i=this.pushStack(r>1?pt.unique(i):i)).selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&wt.test(t)?pt(t):t||[],!1).length}});var Ct,kt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(pt.fn.init=function(t,e,i){var n,r;if(!t)return this;if(i=i||Ct,"string"==typeof t){if(!(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:kt.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof pt?e[0]:e,pt.merge(this,pt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:nt,!0)),xt.test(n[1])&&pt.isPlainObject(e))for(n in e)pt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if((r=nt.getElementById(n[2]))&&r.parentNode){if(r.id!==n[2])return Ct.find(t);this.length=1,this[0]=r}return this.context=nt,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):pt.isFunction(t)?void 0!==i.ready?i.ready(t):t(pt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),pt.makeArray(t,this))}).prototype=pt.fn,Ct=pt(nt);var St=/^(?:parents|prev(?:Until|All))/,jt={children:!0,contents:!0,next:!0,prev:!0};pt.fn.extend({has:function(t){var e,i=pt(t,this),n=i.length;return this.filter((function(){for(e=0;e<n;e++)if(pt.contains(this,i[e]))return!0}))},closest:function(t,e){for(var i,n=0,r=this.length,o=[],s=wt.test(t)||"string"!=typeof t?pt(t,e||this.context):0;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&pt.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(o.length>1?pt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?pt.inArray(this[0],pt(t)):pt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(pt.uniqueSort(pt.merge(this.get(),pt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),pt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return bt(t,"parentNode")},parentsUntil:function(t,e,i){return bt(t,"parentNode",i)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return bt(t,"nextSibling")},prevAll:function(t){return bt(t,"previousSibling")},nextUntil:function(t,e,i){return bt(t,"nextSibling",i)},prevUntil:function(t,e,i){return bt(t,"previousSibling",i)},siblings:function(t){return _t((t.parentNode||{}).firstChild,t)},children:function(t){return _t(t.firstChild)},contents:function(t){return pt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:pt.merge([],t.childNodes)}},(function(t,e){pt.fn[t]=function(i,n){var r=pt.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=pt.filter(n,r)),this.length>1&&(jt[t]||(r=pt.uniqueSort(r)),St.test(t)&&(r=r.reverse())),this.pushStack(r)}}));var Tt,At,Dt=/\S+/g;for(At in pt.Callbacks=function(t){t="string"==typeof t?o(t):pt.extend({},t);var e,i,n,r,s=[],a=[],l=-1,c=function(){for(r=t.once,n=e=!0;a.length;l=-1)for(i=a.shift();++l<s.length;)!1===s[l].apply(i[0],i[1])&&t.stopOnFalse&&(l=s.length,i=!1);t.memory||(i=!1),e=!1,r&&(s=i?[]:"")},u={add:function(){return s&&(i&&!e&&(l=s.length-1,a.push(i)),function e(i){pt.each(i,(function(i,n){pt.isFunction(n)?t.unique&&u.has(n)||s.push(n):n&&n.length&&"string"!==pt.type(n)&&e(n)}))}(arguments),i&&!e&&c()),this},remove:function(){return pt.each(arguments,(function(t,e){for(var i;(i=pt.inArray(e,s,i))>-1;)s.splice(i,1),i<=l&&l--})),this},has:function(t){return t?pt.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=a=[],s=i="",this},disabled:function(){return!s},lock:function(){return r=!0,i||u.disable(),this},locked:function(){return!!r},fireWith:function(t,i){return r||(i=[t,(i=i||[]).slice?i.slice():i],a.push(i),e||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},pt.extend({Deferred:function(t){var e=[["resolve","done",pt.Callbacks("once memory"),"resolved"],["reject","fail",pt.Callbacks("once memory"),"rejected"],["notify","progress",pt.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return pt.Deferred((function(i){pt.each(e,(function(e,o){var s=pt.isFunction(t[e])&&t[e];r[o[1]]((function(){var t=s&&s.apply(this,arguments);t&&pt.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[o[0]+"With"](this===n?i.promise():this,s?[t]:arguments)}))})),t=null})).promise()},promise:function(t){return null!=t?pt.extend(t,n):n}},r={};return n.pipe=n.then,pt.each(e,(function(t,o){var s=o[2],a=o[3];n[o[1]]=s.add,a&&s.add((function(){i=a}),e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?n:this,arguments),this},r[o[0]+"With"]=s.fireWith})),n.promise(r),t&&t.call(r,r),r},when:function(t){var e,i,n,r=0,o=rt.call(arguments),s=o.length,a=1!==s||t&&pt.isFunction(t.promise)?s:0,l=1===a?t:pt.Deferred(),c=function(t,i,n){return function(r){i[t]=this,n[t]=arguments.length>1?rt.call(arguments):r,n===e?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(s>1)for(e=new Array(s),i=new Array(s),n=new Array(s);r<s;r++)o[r]&&pt.isFunction(o[r].promise)?o[r].promise().progress(c(r,i,e)).done(c(r,n,o)).fail(l.reject):--a;return a||l.resolveWith(n,o),l.promise()}}),pt.fn.ready=function(t){return pt.ready.promise().done(t),this},pt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?pt.readyWait++:pt.ready(!0)},ready:function(t){(!0===t?--pt.readyWait:pt.isReady)||(pt.isReady=!0,!0!==t&&--pt.readyWait>0||(Tt.resolveWith(nt,[pt]),pt.fn.triggerHandler&&(pt(nt).triggerHandler("ready"),pt(nt).off("ready"))))}}),pt.ready.promise=function(e){if(!Tt)if(Tt=pt.Deferred(),"complete"===nt.readyState||"loading"!==nt.readyState&&!nt.documentElement.doScroll)t.setTimeout(pt.ready);else if(nt.addEventListener)nt.addEventListener("DOMContentLoaded",a),t.addEventListener("load",a);else{nt.attachEvent("onreadystatechange",a),t.attachEvent("onload",a);var i=!1;try{i=null==t.frameElement&&nt.documentElement}catch(t){}i&&i.doScroll&&function e(){if(!pt.isReady){try{i.doScroll("left")}catch(i){return t.setTimeout(e,50)}s(),pt.ready()}}()}return Tt.promise(e)},pt.ready.promise(),pt(dt))break;dt.ownFirst="0"===At,dt.inlineBlockNeedsLayout=!1,pt((function(){var t,e,i,n;(i=nt.getElementsByTagName("body")[0])&&i.style&&(e=nt.createElement("div"),(n=nt.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),void 0!==e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",dt.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(i.style.zoom=1)),i.removeChild(n))})),function(){var t=nt.createElement("div");dt.deleteExpando=!0;try{delete t.test}catch(t){dt.deleteExpando=!1}t=null}();var It,Et=function(t){var e=pt.noData[(t.nodeName+" ").toLowerCase()],i=+t.nodeType||1;return(1===i||9===i)&&(!e||!0!==e&&t.getAttribute("classid")===e)},Pt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ot=/([A-Z])/g;pt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?pt.cache[t[pt.expando]]:t[pt.expando])&&!c(t)},data:function(t,e,i){return u(t,e,i)},removeData:function(t,e){return d(t,e)},_data:function(t,e,i){return u(t,e,i,!0)},_removeData:function(t,e){return d(t,e,!0)}}),pt.fn.extend({data:function(t,e){var i,n,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=pt.data(o),1===o.nodeType&&!pt._data(o,"parsedAttrs"))){for(i=s.length;i--;)s[i]&&0===(n=s[i].name).indexOf("data-")&&l(o,n=pt.camelCase(n.slice(5)),r[n]);pt._data(o,"parsedAttrs",!0)}return r}return"object"==typeof t?this.each((function(){pt.data(this,t)})):arguments.length>1?this.each((function(){pt.data(this,t,e)})):o?l(o,t,pt.data(o,t)):void 0},removeData:function(t){return this.each((function(){pt.removeData(this,t)}))}}),pt.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=pt._data(t,e),i&&(!n||pt.isArray(i)?n=pt._data(t,e,pt.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=pt.queue(t,e),n=i.length,r=i.shift(),o=pt._queueHooks(t,e),s=function(){pt.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return pt._data(t,i)||pt._data(t,i,{empty:pt.Callbacks("once memory").add((function(){pt._removeData(t,e+"queue"),pt._removeData(t,i)}))})}}),pt.fn.extend({queue:function(t,e){var i=2
;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?pt.queue(this[0],t):void 0===e?this:this.each((function(){var i=pt.queue(this,t,e);pt._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&pt.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){pt.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=pt.Deferred(),o=this,s=this.length,a=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(i=pt._data(o[s],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(e)}}),dt.shrinkWrapBlocks=function(){return null!=It?It:(It=!1,(e=nt.getElementsByTagName("body")[0])&&e.style?(t=nt.createElement("div"),(i=nt.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(i).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(nt.createElement("div")).style.width="5px",It=3!==t.offsetWidth),e.removeChild(i),It):void 0);var t,e,i};var Ft,Mt,Rt,Nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,qt=new RegExp("^(?:([+-])=|)("+Nt+")([a-z%]*)$","i"),Lt=["Top","Right","Bottom","Left"],zt=function(t,e){return t=e||t,"none"===pt.css(t,"display")||!pt.contains(t.ownerDocument,t)},Ht=function(t,e,i,n,r,o,s){var a=0,l=t.length,c=null==i;if("object"===pt.type(i))for(a in r=!0,i)Ht(t,e,a,i[a],!0,o,s);else if(void 0!==n&&(r=!0,pt.isFunction(n)||(s=!0),c&&(s?(e.call(t,n),e=null):(c=e,e=function(t,e,i){return c.call(pt(t),i)})),e))for(;a<l;a++)e(t[a],i,s?n:n.call(t[a],a,e(t[a],i)));return r?t:c?e.call(t):l?e(t[0],i):o},Bt=/^(?:checkbox|radio)$/i,Wt=/<([\w:-]+)/,Gt=/^$|\/(?:java|ecma)script/i,Ut=/^\s+/,Vt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";Ft=nt.createElement("div"),Mt=nt.createDocumentFragment(),Rt=nt.createElement("input"),Ft.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",dt.leadingWhitespace=3===Ft.firstChild.nodeType,dt.tbody=!Ft.getElementsByTagName("tbody").length,dt.htmlSerialize=!!Ft.getElementsByTagName("link").length,dt.html5Clone="<:nav></:nav>"!==nt.createElement("nav").cloneNode(!0).outerHTML,Rt.type="checkbox",Rt.checked=!0,Mt.appendChild(Rt),dt.appendChecked=Rt.checked,Ft.innerHTML="<textarea>x</textarea>",dt.noCloneChecked=!!Ft.cloneNode(!0).lastChild.defaultValue,Mt.appendChild(Ft),(Rt=nt.createElement("input")).setAttribute("type","radio"),Rt.setAttribute("checked","checked"),Rt.setAttribute("name","t"),Ft.appendChild(Rt),dt.checkClone=Ft.cloneNode(!0).cloneNode(!0).lastChild.checked,dt.noCloneEvent=!!Ft.addEventListener,Ft[pt.expando]=1,dt.attributes=!Ft.getAttribute(pt.expando);var Qt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:dt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Qt.optgroup=Qt.option,Qt.tbody=Qt.tfoot=Qt.colgroup=Qt.caption=Qt.thead,Qt.th=Qt.td;var Yt=/<|&#?\w+;/,Xt=/<tbody/i;!function(){var e,i,n=nt.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})i="on"+e,(dt[e]=i in t)||(n.setAttribute(i,"t"),dt[e]=!1===n.attributes[i].expando);n=null}();var Kt=/^(?:input|select|textarea)$/i,Jt=/^key/,Zt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,te=/^(?:focusinfocus|focusoutblur)$/,ee=/^([^.]*)(?:\.(.+)|)/;pt.event={global:{},add:function(t,e,i,n,r){var o,s,a,l,c,u,d,h,p,f,g,m=pt._data(t);if(m){for(i.handler&&(i=(l=i).handler,r=l.selector),i.guid||(i.guid=pt.guid++),(s=m.events)||(s=m.events={}),(u=m.handle)||(u=m.handle=function(t){return void 0===pt||t&&pt.event.triggered===t.type?void 0:pt.event.dispatch.apply(u.elem,arguments)},u.elem=t),a=(e=(e||"").match(Dt)||[""]).length;a--;)p=g=(o=ee.exec(e[a])||[])[1],f=(o[2]||"").split(".").sort(),p&&(c=pt.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,c=pt.event.special[p]||{},d=pt.extend({type:p,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&pt.expr.match.needsContext.test(r),namespace:f.join(".")},l),(h=s[p])||((h=s[p]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,n,f,u)||(t.addEventListener?t.addEventListener(p,u,!1):t.attachEvent&&t.attachEvent("on"+p,u))),c.add&&(c.add.call(t,d),d.handler.guid||(d.handler.guid=i.guid)),r?h.splice(h.delegateCount++,0,d):h.push(d),pt.event.global[p]=!0);t=null}},remove:function(t,e,i,n,r){var o,s,a,l,c,u,d,h,p,f,g,m=pt.hasData(t)&&pt._data(t);if(m&&(u=m.events)){for(c=(e=(e||"").match(Dt)||[""]).length;c--;)if(p=g=(a=ee.exec(e[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(d=pt.event.special[p]||{},h=u[p=(n?d.delegateType:d.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=h.length;o--;)s=h[o],!r&&g!==s.origType||i&&i.guid!==s.guid||a&&!a.test(s.namespace)||n&&n!==s.selector&&("**"!==n||!s.selector)||(h.splice(o,1),s.selector&&h.delegateCount--,d.remove&&d.remove.call(t,s));l&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,f,m.handle)||pt.removeEvent(t,p,m.handle),delete u[p])}else for(p in u)pt.event.remove(t,p+e[c],i,n,!0);pt.isEmptyObject(u)&&(delete m.handle,pt._removeData(t,"events"))}},trigger:function(e,i,n,r){var o,s,a,l,c,u,d,h=[n||nt],p=ut.call(e,"type")?e.type:e,f=ut.call(e,"namespace")?e.namespace.split("."):[];if(a=u=n=n||nt,3!==n.nodeType&&8!==n.nodeType&&!te.test(p+pt.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),s=p.indexOf(":")<0&&"on"+p,(e=e[pt.expando]?e:new pt.Event(p,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:pt.makeArray(i,[e]),c=pt.event.special[p]||{},r||!c.trigger||!1!==c.trigger.apply(n,i))){if(!r&&!c.noBubble&&!pt.isWindow(n)){for(l=c.delegateType||p,te.test(l+p)||(a=a.parentNode);a;a=a.parentNode)h.push(a),u=a;u===(n.ownerDocument||nt)&&h.push(u.defaultView||u.parentWindow||t)}for(d=0;(a=h[d++])&&!e.isPropagationStopped();)e.type=d>1?l:c.bindType||p,(o=(pt._data(a,"events")||{})[e.type]&&pt._data(a,"handle"))&&o.apply(a,i),(o=s&&a[s])&&o.apply&&Et(a)&&(e.result=o.apply(a,i),!1===e.result&&e.preventDefault());if(e.type=p,!r&&!e.isDefaultPrevented()&&(!c._default||!1===c._default.apply(h.pop(),i))&&Et(n)&&s&&n[p]&&!pt.isWindow(n)){(u=n[s])&&(n[s]=null),pt.event.triggered=p;try{n[p]()}catch(t){}pt.event.triggered=void 0,u&&(n[s]=u)}return e.result}},dispatch:function(t){t=pt.event.fix(t);var e,i,n,r,o,s=[],a=rt.call(arguments),l=(pt._data(this,"events")||{})[t.type]||[],c=pt.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){for(s=pt.event.handlers.call(this,t,l),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,void 0!==(n=((pt.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))&&!1===(t.result=n)&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,r,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(n=[],i=0;i<a;i++)void 0===n[r=(o=e[i]).selector+" "]&&(n[r]=o.needsContext?pt(r,this).index(l)>-1:pt.find(r,this,null,[l]).length),n[r]&&n.push(o);n.length&&s.push({elem:l,handlers:n})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},fix:function(t){if(t[pt.expando])return t;var e,i,n,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Zt.test(r)?this.mouseHooks:Jt.test(r)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,t=new pt.Event(o),e=n.length;e--;)t[i=n[e]]=o[i];return t.target||(t.target=o.srcElement||nt),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,r,o=e.button,s=e.fromElement;return null==t.pageX&&null!=e.clientX&&(r=(n=t.target.ownerDocument||nt).documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?e.toElement:s),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==_()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===_()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(pt.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return pt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i){var n=pt.extend(new pt.Event,i,{type:t,isSimulated:!0});pt.event.trigger(n,null,e),n.isDefaultPrevented()&&i.preventDefault()}},pt.removeEvent=nt.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)}:function(t,e,i){var n="on"+e;t.detachEvent&&(void 0===t[n]&&(t[n]=null),t.detachEvent(n,i))},pt.Event=function(t,e){if(!(this instanceof pt.Event))return new pt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?y:b):this.type=t,e&&pt.extend(this,e),this.timeStamp=t&&t.timeStamp||pt.now(),this[pt.expando]=!0},pt.Event.prototype={constructor:pt.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=y,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=y,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=y,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},pt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){pt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===n||pt.contains(n,r))||(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}})),dt.submit||(pt.event.special.submit={setup:function(){if(pt.nodeName(this,"form"))return!1;pt.event.add(this,"click._submit keypress._submit",(function(t){var e=t.target,i=pt.nodeName(e,"input")||pt.nodeName(e,"button")?pt.prop(e,"form"):void 0;i&&!pt._data(i,"submit")&&(pt.event.add(i,"submit._submit",(function(t){t._submitBubble=!0})),pt._data(i,"submit",!0))}))},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&pt.event.simulate("submit",this.parentNode,t))},teardown:function(){if(pt.nodeName(this,"form"))return!1;pt.event.remove(this,"._submit")}}),dt.change||(pt.event.special.change={setup:function(){if(Kt.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(pt.event.add(this,"propertychange._change",(function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)})),pt.event.add(this,"click._change",(function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),pt.event.simulate("change",this,t)}))),!1;pt.event.add(this,"beforeactivate._change",(function(t){var e=t.target;Kt.test(e.nodeName)&&!pt._data(e,"change")&&(pt.event.add(e,"change._change",(function(t){!this.parentNode||t.isSimulated||t.isTrigger||pt.event.simulate("change",this.parentNode,t)})),pt._data(e,"change",!0))}))},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return pt.event.remove(this,"._change"),!Kt.test(this.nodeName)}}),dt.focusin||pt.each({focus:"focusin",blur:"focusout"},(function(t,e){var i=function(t){pt.event.simulate(e,t.target,pt.event.fix(t))};pt.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=pt._data(n,e);r||n.addEventListener(t,i,!0),pt._data(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=pt._data(n,e)-1;r?pt._data(n,e,r):(n.removeEventListener(t,i,!0),pt._removeData(n,e))}}})),pt.fn.extend({on:function(t,e,i,n){return w(this,t,e,i,n)},one:function(t,e,i,n){return w(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,pt(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=b),this.each((function(){pt.event.remove(this,t,i,e)}))},trigger:function(t,e){return this.each((function(){pt.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var i=this[0];if(i)return pt.event.trigger(t,e,i,!0)}});var ie=/ jQuery\d+="(?:null|\d+)"/g,ne=new RegExp("<(?:"+Vt+")[\\s/>]","i"),re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,oe=/<script|<style|<link/i,se=/checked\s*(?:[^=]|=\s*.checked.)/i,ae=/^true\/(.*)/,le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ce=p(nt).appendChild(nt.createElement("div"));pt.extend({htmlPrefilter:function(t){return t.replace(re,"<$1></$2>")},clone:function(t,e,i){var n,r,o,s,a,l=pt.contains(t.ownerDocument,t);if(dt.html5Clone||pt.isXMLDoc(t)||!ne.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(ce.innerHTML=t.outerHTML,ce.removeChild(o=ce.firstChild)),!(dt.noCloneEvent&&dt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||pt.isXMLDoc(t)))for(n=f(o),a=f(t),s=0;null!=(r=a[s]);++s)n[s]&&S(r,n[s]);if(e)if(i)for(a=a||f(t),n=n||f(o),s=0;null!=(r=a[s]);s++)k(r,n[s]);else k(t,o);return(n=f(o,"script")).length>0&&g(n,!l&&f(t,"script")),n=a=r=null,o},cleanData:function(t,e){for(var i,n,r,o,s=0,a=pt.expando,l=pt.cache,c=dt.attributes,u=pt.event.special;null!=(i=t[s]);s++)if((e||Et(i))&&(o=(r=i[a])&&l[r])){if(o.events)for(n in o.events)u[n]?pt.event.remove(i,n):pt.removeEvent(i,n,o.handle);l[r]&&(delete l[r],c||void 0===i.removeAttribute?i[a]=void 0:i.removeAttribute(a),it.push(r))}}}),pt.fn.extend({domManip:j,detach:function(t){return T(this,t,!0)},remove:function(t){return T(this,t)},text:function(t){return Ht(this,(function(t){return void 0===t?pt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||nt).createTextNode(t))}),null,t,arguments.length)},append:function(){return j(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||x(this,t).appendChild(t)}))},prepend:function(){return j(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=x(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return j(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return j(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&pt.cleanData(f(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&pt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return pt.clone(this,t,e)}))},html:function(t){return Ht(this,(function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(ie,""):void 0;if("string"==typeof t&&!oe.test(t)&&(dt.htmlSerialize||!ne.test(t))&&(dt.leadingWhitespace||!Ut.test(t))&&!Qt[(Wt.exec(t)||["",""])[1].toLowerCase()]){t=pt.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(pt.cleanData(f(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return j(this,arguments,(function(e){var i=this.parentNode;pt.inArray(this,t)<0&&(pt.cleanData(f(this)),i&&i.replaceChild(e,this))}),t)}}),pt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){pt.fn[t]=function(t){for(var i,n=0,r=[],o=pt(t),s=o.length-1;n<=s;n++)i=n===s?this:this.clone(!0),pt(o[n])[e](i),st.apply(r,i.get());return this.pushStack(r)}}));var ue,de={HTML:"block",BODY:"block"},he=/^margin/,pe=new RegExp("^("+Nt+")(?!px)[a-z%]+$","i"),fe=function(t,e,i,n){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=i.apply(t,n||[]),e)t.style[o]=s[o];return r},ge=nt.documentElement;!function(){function e(){var e,u,d=nt.documentElement;d.appendChild(l),c.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i=r=a=!1,n=s=!0,t.getComputedStyle&&(u=t.getComputedStyle(c),i="1%"!==(u||{}).top,a="2px"===(u||{}).marginLeft,r="4px"===(u||{width:"4px"}).width,c.style.marginRight="50%",n="4px"===(u||{marginRight:"4px"}).marginRight,(e=c.appendChild(nt.createElement("div"))).style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",c.style.width="1px",s=!parseFloat((t.getComputedStyle(e)||{}).marginRight),c.removeChild(e)),c.style.display="none",(o=0===c.getClientRects().length)&&(c.style.display="",c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(e=c.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(o=0===e[0].offsetHeight)&&(e[0].style.display="",e[1].style.display="none",o=0===e[0].offsetHeight)),d.removeChild(l)}var i,n,r,o,s,a,l=nt.createElement("div"),c=nt.createElement("div");c.style&&(c.style.cssText="float:left;opacity:.5",dt.opacity="0.5"===c.style.opacity,dt.cssFloat=!!c.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",dt.clearCloneStyle="content-box"===c.style.backgroundClip,(l=nt.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.innerHTML="",l.appendChild(c),dt.boxSizing=""===c.style.boxSizing||""===c.style.MozBoxSizing||""===c.style.WebkitBoxSizing,pt.extend(dt,{reliableHiddenOffsets:function(){return null==i&&e(),o},boxSizingReliable:function(){return null==i&&e(),r},pixelMarginRight:function(){return null==i&&e(),n},pixelPosition:function(){return null==i&&e(),i},reliableMarginRight:function(){return null==i&&e(),s},reliableMarginLeft:function(){return null==i&&e(),a}}))}();var me,ve,ye=/^(top|right|bottom|left)$/;t.getComputedStyle?(me=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)},ve=function(t,e,i){var n,r,o,s,a=t.style;return""!==(s=(i=i||me(t))?i.getPropertyValue(e)||i[e]:void 0)&&void 0!==s||pt.contains(t.ownerDocument,t)||(s=pt.style(t,e)),i&&!dt.pixelMarginRight()&&pe.test(s)&&he.test(e)&&(n=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=r,a.maxWidth=o),void 0===s?s:s+""}):ge.currentStyle&&(me=function(t){return t.currentStyle},ve=function(t,e,i){var n,r,o,s,a=t.style;return null==(s=(i=i||me(t))?i[e]:void 0)&&a&&a[e]&&(s=a[e]),pe.test(s)&&!ye.test(e)&&(n=a.left,(o=(r=t.runtimeStyle)&&r.left)&&(r.left=t.currentStyle.left),a.left="fontSize"===e?"1em":s,s=a.pixelLeft+"px",a.left=n,o&&(r.left=o)),void 0===s?s:s+""||"auto"});var be=/alpha\([^)]*\)/i,_e=/opacity\s*=\s*([^)]*)/i,we=/^(none|table(?!-c[ea]).+)/,xe=new RegExp("^("+Nt+")(.*)$","i"),$e={position:"absolute",visibility:"hidden",display:"block"},Ce={letterSpacing:"0",fontWeight:"400"},ke=["Webkit","O","Moz","ms"],Se=nt.createElement("div").style;pt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=ve(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:dt.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=pt.camelCase(e),l=t.style;if(e=pt.cssProps[a]||(pt.cssProps[a]=E(a)||a),s=pt.cssHooks[e]||pt.cssHooks[a],void 0===i)return s&&"get"in s&&void 0!==(r=s.get(t,!1,n))?r:l[e];if(!("string"===(o=typeof i)&&(r=qt.exec(i))&&r[1]&&(i=h(t,e,r),o="number"),null==i||i!=i||("number"===o&&(i+=r&&r[3]||(pt.cssNumber[a]?"":"px")),dt.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(i=s.set(t,i,n)))))try{l[e]=i}catch(t){}}},css:function(t,e,i,n){var r,o,s,a=pt.camelCase(e);return e=pt.cssProps[a]||(pt.cssProps[a]=E(a)||a),(s=pt.cssHooks[e]||pt.cssHooks[a])&&"get"in s&&(o=s.get(t,!0,i)),void 0===o&&(o=ve(t,e,n)),"normal"===o&&e in Ce&&(o=Ce[e]),""===i||i?(r=parseFloat(o),!0===i||isFinite(r)?r||0:o):o}}),pt.each(["height","width"],(function(t,e){pt.cssHooks[e]={get:function(t,i,n){if(i)return we.test(pt.css(t,"display"))&&0===t.offsetWidth?fe(t,$e,(function(){return M(t,e,n)})):M(t,e,n)},set:function(t,i,n){var r=n&&me(t);return O(t,i,n?F(t,e,n,dt.boxSizing&&"border-box"===pt.css(t,"boxSizing",!1,r),r):0)}}})),dt.opacity||(pt.cssHooks.opacity={get:function(t,e){return _e.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,r=pt.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=n&&n.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===pt.trim(o.replace(be,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||n&&!n.filter)||(i.filter=be.test(o)?o.replace(be,r):o+" "+r)}}),pt.cssHooks.marginRight=I(dt.reliableMarginRight,(function(t,e){if(e)return fe(t,{display:"inline-block"},ve,[t,"marginRight"])})),pt.cssHooks.marginLeft=I(dt.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(ve(t,"marginLeft"))||(pt.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-fe(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})):0))+"px"})),pt.each({margin:"",padding:"",border:"Width"},(function(t,e){pt.cssHooks[t+e]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];n<4;n++)r[t+Lt[n]+e]=o[n]||o[n-2]||o[0];return r}},he.test(t)||(pt.cssHooks[t+e].set=O)})),pt.fn.extend({css:function(t,e){return Ht(this,(function(t,e,i){var n,r,o={},s=0;if(pt.isArray(e)){for(n=me(t),r=e.length;s<r;s++)o[e[s]]=pt.css(t,e[s],!1,n);return o}return void 0!==i?pt.style(t,e,i):pt.css(t,e)}),t,e,arguments.length>1)},show:function(){return P(this,!0)},hide:function(){return P(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){zt(this)?pt(this).show():pt(this).hide()}))}}),pt.Tween=R,R.prototype={constructor:R,init:function(t,e,i,n,r,o){this.elem=t,this.prop=i,this.easing=r||pt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(pt.cssNumber[i]?"":"px")},cur:function(){var t=R.propHooks[this.prop];return t&&t.get?t.get(this):R.propHooks._default.get(this)},run:function(t){var e,i=R.propHooks[this.prop];return this.options.duration?this.pos=e=pt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=pt.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){pt.fx.step[t.prop]?pt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[pt.cssProps[t.prop]]&&!pt.cssHooks[t.prop]?t.elem[t.prop]=t.now:pt.style(t.elem,t.prop,t.now+t.unit)}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},pt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},pt.fx=R.prototype.init,pt.fx.step={};var je,Te,Ae=/^(?:toggle|show|hide)$/,De=/queueHooks$/;pt.Animation=pt.extend(B,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return h(i.elem,t,qt.exec(e),i),i}]},tweener:function(t,e){pt.isFunction(t)?(e=t,t=["*"]):t=t.match(Dt);for(var i,n=0,r=t.length;n<r;n++)i=t[n],B.tweeners[i]=B.tweeners[i]||[],B.tweeners[i].unshift(e)},prefilters:[z],prefilter:function(t,e){e?B.prefilters.unshift(t):B.prefilters.push(t)}}),pt.speed=function(t,e,i){var n=t&&"object"==typeof t?pt.extend({},t):{complete:i||!i&&e||pt.isFunction(t)&&t,duration:t,easing:i&&e||e&&!pt.isFunction(e)&&e};return n.duration=pt.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in pt.fx.speeds?pt.fx.speeds[n.duration]:pt.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){pt.isFunction(n.old)&&n.old.call(this),n.queue&&pt.dequeue(this,n.queue)},n},pt.fn.extend({fadeTo:function(t,e,i,n){return this.filter(zt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=pt.isEmptyObject(t),o=pt.speed(e,i,n),s=function(){var e=B(this,pt.extend({},t),o);(r||pt._data(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",o=pt.timers,s=pt._data(this);if(r)s[r]&&s[r].stop&&n(s[r]);else for(r in s)s[r]&&s[r].stop&&De.test(r)&&n(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(i),e=!1,o.splice(r,1));!e&&i||pt.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,i=pt._data(this),n=i[t+"queue"],r=i[t+"queueHooks"],o=pt.timers,s=n?n.length:0;for(i.finish=!0,pt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish}))}}),pt.each(["toggle","show","hide"],(function(t,e){var i=pt.fn[e];pt.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(q(e,!0),t,n,r)}})),pt.each({slideDown:q("show"),slideUp:q("hide"),slideToggle:q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){pt.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}})),pt.timers=[],pt.fx.tick=function(){var t,e=pt.timers,i=0;for(je=pt.now();i<e.length;i++)(t=e[i])()||e[i]!==t||e.splice(i--,1);e.length||pt.fx.stop(),je=void 0},pt.fx.timer=function(t){pt.timers.push(t),t()?pt.fx.start():pt.timers.pop()},pt.fx.interval=13,pt.fx.start=function(){Te||(Te=t.setInterval(pt.fx.tick,pt.fx.interval))},pt.fx.stop=function(){t.clearInterval(Te),Te=null},pt.fx.speeds={slow:600,fast:200,_default:400},pt.fn.delay=function(e,i){return e=pt.fx&&pt.fx.speeds[e]||e,i=i||"fx",this.queue(i,(function(i,n){var r=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(r)}}))},function(){var t,e=nt.createElement("input"),i=nt.createElement("div"),n=nt.createElement("select"),r=n.appendChild(nt.createElement("option"));(i=nt.createElement("div")).setAttribute("className","t"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=i.getElementsByTagName("a")[0],e.setAttribute("type","checkbox"),i.appendChild(e),(t=i.getElementsByTagName("a")[0]).style.cssText="top:1px",dt.getSetAttribute="t"!==i.className,dt.style=/top/.test(t.getAttribute("style")),dt.hrefNormalized="/a"===t.getAttribute("href"),dt.checkOn=!!e.value,dt.optSelected=r.selected,dt.enctype=!!nt.createElement("form").enctype,n.disabled=!0,dt.optDisabled=!r.disabled,(e=nt.createElement("input")).setAttribute("value",""),dt.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),dt.radioValue="t"===e.value}();var Ie=/\r/g;pt.fn.extend({val:function(t){var e,i,n,r=this[0];return arguments.length?(n=pt.isFunction(t),this.each((function(i){var r;1===this.nodeType&&(null==(r=n?t.call(this,i,pt(this).val()):t)?r="":"number"==typeof r?r+="":pt.isArray(r)&&(r=pt.map(r,(function(t){return null==t?"":t+""}))),(e=pt.valHooks[this.type]||pt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=pt.valHooks[r.type]||pt.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:"string"==typeof(i=r.value)?i.replace(Ie,""):null==i?"":i:void 0}}),pt.extend({valHooks:{option:{get:function(t){var e=pt.find.attr(t,"value");return null!=e?e:pt.trim(pt.text(t))}},select:{get:function(t){for(var e,i,n=t.options,r=t.selectedIndex,o="select-one"===t.type||r<0,s=o?null:[],a=o?r+1:n.length,l=r<0?a:o?r:0;l<a;l++)if(((i=n[l]).selected||l===r)&&(dt.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!pt.nodeName(i.parentNode,"optgroup"))){if(e=pt(i).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var i,n,r=t.options,o=pt.makeArray(e),s=r.length;s--;)if(n=r[s],pt.inArray(pt.valHooks.option.get(n),o)>=0)try{n.selected=i=!0}catch(t){n.scrollHeight}else n.selected=!1;return i||(t.selectedIndex=-1),r}}}}),pt.each(["radio","checkbox"],(function(){pt.valHooks[this]={set:function(t,e){if(pt.isArray(e))return t.checked=pt.inArray(pt(t).val(),e)>-1}},dt.checkOn||(pt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}));var Ee,Pe,Oe=pt.expr.attrHandle,Fe=/^(?:checked|selected)$/i,Me=dt.getSetAttribute,Re=dt.input;pt.fn.extend({attr:function(t,e){return Ht(this,pt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){pt.removeAttr(this,t)}))}}),pt.extend({attr:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?pt.prop(t,e,i):(1===o&&pt.isXMLDoc(t)||(e=e.toLowerCase(),r=pt.attrHooks[e]||(pt.expr.match.bool.test(e)?Pe:Ee)),void 0!==i?null===i?void pt.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):r&&"get"in r&&null!==(n=r.get(t,e))?n:null==(n=pt.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!dt.radioValue&&"radio"===e&&pt.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n,r=0,o=e&&e.match(Dt);if(o&&1===t.nodeType)for(;i=o[r++];)n=pt.propFix[i]||i,pt.expr.match.bool.test(i)?Re&&Me||!Fe.test(i)?t[n]=!1:t[pt.camelCase("default-"+i)]=t[n]=!1:pt.attr(t,i,""),t.removeAttribute(Me?i:n)}}),Pe={set:function(t,e,i){return!1===e?pt.removeAttr(t,i):Re&&Me||!Fe.test(i)?t.setAttribute(!Me&&pt.propFix[i]||i,i):t[pt.camelCase("default-"+i)]=t[i]=!0,i}},pt.each(pt.expr.match.bool.source.match(/\w+/g),(function(t,e){var i=Oe[e]||pt.find.attr;Re&&Me||!Fe.test(e)?Oe[e]=function(t,e,n){var r,o;return n||(o=Oe[e],Oe[e]=r,r=null!=i(t,e,n)?e.toLowerCase():null,Oe[e]=o),r}:Oe[e]=function(t,e,i){if(!i)return t[pt.camelCase("default-"+e)]?e.toLowerCase():null}})),Re&&Me||(pt.attrHooks.value={set:function(t,e,i){if(!pt.nodeName(t,"input"))return Ee&&Ee.set(t,e,i);t.defaultValue=e}}),Me||(Ee={set:function(t,e,i){var n=t.getAttributeNode(i);if(n||t.setAttributeNode(n=t.ownerDocument.createAttribute(i)),n.value=e+="","value"===i||e===t.getAttribute(i))return e}},Oe.id=Oe.name=Oe.coords=function(t,e,i){var n;if(!i)return(n=t.getAttributeNode(e))&&""!==n.value?n.value:null},pt.valHooks.button={get:function(t,e){var i=t.getAttributeNode(e);if(i&&i.specified)return i.value},set:Ee.set},
pt.attrHooks.contenteditable={set:function(t,e,i){Ee.set(t,""!==e&&e,i)}},pt.each(["width","height"],(function(t,e){pt.attrHooks[e]={set:function(t,i){if(""===i)return t.setAttribute(e,"auto"),i}}}))),dt.style||(pt.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var Ne=/^(?:input|select|textarea|button|object)$/i,qe=/^(?:a|area)$/i;pt.fn.extend({prop:function(t,e){return Ht(this,pt.prop,t,e,arguments.length>1)},removeProp:function(t){return t=pt.propFix[t]||t,this.each((function(){try{this[t]=void 0,delete this[t]}catch(t){}}))}}),pt.extend({prop:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&pt.isXMLDoc(t)||(e=pt.propFix[e]||e,r=pt.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=pt.find.attr(t,"tabindex");return e?parseInt(e,10):Ne.test(t.nodeName)||qe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),dt.hrefNormalized||pt.each(["href","src"],(function(t,e){pt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}})),dt.optSelected||(pt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),pt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){pt.propFix[this.toLowerCase()]=this})),dt.enctype||(pt.propFix.enctype="encoding");var Le=/[\t\r\n\f]/g;pt.fn.extend({addClass:function(t){var e,i,n,r,o,s,a,l=0;if(pt.isFunction(t))return this.each((function(e){pt(this).addClass(t.call(this,e,W(this)))}));if("string"==typeof t&&t)for(e=t.match(Dt)||[];i=this[l++];)if(r=W(i),n=1===i.nodeType&&(" "+r+" ").replace(Le," ")){for(s=0;o=e[s++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");r!==(a=pt.trim(n))&&pt.attr(i,"class",a)}return this},removeClass:function(t){var e,i,n,r,o,s,a,l=0;if(pt.isFunction(t))return this.each((function(e){pt(this).removeClass(t.call(this,e,W(this)))}));if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Dt)||[];i=this[l++];)if(r=W(i),n=1===i.nodeType&&(" "+r+" ").replace(Le," ")){for(s=0;o=e[s++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");r!==(a=pt.trim(n))&&pt.attr(i,"class",a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):pt.isFunction(t)?this.each((function(i){pt(this).toggleClass(t.call(this,i,W(this),e),e)})):this.each((function(){var e,n,r,o;if("string"===i)for(n=0,r=pt(this),o=t.match(Dt)||[];e=o[n++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==i||((e=W(this))&&pt._data(this,"__className__",e),pt.attr(this,"class",e||!1===t?"":pt._data(this,"__className__")||""))}))},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+W(i)+" ").replace(Le," ").indexOf(e)>-1)return!0;return!1}}),pt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(t,e){pt.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}})),pt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var ze=t.location,He=pt.now(),Be=/\?/,We=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;pt.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var i,n=null,r=pt.trim(e+"");return r&&!pt.trim(r.replace(We,(function(t,e,r,o){return i&&e&&(n=0),0===n?t:(i=r||e,n+=!o-!r,"")})))?Function("return "+r)():pt.error("Invalid JSON: "+e)},pt.parseXML=function(e){var i;if(!e||"string"!=typeof e)return null;try{t.DOMParser?i=(new t.DOMParser).parseFromString(e,"text/xml"):((i=new t.ActiveXObject("Microsoft.XMLDOM")).async="false",i.loadXML(e))}catch(t){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||pt.error("Invalid XML: "+e),i};var Ge=/#.*$/,Ue=/([?&])_=[^&]*/,Ve=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Qe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ye=/^(?:GET|HEAD)$/,Xe=/^\/\//,Ke=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Je={},Ze={},ti="*/".concat("*"),ei=ze.href,ii=Ke.exec(ei.toLowerCase())||[];pt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ei,type:"GET",isLocal:Qe.test(ii[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ti,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":pt.parseJSON,"text xml":pt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?V(V(t,pt.ajaxSettings),e):V(pt.ajaxSettings,t)},ajaxPrefilter:G(Je),ajaxTransport:G(Ze),ajax:function(e,i){function n(e,i,n,r){var o,d,y,b,w,$=i;2!==_&&(_=2,l&&t.clearTimeout(l),u=void 0,a=r||"",x.readyState=e>0?4:0,o=e>=200&&e<300||304===e,n&&(b=Q(h,x,n)),b=Y(h,b,x,o),o?(h.ifModified&&((w=x.getResponseHeader("Last-Modified"))&&(pt.lastModified[s]=w),(w=x.getResponseHeader("etag"))&&(pt.etag[s]=w)),204===e||"HEAD"===h.type?$="nocontent":304===e?$="notmodified":($=b.state,d=b.data,o=!(y=b.error))):(y=$,!e&&$||($="error",e<0&&(e=0))),x.status=e,x.statusText=(i||$)+"",o?g.resolveWith(p,[d,$,x]):g.rejectWith(p,[x,$,y]),x.statusCode(v),v=void 0,c&&f.trigger(o?"ajaxSuccess":"ajaxError",[x,h,o?d:y]),m.fireWith(p,[x,$]),c&&(f.trigger("ajaxComplete",[x,h]),--pt.active||pt.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=void 0),i=i||{};var r,o,s,a,l,c,u,d,h=pt.ajaxSetup({},i),p=h.context||h,f=h.context&&(p.nodeType||p.jquery)?pt(p):pt.event,g=pt.Deferred(),m=pt.Callbacks("once memory"),v=h.statusCode||{},y={},b={},_=0,w="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===_){if(!d)for(d={};e=Ve.exec(a);)d[e[1].toLowerCase()]=e[2];e=d[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===_?a:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return _||(t=b[i]=b[i]||t,y[t]=e),this},overrideMimeType:function(t){return _||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(_<2)for(e in t)v[e]=[v[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||w;return u&&u.abort(e),n(0,e),this}};if(g.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,h.url=((e||h.url||ei)+"").replace(Ge,"").replace(Xe,ii[1]+"//"),h.type=i.method||i.type||h.method||h.type,h.dataTypes=pt.trim(h.dataType||"*").toLowerCase().match(Dt)||[""],null==h.crossDomain&&(r=Ke.exec(h.url.toLowerCase()),h.crossDomain=!(!r||r[1]===ii[1]&&r[2]===ii[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(ii[3]||("http:"===ii[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=pt.param(h.data,h.traditional)),U(Je,h,i,x),2===_)return x;for(o in(c=pt.event&&h.global)&&0==pt.active++&&pt.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ye.test(h.type),s=h.url,h.hasContent||(h.data&&(s=h.url+=(Be.test(s)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=Ue.test(s)?s.replace(Ue,"$1_="+He++):s+(Be.test(s)?"&":"?")+"_="+He++)),h.ifModified&&(pt.lastModified[s]&&x.setRequestHeader("If-Modified-Since",pt.lastModified[s]),pt.etag[s]&&x.setRequestHeader("If-None-Match",pt.etag[s])),(h.data&&h.hasContent&&!1!==h.contentType||i.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+ti+"; q=0.01":""):h.accepts["*"]),h.headers)x.setRequestHeader(o,h.headers[o]);if(h.beforeSend&&(!1===h.beforeSend.call(p,x,h)||2===_))return x.abort();for(o in w="abort",{success:1,error:1,complete:1})x[o](h[o]);if(u=U(Ze,h,i,x)){if(x.readyState=1,c&&f.trigger("ajaxSend",[x,h]),2===_)return x;h.async&&h.timeout>0&&(l=t.setTimeout((function(){x.abort("timeout")}),h.timeout));try{_=1,u.send(y,n)}catch(t){if(!(_<2))throw t;n(-1,t)}}else n(-1,"No Transport");return x},getJSON:function(t,e,i){return pt.get(t,e,i,"json")},getScript:function(t,e){return pt.get(t,void 0,e,"script")}}),pt.each(["get","post"],(function(t,e){pt[e]=function(t,i,n,r){return pt.isFunction(i)&&(r=r||n,n=i,i=void 0),pt.ajax(pt.extend({url:t,type:e,dataType:r,data:i,success:n},pt.isPlainObject(t)&&t))}})),pt._evalUrl=function(t){return pt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},pt.fn.extend({wrapAll:function(t){if(pt.isFunction(t))return this.each((function(e){pt(this).wrapAll(t.call(this,e))}));if(this[0]){var e=pt(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t})).append(this)}return this},wrapInner:function(t){return pt.isFunction(t)?this.each((function(e){pt(this).wrapInner(t.call(this,e))})):this.each((function(){var e=pt(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)}))},wrap:function(t){var e=pt.isFunction(t);return this.each((function(i){pt(this).wrapAll(e?t.call(this,i):t)}))},unwrap:function(){return this.parent().each((function(){pt.nodeName(this,"body")||pt(this).replaceWith(this.childNodes)})).end()}}),pt.expr.filters.hidden=function(t){return dt.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:K(t)},pt.expr.filters.visible=function(t){return!pt.expr.filters.hidden(t)};var ni=/%20/g,ri=/\[\]$/,oi=/\r?\n/g,si=/^(?:submit|button|image|reset|file)$/i,ai=/^(?:input|select|textarea|keygen)/i;pt.param=function(t,e){var i,n=[],r=function(t,e){e=pt.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=pt.ajaxSettings&&pt.ajaxSettings.traditional),pt.isArray(t)||t.jquery&&!pt.isPlainObject(t))pt.each(t,(function(){r(this.name,this.value)}));else for(i in t)J(i,t[i],e,r);return n.join("&").replace(ni,"+")},pt.fn.extend({serialize:function(){return pt.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=pt.prop(this,"elements");return t?pt.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!pt(this).is(":disabled")&&ai.test(this.nodeName)&&!si.test(t)&&(this.checked||!Bt.test(t))})).map((function(t,e){var i=pt(this).val();return null==i?null:pt.isArray(i)?pt.map(i,(function(t){return{name:e.name,value:t.replace(oi,"\r\n")}})):{name:e.name,value:i.replace(oi,"\r\n")}})).get()}}),pt.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return this.isLocal?tt():nt.documentMode>8?Z():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Z()||tt()}:Z;var li=0,ci={},ui=pt.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",(function(){for(var t in ci)ci[t](void 0,!0)})),dt.cors=!!ui&&"withCredentials"in ui,(ui=dt.ajax=!!ui)&&pt.ajaxTransport((function(e){var i;if(!e.crossDomain||dt.cors)return{send:function(n,r){var o,s=e.xhr(),a=++li;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)s[o]=e.xhrFields[o];for(o in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)void 0!==n[o]&&s.setRequestHeader(o,n[o]+"");s.send(e.hasContent&&e.data||null),i=function(t,n){var o,l,c;if(i&&(n||4===s.readyState))if(delete ci[a],i=void 0,s.onreadystatechange=pt.noop,n)4!==s.readyState&&s.abort();else{c={},o=s.status,"string"==typeof s.responseText&&(c.text=s.responseText);try{l=s.statusText}catch(t){l=""}o||!e.isLocal||e.crossDomain?1223===o&&(o=204):o=c.text?200:404}c&&r(o,l,c,s.getAllResponseHeaders())},e.async?4===s.readyState?t.setTimeout(i):s.onreadystatechange=ci[a]=i:i()},abort:function(){i&&i(void 0,!0)}}})),pt.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),pt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return pt.globalEval(t),t}}}),pt.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)})),pt.ajaxTransport("script",(function(t){if(t.crossDomain){var e,i=nt.head||pt("head")[0]||nt.documentElement;return{send:function(n,r){(e=nt.createElement("script")).async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,i){(i||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,i||r(200,"success"))},i.insertBefore(e,i.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}}));var di=[],hi=/(=)\?(?=&|$)|\?\?/;pt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=di.pop()||pt.expando+"_"+He++;return this[t]=!0,t}}),pt.ajaxPrefilter("json jsonp",(function(e,i,n){var r,o,s,a=!1!==e.jsonp&&(hi.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&hi.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=pt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(hi,"$1"+r):!1!==e.jsonp&&(e.url+=(Be.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||pt.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},n.always((function(){void 0===o?pt(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=i.jsonpCallback,di.push(r)),s&&pt.isFunction(o)&&o(s[0]),s=o=void 0})),"script"})),dt.createHTMLDocument=function(){if(!nt.implementation.createHTMLDocument)return!1;var t=nt.implementation.createHTMLDocument("");return t.body.innerHTML="<form></form><form></form>",2===t.body.childNodes.length}(),pt.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||(dt.createHTMLDocument?nt.implementation.createHTMLDocument(""):nt);var n=xt.exec(t),r=!i&&[];return n?[e.createElement(n[1])]:(n=v([t],e,r),r&&r.length&&pt(r).remove(),pt.merge([],n.childNodes))};var pi=pt.fn.load;pt.fn.load=function(t,e,i){if("string"!=typeof t&&pi)return pi.apply(this,arguments);var n,r,o,s=this,a=t.indexOf(" ");return a>-1&&(n=pt.trim(t.slice(a,t.length)),t=t.slice(0,a)),pt.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&pt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done((function(t){o=arguments,s.html(n?pt("<div>").append(pt.parseHTML(t)).find(n):t)})).always(i&&function(t,e){s.each((function(){i.apply(s,o||[t.responseText,e,t])}))}),this},pt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){pt.fn[e]=function(t){return this.on(e,t)}})),pt.expr.filters.animated=function(t){return pt.grep(pt.timers,(function(e){return t===e.elem})).length},pt.offset={setOffset:function(t,e,i){var n,r,o,s,a,l,c=pt.css(t,"position"),u=pt(t),d={};"static"===c&&(t.style.position="relative"),a=u.offset(),o=pt.css(t,"top"),l=pt.css(t,"left"),("absolute"===c||"fixed"===c)&&pt.inArray("auto",[o,l])>-1?(s=(n=u.position()).top,r=n.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),pt.isFunction(e)&&(e=e.call(t,i,pt.extend({},a))),null!=e.top&&(d.top=e.top-a.top+s),null!=e.left&&(d.left=e.left-a.left+r),"using"in e?e.using.call(t,d):u.css(d)}},pt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){pt.offset.setOffset(this,t,e)}));var e,i,n={top:0,left:0},r=this[0],o=r&&r.ownerDocument;return o?(e=o.documentElement,pt.contains(e,r)?(void 0!==r.getBoundingClientRect&&(n=r.getBoundingClientRect()),i=et(o),{top:n.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):n):void 0},position:function(){if(this[0]){var t,e,i={top:0,left:0},n=this[0];return"fixed"===pt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),pt.nodeName(t[0],"html")||(i=t.offset()),i.top+=pt.css(t[0],"borderTopWidth",!0),i.left+=pt.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-pt.css(n,"marginTop",!0),left:e.left-i.left-pt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&!pt.nodeName(t,"html")&&"static"===pt.css(t,"position");)t=t.offsetParent;return t||ge}))}}),pt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var i=/Y/.test(e);pt.fn[t]=function(n){return Ht(this,(function(t,n,r){var o=et(t);if(void 0===r)return o?e in o?o[e]:o.document.documentElement[n]:t[n];o?o.scrollTo(i?pt(o).scrollLeft():r,i?r:pt(o).scrollTop()):t[n]=r}),t,n,arguments.length,null)}})),pt.each(["top","left"],(function(t,e){pt.cssHooks[e]=I(dt.pixelPosition,(function(t,i){if(i)return i=ve(t,e),pe.test(i)?pt(t).position()[e]+"px":i}))})),pt.each({Height:"height",Width:"width"},(function(t,e){pt.each({padding:"inner"+t,content:e,"":"outer"+t},(function(i,n){pt.fn[n]=function(n,r){var o=arguments.length&&(i||"boolean"!=typeof n),s=i||(!0===n||!0===r?"margin":"border");return Ht(this,(function(e,i,n){var r;return pt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===n?pt.css(e,i,s):pt.style(e,i,n,s)}),e,o?n:void 0,o,null)}}))})),pt.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),pt.fn.size=function(){return this.length},pt.fn.andSelf=pt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],(function(){return pt}));var fi=t.jQuery,gi=t.$;return pt.noConflict=function(e){return t.$===pt&&(t.$=gi),e&&t.jQuery===pt&&(t.jQuery=fi),pt},e||(t.jQuery=t.$=pt),pt})),function(t,e,i){function n(i){var n=e.console;o[i]||(o[i]=!0,t.migrateWarnings.push(i),n&&n.warn&&!t.migrateMute&&(n.warn("JQMIGRATE: "+i),t.migrateTrace&&n.trace&&n.trace()))}function r(e,i,r,o){if(Object.defineProperty)try{return void Object.defineProperty(e,i,{configurable:!0,enumerable:!0,get:function(){return n(o),r},set:function(t){n(o),r=t}})}catch(t){}t._definePropertyBroken=!0,e[i]=r}t.migrateVersion="1.4.1";var o={};t.migrateWarnings=[],e.console&&e.console.log&&e.console.log("JQMIGRATE: Migrate is installed"+(t.migrateMute?"":" with logging active")+", version "+t.migrateVersion),t.migrateTrace===i&&(t.migrateTrace=!0),t.migrateReset=function(){o={},t.migrateWarnings.length=0},"BackCompat"===document.compatMode&&n("jQuery is not compatible with Quirks Mode");var s=t("<input/>",{size:1}).attr("size")&&t.attrFn,a=t.attr,l=t.attrHooks.value&&t.attrHooks.value.get||function(){return null},c=t.attrHooks.value&&t.attrHooks.value.set||function(){return i},u=/^(?:input|button)$/i,d=/^[238]$/,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:checked|selected)$/i;r(t,"attrFn",s||{},"jQuery.attrFn is deprecated"),t.attr=function(e,r,o,l){var c=r.toLowerCase(),f=e&&e.nodeType;return l&&(a.length<4&&n("jQuery.fn.attr( props, pass ) is deprecated"),e&&!d.test(f)&&(s?r in s:t.isFunction(t.fn[r])))?t(e)[r](o):("type"===r&&o!==i&&u.test(e.nodeName)&&e.parentNode&&n("Can't change the 'type' of an input or button in IE 6/7/8"),!t.attrHooks[c]&&h.test(c)&&(t.attrHooks[c]={get:function(e,n){var r,o=t.prop(e,n);return!0===o||"boolean"!=typeof o&&(r=e.getAttributeNode(n))&&!1!==r.nodeValue?n.toLowerCase():i},set:function(e,i,n){var r;return!1===i?t.removeAttr(e,n):((r=t.propFix[n]||n)in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},p.test(c)&&n("jQuery.fn.attr('"+c+"') might use property instead of attribute")),a.call(t,e,r,o))},t.attrHooks.value={get:function(t,e){var i=(t.nodeName||"").toLowerCase();return"button"===i?l.apply(this,arguments):("input"!==i&&"option"!==i&&n("jQuery.fn.attr('value') no longer gets properties"),e in t?t.value:null)},set:function(t,e){var i=(t.nodeName||"").toLowerCase();if("button"===i)return c.apply(this,arguments);"input"!==i&&"option"!==i&&n("jQuery.fn.attr('value', val) no longer sets properties"),t.value=e}};var f,g,m,v=t.fn.init,y=t.find,b=t.parseJSON,_=/^\s*</,w=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,x=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,$=/^([^<]*)(<[\w\W]+>)([^>]*)$/;for(m in t.fn.init=function(e,r,o){var s,a;return e&&"string"==typeof e&&!t.isPlainObject(r)&&(s=$.exec(t.trim(e)))&&s[0]&&(_.test(e)||n("$(html) HTML strings must start with '<' character"),s[3]&&n("$(html) HTML text after last tag is ignored"),"#"===s[0].charAt(0)&&(n("HTML string cannot start with a '#' character"),t.error("JQMIGRATE: Invalid selector string (XSS)")),r&&r.context&&r.context.nodeType&&(r=r.context),t.parseHTML)?v.call(this,t.parseHTML(s[2],r&&r.ownerDocument||r||document,!0),r,o):(a=v.apply(this,arguments),e&&e.selector!==i?(a.selector=e.selector,a.context=e.context):(a.selector="string"==typeof e?e:"",e&&(a.context=e.nodeType?e:r||document)),a)},t.fn.init.prototype=t.fn,t.find=function(t){var e=Array.prototype.slice.call(arguments);if("string"==typeof t&&w.test(t))try{document.querySelector(t)}catch(i){t=t.replace(x,(function(t,e,i,n){return"["+e+i+'"'+n+'"]'}));try{document.querySelector(t),n("Attribute selector with '#' must be quoted: "+e[0]),e[0]=t}catch(t){n("Attribute selector with '#' was not fixed: "+e[0])}}return y.apply(this,e)},y)Object.prototype.hasOwnProperty.call(y,m)&&(t.find[m]=y[m]);t.parseJSON=function(t){return t?b.apply(this,arguments):(n("jQuery.parseJSON requires a valid JSON string"),null)},t.uaMatch=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},t.browser||(g={},(f=t.uaMatch(navigator.userAgent)).browser&&(g[f.browser]=!0,g.version=f.version),g.chrome?g.webkit=!0:g.webkit&&(g.safari=!0),t.browser=g),r(t,"browser",t.browser,"jQuery.browser is deprecated"),t.boxModel=t.support.boxModel="CSS1Compat"===document.compatMode,r(t,"boxModel",t.boxModel,"jQuery.boxModel is deprecated"),r(t.support,"boxModel",t.support.boxModel,"jQuery.support.boxModel is deprecated"),t.sub=function(){function e(t,i){return new e.fn.init(t,i)}t.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,r){var o=t.fn.init.call(this,n,r,i);return o instanceof e?o:e(o)},e.fn.init.prototype=e.fn;var i=e(document);return n("jQuery.sub() is deprecated"),e},t.fn.size=function(){return n("jQuery.fn.size() is deprecated; use the .length property"),this.length};var C=!1;t.swap&&t.each(["height","width","reliableMarginRight"],(function(e,i){var n=t.cssHooks[i]&&t.cssHooks[i].get;n&&(t.cssHooks[i].get=function(){var t;return C=!0,t=n.apply(this,arguments),C=!1,t})})),t.swap=function(t,e,i,r){var o,s,a={};for(s in C||n("jQuery.swap() is undocumented and deprecated"),e)a[s]=t.style[s],t.style[s]=e[s];for(s in o=i.apply(t,r||[]),e)t.style[s]=a[s];return o},t.ajaxSetup({converters:{"text json":t.parseJSON}});var k=t.fn.data;t.fn.data=function(e){var r,o,s=this[0];return!s||"events"!==e||1!==arguments.length||(r=t.data(s,e),o=t._data(s,e),r!==i&&r!==o||o===i)?k.apply(this,arguments):(n("Use of jQuery.fn.data('events') is deprecated"),o)};var S=/\/(java|ecma)script/i;t.clean||(t.clean=function(e,i,r,o){i=(i=!(i=i||document).nodeType&&i[0]||i).ownerDocument||i,n("jQuery.clean() is deprecated");var s,a,l,c,u=[];if(t.merge(u,t.buildFragment(e,i).childNodes),r)for(l=function(t){if(!t.type||S.test(t.type))return o?o.push(t.parentNode?t.parentNode.removeChild(t):t):r.appendChild(t)},s=0;null!=(a=u[s]);s++)t.nodeName(a,"script")&&l(a)||(r.appendChild(a),void 0!==a.getElementsByTagName&&(c=t.grep(t.merge([],a.getElementsByTagName("script")),l),u.splice.apply(u,[s+1,0].concat(c)),s+=c.length));return u});var j=t.event.add,T=t.event.remove,A=t.event.trigger,D=t.fn.toggle,I=t.fn.live,E=t.fn.die,P=t.fn.load,O="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",F=new RegExp("\\b(?:"+O+")\\b"),M=/(?:^|\s)hover(\.\S+|)\b/,R=function(e){return"string"!=typeof e||t.event.special.hover?e:(M.test(e)&&n("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),e&&e.replace(M,"mouseenter$1 mouseleave$1"))};t.event.props&&"attrChange"!==t.event.props[0]&&t.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),t.event.dispatch&&r(t.event,"handle",t.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),t.event.add=function(t,e,i,r,o){t!==document&&F.test(e)&&n("AJAX events should be attached to document: "+e),j.call(this,t,R(e||""),i,r,o)},t.event.remove=function(t,e,i,n,r){T.call(this,t,R(e)||"",i,n,r)},t.each(["load","unload","error"],(function(e,i){t.fn[i]=function(){var t=Array.prototype.slice.call(arguments,0);return"load"===i&&"string"==typeof t[0]?P.apply(this,t):(n("jQuery.fn."+i+"() is deprecated"),t.splice(0,0,i),arguments.length?this.bind.apply(this,t):(this.triggerHandler.apply(this,t),this))}})),t.fn.toggle=function(e,i){if(!t.isFunction(e)||!t.isFunction(i))return D.apply(this,arguments);n("jQuery.fn.toggle(handler, handler...) is deprecated");var r=arguments,o=e.guid||t.guid++,s=0,a=function(i){var n=(t._data(this,"lastToggle"+e.guid)||0)%s;return t._data(this,"lastToggle"+e.guid,n+1),i.preventDefault(),r[n].apply(this,arguments)||!1};for(a.guid=o;s<r.length;)r[s++].guid=o;return this.click(a)},t.fn.live=function(e,i,r){return n("jQuery.fn.live() is deprecated"),I?I.apply(this,arguments):(t(this.context).on(e,this.selector,i,r),this)},t.fn.die=function(e,i){return n("jQuery.fn.die() is deprecated"),E?E.apply(this,arguments):(t(this.context).off(e,this.selector||"**",i),this)},t.event.trigger=function(t,e,i,r){return i||F.test(t)||n("Global events are undocumented and deprecated"),A.call(this,t,e,i||document,r)},t.each(O.split("|"),(function(e,i){t.event.special[i]={setup:function(){var e=this;return e!==document&&(t.event.add(document,i+"."+t.guid,(function(){t.event.trigger(i,Array.prototype.slice.call(arguments,1),e,!0)})),t._data(this,i,t.guid++)),!1},teardown:function(){return this!==document&&t.event.remove(document,i+"."+t._data(this,i)),!1}}})),t.event.special.ready={setup:function(){this===document&&n("'ready' event is deprecated")}};var N=t.fn.andSelf||t.fn.addBack,q=t.fn.find;if(t.fn.andSelf=function(){return n("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),N.apply(this,arguments)},t.fn.find=function(t){var e=q.apply(this,arguments);return e.context=this.context,e.selector=this.selector?this.selector+" "+t:t,e},t.Callbacks){var L=t.Deferred,z=[["resolve","done",t.Callbacks("once memory"),t.Callbacks("once memory"),"resolved"],["reject","fail",t.Callbacks("once memory"),t.Callbacks("once memory"),"rejected"],["notify","progress",t.Callbacks("memory"),t.Callbacks("memory")]];t.Deferred=function(e){var i=L(),r=i.promise();return i.pipe=r.pipe=function(){var e=arguments;return n("deferred.pipe() is deprecated"),t.Deferred((function(n){t.each(z,(function(o,s){var a=t.isFunction(e[o])&&e[o];i[s[1]]((function(){var e=a&&a.apply(this,arguments);e&&t.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s[0]+"With"](this===r?n.promise():this,a?[e]:arguments)}))})),e=null})).promise()},i.isResolved=function(){return n("deferred.isResolved is deprecated"),"resolved"===i.state()},i.isRejected=function(){return n("deferred.isRejected is deprecated"),"rejected"===i.state()},e&&e.call(i,i),i}}}(jQuery,window),function(t,e){"use strict";var i;t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n=t(document);t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=i.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+i.csrfParam()+'"]').val(i.csrfToken())},fire:function(e,i,n){var r=t.Event(i);return e.trigger(r,n),!1!==r.result},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&!1!==t.data("remote")},handleRemote:function(n){var r,o,s,a,l,c;if(i.fire(n,"ajax:before")){if(a=n.data("with-credentials")||null,l=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){r=n.data("ujs:submit-button-formmethod")||n.attr("method"),o=n.data("ujs:submit-button-formaction")||n.attr("action"),s=t(n[0]).serializeArray();var u=n.data("ujs:submit-button");u&&(s.push(u),n.data("ujs:submit-button",null)),n.data("ujs:submit-button-formmethod",null),n.data("ujs:submit-button-formaction",null)}else n.is(i.inputChangeSelector)?(r=n.data("method"),o=n.data("url"),s=n.serialize(),n.data("params")&&(s=s+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(r=n.data("method")||"get",o=n.data("url"),s=n.serialize(),n.data("params")&&(s=s+"&"+n.data("params"))):(r=n.data("method"),o=i.href(n),s=n.data("params")||null);return c={type:r||"GET",data:s,dataType:l,beforeSend:function(t,r){if(r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),!i.fire(n,"ajax:beforeSend",[t,r]))return!1;n.trigger("ajax:send",t)},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:i.isCrossDomain(o)},a&&(c.xhrFields={withCredentials:a}),o&&(c.url=o),i.ajax(c)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var i=document.createElement("a");try{return i.href=t,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||e.protocol+"//"+e.host==i.protocol+"//"+i.host)}catch(t){return!0}},handleMethod:function(n){var r=i.href(n),o=n.data("method"),s=n.attr("target"),a=i.csrfToken(),l=i.csrfParam(),c=t('<form method="post" action="'+r+'"></form>'),u='<input name="_method" value="'+o+'" type="hidden" />';l===e||a===e||i.isCrossDomain(r)||(u+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&c.attr("target",s),c.hide().append(u).appendTo("body"),c.submit()},formElements:function(e,i){return e.is("form")?t(e[0].elements).filter(i):e.find(i)},disableFormElements:function(e){i.formElements(e,i.disableSelector).each((function(){i.disableFormElement(t(this))}))},disableFormElement:function(t){var i,n;i=t.is("button")?"html":"val",(n=t.data("disable-with"))!==e&&(t.data("ujs:enable-with",t[i]()),t[i](n)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(e){i.formElements(e,i.enableSelector).each((function(){i.enableFormElement(t(this))}))},enableFormElement:function(t){var i=t.is("button")?"html":"val"
;t.data("ujs:enable-with")!==e&&(t[i](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,n=t.data("confirm"),r=!1;if(!n)return!0;if(i.fire(t,"confirm")){try{r=i.confirm(n)}catch(t){(console.error||console.log).call(console,t.stack||t)}e=i.fire(t,"confirm:complete",[r])}return r&&e},blankInputs:function(e,i,n){var r,o,s,a=t(),l=i||"input,textarea",c=e.find(l),u={};return c.each((function(){(r=t(this)).is("input[type=radio]")?(s=r.attr("name"),u[s]||(0===e.find('input[type=radio]:checked[name="'+s+'"]').length&&(o=e.find('input[type=radio][name="'+s+'"]'),a=a.add(o)),u[s]=s)):(r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):!!r.val())===n&&(a=a.add(r))})),!!a.length&&a},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var n=t.data("disable-with");n!==e&&(t.data("ujs:enable-with",t.html()),t.html(n)),t.bind("click.railsDisable",(function(t){return i.stopEverything(t)})),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},i.fire(n,"rails:attachBindings")&&(t.ajaxPrefilter((function(t,e,n){t.crossDomain||i.CSRFProtection(n)})),t(window).on("pageshow.rails",(function(){t(t.rails.enableSelector).each((function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)})),t(t.rails.linkDisableSelector).each((function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)}))})),n.delegate(i.linkDisableSelector,"ajax:complete",(function(){i.enableElement(t(this))})),n.delegate(i.buttonDisableSelector,"ajax:complete",(function(){i.enableFormElement(t(this))})),n.delegate(i.linkClickSelector,"click.rails",(function(e){var n=t(this),r=n.data("method"),o=n.data("params"),s=e.metaKey||e.ctrlKey;if(!i.allowAction(n))return i.stopEverything(e);if(!s&&n.is(i.linkDisableSelector)&&i.disableElement(n),i.isRemote(n)){if(s&&(!r||"GET"===r)&&!o)return!0;var a=i.handleRemote(n);return!1===a?i.enableElement(n):a.fail((function(){i.enableElement(n)})),!1}return r?(i.handleMethod(n),!1):void 0})),n.delegate(i.buttonClickSelector,"click.rails",(function(e){var n=t(this);if(!i.allowAction(n)||!i.isRemote(n))return i.stopEverything(e);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var r=i.handleRemote(n);return!1===r?i.enableFormElement(n):r.fail((function(){i.enableFormElement(n)})),!1})),n.delegate(i.inputChangeSelector,"change.rails",(function(e){var n=t(this);return i.allowAction(n)&&i.isRemote(n)?(i.handleRemote(n),!1):i.stopEverything(e)})),n.delegate(i.formSubmitSelector,"submit.rails",(function(n){var r,o,s=t(this),a=i.isRemote(s);if(!i.allowAction(s))return i.stopEverything(n);if(s.attr("novalidate")===e)if(s.data("ujs:formnovalidate-button")===e){if((r=i.blankInputs(s,i.requiredInputSelector,!1))&&i.fire(s,"ajax:aborted:required",[r]))return i.stopEverything(n)}else s.data("ujs:formnovalidate-button",e);if(a){if(o=i.nonBlankInputs(s,i.fileInputSelector)){setTimeout((function(){i.disableFormElements(s)}),13);var l=i.fire(s,"ajax:aborted:file",[o]);return l||setTimeout((function(){i.enableFormElements(s)}),13),l}return i.handleRemote(s),!1}setTimeout((function(){i.disableFormElements(s)}),13)})),n.delegate(i.formInputClickSelector,"click.rails",(function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var r=n.attr("name"),o=r?{name:r,value:n.val()}:null,s=n.closest("form");0===s.length&&(s=t("#"+n.attr("form"))),s.data("ujs:submit-button",o),s.data("ujs:formnovalidate-button",n.attr("formnovalidate")),s.data("ujs:submit-button-formaction",n.attr("formaction")),s.data("ujs:submit-button-formmethod",n.attr("formmethod"))})),n.delegate(i.formSubmitSelector,"ajax:send.rails",(function(e){this===e.target&&i.disableFormElements(t(this))})),n.delegate(i.formSubmitSelector,"ajax:complete.rails",(function(e){this===e.target&&i.enableFormElements(t(this))})),t((function(){i.refreshCSRFTokens()})))}(jQuery),function(t,e){function i(e,i){var r,o,s,a=e.nodeName.toLowerCase();return"area"===a?(o=(r=e.parentNode).name,!(!e.href||!o||"map"!==r.nodeName.toLowerCase())&&(!!(s=t("img[usemap=#"+o+"]")[0])&&n(s))):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a&&e.href||i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().andSelf().filter((function(){return"hidden"===t.css(this,"visibility")})).length}var r,o,s=0,a=/^ui-id-\d+$/;(t.ui=t.ui||{},t.ui.version)||(t.extend(t.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({_focus:t.fn.focus,focus:function(e,i){return"number"==typeof e?this.each((function(){var n=this;setTimeout((function(){t(n).focus(),i&&i.call(n)}),e)})):this._focus.apply(this,arguments)},scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter((function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))})).eq(0):this.parents().filter((function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))})).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var n,r,o=t(this[0]);o.length&&o[0]!==document;){if(("absolute"===(n=o.css("position"))||"relative"===n||"fixed"===n)&&(r=parseInt(o.css("zIndex"),10),!isNaN(r)&&0!==r))return r;o=o.parent()}return 0},uniqueId:function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++s)}))},removeUniqueId:function(){return this.each((function(){a.test(this.id)&&t(this).removeAttr("id")}))}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo((function(e){return function(i){return!!t.data(i,e)}})):function(e,i,n){return!!t.data(e,n[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),r=isNaN(n);return(r||n>=0)&&i(e,!r)}}),t((function(){var e=document.body,i=e.appendChild(i=document.createElement("div"));i.offsetHeight,t.extend(i.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),t.support.minHeight=100===i.offsetHeight,t.support.selectstart="onselectstart"in i,e.removeChild(i).style.display="none"})),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],(function(i,n){function r(e,i,n,r){return t.each(o,(function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(i-=parseFloat(t.css(e,"margin"+this))||0)})),i}var o="Width"===n?["Left","Right"]:["Top","Bottom"],s=n.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(i){return i===e?a["inner"+n].call(this):this.each((function(){t(this).css(s,r(this,i)+"px")}))},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?a["outer"+n].call(this,e):this.each((function(){t(this).css(s,r(this,e,!0,i)+"px")}))}})),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=(r=t.fn.removeData,function(e){return arguments.length?r.call(this,t.camelCase(e)):r.call(this)})),o=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[],t.ui.ie=!!o.length,t.ui.ie6=6===parseFloat(o[1],10),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",(function(t){t.preventDefault()}))},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,n){var r,o=t.ui[e].prototype;for(r in n)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([i,n[r]])},call:function(t,e,i){var n,r=t.plugins[e];if(r&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(n=0;n<r.length;n++)t.options[r[n][0]]&&r[n][1].apply(t.element,i)}},contains:t.contains,hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return e[n]>0||(e[n]=1,r=e[n]>0,e[n]=0,r)},isOverAxis:function(t,e,i){return t>e&&t<e+i},isOver:function(e,i,n,r,o,s){return t.ui.isOverAxis(e,n,o)&&t.ui.isOverAxis(i,r,s)}}))}(jQuery),function(t,e){var i=0,n=Array.prototype.slice,r=t.cleanData;t.cleanData=function(e){for(var i,n=0;null!=(i=e[n]);n++)try{t(i).triggerHandler("remove")}catch(t){}r(e)},t.widget=function(e,i,n){var r,o,s,a,l=e.split(".")[0];e=e.split(".")[1],r=l+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[l]=t[l]||{},o=t[l][e],s=t[l][e]=function(t,e){if(!this._createWidget)return new s(t,e);arguments.length&&this._createWidget(t,e)},t.extend(s,o,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),(a=new i).options=t.widget.extend({},a.options),t.each(n,(function(e,r){var o,s;t.isFunction(r)&&(n[e]=(o=function(){return i.prototype[e].apply(this,arguments)},s=function(t){return i.prototype[e].apply(this,t)},function(){var t,e=this._super,i=this._superApply;return this._super=o,this._superApply=s,t=r.apply(this,arguments),this._super=e,this._superApply=i,t}))})),s.prototype=t.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix:e},n,{constructor:s,namespace:l,widgetName:e,widgetBaseClass:r,widgetFullName:r}),o?(t.each(o._childConstructors,(function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,s,i._proto)})),delete o._childConstructors):i._childConstructors.push(s),t.widget.bridge(e,s)},t.widget.extend=function(i){for(var r,o,s=n.call(arguments,1),a=0,l=s.length;a<l;a++)for(r in s[a])o=s[a][r],s[a].hasOwnProperty(r)&&o!==e&&(t.isPlainObject(o)?i[r]=t.isPlainObject(i[r])?t.widget.extend({},i[r],o):t.widget.extend({},o):i[r]=o);return i},t.widget.bridge=function(i,r){var o=r.prototype.widgetFullName||i;t.fn[i]=function(s){var a="string"==typeof s,l=n.call(arguments,1),c=this;return s=!a&&l.length?t.widget.extend.apply(null,[s].concat(l)):s,a?this.each((function(){var n,r=t.data(this,o);return r?t.isFunction(r[s])&&"_"!==s.charAt(0)?(n=r[s].apply(r,l))!==r&&n!==e?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+s+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+s+"'")})):this.each((function(){var e=t.data(this,o);e?e.option(s||{})._init():t.data(this,o,new r(s,this))})),c}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetName,this),t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,n){var r,o,s,a=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(a={},r=i.split("."),i=r.shift(),r.length){for(o=a[i]=t.widget.extend({},this.options[i]),s=0;s<r.length-1;s++)o[r[s]]=o[r[s]]||{},o=o[r[s]];if(i=r.pop(),n===e)return o[i]===e?null:o[i];o[i]=n}else{if(n===e)return this.options[i]===e?null:this.options[i];a[i]=n}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,i,n){var r,o=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=r=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),t.each(n,(function(n,s){function a(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=n.match(/^(\w+)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.delegate(u,c,a):i.bind(c,a)}))},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var r,o,s=this.options[e];if(n=n||{},(i=t.Event(i)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(r in o)r in i||(i[r]=o[r]);return this.element.trigger(i,n),!(t.isFunction(s)&&!1===s.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},(function(e,i){t.Widget.prototype["_"+e]=function(n,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?!0===r||"number"==typeof r?i:r.effect||i:e;"number"==typeof(r=r||{})&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&n.delay(r.delay),s&&t.effects&&(t.effects.effect[a]||!1!==t.uiBackCompat&&t.effects[a])?n[e](r):a!==e&&n[a]?n[a](r.duration,r.easing,o):n.queue((function(i){t(this)[e](),o&&o.call(n[0]),i()}))}})),!1!==t.uiBackCompat&&(t.Widget.prototype._getCreateOptions=function(){return t.metadata&&t.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(t){var e=0,i={},n={};i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="hide",n.height=n.paddingTop=n.paddingBottom=n.borderTopWidth=n.borderBottomWidth="show",t.widget("ui.accordion",{version:"1.9.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var i=this.accordionId="ui-accordion-"+(this.element.attr("id")||++e),n=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset"),this.headers=this.element.find(n.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this._hoverable(this.headers),this._focusable(this.headers),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").hide(),n.collapsible||!1!==n.active&&null!=n.active||(n.active=0),n.active<0&&(n.active+=this.headers.length),this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active").toggleClass("ui-corner-all ui-corner-top"),this.active.next().addClass("ui-accordion-content-active").show(),this._createIcons(),this.refresh(),this.element.attr("role","tablist"),this.headers.attr("role","tab").each((function(e){var n=t(this),r=n.attr("id"),o=n.next(),s=o.attr("id");r||(r=i+"-header-"+e,n.attr("id",r)),s||(s=i+"-panel-"+e,o.attr("id",s)),n.attr("aria-controls",s),o.attr("aria-labelledby",r)})).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._on(this.headers,{keydown:"_keydown"}),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._setupEvents(n.event)},_getCreateEventData:function(){return{header:this.active,content:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each((function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")})),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each((function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")})),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){"active"!==t?("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),"disabled"===t&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e)):this._activate(e)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,n=this.headers.length,r=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(r+1)%n];break;case i.LEFT:case i.UP:o=this.headers[(r-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[n-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),o.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e,i,n=this.options.heightStyle,r=this.element.parent();"fill"===n?(t.support.minHeight||(i=r.css("overflow"),r.css("overflow","hidden")),e=r.height(),this.element.siblings(":visible").each((function(){var i=t(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(e-=i.outerHeight(!0))})),i&&r.css("overflow",i),this.headers.each((function(){e-=t(this).outerHeight(!0)})),this.headers.next().each((function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))})).css("overflow","auto")):"auto"===n&&(e=0,this.headers.next().each((function(){e=Math.max(e,t(this).css("height","").height())})).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={};e&&(t.each(e.split(" "),(function(t,e){i[e]="_eventHandler"})),this._on(this.headers,i))},_eventHandler:function(e){var i=this.options,n=this.active,r=t(e.currentTarget),o=r[0]===n[0],s=o&&i.collapsible,a=s?t():r.next(),l=n.next(),c={oldHeader:n,oldPanel:l,newHeader:s?t():r,newPanel:a};e.preventDefault(),o&&!i.collapsible||!1===this._trigger("beforeActivate",e,c)||(i.active=!s&&this.headers.index(r),this.active=o?t():r,this._toggle(c),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),o||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&r.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,e):(n.hide(),i.show(),this._toggleComplete(e)),n.attr({"aria-expanded":"false","aria-hidden":"true"}),n.prev().attr("aria-selected","false"),i.length&&n.length?n.prev().attr("tabIndex",-1):i.length&&this.headers.filter((function(){return 0===t(this).attr("tabIndex")})).attr("tabIndex",-1),i.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(t,e,r){var o,s,a,l=this,c=0,u=t.length&&(!e.length||t.index()<e.index()),d=this.options.animate||{},h=u&&d.down||d,p=function(){l._toggleComplete(r)};return"number"==typeof h&&(a=h),"string"==typeof h&&(s=h),s=s||h.easing||d.easing,a=a||h.duration||d.duration,e.length?t.length?(o=t.show().outerHeight(),e.animate(i,{duration:a,easing:s,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(n,{duration:a,easing:s,complete:p,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?c+=i.now:"content"!==l.options.heightStyle&&(i.now=Math.round(o-e.outerHeight()-c),c=0)}})):e.animate(i,a,s,p):t.animate(n,a,s,p)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),!1!==t.uiBackCompat&&(function(t,e){t.extend(e.options,{navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}});var i=e._create;e._create=function(){if(this.options.navigation){var e=this,n=this.element.find(this.options.header),r=n.next(),o=n.add(r).find("a").filter(this.options.navigationFilter)[0];o&&n.add(r).each((function(i){if(t.contains(this,o))return e.options.active=Math.floor(i/2),!1}))}i.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(t,e){t.extend(e.options,{heightStyle:null,autoHeight:!0,clearStyle:!1,fillSpace:!1});var i=e._create,n=e._setOption;t.extend(e,{_create:function(){this.options.heightStyle=this.options.heightStyle||this._mergeHeightStyle(),i.call(this)},_setOption:function(t){"autoHeight"!==t&&"clearStyle"!==t&&"fillSpace"!==t||(this.options.heightStyle=this._mergeHeightStyle()),n.apply(this,arguments)},_mergeHeightStyle:function(){var t=this.options;return t.fillSpace?"fill":t.clearStyle?"content":t.autoHeight?"auto":void 0}})}(jQuery,jQuery.ui.accordion.prototype),function(t,e){t.extend(e.options.icons,{activeHeader:null,headerSelected:"ui-icon-triangle-1-s"});var i=e._createIcons;e._createIcons=function(){this.options.icons&&(this.options.icons.activeHeader=this.options.icons.activeHeader||this.options.icons.headerSelected),i.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(t,e){e.activate=e._activate;var i=e._findActive;e._findActive=function(t){return-1===t&&(t=!1),t&&"number"!=typeof t&&-1===(t=this.headers.index(this.headers.filter(t)))&&(t=!1),i.call(this,t)}}(jQuery,jQuery.ui.accordion.prototype),jQuery.ui.accordion.prototype.resize=jQuery.ui.accordion.prototype.refresh,function(t,e){t.extend(e.options,{change:null,changestart:null});var i=e._trigger;e._trigger=function(t,e,n){var r=i.apply(this,arguments);return!!r&&("beforeActivate"===t?r=i.call(this,"changestart",e,{oldHeader:n.oldHeader,oldContent:n.oldPanel,newHeader:n.newHeader,newContent:n.newPanel}):"activate"===t&&(r=i.call(this,"change",e,{oldHeader:n.oldHeader,oldContent:n.oldPanel,newHeader:n.newHeader,newContent:n.newPanel})),r)}}(jQuery,jQuery.ui.accordion.prototype),function(t,e){t.extend(e.options,{animate:null,animated:"slide"});var i=e._create;e._create=function(){var t=this.options;null===t.animate&&(t.animated?"slide"===t.animated?t.animate=300:"bounceslide"===t.animated?t.animate={duration:200,down:{easing:"easeOutBounce",duration:1e3}}:t.animate=t.animated:t.animate=!1),i.call(this)}}(jQuery,jQuery.ui.accordion.prototype))}(jQuery),function(t,e){function i(t,e,i){return[parseInt(t[0],10)*(h.test(t[0])?e/100:1),parseInt(t[1],10)*(h.test(t[1])?i/100:1)]}function n(e,i){return parseInt(t.css(e,i),10)||0}t.ui=t.ui||{};var r,o=Math.max,s=Math.abs,a=Math.round,l=/left|center|right/,c=/top|center|bottom/,u=/[\+\-]\d+%?/,d=/^\w+/,h=/%$/,p=t.fn.position;t.position={scrollbarWidth:function(){if(r!==e)return r;var i,n,o=t("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=o.children()[0];return t("body").append(o),i=s.offsetWidth,o.css("overflow","scroll"),i===(n=s.offsetWidth)&&(n=o[0].clientWidth),o.remove(),r=i-n},getScrollInfo:function(e){var i=e.isWindow?"":e.element.css("overflow-x"),n=e.isWindow?"":e.element.css("overflow-y"),r="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight;return{width:r?t.position.scrollbarWidth():0,height:o?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return p.apply(this,arguments);e=t.extend({},e);var r,h,f,g,m,v=t(e.of),y=t.position.getWithinInfo(e.within),b=t.position.getScrollInfo(y),_=v[0],w=(e.collision||"flip").split(" "),x={};return 9===_.nodeType?(h=v.width(),f=v.height(),g={top:0,left:0}):t.isWindow(_)?(h=v.width(),f=v.height(),g={top:v.scrollTop(),left:v.scrollLeft()}):_.preventDefault?(e.at="left top",h=f=0,g={top:_.pageY,left:_.pageX}):(h=v.outerWidth(),f=v.outerHeight(),g=v.offset()),m=t.extend({},g),t.each(["my","at"],(function(){var t,i,n=(e[this]||"").split(" ");1===n.length&&(n=l.test(n[0])?n.concat(["center"]):c.test(n[0])?["center"].concat(n):["center","center"]),n[0]=l.test(n[0])?n[0]:"center",n[1]=c.test(n[1])?n[1]:"center",t=u.exec(n[0]),i=u.exec(n[1]),x[this]=[t?t[0]:0,i?i[0]:0],e[this]=[d.exec(n[0])[0],d.exec(n[1])[0]]})),1===w.length&&(w[1]=w[0]),"right"===e.at[0]?m.left+=h:"center"===e.at[0]&&(m.left+=h/2),"bottom"===e.at[1]?m.top+=f:"center"===e.at[1]&&(m.top+=f/2),r=i(x.at,h,f),m.left+=r[0],m.top+=r[1],this.each((function(){var l,c,u=t(this),d=u.outerWidth(),p=u.outerHeight(),_=n(this,"marginLeft"),$=n(this,"marginTop"),C=d+_+n(this,"marginRight")+b.width,k=p+$+n(this,"marginBottom")+b.height,S=t.extend({},m),j=i(x.my,u.outerWidth(),u.outerHeight());"right"===e.my[0]?S.left-=d:"center"===e.my[0]&&(S.left-=d/2),"bottom"===e.my[1]?S.top-=p:"center"===e.my[1]&&(S.top-=p/2),S.left+=j[0],S.top+=j[1],t.support.offsetFractions||(S.left=a(S.left),S.top=a(S.top)),l={marginLeft:_,marginTop:$},t.each(["left","top"],(function(i,n){t.ui.position[w[i]]&&t.ui.position[w[i]][n](S,{targetWidth:h,targetHeight:f,elemWidth:d,elemHeight:p,collisionPosition:l,collisionWidth:C,collisionHeight:k,offset:[r[0]+j[0],r[1]+j[1]],my:e.my,at:e.at,within:y,elem:u})})),t.fn.bgiframe&&u.bgiframe(),e.using&&(c=function(t){var i=g.left-S.left,n=i+h-d,r=g.top-S.top,a=r+f-p,l={target:{element:v,left:g.left,top:g.top,width:h,height:f},element:{element:u,left:S.left,top:S.top,width:d,height:p},horizontal:n<0?"left":i>0?"right":"center",vertical:a<0?"top":r>0?"bottom":"middle"};h<d&&s(i+n)<h&&(l.horizontal="center"),f<p&&s(r+a)<f&&(l.vertical="middle"),o(s(i),s(n))>o(s(r),s(a))?l.important="horizontal":l.important="vertical",e.using.call(this,t,l)}),u.offset(t.extend(S,{using:c}))}))},t.ui.position={fit:{left:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,a=t.left-e.collisionPosition.marginLeft,l=r-a,c=a+e.collisionWidth-s-r;e.collisionWidth>s?l>0&&c<=0?(i=t.left+l+e.collisionWidth-s-r,t.left+=l-i):t.left=c>0&&l<=0?r:l>c?r+s-e.collisionWidth:r:l>0?t.left+=l:c>0?t.left-=c:t.left=o(t.left-a,t.left)},top:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollTop:n.offset.top,s=e.within.height,a=t.top-e.collisionPosition.marginTop,l=r-a,c=a+e.collisionHeight-s-r;e.collisionHeight>s?l>0&&c<=0?(i=t.top+l+e.collisionHeight-s-r,t.top+=l-i):t.top=c>0&&l<=0?r:l>c?r+s-e.collisionHeight:r:l>0?t.top+=l:c>0?t.top-=c:t.top=o(t.top-a,t.top)}},flip:{left:function(t,e){var i,n,r=e.within,o=r.offset.left+r.scrollLeft,a=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=t.left-e.collisionPosition.marginLeft,u=c-l,d=c+e.collisionWidth-a-l,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];u<0?((i=t.left+h+p+f+e.collisionWidth-a-o)<0||i<s(u))&&(t.left+=h+p+f):d>0&&((n=t.left-e.collisionPosition.marginLeft+h+p+f-l)>0||s(n)<d)&&(t.left+=h+p+f)},top:function(t,e){var i,n,r=e.within,o=r.offset.top+r.scrollTop,a=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=t.top-e.collisionPosition.marginTop,u=c-l,d=c+e.collisionHeight-a-l,h="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,f=-2*e.offset[1];u<0?(n=t.top+h+p+f+e.collisionHeight-a-o,t.top+h+p+f>u&&(n<0||n<s(u))&&(t.top+=h+p+f)):d>0&&(i=t.top-e.collisionPosition.marginTop+h+p+f-l,t.top+h+p+f>d&&(i>0||s(i)<d)&&(t.top+=h+p+f))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,n,r,o,s=document.getElementsByTagName("body")[0],a=document.createElement("div");for(o in e=document.createElement(s?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"}),n)e.style[o]=n[o];e.appendChild(a),(i=s||document.documentElement).insertBefore(e,i.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",r=t(a).offset().left,t.support.offsetFractions=r>10&&r<11,e.innerHTML="",i.removeChild(e)}(),!1!==t.uiBackCompat&&function(t){var i=t.fn.position;t.fn.position=function(n){if(!n||!n.offset)return i.call(this,n);var r=n.offset.split(" "),o=n.at.split(" ");return 1===r.length&&(r[1]=r[0]),/^\d/.test(r[0])&&(r[0]="+"+r[0]),/^\d/.test(r[1])&&(r[1]="+"+r[1]),1===o.length&&(/left|center|right/.test(o[0])?o[1]="center":(o[1]=o[0],o[0]="center")),i.call(this,t.extend(n,{at:o[0]+r[0]+" "+o[1]+r[1],offset:e}))}}(jQuery)}(jQuery),function(t){var e=!1;t.widget("ui.menu",{version:"1.9.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy((function(t){this.options.disabled&&t.preventDefault()}),this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},
"click .ui-menu-item:has(a)":function(i){var n=t(i.target).closest(".ui-menu-item");!e&&n.not(".ui-state-disabled").length&&(e=!0,this.select(i),n.has(".ui-menu").length?this.expand(i):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var i=t(e.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,i)},blur:function(e){this._delay((function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(i){t(i.target).closest(".ui-menu").length||this.collapseAll(i),e=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each((function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()})),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,r,o,s,a,l=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:l=!1,r=this.previousFilter||"",o=String.fromCharCode(e.keyCode),s=!1,clearTimeout(this.filterTimer),o===r?s=!0:o=r+o,a=new RegExp("^"+i(o),"i"),n=this.activeMenu.children(".ui-menu-item").filter((function(){return a.test(t(this).children("a").text())})),(n=s&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(o=String.fromCharCode(e.keyCode),a=new RegExp("^"+i(o),"i"),n=this.activeMenu.children(".ui-menu-item").filter((function(){return a.test(t(this).children("a").text())}))),n.length?(this.focus(e,n),n.length>1?(this.previousFilter=o,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter):delete this.previousFilter}l&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i=this.options.icons.submenu,n=this.element.find(this.options.menus);n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var e=t(this),n=e.prev("a"),r=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(r),e.attr("aria-labelledby",n.attr("id"))})),(e=n.add(this.element)).children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each((function(){var e=t(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")})),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(t,e){var i,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(i=e.children(".ui-menu")).length&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,r,o,s,a;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-i-n,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=e.height(),r<0?this.activeMenu.scrollTop(o+r):r+a>s&&this.activeMenu.scrollTop(o+r-s+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(t)}),this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay((function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this.activeMenu=n}),this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay((function(){this.focus(t,e)})))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(i,n)},nextPage:function(e){var i,n,r;this.active?this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each((function(){return(i=t(this)).offset().top-n-r<0})),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var i,n,r;this.active?this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each((function(){return(i=t(this)).offset().top-n+r>0})),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item").first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)}})}(jQuery),function(t){var e=0;t.widget("ui.autocomplete",{version:"1.9.2",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var e,i,n;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,n=!0,void(i=!0);e=!1,n=!1,i=!1;var o=t.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case o.UP:e=!0,this._keyEvent("previous",r);break;case o.DOWN:e=!0,this._keyEvent("next",r);break;case o.ENTER:case o.NUMPAD_ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(r),r.preventDefault());break;default:i=!0,this._searchTimeout(r)}},keypress:function(n){if(e)return e=!1,void n.preventDefault();if(!i){var r=t.ui.keyCode;switch(n.keyCode){case r.PAGE_UP:this._move("previousPage",n);break;case r.PAGE_DOWN:this._move("nextPage",n);break;case r.UP:this._keyEvent("previous",n);break;case r.DOWN:this._keyEvent("next",n)}}},input:function(t){if(n)return n=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:t(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur}));var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay((function(){var e=this;this.document.one("mousedown",(function(n){n.target===e.element[0]||n.target===i||t.contains(i,n.target)||e.close()}))}))},menufocus:function(e,i){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",(function(){t(e.target).trigger(e.originalEvent)}));var n=i.item.data("ui-autocomplete-item")||i.item.data("item.autocomplete");!1!==this._trigger("focus",e,{item:n})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item")||e.item.data("item.autocomplete"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay((function(){this.previous=n,this.selectedItem=i}))),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),t.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this.document.find(e||"body")[0]),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return!!this.element.is("textarea")||!this.element.is("input")&&this.element.prop("isContentEditable")},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,r){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay((function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,t))}),this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var t=this,i=++e;return function(n){i===e&&t.__response(n),t.pending--,t.pending||t.element.removeClass("ui-autocomplete-loading")}},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,(function(e){return"string"==typeof e?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e)}))},_suggest:function(e){var i=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(i,e),this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,(function(t,i){n._renderItemData(e,i)}))},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<a>").text(i.label)).appendTo(e)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,(function(t){return n.test(t.label||t.value||t)}))}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.text(e))}})}(jQuery),function(t){var e,i,n,r,o="ui-button ui-widget ui-state-default ui-corner-all",s="ui-state-hover ui-state-active ",a="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var e=t(this).find(":ui-button");setTimeout((function(){e.button("refresh")}),1)},c=function(e){var i=e.name,n=e.form,r=t([]);return i&&(r=n?t(n).find("[name='"+i+"']"):t("[name='"+i+"']",e.ownerDocument).filter((function(){return!this.form}))),r};t.widget("ui.button",{version:"1.9.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var s=this,a=this.options,u="checkbox"===this.type||"radio"===this.type,d=u?"":"ui-state-active",h="ui-state-focus";null===a.label&&(a.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(o).attr("role","button").bind("mouseenter"+this.eventNamespace,(function(){a.disabled||this===e&&t(this).addClass("ui-state-active")})).bind("mouseleave"+this.eventNamespace,(function(){a.disabled||t(this).removeClass(d)})).bind("click"+this.eventNamespace,(function(t){a.disabled&&(t.preventDefault(),t.stopImmediatePropagation())})),this.element.bind("focus"+this.eventNamespace,(function(){s.buttonElement.addClass(h)})).bind("blur"+this.eventNamespace,(function(){s.buttonElement.removeClass(h)})),u&&(this.element.bind("change"+this.eventNamespace,(function(){r||s.refresh()})),this.buttonElement.bind("mousedown"+this.eventNamespace,(function(t){a.disabled||(r=!1,i=t.pageX,n=t.pageY)})).bind("mouseup"+this.eventNamespace,(function(t){a.disabled||i===t.pageX&&n===t.pageY||(r=!0)}))),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,(function(){if(a.disabled||r)return!1;t(this).toggleClass("ui-state-active"),s.buttonElement.attr("aria-pressed",s.element[0].checked)})):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,(function(){if(a.disabled||r)return!1;t(this).addClass("ui-state-active"),s.buttonElement.attr("aria-pressed","true");var e=s.element[0];c(e).not(e).map((function(){return t(this).button("widget")[0]})).removeClass("ui-state-active").attr("aria-pressed","false")})):(this.buttonElement.bind("mousedown"+this.eventNamespace,(function(){if(a.disabled)return!1;t(this).addClass("ui-state-active"),e=this,s.document.one("mouseup",(function(){e=null}))})).bind("mouseup"+this.eventNamespace,(function(){if(a.disabled)return!1;t(this).removeClass("ui-state-active")})).bind("keydown"+this.eventNamespace,(function(e){if(a.disabled)return!1;e.keyCode!==t.ui.keyCode.SPACE&&e.keyCode!==t.ui.keyCode.ENTER||t(this).addClass("ui-state-active")})).bind("keyup"+this.eventNamespace,(function(){t(this).removeClass("ui-state-active")})),this.buttonElement.is("a")&&this.buttonElement.keyup((function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()}))),this._setOption("disabled",a.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),(i=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(o+" "+s+" "+a).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){this._super(t,e),"disabled"!==t?this._resetButton():e?this.element.prop("disabled",!0):this.element.prop("disabled",!1)},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?c(this.element[0]).each((function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")})):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var e=this.buttonElement.removeClass(a),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),n=this.options.icons,r=n.primary&&n.secondary,o=[];n.primary||n.secondary?(this.options.text&&o.push("ui-button-text-icon"+(r?"s":n.primary?"-primary":"-secondary")),n.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(o.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):o.push("ui-button-text-only"),e.addClass(o.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),t.widget("ui.buttonset",{version:"1.9.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map((function(){return t(this).button("widget")[0]})).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map((function(){return t(this).button("widget")[0]})).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(t){var e="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(e,"mouseout",(function(){$(this).removeClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).removeClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).removeClass("ui-datepicker-next-hover")})).delegate(e,"mouseover",(function(){$.datepicker._isDisabledDatepicker(instActive.inline?t.parent()[0]:instActive.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).addClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).addClass("ui-datepicker-next-hover"))}))}function extendRemove(t,e){for(var i in $.extend(t,e),e)null!=e[i]&&e[i]!=undefined||(t[i]=e[i]);return t}$.extend($.ui,{datepicker:{version:"1.9.2"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return extendRemove(this._defaults,t||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(t){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(t,e){return{id:t[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(t,e){var i=$(t);e.append=$([]),e.trigger=$([]),i.hasClass(this.markerClassName)||(this._attachments(i,e),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",(function(t,i,n){e.settings[i]=n})).bind("getData.datepicker",(function(t,i){return this._get(e,i)})),this._autoSize(e),$.data(t,PROP_NAME,e),e.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,e){var i=this._get(e,"appendText"),n=this._get(e,"isRTL");e.append&&e.append.remove(),i&&(e.append=$('<span class="'+this._appendClass+'">'+i+"</span>"),t[n?"before":"after"](e.append)),t.unbind("focus",this._showDatepicker),e.trigger&&e.trigger.remove();var r=this._get(e,"showOn");if("focus"!=r&&"both"!=r||t.focus(this._showDatepicker),"button"==r||"both"==r){var o=this._get(e,"buttonText"),s=this._get(e,"buttonImage");e.trigger=$(this._get(e,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:s,alt:o,title:o}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==s?o:$("<img/>").attr({src:s,alt:o,title:o}))),t[n?"before":"after"](e.trigger),e.trigger.click((function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==t[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=t[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(t[0])):$.datepicker._showDatepicker(t[0]),!1}))}},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e=new Date(2009,11,20),i=this._get(t,"dateFormat");if(i.match(/[DM]/)){var n=function(t){for(var e=0,i=0,n=0;n<t.length;n++)t[n].length>e&&(e=t[n].length,i=n);return i};e.setMonth(n(this._get(t,i.match(/MM/)?"monthNames":"monthNamesShort"))),e.setDate(n(this._get(t,i.match(/DD/)?"dayNames":"dayNamesShort"))+20-e.getDay())}t.input.attr("size",this._formatDate(t,e).length)}},_inlineDatepicker:function(t,e){var i=$(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(e.dpDiv).bind("setData.datepicker",(function(t,i,n){e.settings[i]=n})).bind("getData.datepicker",(function(t,i){return this._get(e,i)})),$.data(t,PROP_NAME,e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),e.settings.disabled&&this._disableDatepicker(t),e.dpDiv.css("display","block"))},_dialogDatepicker:function(t,e,i,n,r){var o=this._dialogInst;if(!o){this.uuid+=1;var s="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+s+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),(o=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},$.data(this._dialogInput[0],PROP_NAME,o)}if(extendRemove(o.settings,n||{}),e=e&&e.constructor==Date?this._formatDate(o,e):e,this._dialogInput.val(e),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,!this._pos){var a=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[a/2-100+c,l/2-150+u]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),o.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,o),this},_destroyDatepicker:function(t){var e=$(t),i=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var n=t.nodeName.toLowerCase();$.removeData(t,PROP_NAME),"input"==n?(i.append.remove(),i.trigger.remove(),e.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!=n&&"span"!=n||e.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(t){var e=$(t),i=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var n=t.nodeName.toLowerCase();if("input"==n)t.disabled=!1,i.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==n||"span"==n){var r=e.children("."+this._inlineClass);r.children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)}this._disabledInputs=$.map(this._disabledInputs,(function(e){return e==t?null:e}))}},_disableDatepicker:function(t){var e=$(t),i=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var n=t.nodeName.toLowerCase();if("input"==n)t.disabled=!0,i.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==n||"span"==n){var r=e.children("."+this._inlineClass);r.children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)}this._disabledInputs=$.map(this._disabledInputs,(function(e){return e==t?null:e})),this._disabledInputs[this._disabledInputs.length]=t}},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]==t)return!0;return!1},_getInst:function(t){try{return $.data(t,PROP_NAME)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,e,i){var n=this._getInst(t);if(2==arguments.length&&"string"==typeof e)return"defaults"==e?$.extend({},$.datepicker._defaults):n?"all"==e?$.extend({},n.settings):this._get(n,e):null;var r=e||{};if("string"==typeof e&&((r={})[e]=i),n){this._curInst==n&&this._hideDatepicker()
;var o=this._getDateDatepicker(t,!0),s=this._getMinMaxDate(n,"min"),a=this._getMinMaxDate(n,"max");extendRemove(n.settings,r),null!==s&&r.dateFormat!==undefined&&r.minDate===undefined&&(n.settings.minDate=this._formatDate(n,s)),null!==a&&r.dateFormat!==undefined&&r.maxDate===undefined&&(n.settings.maxDate=this._formatDate(n,a)),this._attachments($(t),n),this._autoSize(n),this._setDate(n,o),this._updateAlternate(n),this._updateDatepicker(n)}},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(t){var e=$.datepicker._getInst(t.target),i=!0,n=e.dpDiv.is(".ui-datepicker-rtl");if(e._keyEvent=!0,$.datepicker._datepickerShowing)switch(t.keyCode){case 9:$.datepicker._hideDatepicker(),i=!1;break;case 13:var r=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",e.dpDiv);r[0]&&$.datepicker._selectDay(t.target,e.selectedMonth,e.selectedYear,r[0]);var o=$.datepicker._get(e,"onSelect");if(o){var s=$.datepicker._formatDate(e);o.apply(e.input?e.input[0]:null,[s,e])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(t.target,t.ctrlKey?-$.datepicker._get(e,"stepBigMonths"):-$.datepicker._get(e,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(t.target,t.ctrlKey?+$.datepicker._get(e,"stepBigMonths"):+$.datepicker._get(e,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&$.datepicker._clearDate(t.target),i=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&$.datepicker._gotoToday(t.target),i=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,n?1:-1,"D"),i=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&$.datepicker._adjustDate(t.target,t.ctrlKey?-$.datepicker._get(e,"stepBigMonths"):-$.datepicker._get(e,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,-7,"D"),i=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,n?-1:1,"D"),i=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&$.datepicker._adjustDate(t.target,t.ctrlKey?+$.datepicker._get(e,"stepBigMonths"):+$.datepicker._get(e,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,7,"D"),i=t.ctrlKey||t.metaKey;break;default:i=!1}else 36==t.keyCode&&t.ctrlKey?$.datepicker._showDatepicker(this):i=!1;i&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var e=$.datepicker._getInst(t.target);if($.datepicker._get(e,"constrainInput")){var i=$.datepicker._possibleChars($.datepicker._get(e,"dateFormat")),n=String.fromCharCode(t.charCode==undefined?t.keyCode:t.charCode);return t.ctrlKey||t.metaKey||n<" "||!i||i.indexOf(n)>-1}},_doKeyUp:function(t){var e=$.datepicker._getInst(t.target);if(e.input.val()!=e.lastVal)try{$.datepicker.parseDate($.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,$.datepicker._getFormatConfig(e))&&($.datepicker._setDateFromField(e),$.datepicker._updateAlternate(e),$.datepicker._updateDatepicker(e))}catch(t){$.datepicker.log(t)}return!0},_showDatepicker:function(t){if("input"!=(t=t.target||t).nodeName.toLowerCase()&&(t=$("input",t.parentNode)[0]),!$.datepicker._isDisabledDatepicker(t)&&$.datepicker._lastInput!=t){var e=$.datepicker._getInst(t);$.datepicker._curInst&&$.datepicker._curInst!=e&&($.datepicker._curInst.dpDiv.stop(!0,!0),e&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var i=$.datepicker._get(e,"beforeShow"),n=i?i.apply(t,[t,e]):{};if(!1!==n){extendRemove(e.settings,n),e.lastVal=null,$.datepicker._lastInput=t,$.datepicker._setDateFromField(e),$.datepicker._inDialog&&(t.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(t),$.datepicker._pos[1]+=t.offsetHeight);var r=!1;$(t).parents().each((function(){return!(r|="fixed"==$(this).css("position"))}));var o={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,e.dpDiv.empty(),e.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(e),o=$.datepicker._checkOffset(e,o,r),e.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":r?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),!e.inline){var s=$.datepicker._get(e,"showAnim"),a=$.datepicker._get(e,"duration"),l=function(){var t=e.dpDiv.find("iframe.ui-datepicker-cover");if(t.length){var i=$.datepicker._getBorders(e.dpDiv);t.css({left:-i[0],top:-i[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()})}};e.dpDiv.zIndex($(t).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&($.effects.effect[s]||$.effects[s])?e.dpDiv.show(s,$.datepicker._get(e,"showOptions"),a,l):e.dpDiv[s||"show"](s?a:null,l),s&&a||l(),e.input.is(":visible")&&!e.input.is(":disabled")&&e.input.focus(),$.datepicker._curInst=e}}}},_updateDatepicker:function(t){this.maxRows=4;var e=$.datepicker._getBorders(t.dpDiv);instActive=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i=t.dpDiv.find("iframe.ui-datepicker-cover");i.length&&i.css({left:-e[0],top:-e[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()}),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var n=this._getNumberOfMonths(t),r=n[1],o=17;if(t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",o*r+"em"),t.dpDiv[(1!=n[0]||1!=n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t==$.datepicker._curInst&&$.datepicker._datepickerShowing&&t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&t.input[0]!=document.activeElement&&t.input.focus(),t.yearshtml){var s=t.yearshtml;setTimeout((function(){s===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),s=t.yearshtml=null}),0)}},_getBorders:function(t){var e=function(t){return{thin:1,medium:2,thick:3}[t]||t};return[parseFloat(e(t.css("border-left-width"))),parseFloat(e(t.css("border-top-width")))]},_checkOffset:function(t,e,i){var n=t.dpDiv.outerWidth(),r=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,a=document.documentElement.clientWidth+(i?0:$(document).scrollLeft()),l=document.documentElement.clientHeight+(i?0:$(document).scrollTop());return e.left-=this._get(t,"isRTL")?n-o:0,e.left-=i&&e.left==t.input.offset().left?$(document).scrollLeft():0,e.top-=i&&e.top==t.input.offset().top+s?$(document).scrollTop():0,e.left-=Math.min(e.left,e.left+n>a&&a>n?Math.abs(e.left+n-a):0),e.top-=Math.min(e.top,e.top+r>l&&l>r?Math.abs(r+s):0),e},_findPos:function(t){for(var e=this._getInst(t),i=this._get(e,"isRTL");t&&("hidden"==t.type||1!=t.nodeType||$.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];var n=$(t).offset();return[n.left,n.top]},_hideDatepicker:function(t){var e=this._curInst;if(e&&(!t||e==$.data(t,PROP_NAME))&&this._datepickerShowing){var i=this._get(e,"showAnim"),n=this._get(e,"duration"),r=function(){$.datepicker._tidyDialog(e)};$.effects&&($.effects.effect[i]||$.effects[i])?e.dpDiv.hide(i,$.datepicker._get(e,"showOptions"),n,r):e.dpDiv["slideDown"==i?"slideUp":"fadeIn"==i?"fadeOut":"hide"](i?n:null,r),i||r(),this._datepickerShowing=!1;var o=this._get(e,"onClose");o&&o.apply(e.input?e.input[0]:null,[e.input?e.input.val():"",e]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if($.datepicker._curInst){var e=$(t.target),i=$.datepicker._getInst(e[0]);(e[0].id==$.datepicker._mainDivId||0!=e.parents("#"+$.datepicker._mainDivId).length||e.hasClass($.datepicker.markerClassName)||e.closest("."+$.datepicker._triggerClass).length||!$.datepicker._datepickerShowing||$.datepicker._inDialog&&$.blockUI)&&(!e.hasClass($.datepicker.markerClassName)||$.datepicker._curInst==i)||$.datepicker._hideDatepicker()}},_adjustDate:function(t,e,i){var n=$(t),r=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(r,e+("M"==i?this._get(r,"showCurrentAtPos"):0),i),this._updateDatepicker(r))},_gotoToday:function(t){var e=$(t),i=this._getInst(e[0]);if(this._get(i,"gotoCurrent")&&i.currentDay)i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear;else{var n=new Date;i.selectedDay=n.getDate(),i.drawMonth=i.selectedMonth=n.getMonth(),i.drawYear=i.selectedYear=n.getFullYear()}this._notifyChange(i),this._adjustDate(e)},_selectMonthYear:function(t,e,i){var n=$(t),r=this._getInst(n[0]);r["selected"+("M"==i?"Month":"Year")]=r["draw"+("M"==i?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(n)},_selectDay:function(t,e,i,n){var r=$(t);if(!$(n).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(r[0])){var o=this._getInst(r[0]);o.selectedDay=o.currentDay=$("a",n).html(),o.selectedMonth=o.currentMonth=e,o.selectedYear=o.currentYear=i,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear))}},_clearDate:function(t){var e=$(t);this._getInst(e[0]);this._selectDate(e,"")},_selectDate:function(t,e){var i=$(t),n=this._getInst(i[0]);e=null!=e?e:this._formatDate(n),n.input&&n.input.val(e),this._updateAlternate(n);var r=this._get(n,"onSelect");r?r.apply(n.input?n.input[0]:null,[e,n]):n.input&&n.input.trigger("change"),n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],"object"!=typeof n.input[0]&&n.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var e=this._get(t,"altField");if(e){var i=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),r=this.formatDate(i,n,this._getFormatConfig(t));$(e).each((function(){$(this).val(r)}))}},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e=new Date(t.getTime());e.setDate(e.getDate()+4-(e.getDay()||7));var i=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((i-e)/864e5)/7)+1},parseDate:function(t,e,i){if(null==t||null==e)throw"Invalid arguments";if(""==(e="object"==typeof e?e.toString():e+""))return null;var n=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff;n="string"!=typeof n?n:(new Date).getFullYear()%100+parseInt(n,10);for(var r=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,s=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=-1,c=-1,u=-1,d=-1,h=!1,p=function(e){var i=y+1<t.length&&t.charAt(y+1)==e;return i&&y++,i},f=function(t){var i=p(t),n=new RegExp("^\\d{1,"+("@"==t?14:"!"==t?20:"y"==t&&i?4:"o"==t?3:2)+"}"),r=e.substring(v).match(n);if(!r)throw"Missing number at position "+v;return v+=r[0].length,parseInt(r[0],10)},g=function(t,i,n){var r=$.map(p(t)?n:i,(function(t,e){return[[e,t]]})).sort((function(t,e){return-(t[1].length-e[1].length)})),o=-1;if($.each(r,(function(t,i){var n=i[1];if(e.substr(v,n.length).toLowerCase()==n.toLowerCase())return o=i[0],v+=n.length,!1})),-1!=o)return o+1;throw"Unknown name at position "+v},m=function(){if(e.charAt(v)!=t.charAt(y))throw"Unexpected literal at position "+v;v++},v=0,y=0;y<t.length;y++)if(h)"'"!=t.charAt(y)||p("'")?m():h=!1;else switch(t.charAt(y)){case"d":u=f("d");break;case"D":g("D",r,o);break;case"o":d=f("o");break;case"m":c=f("m");break;case"M":c=g("M",s,a);break;case"y":l=f("y");break;case"@":l=(b=new Date(f("@"))).getFullYear(),c=b.getMonth()+1,u=b.getDate();break;case"!":var b;l=(b=new Date((f("!")-this._ticksTo1970)/1e4)).getFullYear(),c=b.getMonth()+1,u=b.getDate();break;case"'":p("'")?m():h=!0;break;default:m()}if(v<e.length){var _=e.substr(v);if(!/^\s+/.test(_))throw"Extra/unparsed characters found in date: "+_}if(-1==l?l=(new Date).getFullYear():l<100&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l<=n?0:-100)),d>-1)for(c=1,u=d;;){var w=this._getDaysInMonth(l,c-1);if(u<=w)break;c++,u-=w}if((b=this._daylightSavingAdjust(new Date(l,c-1,u))).getFullYear()!=l||b.getMonth()+1!=c||b.getDate()!=u)throw"Invalid date";return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";var n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,r=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,s=(i?i.monthNames:null)||this._defaults.monthNames,a=function(e){var i=h+1<t.length&&t.charAt(h+1)==e;return i&&h++,i},l=function(t,e,i){var n=""+e;if(a(t))for(;n.length<i;)n="0"+n;return n},c=function(t,e,i,n){return a(t)?n[e]:i[e]},u="",d=!1;if(e)for(var h=0;h<t.length;h++)if(d)"'"!=t.charAt(h)||a("'")?u+=t.charAt(h):d=!1;else switch(t.charAt(h)){case"d":u+=l("d",e.getDate(),2);break;case"D":u+=c("D",e.getDay(),n,r);break;case"o":u+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=l("m",e.getMonth()+1,2);break;case"M":u+=c("M",e.getMonth(),o,s);break;case"y":u+=a("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":a("'")?u+="'":d=!0;break;default:u+=t.charAt(h)}return u},_possibleChars:function(t){for(var e="",i=!1,n=function(e){var i=r+1<t.length&&t.charAt(r+1)==e;return i&&r++,i},r=0;r<t.length;r++)if(i)"'"!=t.charAt(r)||n("'")?e+=t.charAt(r):i=!1;else switch(t.charAt(r)){case"d":case"m":case"y":case"@":e+="0123456789";break;case"D":case"M":return null;case"'":n("'")?e+="'":i=!0;break;default:e+=t.charAt(r)}return e},_get:function(t,e){return t.settings[e]!==undefined?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!=t.lastVal){var i,n,r=this._get(t,"dateFormat"),o=t.lastVal=t.input?t.input.val():null;i=n=this._getDefaultDate(t);var s=this._getFormatConfig(t);try{i=this.parseDate(r,o,s)||n}catch(t){this.log(t),o=e?"":o}t.selectedDay=i.getDate(),t.drawMonth=t.selectedMonth=i.getMonth(),t.drawYear=t.selectedYear=i.getFullYear(),t.currentDay=o?i.getDate():0,t.currentMonth=o?i.getMonth():0,t.currentYear=o?i.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(t,e,i){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},r=function(e){try{return $.datepicker.parseDate($.datepicker._get(t,"dateFormat"),e,$.datepicker._getFormatConfig(t))}catch(t){}for(var i=(e.toLowerCase().match(/^c/)?$.datepicker._getDate(t):null)||new Date,n=i.getFullYear(),r=i.getMonth(),o=i.getDate(),s=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,a=s.exec(e);a;){switch(a[2]||"d"){case"d":case"D":o+=parseInt(a[1],10);break;case"w":case"W":o+=7*parseInt(a[1],10);break;case"m":case"M":r+=parseInt(a[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(n,r));break;case"y":case"Y":n+=parseInt(a[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(n,r))}a=s.exec(e)}return new Date(n,r,o)},o=null==e||""===e?i:"string"==typeof e?r(e):"number"==typeof e?isNaN(e)?i:n(e):new Date(e.getTime());return(o=o&&"Invalid Date"==o.toString()?i:o)&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,r=t.selectedMonth,o=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),r==t.selectedMonth&&o==t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""==t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(t){var e=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map((function(){var t={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(i,-e,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(i,+e,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(i)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(i,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])}))},_generateHTML:function(t){var e=new Date;e=this._daylightSavingAdjust(new Date(e.getFullYear(),e.getMonth(),e.getDate()));var i=this._get(t,"isRTL"),n=this._get(t,"showButtonPanel"),r=this._get(t,"hideIfNoPrevNext"),o=this._get(t,"navigationAsDateFormat"),s=this._getNumberOfMonths(t),a=this._get(t,"showCurrentAtPos"),l=this._get(t,"stepMonths"),c=1!=s[0]||1!=s[1],u=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),d=this._getMinMaxDate(t,"min"),h=this._getMinMaxDate(t,"max"),p=t.drawMonth-a,f=t.drawYear;if(p<0&&(p+=12,f--),h){var g=this._daylightSavingAdjust(new Date(h.getFullYear(),h.getMonth()-s[0]*s[1]+1,h.getDate()));for(g=d&&g<d?d:g;this._daylightSavingAdjust(new Date(f,p,1))>g;)--p<0&&(p=11,f--)}t.drawMonth=p,t.drawYear=f;var m=this._get(t,"prevText");m=o?this.formatDate(m,this._daylightSavingAdjust(new Date(f,p-l,1)),this._getFormatConfig(t)):m;var v=this._canAdjustMonth(t,-1,f,p)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+m+"</span></a>":r?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+m+"</span></a>",y=this._get(t,"nextText");y=o?this.formatDate(y,this._daylightSavingAdjust(new Date(f,p+l,1)),this._getFormatConfig(t)):y;var b=this._canAdjustMonth(t,1,f,p)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+y+"</span></a>":r?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+y+"</span></a>",_=this._get(t,"currentText"),w=this._get(t,"gotoCurrent")&&t.currentDay?u:e;_=o?this.formatDate(_,w,this._getFormatConfig(t)):_;var x=t.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(t,"closeText")+"</button>",C=n?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(i?x:"")+(this._isInRange(t,w)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+_+"</button>":"")+(i?"":x)+"</div>":"",k=parseInt(this._get(t,"firstDay"),10);k=isNaN(k)?0:k;for(var S=this._get(t,"showWeek"),j=this._get(t,"dayNames"),T=(this._get(t,"dayNamesShort"),this._get(t,"dayNamesMin")),A=this._get(t,"monthNames"),D=this._get(t,"monthNamesShort"),I=this._get(t,"beforeShowDay"),E=this._get(t,"showOtherMonths"),P=this._get(t,"selectOtherMonths"),O=(this._get(t,"calculateWeek")||this.iso8601Week,this._getDefaultDate(t)),F="",M=0;M<s[0];M++){var R="";this.maxRows=4;for(var N=0;N<s[1];N++){var q=this._daylightSavingAdjust(new Date(f,p,t.selectedDay)),L=" ui-corner-all",z="";if(c){if(z+='<div class="ui-datepicker-group',s[1]>1)switch(N){case 0:z+=" ui-datepicker-group-first",L=" ui-corner-"+(i?"right":"left");break;case s[1]-1:z+=" ui-datepicker-group-last",L=" ui-corner-"+(i?"left":"right");break;default:z+=" ui-datepicker-group-middle",L=""}z+='">'}z+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+L+'">'+(/all|left/.test(L)&&0==M?i?b:v:"")+(/all|right/.test(L)&&0==M?i?v:b:"")+this._generateMonthYearHeader(t,p,f,d,h,M>0||N>0,A,D)+'</div><table class="ui-datepicker-calendar"><thead><tr>';for(var H=S?'<th class="ui-datepicker-week-col">'+this._get(t,"weekHeader")+"</th>":"",B=0;B<7;B++){var W=(B+k)%7;H+="<th"+((B+k+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+j[W]+'">'+T[W]+"</span></th>"}z+=H+"</tr></thead><tbody>";var G=this._getDaysInMonth(f,p);f==t.selectedYear&&p==t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,G));var U=(this._getFirstDayOfMonth(f,p)-k+7)%7,V=Math.ceil((U+G)/7),Q=c&&this.maxRows>V?this.maxRows:V;this.maxRows=Q;for(var Y=this._daylightSavingAdjust(new Date(f,p,1-U)),X=0;X<Q;X++){z+="<tr>";var K=S?'<td class="ui-datepicker-week-col">'+this._get(t,"calculateWeek")(Y)+"</td>":"";for(B=0;B<7;B++){var J=I?I.apply(t.input?t.input[0]:null,[Y]):[!0,""],Z=Y.getMonth()!=p,tt=Z&&!P||!J[0]||d&&Y<d||h&&Y>h;K+='<td class="'+((B+k+6)%7>=5?" ui-datepicker-week-end":"")+(Z?" ui-datepicker-other-month":"")+(Y.getTime()==q.getTime()&&p==t.selectedMonth&&t._keyEvent||O.getTime()==Y.getTime()&&O.getTime()==q.getTime()?" "+this._dayOverClass:"")+(tt?" "+this._unselectableClass+" ui-state-disabled":"")+(Z&&!E?"":" "+J[1]+(Y.getTime()==u.getTime()?" "+this._currentClass:"")+(Y.getTime()==e.getTime()?" ui-datepicker-today":""))+'"'+(Z&&!E||!J[2]?"":' title="'+J[2]+'"')+(tt?"":' data-handler="selectDay" data-event="click" data-month="'+Y.getMonth()+'" data-year="'+Y.getFullYear()+'"')+">"+(Z&&!E?"&#xa0;":tt?'<span class="ui-state-default">'+Y.getDate()+"</span>":'<a class="ui-state-default'+(Y.getTime()==e.getTime()?" ui-state-highlight":"")+(Y.getTime()==u.getTime()?" ui-state-active":"")+(Z?" ui-priority-secondary":"")+'" href="#">'+Y.getDate()+"</a>")+"</td>",Y.setDate(Y.getDate()+1),Y=this._daylightSavingAdjust(Y)}z+=K+"</tr>"}++p>11&&(p=0,f++),R+=z+="</tbody></table>"+(c?"</div>"+(s[0]>0&&N==s[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"")}F+=R}return F+=C+($.ui.ie6&&!t.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),t._keyEvent=!1,F},_generateMonthYearHeader:function(t,e,i,n,r,o,s,a){var l=this._get(t,"changeMonth"),c=this._get(t,"changeYear"),u=this._get(t,"showMonthAfterYear"),d='<div class="ui-datepicker-title">',h="";if(o||!l)h+='<span class="ui-datepicker-month">'+s[e]+"</span>";else{var p=n&&n.getFullYear()==i,f=r&&r.getFullYear()==i;h+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var g=0;g<12;g++)(!p||g>=n.getMonth())&&(!f||g<=r.getMonth())&&(h+='<option value="'+g+'"'+(g==e?' selected="selected"':"")+">"+a[g]+"</option>");h+="</select>"}if(u||(d+=h+(!o&&l&&c?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!c)d+='<span class="ui-datepicker-year">'+i+"</span>";else{var m=this._get(t,"yearRange").split(":"),v=(new Date).getFullYear(),y=function(t){var e=t.match(/c[+-].*/)?i+parseInt(t.substring(1),10):t.match(/[+-].*/)?v+parseInt(t,10):parseInt(t,10);return isNaN(e)?v:e},b=y(m[0]),_=Math.max(b,y(m[1]||""));for(b=n?Math.max(b,n.getFullYear()):b,_=r?Math.min(_,r.getFullYear()):_,t.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';b<=_;b++)t.yearshtml+='<option value="'+b+'"'+(b==i?' selected="selected"':"")+">"+b+"</option>";t.yearshtml+="</select>",d+=t.yearshtml,t.yearshtml=null}return d+=this._get(t,"yearSuffix"),u&&(d+=(!o&&l&&c?"":"&#xa0;")+h),d+="</div>"},_adjustInstDate:function(t,e,i){var n=t.drawYear+("Y"==i?e:0),r=t.drawMonth+("M"==i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(n,r))+("D"==i?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,r,o)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),"M"!=i&&"Y"!=i||this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),r=i&&e<i?i:e;return r=n&&r>n?n:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,n+(e<0?e:r[0]*r[1]),1));return e<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max");return(!i||e.getTime()>=i.getTime())&&(!n||e.getTime()<=n.getTime())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),$.fn.datepicker=function(t){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find(document.body).append($.datepicker.dpDiv),$.datepicker.initialized=!0);var e=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!=t&&"getDate"!=t&&"widget"!=t?"option"==t&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this[0]].concat(e)):this.each((function(){"string"==typeof t?$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this].concat(e)):$.datepicker._attachDatepicker(this,t)})):$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this[0]].concat(e))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.9.2",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(t){var e=!1;t(document).mouseup((function(){e=!1})),t.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,(function(t){return e._mouseDown(t)})).bind("click."+this.widgetName,(function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,r=1===i.which,o=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&t(i.target).closest(this.options.cancel).length;return!(r&&!o&&this._mouseCapture(i))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){n.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=!1!==this._mouseStart(i),!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0))}},_mouseMove:function(e){return!t.ui.ie||document.documentMode>=9||e.button?this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted):this._mouseUp(e)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t){t.widget("ui.draggable",t.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return!(this.helper||i.disabled||t(e.target).is(".ui-resizable-handle"))&&(this.handle=this._getHandle(e),!!this.handle&&(t(!0===i.iframeFix?"iframe":i.iframeFix).each((function(){t('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")})),!0))},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),i.containment&&this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(!1===this._trigger("drag",e,n))return this._mouseUp({}),!1;this.position=n.position}
return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=!1;t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1);for(var n=this.element[0],r=!1;n&&(n=n.parentNode);)n==document&&(r=!0);if(!r&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!i||"valid"==this.options.revert&&i||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)){var o=this;t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==o._trigger("stop",e)&&o._clear()}))}else!1!==this._trigger("stop",e)&&this._clear();return!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each((function(){this.parentNode.removeChild(this)})),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){var i=!this.options.handle||!t(this.options.handle,this.element).length;return t(this.options.handle,this.element).find("*").andSelf().each((function(){this==e.target&&(i=!0)})),i},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"==i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"==i.appendTo?this.element[0].parentNode:i.appendTo),n[0]==this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if("parent"==e.containment&&(e.containment=this.helper[0].parentNode),"document"!=e.containment&&"window"!=e.containment||(this.containment=["document"==e.containment?0:t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==e.containment?0:t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==e.containment?0:t(window).scrollLeft())+t("document"==e.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==e.containment?0:t(window).scrollTop())+(t("document"==e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||e.containment.constructor==Array)e.containment.constructor==Array&&(this.containment=e.containment);else{var i=t(e.containment),n=i[0];if(!n)return;i.offset();var r="hidden"!=t(n).css("overflow");this.containment=[(parseInt(t(n).css("borderLeftWidth"),10)||0)+(parseInt(t(n).css("paddingLeft"),10)||0),(parseInt(t(n).css("borderTopWidth"),10)||0)+(parseInt(t(n).css("paddingTop"),10)||0),(r?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(t(n).css("borderLeftWidth"),10)||0)-(parseInt(t(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(r?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(t(n).css("borderTopWidth"),10)||0)-(parseInt(t(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i}},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"==e?1:-1,r=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),o=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*n}},_generatePosition:function(e){var i=this.options,n="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(n[0].tagName),o=e.pageX,s=e.pageY;if(this.originalPosition){var a;if(this.containment){if(this.relative_container){var l=this.relative_container.offset();a=[this.containment[0]+l.left,this.containment[1]+l.top,this.containment[2]+l.left,this.containment[3]+l.top]}else a=this.containment;e.pageX-this.offset.click.left<a[0]&&(o=a[0]+this.offset.click.left),e.pageY-this.offset.click.top<a[1]&&(s=a[1]+this.offset.click.top),e.pageX-this.offset.click.left>a[2]&&(o=a[2]+this.offset.click.left),e.pageY-this.offset.click.top>a[3]&&(s=a[3]+this.offset.click.top)}if(i.grid){var c=i.grid[1]?this.originalPageY+Math.round((s-this.originalPageY)/i.grid[1])*i.grid[1]:this.originalPageY;s=a&&(c-this.offset.click.top<a[1]||c-this.offset.click.top>a[3])?c-this.offset.click.top<a[1]?c+i.grid[1]:c-i.grid[1]:c;var u=i.grid[0]?this.originalPageX+Math.round((o-this.originalPageX)/i.grid[0])*i.grid[0]:this.originalPageX;o=a&&(u-this.offset.click.left<a[0]||u-this.offset.click.left>a[2])?u-this.offset.click.left<a[0]?u+i.grid[0]:u-i.grid[0]:u}}return{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():r?0:n.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():r?0:n.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n]),"drag"==e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var n=t(this).data("draggable"),r=n.options,o=t.extend({},i,{item:n.element});n.sortables=[],t(r.connectToSortable).each((function(){var i=t.data(this,"sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,o))}))},stop:function(e,i){var n=t(this).data("draggable"),r=t.extend({},i,{item:n.element});t.each(n.sortables,(function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"==n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,r))}))},drag:function(e,i){var n=t(this).data("draggable"),r=this;t.each(n.sortables,(function(){var o=!1,s=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,t.each(n.sortables,(function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!=s&&this.instance._intersectsWith(this.instance.containerCache)&&t.ui.contains(s.instance.element[0],this.instance.element[0])&&(o=!1),o}))),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(r).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",e),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",e),n.dropped=!1)}))}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("draggable").options;e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var n=t(i.helper),r=t(this).data("draggable").options;n.css("opacity")&&(r._opacity=n.css("opacity")),n.css("opacity",r.opacity)},stop:function(e,i){var n=t(this).data("draggable").options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("draggable");e.scrollParent[0]!=document&&"HTML"!=e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("draggable"),n=i.options,r=!1;i.scrollParent[0]!=document&&"HTML"!=i.scrollParent[0].tagName?(n.axis&&"x"==n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=r=i.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=r=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"==n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=r=i.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=r=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"==n.axis||(e.pageY-t(document).scrollTop()<n.scrollSensitivity?r=t(document).scrollTop(t(document).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<n.scrollSensitivity&&(r=t(document).scrollTop(t(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"==n.axis||(e.pageX-t(document).scrollLeft()<n.scrollSensitivity?r=t(document).scrollLeft(t(document).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<n.scrollSensitivity&&(r=t(document).scrollLeft(t(document).scrollLeft()+n.scrollSpeed)))),!1!==r&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("draggable"),i=e.options;e.snapElements=[],t(i.snap.constructor!=String?i.snap.items||":data(draggable)":i.snap).each((function(){var i=t(this),n=i.offset();this!=e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})}))},drag:function(e,i){for(var n=t(this).data("draggable"),r=n.options,o=r.snapTolerance,s=i.offset.left,a=s+n.helperProportions.width,l=i.offset.top,c=l+n.helperProportions.height,u=n.snapElements.length-1;u>=0;u--){var d=n.snapElements[u].left,h=d+n.snapElements[u].width,p=n.snapElements[u].top,f=p+n.snapElements[u].height;if(d-o<s&&s<h+o&&p-o<l&&l<f+o||d-o<s&&s<h+o&&p-o<c&&c<f+o||d-o<a&&a<h+o&&p-o<l&&l<f+o||d-o<a&&a<h+o&&p-o<c&&c<f+o){if("inner"!=r.snapMode){var g=Math.abs(p-c)<=o,m=Math.abs(f-l)<=o,v=Math.abs(d-a)<=o,y=Math.abs(h-s)<=o;g&&(i.position.top=n._convertPositionTo("relative",{top:p-n.helperProportions.height,left:0}).top-n.margins.top),m&&(i.position.top=n._convertPositionTo("relative",{top:f,left:0}).top-n.margins.top),v&&(i.position.left=n._convertPositionTo("relative",{top:0,left:d-n.helperProportions.width}).left-n.margins.left),y&&(i.position.left=n._convertPositionTo("relative",{top:0,left:h}).left-n.margins.left)}var b=g||m||v||y;if("outer"!=r.snapMode){g=Math.abs(p-l)<=o,m=Math.abs(f-c)<=o,v=Math.abs(d-s)<=o,y=Math.abs(h-a)<=o;g&&(i.position.top=n._convertPositionTo("relative",{top:p,left:0}).top-n.margins.top),m&&(i.position.top=n._convertPositionTo("relative",{top:f-n.helperProportions.height,left:0}).top-n.margins.top),v&&(i.position.left=n._convertPositionTo("relative",{top:0,left:d}).left-n.margins.left),y&&(i.position.left=n._convertPositionTo("relative",{top:0,left:h-n.helperProportions.width}).left-n.margins.left)}!n.snapElements[u].snapping&&(g||m||v||y||b)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[u].item})),n.snapElements[u].snapping=g||m||v||y||b}else n.snapElements[u].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[u].item})),n.snapElements[u].snapping=!1}}}),t.ui.plugin.add("draggable","stack",{start:function(){var e=t(this).data("draggable").options,i=t.makeArray(t(e.stack)).sort((function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)}));if(i.length){var n=parseInt(i[0].style.zIndex)||0;t(i).each((function(t){this.style.zIndex=n+t})),this[0].style.zIndex=n+i.length}}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var n=t(i.helper),r=t(this).data("draggable").options;n.css("zIndex")&&(r._zIndex=n.css("zIndex")),n.css("zIndex",r.zIndex)},stop:function(e,i){var n=t(this).data("draggable").options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}})}(jQuery),function(t){t.widget("ui.resizable",t.ui.mouse,{version:"1.9.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var e=this,i=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=i.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var n=this.handles.split(",");this.handles={};for(var r=0;r<n.length;r++){var o=t.trim(n[r]),s=t('<div class="ui-resizable-handle '+("ui-resizable-"+o)+'"></div>');s.css({zIndex:i.zIndex}),"se"==o&&s.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[o]=".ui-resizable-"+o,this.element.append(s)}}this._renderAxis=function(e){for(var i in e=e||this.element,this.handles){if(this.handles[i].constructor==String&&(this.handles[i]=t(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var n=t(this.handles[i],this.element),r=0;r=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth();var o=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");e.css(o,r),this._proportionallyResize()}t(this.handles[i]).length}},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover((function(){if(!e.resizing){if(this.className)var t=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);e.axis=t&&t[1]?t[1]:"se"}})),i.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter((function(){i.disabled||(t(this).removeClass("ui-resizable-autohide"),e._handles.show())})).mouseleave((function(){i.disabled||e.resizing||(t(this).addClass("ui-resizable-autohide"),e._handles.hide())}))),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){e(this.element);var i=this.element;this.originalElement.css({position:i.css("position"),width:i.outerWidth(),height:i.outerHeight(),top:i.css("top"),left:i.css("left")}).insertAfter(i),i.remove()}return this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_mouseCapture:function(e){var i=!1;for(var n in this.handles)t(this.handles[n])[0]==e.target&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(i){var n=this.options,r=this.element.position(),o=this.element;this.resizing=!0,this.documentScroll={top:t(document).scrollTop(),left:t(document).scrollLeft()},(o.is(".ui-draggable")||/absolute/.test(o.css("position")))&&o.css({position:"absolute",top:r.top,left:r.left}),this._renderProxy();var s=e(this.helper.css("left")),a=e(this.helper.css("top"));n.containment&&(s+=t(n.containment).scrollLeft()||0,a+=t(n.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:s,top:a},this.size=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.originalPosition={left:s,top:a},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof n.aspectRatio?n.aspectRatio:this.originalSize.width/this.originalSize.height||1;var l=t(".ui-resizable-"+this.axis).css("cursor");return t("body").css("cursor","auto"==l?this.axis+"-resize":l),o.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(t){var e=this.helper,i=(this.options,this.originalMousePosition),n=this.axis,r=t.pageX-i.left||0,o=t.pageY-i.top||0,s=this._change[n];if(!s)return!1;var a=s.apply(this,[t,r,o]);return this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(a=this._updateRatio(a,t)),a=this._respectSize(a,t),this._propagate("resize",t),e.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(a),this._trigger("resize",t,this.ui()),!1},_mouseStop:function(e){this.resizing=!1;var i=this.options,n=this;if(this._helper){var r=this._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&t.ui.hasScroll(r[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,l={width:n.helper.width()-a,height:n.helper.height()-s},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,u=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;i.animate||this.element.css(t.extend(l,{top:u,left:c})),n.helper.height(n.size.height),n.helper.width(n.size.width),this._helper&&!i.animate&&this._proportionallyResize()}return t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,n,r,o,s,a=this.options;s={minWidth:i(a.minWidth)?a.minWidth:0,maxWidth:i(a.maxWidth)?a.maxWidth:1/0,minHeight:i(a.minHeight)?a.minHeight:0,maxHeight:i(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=s.minHeight*this.aspectRatio,r=s.minWidth/this.aspectRatio,n=s.maxHeight*this.aspectRatio,o=s.maxWidth/this.aspectRatio,e>s.minWidth&&(s.minWidth=e),r>s.minHeight&&(s.minHeight=r),n<s.maxWidth&&(s.maxWidth=n),o<s.maxHeight&&(s.maxHeight=o)),this._vBoundaries=s},_updateCache:function(t){this.options;this.offset=this.helper.offset(),i(t.left)&&(this.position.left=t.left),i(t.top)&&(this.position.top=t.top),i(t.height)&&(this.size.height=t.height),i(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){this.options;var e=this.position,n=this.size,r=this.axis;return i(t.height)?t.width=t.height*this.aspectRatio:i(t.width)&&(t.height=t.width/this.aspectRatio),"sw"==r&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"==r&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t,e){this.helper;var n=this._vBoundaries,r=(this._aspectRatio||e.shiftKey,this.axis),o=i(t.width)&&n.maxWidth&&n.maxWidth<t.width,s=i(t.height)&&n.maxHeight&&n.maxHeight<t.height,a=i(t.width)&&n.minWidth&&n.minWidth>t.width,l=i(t.height)&&n.minHeight&&n.minHeight>t.height;a&&(t.width=n.minWidth),l&&(t.height=n.minHeight),o&&(t.width=n.maxWidth),s&&(t.height=n.maxHeight);var c=this.originalPosition.left+this.originalSize.width,u=this.position.top+this.size.height,d=/sw|nw|w/.test(r),h=/nw|ne|n/.test(r);a&&d&&(t.left=c-n.minWidth),o&&d&&(t.left=c-n.maxWidth),l&&h&&(t.top=u-n.minHeight),s&&h&&(t.top=u-n.maxHeight);var p=!t.width&&!t.height;return p&&!t.left&&t.top?t.top=null:p&&!t.top&&t.left&&(t.left=null),t},_proportionallyResize:function(){this.options;if(this._proportionallyResizeElements.length)for(var e=this.helper||this.element,i=0;i<this._proportionallyResizeElements.length;i++){var n=this._proportionallyResizeElements[i];if(!this.borderDif){var r=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],o=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")];this.borderDif=t.map(r,(function(t,e){return(parseInt(t,10)||0)+(parseInt(o[e],10)||0)}))}n.css({height:e.height()-this.borderDif[0]-this.borderDif[2]||0,width:e.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var e=this.element,i=this.options;if(this.elementOffset=e.offset(),this._helper){this.helper=this.helper||t('<div style="overflow:hidden;"></div>');var n=t.ui.ie6?1:0,r=t.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+r,height:this.element.outerHeight()+r,position:"absolute",left:this.elementOffset.left-n+"px",top:this.elementOffset.top-n+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){this.options;var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){this.options;var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!=e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).data("resizable").options,i=function(e){t(e).each((function(){var e=t(this);e.data("resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})}))};"object"!=typeof e.alsoResize||e.alsoResize.parentNode?i(e.alsoResize):e.alsoResize.length?(e.alsoResize=e.alsoResize[0],i(e.alsoResize)):t.each(e.alsoResize,(function(t){i(t)}))},resize:function(e,i){var n=t(this).data("resizable"),r=n.options,o=n.originalSize,s=n.originalPosition,a={height:n.size.height-o.height||0,width:n.size.width-o.width||0,top:n.position.top-s.top||0,left:n.position.left-s.left||0},l=function(e,n){t(e).each((function(){var e=t(this),r=t(this).data("resizable-alsoresize"),o={},s=n&&n.length?n:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(s,(function(t,e){var i=(r[e]||0)+(a[e]||0);i&&i>=0&&(o[e]=i||null)})),e.css(o)}))};"object"!=typeof r.alsoResize||r.alsoResize.nodeType?l(r.alsoResize):t.each(r.alsoResize,(function(t,e){l(t,e)}))},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).data("resizable"),n=i.options,r=i._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&t.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,a=o?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-s},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,u&&c?{top:u,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&t(r[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var i=t(this).data("resizable"),n=i.options,r=i.element,o=n.containment,s=o instanceof t?o.get(0):/parent/.test(o)?r.parent().get(0):o;if(s)if(i.containerElement=t(s),/document/.test(o)||o==document)i.containerOffset={left:0,top:0},i.containerPosition={left:0,top:0},i.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight};else{var a=t(s),l=[];t(["Top","Right","Left","Bottom"]).each((function(t,i){l[t]=e(a.css("padding"+i))})),i.containerOffset=a.offset(),i.containerPosition=a.position(),i.containerSize={height:a.innerHeight()-l[3],width:a.innerWidth()-l[1]};var c=i.containerOffset,u=i.containerSize.height,d=i.containerSize.width,h=t.ui.hasScroll(s,"left")?s.scrollWidth:d,p=t.ui.hasScroll(s)?s.scrollHeight:u;i.parentData={element:s,left:c.left,top:c.top,width:h,height:p}}},resize:function(e){var i=t(this).data("resizable"),n=i.options,r=(i.containerSize,i.containerOffset),o=(i.size,i.position),s=i._aspectRatio||e.shiftKey,a={top:0,left:0},l=i.containerElement;l[0]!=document&&/static/.test(l.css("position"))&&(a=r),o.left<(i._helper?r.left:0)&&(i.size.width=i.size.width+(i._helper?i.position.left-r.left:i.position.left-a.left),s&&(i.size.height=i.size.width/i.aspectRatio),i.position.left=n.helper?r.left:0),o.top<(i._helper?r.top:0)&&(i.size.height=i.size.height+(i._helper?i.position.top-r.top:i.position.top),s&&(i.size.width=i.size.height*i.aspectRatio),i.position.top=i._helper?r.top:0),i.offset.left=i.parentData.left+i.position.left,i.offset.top=i.parentData.top+i.position.top;var c=Math.abs((i._helper,i.offset.left-a.left+i.sizeDiff.width)),u=Math.abs((i._helper?i.offset.top-a.top:i.offset.top-r.top)+i.sizeDiff.height),d=i.containerElement.get(0)==i.element.parent().get(0),h=/relative|absolute/.test(i.containerElement.css("position"));d&&h&&(c-=i.parentData.left),c+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-c,s&&(i.size.height=i.size.width/i.aspectRatio)),u+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-u,s&&(i.size.width=i.size.height*i.aspectRatio))},stop:function(){var e=t(this).data("resizable"),i=e.options,n=(e.position,e.containerOffset),r=e.containerPosition,o=e.containerElement,s=t(e.helper),a=s.offset(),l=s.outerWidth()-e.sizeDiff.width,c=s.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:a.left-r.left-n.left,width:l,height:c}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:a.left-r.left-n.left,width:l,height:c})}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("resizable"),i=e.options,n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data("resizable");e.options;e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data("resizable");e.options;e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(e){var i=t(this).data("resizable"),n=i.options,r=i.size,o=i.originalSize,s=i.originalPosition,a=i.axis;n._aspectRatio||e.shiftKey;n.grid="number"==typeof n.grid?[n.grid,n.grid]:n.grid;var l=Math.round((r.width-o.width)/(n.grid[0]||1))*(n.grid[0]||1),c=Math.round((r.height-o.height)/(n.grid[1]||1))*(n.grid[1]||1);/^(se|s|e)$/.test(a)?(i.size.width=o.width+l,i.size.height=o.height+c):/^(ne)$/.test(a)?(i.size.width=o.width+l,i.size.height=o.height+c,i.position.top=s.top-c):/^(sw)$/.test(a)?(i.size.width=o.width+l,i.size.height=o.height+c,i.position.left=s.left-l):(i.size.width=o.width+l,i.size.height=o.height+c,i.position.top=s.top-c,i.position.left=s.left-l)}});var e=function(t){return parseInt(t,10)||0},i=function(t){return!isNaN(parseInt(t,10))}}(jQuery),function(t,e){var i="ui-dialog ui-widget ui-widget-content ui-corner-all ",n={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0
},r={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};t.widget("ui.dialog",{version:"1.9.2",options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;i<0&&t(this).css("top",e.top-i)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.options.title=this.options.title||this.originalTitle;var e,n,r,o,s,a=this,l=this.options,c=l.title||"&#160;";e=(this.uiDialog=t("<div>")).addClass(i+l.dialogClass).css({display:"none",outline:0,zIndex:l.zIndex}).attr("tabIndex",-1).keydown((function(e){l.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE&&(a.close(e),e.preventDefault())})).mousedown((function(t){a.moveToTop(!1,t)})).appendTo("body"),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(e),n=(this.uiDialogTitlebar=t("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").bind("mousedown",(function(){e.focus()})).prependTo(e),r=t("<a href='#'></a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role","button").click((function(t){t.preventDefault(),a.close(t)})).appendTo(n),(this.uiDialogTitlebarCloseText=t("<span>")).addClass("ui-icon ui-icon-closethick").text(l.closeText).appendTo(r),o=t("<span>").uniqueId().addClass("ui-dialog-title").html(c).prependTo(n),s=(this.uiDialogButtonPane=t("<div>")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),(this.uiButtonSet=t("<div>")).addClass("ui-dialog-buttonset").appendTo(s),e.attr({role:"dialog","aria-labelledby":o.attr("id")}),n.find("*").add(n).disableSelection(),this._hoverable(r),this._focusable(r),l.draggable&&t.fn.draggable&&this._makeDraggable(),l.resizable&&t.fn.resizable&&this._makeResizable(),this._createButtons(l.buttons),this._isOpen=!1,t.fn.bgiframe&&e.bgiframe(),this._on(e,{keydown:function(i){if(l.modal&&i.keyCode===t.ui.keyCode.TAB){var n=t(":tabbable",e),r=n.filter(":first"),o=n.filter(":last");return i.target!==o[0]||i.shiftKey?i.target===r[0]&&i.shiftKey?(o.focus(1),!1):void 0:(r.focus(1),!1)}}})},_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){var t,e=this.oldPosition;this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},close:function(e){var i,n,r=this;if(this._isOpen&&!1!==this._trigger("beforeClose",e))return this._isOpen=!1,this.overlay&&this.overlay.destroy(),this.options.hide?this._hide(this.uiDialog,this.options.hide,(function(){r._trigger("close",e)})):(this.uiDialog.hide(),this._trigger("close",e)),t.ui.dialog.overlay.resize(),this.options.modal&&(i=0,t(".ui-dialog").each((function(){this!==r.uiDialog[0]&&(n=t(this).css("z-index"),isNaN(n)||(i=Math.max(i,n)))})),t.ui.dialog.maxZ=i),this},isOpen:function(){return this._isOpen},moveToTop:function(e,i){var n,r=this.options;return r.modal&&!e||!r.stack&&!r.modal?this._trigger("focus",i):(r.zIndex>t.ui.dialog.maxZ&&(t.ui.dialog.maxZ=r.zIndex),this.overlay&&(t.ui.dialog.maxZ+=1,t.ui.dialog.overlay.maxZ=t.ui.dialog.maxZ,this.overlay.$el.css("z-index",t.ui.dialog.overlay.maxZ)),n={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()},t.ui.dialog.maxZ+=1,this.uiDialog.css("z-index",t.ui.dialog.maxZ),this.element.attr(n),this._trigger("focus",i),this)},open:function(){if(!this._isOpen){var e,i=this.options,n=this.uiDialog;return this._size(),this._position(i.position),n.show(i.show),this.overlay=i.modal?new t.ui.dialog.overlay(this):null,this.moveToTop(!0),(e=this.element.find(":tabbable")).length||(e=this.uiDialogButtonPane.find(":tabbable")).length||(e=n),e.eq(0).focus(),this._isOpen=!0,this._trigger("open"),this}},_createButtons:function(e){var i=this,n=!1;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),"object"==typeof e&&null!==e&&t.each(e,(function(){return!(n=!0)})),n?(t.each(e,(function(e,n){var r,o;n=t.isFunction(n)?{click:n,text:e}:n,n=t.extend({type:"button"},n),o=n.click,n.click=function(){o.apply(i.element[0],arguments)},r=t("<button></button>",n).appendTo(i.uiButtonSet),t.fn.button&&r.button()})),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)):this.uiDialog.removeClass("ui-dialog-buttons")},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,r){t(this).addClass("ui-dialog-dragging"),i._trigger("dragStart",n,e(r))},drag:function(t,n){i._trigger("drag",t,e(n))},stop:function(r,o){n.position=[o.position.left-i.document.scrollLeft(),o.position.top-i.document.scrollTop()],t(this).removeClass("ui-dialog-dragging"),i._trigger("dragStop",r,e(o)),t.ui.dialog.overlay.resize()}})},_makeResizable:function(i){function n(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}i=i===e?this.options.resizable:i;var r=this,o=this.options,s=this.uiDialog.css("position"),a="string"==typeof i?i:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:o.maxWidth,maxHeight:o.maxHeight,minWidth:o.minWidth,minHeight:this._minHeight(),handles:a,start:function(e,i){t(this).addClass("ui-dialog-resizing"),r._trigger("resizeStart",e,n(i))},resize:function(t,e){r._trigger("resize",t,n(e))},stop:function(e,i){t(this).removeClass("ui-dialog-resizing"),o.height=t(this).height(),o.width=t(this).width(),r._trigger("resizeStop",e,n(i)),t.ui.dialog.overlay.resize()}}).css("position",s).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(e){var i,n=[],r=[0,0];e?(("string"==typeof e||"object"==typeof e&&"0"in e)&&(1===(n=e.split?e.split(" "):[e[0],e[1]]).length&&(n[1]=n[0]),t.each(["left","top"],(function(t,e){+n[t]===n[t]&&(r[t]=n[t],n[t]=e)})),e={my:n[0]+(r[0]<0?r[0]:"+"+r[0])+" "+n[1]+(r[1]<0?r[1]:"+"+r[1]),at:n.join(" ")}),e=t.extend({},t.ui.dialog.prototype.options.position,e)):e=t.ui.dialog.prototype.options.position,(i=this.uiDialog.is(":visible"))||this.uiDialog.show(),this.uiDialog.position(e),i||this.uiDialog.hide()},_setOptions:function(e){var i=this,o={},s=!1;t.each(e,(function(t,e){i._setOption(t,e),t in n&&(s=!0),t in r&&(o[t]=e)})),s&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(e,n){var r,o,s=this.uiDialog;switch(e){case"buttons":this._createButtons(n);break;case"closeText":this.uiDialogTitlebarCloseText.text(""+n);break;case"dialogClass":s.removeClass(this.options.dialogClass).addClass(i+n);break;case"disabled":n?s.addClass("ui-dialog-disabled"):s.removeClass("ui-dialog-disabled");break;case"draggable":(r=s.is(":data(draggable)"))&&!n&&s.draggable("destroy"),!r&&n&&this._makeDraggable();break;case"position":this._position(n);break;case"resizable":(o=s.is(":data(resizable)"))&&!n&&s.resizable("destroy"),o&&"string"==typeof n&&s.resizable("option","handles",n),o||!1===n||this._makeResizable(n);break;case"title":t(".ui-dialog-title",this.uiDialogTitlebar).html(""+(n||"&#160;"))}this._super(e,n)},_size:function(){var e,i,n,r=this.options,o=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),r.minWidth>r.width&&(r.width=r.minWidth),e=this.uiDialog.css({height:"auto",width:r.width}).outerHeight(),i=Math.max(0,r.minHeight-e),"auto"===r.height?t.support.minHeight?this.element.css({minHeight:i,height:"auto"}):(this.uiDialog.show(),n=this.element.css("height","auto").height(),o||this.uiDialog.hide(),this.element.height(Math.max(n,i))):this.element.height(Math.max(r.height-e,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),t.extend(t.ui.dialog,{uuid:0,maxZ:0,getTitleId:function(t){var e=t.attr("id");return e||(this.uuid+=1,e=this.uuid),"ui-dialog-title-"+e},overlay:function(e){this.$el=t.ui.dialog.overlay.create(e)}}),t.extend(t.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:t.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),(function(t){return t+".dialog-overlay"})).join(" "),create:function(e){0===this.instances.length&&(setTimeout((function(){t.ui.dialog.overlay.instances.length&&t(document).bind(t.ui.dialog.overlay.events,(function(e){if(t(e.target).zIndex()<t.ui.dialog.overlay.maxZ)return!1}))}),1),t(window).bind("resize.dialog-overlay",t.ui.dialog.overlay.resize));var i=this.oldInstances.pop()||t("<div>").addClass("ui-widget-overlay");return t(document).bind("keydown.dialog-overlay",(function(n){var r=t.ui.dialog.overlay.instances;0!==r.length&&r[r.length-1]===i&&e.options.closeOnEscape&&!n.isDefaultPrevented()&&n.keyCode&&n.keyCode===t.ui.keyCode.ESCAPE&&(e.close(n),n.preventDefault())})),i.appendTo(document.body).css({width:this.width(),height:this.height()}),t.fn.bgiframe&&i.bgiframe(),this.instances.push(i),i},destroy:function(e){var i=t.inArray(e,this.instances),n=0;-1!==i&&this.oldInstances.push(this.instances.splice(i,1)[0]),0===this.instances.length&&t([document,window]).unbind(".dialog-overlay"),e.height(0).width(0).remove(),t.each(this.instances,(function(){n=Math.max(n,this.css("z-index"))})),this.maxZ=n},height:function(){var e;return t.ui.ie?(e=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight))<Math.max(document.documentElement.offsetHeight,document.body.offsetHeight)?t(window).height()+"px":e+"px":t(document).height()+"px"},width:function(){var e;return t.ui.ie?(e=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth))<Math.max(document.documentElement.offsetWidth,document.body.offsetWidth)?t(window).width()+"px":e+"px":t(document).width()+"px"},resize:function(){var e=t([]);t.each(t.ui.dialog.overlay.instances,(function(){e=e.add(this)})),e.css({width:0,height:0}).css({width:t.ui.dialog.overlay.width(),height:t.ui.dialog.overlay.height()})}}),t.extend(t.ui.dialog.overlay.prototype,{destroy:function(){t.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(t){t.widget("ui.droppable",{version:"1.9.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var e=this.options,i=e.accept;this.isover=0,this.isout=1,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},t.ui.ddmanager.droppables[e.scope]=t.ui.ddmanager.droppables[e.scope]||[],t.ui.ddmanager.droppables[e.scope].push(this),e.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=t.ui.ddmanager.droppables[this.options.scope],i=0;i<e.length;i++)e[i]==this&&e.splice(i,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){"accept"==e&&(this.accept=t.isFunction(i)?i:function(t){return t.is(i)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!=this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!=this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]==this.element[0])return!1;var r=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each((function(){var e=t.data(this,"droppable");if(e.options.greedy&&!e.options.disabled&&e.options.scope==n.options.scope&&e.accept.call(e.element[0],n.currentItem||n.element)&&t.ui.intersect(n,t.extend(e,{offset:e.element.offset()}),e.options.tolerance))return r=!0,!1})),!r&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(n)),this.element))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(e,i,n){if(!i.offset)return!1;var r=(e.positionAbs||e.position.absolute).left,o=r+e.helperProportions.width,s=(e.positionAbs||e.position.absolute).top,a=s+e.helperProportions.height,l=i.offset.left,c=l+i.proportions.width,u=i.offset.top,d=u+i.proportions.height;switch(n){case"fit":return l<=r&&o<=c&&u<=s&&a<=d;case"intersect":return l<r+e.helperProportions.width/2&&o-e.helperProportions.width/2<c&&u<s+e.helperProportions.height/2&&a-e.helperProportions.height/2<d;case"pointer":var h=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,p=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top;return t.ui.isOver(p,h,u,l,i.proportions.height,i.proportions.width);case"touch":return(s>=u&&s<=d||a>=u&&a<=d||s<u&&a>d)&&(r>=l&&r<=c||o>=l&&o<=c||r<l&&o>c);default:return!1}},t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,i){var n=t.ui.ddmanager.droppables[e.options.scope]||[],r=i?i.type:null,o=(e.currentItem||e.element).find(":data(droppable)").andSelf();t:for(var s=0;s<n.length;s++)if(!(n[s].options.disabled||e&&!n[s].accept.call(n[s].element[0],e.currentItem||e.element))){for(var a=0;a<o.length;a++)if(o[a]==n[s].element[0]){n[s].proportions.height=0;continue t}n[s].visible="none"!=n[s].element.css("display"),n[s].visible&&("mousedown"==r&&n[s]._activate.call(n[s],i),n[s].offset=n[s].element.offset(),n[s].proportions={width:n[s].element[0].offsetWidth,height:n[s].element[0].offsetHeight})}},drop:function(e,i){var n=!1;return t.each(t.ui.ddmanager.droppables[e.options.scope]||[],(function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,i)))})),n},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",(function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}))},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n=t.ui.intersect(e,this,this.options.tolerance),r=n||1!=this.isover?n&&0==this.isover?"isover":null:"isout";if(r){var o;if(this.options.greedy){var s=this.options.scope,a=this.element.parents(":data(droppable)").filter((function(){return t.data(this,"droppable").options.scope===s}));a.length&&((o=t.data(a[0],"droppable")).greedyChild="isover"==r?1:0)}o&&"isover"==r&&(o.isover=0,o.isout=1,o._out.call(o,i)),this[r]=1,this["isout"==r?"isover":"isout"]=0,this["isover"==r?"_over":"_out"].call(this,i),o&&"isout"==r&&(o.isout=0,o.isover=1,o._over.call(o,i))}}}))},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}}}(jQuery),jQuery.effects||function(t,e){var i,n=!1!==t.uiBackCompat,r="ui-effects-";t.effects={effect:{}},function(e,i){function n(t,e,i){var n=h[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:0>t?0:n.max<t?n.max:t)}function r(t){var i=u(),n=i._rgba=[];return t=t.toLowerCase(),g(c,(function(e,r){var o,s=r.re.exec(t),a=s&&r.parse(s),l=r.space||"rgba";if(a)return o=i[l](a),i[d[l].cache]=o[d[l].cache],n=i._rgba=o._rgba,!1})),n.length?("0,0,0,0"===n.join()&&e.extend(n,s.transparent),i):s[t]}function o(t,e,i){return 6*(i=(i+1)%1)<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}var s,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),l=/^([\-+])=\s*(\d+\.?\d*)/,c=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],u=e.Color=function(t,i,n,r){return new e.Color.fn.parse(t,i,n,r)},d={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},p=u.support={},f=e("<p>")[0],g=e.each;f.style.cssText="background-color:rgba(1,1,1,.5)",p.rgba=f.style.backgroundColor.indexOf("rgba")>-1,g(d,(function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}})),u.fn=e.extend(u.prototype,{parse:function(o,a,l,c){if(o===i)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=e(o).css(a),a=i);var h=this,p=e.type(o),f=this._rgba=[];return a!==i&&(o=[o,a,l,c],p="array"),"string"===p?this.parse(r(o)||s._default):"array"===p?(g(d.rgba.props,(function(t,e){f[e.idx]=n(o[e.idx],e)})),this):"object"===p?(g(d,o instanceof u?function(t,e){o[e.cache]&&(h[e.cache]=o[e.cache].slice())}:function(e,i){var r=i.cache;g(i.props,(function(t,e){if(!h[r]&&i.to){if("alpha"===t||null==o[t])return;h[r]=i.to(h._rgba)}h[r][e.idx]=n(o[t],e,!0)})),h[r]&&t.inArray(null,h[r].slice(0,3))<0&&(h[r][3]=1,i.from&&(h._rgba=i.from(h[r])))}),this):void 0},is:function(t){var e=u(t),i=!0,n=this;return g(d,(function(t,r){var o,s=e[r.cache];return s&&(o=n[r.cache]||r.to&&r.to(n._rgba)||[],g(r.props,(function(t,e){if(null!=s[e.idx])return i=s[e.idx]===o[e.idx]}))),i})),i},_space:function(){var t=[],e=this;return g(d,(function(i,n){e[n.cache]&&t.push(i)})),t.pop()},transition:function(t,e){var i=u(t),r=i._space(),o=d[r],s=0===this.alpha()?u("transparent"):this,a=s[o.cache]||o.to(s._rgba),l=a.slice();return i=i[o.cache],g(o.props,(function(t,r){var o=r.idx,s=a[o],c=i[o],u=h[r.type]||{};null!==c&&(null===s?l[o]=c:(u.mod&&(c-s>u.mod/2?s+=u.mod:s-c>u.mod/2&&(s-=u.mod)),l[o]=n((c-s)*e+s,r)))})),this[r](l)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),r=u(t)._rgba;return u(e.map(i,(function(t,e){return(1-n)*r[e]+n*t})))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,(function(t,e){return null==t?e>2?1:0:t}));return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),(function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t}));return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&&i.push(~~(255*n)),"#"+e.map(i,(function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t})).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,d.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,n=t[0]/255,r=t[1]/255,o=t[2]/255,s=t[3],a=Math.max(n,r,o),l=Math.min(n,r,o),c=a-l,u=a+l,d=.5*u;return e=l===a?0:n===a?60*(r-o)/c+360:r===a?60*(o-n)/c+120:60*(n-r)/c+240,i=0===d||1===d?d:d<=.5?c/u:c/(2-u),[Math.round(e)%360,i,d,null==s?1:s]},d.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],r=t[3],s=n<=.5?n*(1+i):n+i-n*i,a=2*n-s;return[Math.round(255*o(a,s,e+1/3)),Math.round(255*o(a,s,e)),Math.round(255*o(a,s,e-1/3)),r]},g(d,(function(t,r){var o=r.props,s=r.cache,a=r.to,c=r.from;u.fn[t]=function(t){if(a&&!this[s]&&(this[s]=a(this._rgba)),t===i)return this[s].slice();var r,l=e.type(t),d="array"===l||"object"===l?t:arguments,h=this[s].slice();return g(o,(function(t,e){var i=d["object"===l?t:e.idx];null==i&&(i=h[e.idx]),h[e.idx]=n(i,e)})),c?((r=u(c(h)))[s]=h,r):u(h)},g(o,(function(i,n){u.fn[i]||(u.fn[i]=function(r){var o,s=e.type(r),a="alpha"===i?this._hsla?"hsla":"rgba":t,c=this[a](),u=c[n.idx];return"undefined"===s?u:("function"===s&&(r=r.call(this,u),s=e.type(r)),null==r&&n.empty?this:("string"===s&&(o=l.exec(r))&&(r=u+parseFloat(o[2])*("+"===o[1]?1:-1)),c[n.idx]=r,this[a](c)))})}))})),g(a,(function(t,i){e.cssHooks[i]={set:function(t,n){var o,s,a="";if("string"!==e.type(n)||(o=r(n))){if(n=u(o||n),!p.rgba&&1!==n._rgba[3]){for(s="backgroundColor"===i?t.parentNode:t;(""===a||"transparent"===a)&&s&&s.style;)try{a=e.css(s,"backgroundColor"),s=s.parentNode}catch(t){}n=n.blend(a&&"transparent"!==a?a:"_default")}n=n.toRgbaString()}try{t.style[i]=n}catch(t){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=u(t.elem,i),t.end=u(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})),e.cssHooks.borderColor={expand:function(t){var e={};return g(["Top","Right","Bottom","Left"],(function(i,n){e["border"+n+"Color"]=t})),e}},s=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(){var e,i,n=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,r={};if(n&&n.length&&n[0]&&n[n[0]])for(i=n.length;i--;)"string"==typeof n[e=n[i]]&&(r[t.camelCase(e)]=n[e]);else for(e in n)"string"==typeof n[e]&&(r[e]=n[e]);return r}function n(e,i){var n,r,s={};for(n in i)r=i[n],e[n]!==r&&(o[n]||!t.fx.step[n]&&isNaN(parseFloat(r))||(s[n]=r));return s}var r=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,i,t.end),t.setAttr=!0)}})),t.effects.animateClass=function(e,o,s,a){var l=t.speed(o,s,a);return this.queue((function(){var o,s=t(this),a=s.attr("class")||"",c=l.children?s.find("*").andSelf():s;c=c.map((function(){return{el:t(this),start:i.call(this)}})),(o=function(){t.each(r,(function(t,i){e[i]&&s[i+"Class"](e[i])}))})(),c=c.map((function(){return this.end=i.call(this.el[0]),this.diff=n(this.start,this.end),this})),s.attr("class",a),c=c.map((function(){var e=this,i=t.Deferred(),n=jQuery.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,n),i.promise()})),t.when.apply(t,c.get()).done((function(){o(),t.each(arguments,(function(){var e=this.el;t.each(this.diff,(function(t){e.css(t,"")}))})),l.complete.call(s[0])}))}))},t.fn.extend({_addClass:t.fn.addClass,addClass:function(e,i,n,r){return i?t.effects.animateClass.call(this,{add:e},i,n,r):this._addClass(e)},_removeClass:t.fn.removeClass,removeClass:function(e,i,n,r){return i?t.effects.animateClass.call(this,{remove:e},i,n,r):this._removeClass(e)},_toggleClass:t.fn.toggleClass,toggleClass:function(i,n,r,o,s){return"boolean"==typeof n||n===e?r?t.effects.animateClass.call(this,n?{add:i}:{remove:i},r,o,s):this._toggleClass(i,n):t.effects.animateClass.call(this,{toggle:i},n,r,o)},switchClass:function(e,i,n,r,o){return t.effects.animateClass.call(this,{add:i,remove:e},n,r,o)}})}(),function(){function i(e,i,n,r){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(r=i,n=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(r=n,n=i,i={}),t.isFunction(n)&&(r=n,n=null),i&&t.extend(e,i),n=n||i.duration,e.duration=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,e.complete=r||i.complete,e}function o(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||"string"==typeof e&&!t.effects.effect[e]&&(!n||!t.effects[e])}t.extend(t.effects,{version:"1.9.2",save:function(t,e){for(var i=0;i<e.length;i++)null!==e[i]&&t.data(r+e[i],t[0].style[e[i]])},restore:function(t,i){var n,o;for(o=0;o<i.length;o++)null!==i[o]&&((n=t.data(r+i[o]))===e&&(n=""),t.css(i[o],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}return e.wrap(n),(e[0]===o||t.contains(e[0],o))&&t(o).focus(),n=e.parent(),"static"===e.css("position")?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],(function(t,n){i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")})),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),n.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,n,r){return r=r||{},t.each(i,(function(t,i){var o=e.cssUnit(i);o[0]>0&&(r[i]=o[0]*n+o[1])})),r}}),t.fn.extend({effect:function(){function e(e){function i(){t.isFunction(o)&&o.call(n[0]),t.isFunction(e)&&e()}var n=t(this),o=r.complete,s=r.mode;(n.is(":hidden")?"hide"===s:"show"===s)?i():a.call(n[0],r,i)}var r=i.apply(this,arguments),o=r.mode,s=r.queue,a=t.effects.effect[r.effect],l=!a&&n&&t.effects[r.effect];return t.fx.off||!a&&!l?o?this[o](r.duration,r.complete):this.each((function(){r.complete&&r.complete.call(this)})):a?!1===s?this.each(e):this.queue(s||"fx",e):l.call(this,{options:r,duration:r.duration,callback:r.complete,mode:r.mode})},_show:t.fn.show,show:function(t){if(o(t))return this._show.apply(this,arguments);var e=i.apply(this,arguments);return e.mode="show",this.effect.call(this,e)},_hide:t.fn.hide,hide:function(t){if(o(t))return this._hide.apply(this,arguments);var e=i.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)},__toggle:t.fn.toggle,toggle:function(e){if(o(e)||"boolean"==typeof e||t.isFunction(e))return this.__toggle.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)},cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],(function(t,e){i.indexOf(e)>0&&(n=[parseFloat(i),e])})),n}})}(),i={},t.each(["Quad","Cubic","Quart","Quint","Expo"],(function(t,e){i[e]=function(e){return Math.pow(e,t+2)}})),t.extend(i,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(i,(function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?i(2*t)/2:1-i(-2*t+2)/2}}))}(jQuery),function(t){var e=/up|down|vertical/,i=/up|left|vertical|horizontal/;t.effects.effect.blind=function(n,r){var o,s,a,l=t(this),c=["position","top","bottom","left","right","height","width"],u=t.effects.setMode(l,n.mode||"hide"),d=n.direction||"up",h=e.test(d),p=h?"height":"width",f=h?"top":"left",g=i.test(d),m={},v="show"===u;l.parent().is(".ui-effects-wrapper")?t.effects.save(l.parent(),c):t.effects.save(l,c),l.show(),s=(o=t.effects.createWrapper(l).css({overflow:"hidden"}))[p](),a=parseFloat(o.css(f))||0,m[p]=v?s:0,g||(l.css(h?"bottom":"right",0).css(h?"top":"left","auto").css({position:"absolute"}),m[f]=v?a:s+a),v&&(o.css(p,0),g||o.css(f,a+s)),o.animate(m,{duration:n.duration,easing:n.easing,queue:!1,complete:function(){"hide"===u&&l.hide(),t.effects.restore(l,c),t.effects.removeWrapper(l),r()}})}}(jQuery),function(t){t.effects.effect.bounce=function(e,i){var n,r,o,s=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(s,e.mode||"effect"),c="hide"===l,u="show"===l,d=e.direction||"up",h=e.distance,p=e.times||5,f=2*p+(u||c?1:0),g=e.duration/f,m=e.easing,v="up"===d||"down"===d?"top":"left",y="up"===d||"left"===d,b=s.queue(),_=b.length;for((u||c)&&a.push("opacity"),t.effects.save(s,a),s.show(),t.effects.createWrapper(s),h||(h=s["top"===v?"outerHeight":"outerWidth"]()/3),u&&((o={opacity:1})[v]=0,s.css("opacity",0).css(v,y?2*-h:2*h).animate(o,g,m)),c&&(h/=Math.pow(2,p-1)),(o={})[v]=0,n=0;n<p;n++)(r={})[v]=(y?"-=":"+=")+h,s.animate(r,g,m).animate(o,g,m),h=c?2*h:h/2;c&&((r={opacity:0})[v]=(y?"-=":"+=")+h,s.animate(r,g,m)),s.queue((function(){c&&s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),i()})),_>1&&b.splice.apply(b,[1,0].concat(b.splice(_,f+1))),s.dequeue()}}(jQuery),function(t){t.effects.effect.clip=function(e,i){var n,r,o,s=t(this),a=["position","top","bottom","left","right","height","width"],l="show"===t.effects.setMode(s,e.mode||"hide"),c="vertical"===(e.direction||"vertical"),u=c?"height":"width",d=c?"top":"left",h={};t.effects.save(s,a),s.show(),n=t.effects.createWrapper(s).css({overflow:"hidden"}),o=(r="IMG"===s[0].tagName?n:s)[u](),l&&(r.css(u,0),r.css(d,o/2)),h[u]=l?o:0,h[d]=l?0:o/2,r.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){l||s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),i()}})}}(jQuery),function(t){t.effects.effect.drop=function(e,i){var n,r=t(this),o=["position","top","bottom","left","right","opacity","height","width"],s=t.effects.setMode(r,e.mode||"hide"),a="show"===s,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l?"pos":"neg",d={opacity:a?1:0};t.effects.save(r,o),r.show(),t.effects.createWrapper(r),n=e.distance||r["top"===c?"outerHeight":"outerWidth"](!0)/2,a&&r.css("opacity",0).css(c,"pos"===u?-n:n),d[c]=(a?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+n,r.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),i()}})}}(jQuery),function(t){t.effects.effect.explode=function(e,i){function n(){y.push(this),y.length===d*h&&r()}function r(){p.css({visibility:"visible"}),t(y).remove(),f||p.hide(),i()}
var o,s,a,l,c,u,d=e.pieces?Math.round(Math.sqrt(e.pieces)):3,h=d,p=t(this),f="show"===t.effects.setMode(p,e.mode||"hide"),g=p.show().css("visibility","hidden").offset(),m=Math.ceil(p.outerWidth()/h),v=Math.ceil(p.outerHeight()/d),y=[];for(o=0;o<d;o++)for(l=g.top+o*v,u=o-(d-1)/2,s=0;s<h;s++)a=g.left+s*m,c=s-(h-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*m,top:-o*v}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:m,height:v,left:a+(f?c*m:0),top:l+(f?u*v:0),opacity:f?0:1}).animate({left:a+(f?0:c*m),top:l+(f?0:u*v),opacity:f?1:0},e.duration||500,e.easing,n)}}(jQuery),function(t){t.effects.effect.fade=function(e,i){var n=t(this),r=t.effects.setMode(n,e.mode||"toggle");n.animate({opacity:r},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}}(jQuery),function(t){t.effects.effect.fold=function(e,i){var n,r,o=t(this),s=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(o,e.mode||"hide"),l="show"===a,c="hide"===a,u=e.size||15,d=/([0-9]+)%/.exec(u),h=!!e.horizFirst,p=l!==h,f=p?["width","height"]:["height","width"],g=e.duration/2,m={},v={};t.effects.save(o,s),o.show(),n=t.effects.createWrapper(o).css({overflow:"hidden"}),r=p?[n.width(),n.height()]:[n.height(),n.width()],d&&(u=parseInt(d[1],10)/100*r[c?0:1]),l&&n.css(h?{height:0,width:u}:{height:u,width:0}),m[f[0]]=l?r[0]:u,v[f[1]]=l?r[1]:0,n.animate(m,g,e.easing).animate(v,g,e.easing,(function(){c&&o.hide(),t.effects.restore(o,s),t.effects.removeWrapper(o),i()}))}}(jQuery),function(t){t.effects.effect.highlight=function(e,i){var n=t(this),r=["backgroundImage","backgroundColor","opacity"],o=t.effects.setMode(n,e.mode||"show"),s={backgroundColor:n.css("backgroundColor")};"hide"===o&&(s.opacity=0),t.effects.save(n,r),n.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&n.hide(),t.effects.restore(n,r),i()}})}}(jQuery),function(t){t.effects.effect.pulsate=function(e,i){var n,r=t(this),o=t.effects.setMode(r,e.mode||"show"),s="show"===o,a="hide"===o,l=s||"hide"===o,c=2*(e.times||5)+(l?1:0),u=e.duration/c,d=0,h=r.queue(),p=h.length;for(!s&&r.is(":visible")||(r.css("opacity",0).show(),d=1),n=1;n<c;n++)r.animate({opacity:d},u,e.easing),d=1-d;r.animate({opacity:d},u,e.easing),r.queue((function(){a&&r.hide(),i()})),p>1&&h.splice.apply(h,[1,0].concat(h.splice(p,c+1))),r.dequeue()}}(jQuery),function(t){t.effects.effect.puff=function(e,i){var n=t(this),r=t.effects.setMode(n,e.mode||"hide"),o="hide"===r,s=parseInt(e.percent,10)||150,a=s/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:r,complete:i,percent:o?s:100,from:o?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),n.effect(e)},t.effects.effect.scale=function(e,i){var n=t(this),r=t.extend(!0,{},e),o=t.effects.setMode(n,e.mode||"effect"),s=parseInt(e.percent,10)||(0===parseInt(e.percent,10)||"hide"===o?0:100),a=e.direction||"both",l=e.origin,c={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},u={y:"horizontal"!==a?s/100:1,x:"vertical"!==a?s/100:1};r.effect="size",r.queue=!1,r.complete=i,"effect"!==o&&(r.origin=l||["middle","center"],r.restore=!0),r.from=e.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:c),r.to={height:c.height*u.y,width:c.width*u.x,outerHeight:c.outerHeight*u.y,outerWidth:c.outerWidth*u.x},r.fade&&("show"===o&&(r.from.opacity=0,r.to.opacity=1),"hide"===o&&(r.from.opacity=1,r.to.opacity=0)),n.effect(r)},t.effects.effect.size=function(e,i){var n,r,o,s=t(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],c=["width","height","overflow"],u=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=t.effects.setMode(s,e.mode||"effect"),f=e.restore||"effect"!==p,g=e.scale||"both",m=e.origin||["middle","center"],v=s.css("position"),y=f?a:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&s.show(),n={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},"toggle"===e.mode&&"show"===p?(s.from=e.to||b,s.to=e.from||n):(s.from=e.from||("show"===p?b:n),s.to=e.to||("hide"===p?b:n)),o={from:{y:s.from.height/n.height,x:s.from.width/n.width},to:{y:s.to.height/n.height,x:s.to.width/n.width}},"box"!==g&&"both"!==g||(o.from.y!==o.to.y&&(y=y.concat(d),s.from=t.effects.setTransition(s,d,o.from.y,s.from),s.to=t.effects.setTransition(s,d,o.to.y,s.to)),o.from.x!==o.to.x&&(y=y.concat(h),s.from=t.effects.setTransition(s,h,o.from.x,s.from),s.to=t.effects.setTransition(s,h,o.to.x,s.to))),"content"!==g&&"both"!==g||o.from.y!==o.to.y&&(y=y.concat(u).concat(c),s.from=t.effects.setTransition(s,u,o.from.y,s.from),s.to=t.effects.setTransition(s,u,o.to.y,s.to)),t.effects.save(s,y),s.show(),t.effects.createWrapper(s),s.css("overflow","hidden").css(s.from),m&&(r=t.effects.getBaseline(m,n),s.from.top=(n.outerHeight-s.outerHeight())*r.y,s.from.left=(n.outerWidth-s.outerWidth())*r.x,s.to.top=(n.outerHeight-s.to.outerHeight)*r.y,s.to.left=(n.outerWidth-s.to.outerWidth)*r.x),s.css(s.from),"content"!==g&&"both"!==g||(d=d.concat(["marginTop","marginBottom"]).concat(u),h=h.concat(["marginLeft","marginRight"]),c=a.concat(d).concat(h),s.find("*[width]").each((function(){var i=t(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&t.effects.save(i,c),i.from={height:n.height*o.from.y,width:n.width*o.from.x,outerHeight:n.outerHeight*o.from.y,outerWidth:n.outerWidth*o.from.x},i.to={height:n.height*o.to.y,width:n.width*o.to.x,outerHeight:n.height*o.to.y,outerWidth:n.width*o.to.x},o.from.y!==o.to.y&&(i.from=t.effects.setTransition(i,d,o.from.y,i.from),i.to=t.effects.setTransition(i,d,o.to.y,i.to)),o.from.x!==o.to.x&&(i.from=t.effects.setTransition(i,h,o.from.x,i.from),i.to=t.effects.setTransition(i,h,o.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,(function(){f&&t.effects.restore(i,c)}))}))),s.animate(s.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===s.to.opacity&&s.css("opacity",s.from.opacity),"hide"===p&&s.hide(),t.effects.restore(s,y),f||("static"===v?s.css({position:"relative",top:s.to.top,left:s.to.left}):t.each(["top","left"],(function(t,e){s.css(e,(function(e,i){var n=parseInt(i,10),r=t?s.to.left:s.to.top;return"auto"===i?r+"px":n+r+"px"}))}))),t.effects.removeWrapper(s),i()}})}}(jQuery),function(t){t.effects.effect.shake=function(e,i){var n,r=t(this),o=["position","top","bottom","left","right","height","width"],s=t.effects.setMode(r,e.mode||"effect"),a=e.direction||"left",l=e.distance||20,c=e.times||3,u=2*c+1,d=Math.round(e.duration/u),h="up"===a||"down"===a?"top":"left",p="up"===a||"left"===a,f={},g={},m={},v=r.queue(),y=v.length;for(t.effects.save(r,o),r.show(),t.effects.createWrapper(r),f[h]=(p?"-=":"+=")+l,g[h]=(p?"+=":"-=")+2*l,m[h]=(p?"-=":"+=")+2*l,r.animate(f,d,e.easing),n=1;n<c;n++)r.animate(g,d,e.easing).animate(m,d,e.easing);r.animate(g,d,e.easing).animate(f,d/2,e.easing).queue((function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),i()})),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),r.dequeue()}}(jQuery),function(t){t.effects.effect.slide=function(e,i){var n,r=t(this),o=["position","top","bottom","left","right","width","height"],s=t.effects.setMode(r,e.mode||"show"),a="show"===s,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,d={};t.effects.save(r,o),r.show(),n=e.distance||r["top"===c?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(r).css({overflow:"hidden"}),a&&r.css(c,u?isNaN(n)?"-"+n:-n:n),d[c]=(a?u?"+=":"-=":u?"-=":"+=")+n,r.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),i()}})}}(jQuery),function(t){t.effects.effect.transfer=function(e,i){var n=t(this),r=t(e.to),o="fixed"===r.css("position"),s=t("body"),a=o?s.scrollTop():0,l=o?s.scrollLeft():0,c=r.offset(),u={top:c.top-a,left:c.left-l,height:r.innerHeight(),width:r.innerWidth()},d=n.offset(),h=t('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(e.className).css({top:d.top-a,left:d.left-l,height:n.innerHeight(),width:n.innerWidth(),position:o?"fixed":"absolute"}).animate(u,e.duration,e.easing,(function(){h.remove(),i()}))}}(jQuery),function(t,e){t.widget("ui.progressbar",{version:"1.9.2",options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return t===e?this._value():(this._setOption("value",t),this)},_setOption:function(t,e){"value"===t&&(this.options.value=e,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),this._super(t,e)},_value:function(){var t=this.options.value;return"number"!=typeof t&&(t=0),Math.min(this.options.max,Math.max(this.min,t))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var t=this.value(),e=this._percentage();this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),this.valueDiv.toggle(t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(e.toFixed(0)+"%"),this.element.attr("aria-valuenow",t)}})}(jQuery),function(t){t.widget("ui.selectable",t.ui.mouse,{version:"1.9.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var e,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(e=t(i.options.filter,i.element[0])).addClass("ui-selectee"),e.each((function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})}))},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this;if(this.opos=[e.pageX,e.pageY],!this.options.disabled){var n=this.options;this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.clientX,top:e.clientY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each((function(){var n=t.data(this,"selectable-item");n.startselected=!0,e.metaKey||e.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element}))})),t(e.target).parents().andSelf().each((function(){var n=t.data(this,"selectable-item");if(n){var r=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected");return n.$element.removeClass(r?"ui-unselecting":"ui-selected").addClass(r?"ui-selecting":"ui-unselecting"),n.unselecting=!r,n.selecting=r,n.selected=r,r?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1}}))}},_mouseDrag:function(e){var i=this;if(this.dragged=!0,!this.options.disabled){var n=this.options,r=this.opos[0],o=this.opos[1],s=e.pageX,a=e.pageY;if(r>s){var l=s;s=r,r=l}if(o>a){l=a;a=o,o=l}return this.helper.css({left:r,top:o,width:s-r,height:a-o}),this.selectees.each((function(){var l=t.data(this,"selectable-item");if(l&&l.element!=i.element[0]){var c=!1;"touch"==n.tolerance?c=!(l.left>s||l.right<r||l.top>a||l.bottom<o):"fit"==n.tolerance&&(c=l.left>r&&l.right<s&&l.top>o&&l.bottom<a),c?(l.selected&&(l.$element.removeClass("ui-selected"),l.selected=!1),l.unselecting&&(l.$element.removeClass("ui-unselecting"),l.unselecting=!1),l.selecting||(l.$element.addClass("ui-selecting"),l.selecting=!0,i._trigger("selecting",e,{selecting:l.element}))):(l.selecting&&((e.metaKey||e.ctrlKey)&&l.startselected?(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.$element.addClass("ui-selected"),l.selected=!0):(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.startselected&&(l.$element.addClass("ui-unselecting"),l.unselecting=!0),i._trigger("unselecting",e,{unselecting:l.element}))),l.selected&&(e.metaKey||e.ctrlKey||l.startselected||(l.$element.removeClass("ui-selected"),l.selected=!1,l.$element.addClass("ui-unselecting"),l.unselecting=!0,i._trigger("unselecting",e,{unselecting:l.element}))))}})),!1}},_mouseStop:function(e){var i=this;this.dragged=!1;this.options;return t(".ui-unselecting",this.element[0]).each((function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})})),t(".ui-selecting",this.element[0]).each((function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})})),this._trigger("stop",e),this.helper.remove(),!1}})}(jQuery),function(t){var e=5;t.widget("ui.slider",t.ui.mouse,{version:"1.9.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var i,n,r=this.options,o=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",a=[];for(this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(r.disabled?" ui-slider-disabled ui-disabled":"")),this.range=t([]),r.range&&(!0===r.range&&(r.values||(r.values=[this._valueMin(),this._valueMin()]),r.values.length&&2!==r.values.length&&(r.values=[r.values[0],r.values[0]])),this.range=t("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===r.range||"max"===r.range?" ui-slider-range-"+r.range:""))),n=r.values&&r.values.length||1,i=o.length;i<n;i++)a.push(s);this.handles=o.add(t(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click((function(t){t.preventDefault()})).mouseenter((function(){r.disabled||t(this).addClass("ui-state-hover")})).mouseleave((function(){t(this).removeClass("ui-state-hover")})).focus((function(){r.disabled?t(this).blur():(t(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),t(this).addClass("ui-state-focus"))})).blur((function(){t(this).removeClass("ui-state-focus")})),this.handles.each((function(e){t(this).data("ui-slider-handle-index",e)})),this._on(this.handles,{keydown:function(i){var n,r,o,s=t(i.target).data("ui-slider-handle-index");switch(i.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(i.target).addClass("ui-state-active"),!1===this._start(i,s)))return}switch(o=this.options.step,n=r=this.options.values&&this.options.values.length?this.values(s):this.value(),i.keyCode){case t.ui.keyCode.HOME:r=this._valueMin();break;case t.ui.keyCode.END:r=this._valueMax();break;case t.ui.keyCode.PAGE_UP:r=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;r=this._trimAlignValue(n+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;r=this._trimAlignValue(n-o)}this._slide(i,s,r)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,n,r,o,s,a,l,c=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),r=this._valueMax()-this._valueMin()+1,this.handles.each((function(e){var i=Math.abs(n-c.values(e));r>i&&(r=i,o=t(this),s=e)})),!0===u.range&&this.values(1)===u.min&&(s+=1,o=t(this.handles[s])),!1!==this._start(e,s)&&(this._mouseSliding=!0,this._handleIndex=s,o.addClass("ui-state-active").focus(),a=o.offset(),l=!t(e.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-a.left-o.width()/2,top:e.pageY-a.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,s,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(n=i/e)>1&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),r=this._valueMax()-this._valueMin(),o=this._valueMin()+n*r,this._trimAlignValue(o)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var n,r,o;this.options.values&&this.options.values.length?(n=this.values(e?0:1),2===this.options.values.length&&!0===this.options.range&&(0===e&&i>n||1===e&&i<n)&&(i=n),i!==this.values(e)&&((r=this.values())[e]=i,o=this._trigger("slide",t,{handle:this.handles[e],value:i,values:r}),n=this.values(e?0:1),!1!==o&&this.values(e,i,!0))):i!==this.value()&&!1!==(o=this._trigger("slide",t,{handle:this.handles[e],value:i}))&&this.value(i)},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var n,r,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(n=this.options.values,r=arguments[0],o=0;o<n.length;o+=1)n[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var n,r=0;switch(t.isArray(this.options.values)&&(r=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"disabled":i?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;n<r;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,n,r,o,s=this.options.range,a=this.options,l=this,c=!this._animateOff&&a.animate,u={};this.options.values&&this.options.values.length?this.handles.each((function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[c?"animate":"css"](u,a.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:a.animate}))),e=i})):(n=this.value(),r=this._valueMin(),o=this._valueMax(),i=o!==r?(n-r)/(o-r)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](u,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:a.animate}),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:a.animate}))}})}(jQuery),function(t){t.widget("ui.sortable",t.ui.mouse,{version:"1.9.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===t.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display"))),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var n=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(e);var r=null;t(e.target).parents().each((function(){if(t.data(this,n.widgetName+"-item")==n)return r=t(this),!1}));if(t.data(e.target,n.widgetName+"-item")==n&&(r=t(e.target)),!r)return!1;if(this.options.handle&&!i){var o=!1;if(t(this.options.handle,r).find("*").andSelf().each((function(){this==e.target&&(o=!0)})),!o)return!1}return this.currentItem=r,this._removeCurrentsFromItems(),!0},_mouseStart:function(e,i,n){var r=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&(t("body").css("cursor")&&(this._storedCursor=t("body").css("cursor")),t("body").css("cursor",r.cursor)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(var o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var i=this.options,n=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop+i.scrollSpeed:e.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft+i.scrollSpeed:e.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(e.pageY-t(document).scrollTop()<i.scrollSensitivity?n=t(document).scrollTop(t(document).scrollTop()-i.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<i.scrollSensitivity&&(n=t(document).scrollTop(t(document).scrollTop()+i.scrollSpeed)),e.pageX-t(document).scrollLeft()<i.scrollSensitivity?n=t(document).scrollLeft(t(document).scrollLeft()-i.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<i.scrollSensitivity&&(n=t(document).scrollLeft(t(document).scrollLeft()+i.scrollSpeed))),!1!==n&&t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var r=this.items.length-1;r>=0;r--){var o=this.items[r],s=o.item[0],a=this._intersectsWithPointer(o);if(a&&(o.instance===this.currentContainer&&!(s==this.currentItem[0]||this.placeholder[1==a?"next":"prev"]()[0]==s||t.contains(this.placeholder[0],s)||"semi-dynamic"==this.options.type&&t.contains(this.element[0],s)))){if(this.direction=1==a?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(o))break;this._rearrange(e,o),this._trigger("change",e,this._uiHash());break}}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,r=this.placeholder.offset();this.reverting=!0,t(this.helper).animate({left:r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,(function(){n._clear(e)}))}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each((function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))})),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each((function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")})),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,u=this.offset.click.left,d=n+c>a&&n+c<l&&e+u>o&&e+u<s;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?d:o<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<s&&a<n+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var i="x"===this.options.axis||t.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||t.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=i&&n,o=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return!!r&&(this.floating?s&&"right"==s||"down"==o?2:1:o&&("down"==o?2:1))},_intersectsWithSides:function(e){
var i=t.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=t.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"==o&&n||"left"==o&&!n:r&&("down"==r&&i||"up"==r&&!i)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!=t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!=t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor==String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var i=[],n=[],r=this._connectWith();if(r&&e)for(var o=r.length-1;o>=0;o--)for(var s=t(r[o]),a=s.length-1;a>=0;a--){var l=t.data(s[a],this.widgetName);l&&l!=this&&!l.options.disabled&&n.push([t.isFunction(l.options.items)?l.options.items.call(l.element):t(l.options.items,l.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),l])}n.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(o=n.length-1;o>=0;o--)n[o][0].each((function(){i.push(this)}));return t(i)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,(function(t){for(var i=0;i<e.length;i++)if(e[i]==t.item[0])return!1;return!0}))},_refreshItems:function(e){this.items=[],this.containers=[this];var i=this.items,n=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],r=this._connectWith();if(r&&this.ready)for(var o=r.length-1;o>=0;o--)for(var s=t(r[o]),a=s.length-1;a>=0;a--){var l=t.data(s[a],this.widgetName);l&&l!=this&&!l.options.disabled&&(n.push([t.isFunction(l.options.items)?l.options.items.call(l.element[0],e,{item:this.currentItem}):t(l.options.items,l.element),l]),this.containers.push(l))}for(o=n.length-1;o>=0;o--)for(var c=n[o][1],u=n[o][0],d=(a=0,u.length);a<d;a++){var h=t(u[a]);h.data(this.widgetName+"-item",c),i.push({item:h,instance:c,width:0,height:0,left:0,top:0})}},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var i=this.items.length-1;i>=0;i--){var n=this.items[i];if(n.instance==this.currentContainer||!this.currentContainer||n.item[0]==this.currentItem[0]){var r=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item;e||(n.width=r.outerWidth(),n.height=r.outerHeight());var o=r.offset();n.left=o.left,n.top=o.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--){o=this.containers[i].element.offset();this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight()}return this},_createPlaceholder:function(e){var i=(e=e||this).options;if(!i.placeholder||i.placeholder.constructor==String){var n=i.placeholder;i.placeholder={element:function(){var i=t(document.createElement(e.currentItem[0].nodeName)).addClass(n||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return n||(i.style.visibility="hidden"),i},update:function(t,r){n&&!i.forcePlaceholderSize||(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}}e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_contactContainers:function(e){for(var i=null,n=null,r=this.containers.length-1;r>=0;r--)if(!t.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(i&&t.contains(this.containers[r].element[0],i.element[0]))continue;i=this.containers[r],n=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",e,this._uiHash(this)),this.containers[r].containerCache.over=0);if(i)if(1===this.containers.length)this.containers[n]._trigger("over",e,this._uiHash(this)),this.containers[n].containerCache.over=1;else{for(var o=1e4,s=null,a=this.containers[n].floating?"left":"top",l=this.containers[n].floating?"width":"height",c=this.positionAbs[a]+this.offset.click[a],u=this.items.length-1;u>=0;u--)if(t.contains(this.containers[n].element[0],this.items[u].item[0])&&this.items[u].item[0]!=this.currentItem[0]){var d=this.items[u].item.offset()[a],h=!1;Math.abs(d-c)>Math.abs(d+this.items[u][l]-c)&&(h=!0,d+=this.items[u][l]),Math.abs(d-c)<o&&(o=Math.abs(d-c),s=this.items[u],this.direction=h?"up":"down")}if(!s&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[n],s?this._rearrange(e,s,null,!0):this._rearrange(e,null,this.containers[n].element,!0),this._trigger("change",e,this._uiHash()),this.containers[n]._trigger("change",e,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[n]._trigger("over",e,this._uiHash(this)),this.containers[n].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"==i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!=i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(""==n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if("parent"==e.containment&&(e.containment=this.helper[0].parentNode),"document"!=e.containment&&"window"!=e.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"==e.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"==e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(e.containment)){var i=t(e.containment)[0],n=t(e.containment).offset(),r="hidden"!=t(i).css("overflow");this.containment=[n.left+(parseInt(t(i).css("borderLeftWidth"),10)||0)+(parseInt(t(i).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(i).css("borderTopWidth"),10)||0)+(parseInt(t(i).css("paddingTop"),10)||0)-this.margins.top,n.left+(r?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(t(i).css("borderLeftWidth"),10)||0)-(parseInt(t(i).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(r?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(t(i).css("borderTopWidth"),10)||0)-(parseInt(t(i).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"==e?1:-1,r=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),o=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*n}},_generatePosition:function(e){var i=this.options,n="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(n[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var o=e.pageX,s=e.pageY;if(this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),i.grid)){var a=this.originalPageY+Math.round((s-this.originalPageY)/i.grid[1])*i.grid[1];s=this.containment&&(a-this.offset.click.top<this.containment[1]||a-this.offset.click.top>this.containment[3])?a-this.offset.click.top<this.containment[1]?a+i.grid[1]:a-i.grid[1]:a;var l=this.originalPageX+Math.round((o-this.originalPageX)/i.grid[0])*i.grid[0];o=this.containment&&(l-this.offset.click.left<this.containment[0]||l-this.offset.click.left>this.containment[2])?l-this.offset.click.left<this.containment[0]?l+i.grid[0]:l-i.grid[0]:l}return{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():r?0:n.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():r?0:n.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay((function(){r==this.counter&&this.refreshPositions(!n)}))},_clear:function(e,i){this.reverting=!1;var n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var r in this._storedCSS)"auto"!=this._storedCSS[r]&&"static"!=this._storedCSS[r]||(this._storedCSS[r]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!i&&n.push((function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||i||n.push((function(t){this._trigger("update",t,this._uiHash())})),this!==this.currentContainer&&(i||(n.push((function(t){this._trigger("remove",t,this._uiHash())})),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer))));for(r=this.containers.length-1;r>=0;r--)i||n.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over&&(n.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over=0);if(this._storedCursor&&t("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!i){this._trigger("beforeStop",e,this._uiHash());for(r=0;r<n.length;r++)n[r].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(i||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!i){for(r=0;r<n.length;r++)n[r].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})}(jQuery),function(t){function e(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.widget("ui.spinner",{version:"1.9.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},i=this.element;return t.each(["min","max","step"],(function(t,n){var r=i.attr(n);void 0!==r&&r.length&&(e[n]=r)})),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay((function(){this.spinning&&this._stop(t)}),100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=n,this._delay((function(){this.previous=n})))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,i.call(this)})),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var i=this.options,n=t.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,i.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay((function(){this._repeat(40,e,i)}),t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:i})||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,n=this.options;return i=t-(e=null!==n.min?n.min:0),t=e+(i=Math.round(i/n.step)*n.step),t=parseFloat(t.toFixed(this._precision())),null!==n.max&&t>n.max?n.max:null!==n.min&&t<n.min?n.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(i))}"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),this._super(t,e),"disabled"===t&&(e?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:e((function(t){this._super(t),this._value(this.element.val())})),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(t,e){var i;""!==t&&null!==(i=this._parse(t))&&(e||(i=this._adjustValue(i)),t=this._format(i)),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e((function(t){this._stepUp(t)})),_stepUp:function(t){this._spin((t||1)*this.options.step)},stepDown:e((function(t){this._stepDown(t)})),_stepDown:function(t){this._spin((t||1)*-this.options.step)},pageUp:e((function(t){this._stepUp((t||1)*this.options.page)})),pageDown:e((function(t){this._stepDown((t||1)*this.options.page)})),value:function(t){if(!arguments.length)return this._parse(this.element.val());e(this._value).call(this,t)},widget:function(){return this.uiSpinner}})}(jQuery),function(t,e){function i(){return++o}function n(t){return t.hash.length>1&&t.href.replace(s,"")===location.href.replace(s,"").replace(/\s/g,"%20")}var r,o=0,s=/#.*$/;t.widget("ui.tabs",{version:"1.9.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var e=this,i=this.options,n=i.active,r=location.hash.substring(1);this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,(function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()})).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,(function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()})),this._processTabs(),null===n&&(r&&this.tabs.each((function(e,i){if(t(i).attr("aria-controls")===r)return n=e,!1})),null===n&&(n=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==n&&-1!==n||(n=!!this.tabs.length&&0)),!1!==n&&-1===(n=this.tabs.index(this.tabs.eq(n)))&&(n=!i.collapsible&&0),i.active=n,!i.collapsible&&!1===i.active&&this.anchors.length&&(i.active=0),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),(function(t){return e.tabs.index(t)})))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(this.options.active):this.active=t(),this._refresh(),this.active.length&&this.load(i.active)},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,r),e.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay((function(){this.option("active",n)}),this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function n(){return e>r&&(e=0),e<0&&(e=r),e}for(var r=this.tabs.length-1;-1!==t.inArray(n(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){"active"!==t?"disabled"!==t?(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._setupDisabled(e):this._activate(e)},_tabId:function(t){return t.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),(function(t){return i.index(t)})),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map((function(){return t("a",this)[0]})).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each((function(i,r){var o,s,a,l=t(r).uniqueId().attr("id"),c=t(r).closest("li"),u=c.attr("aria-controls");n(r)?(o=r.hash,s=e.element.find(e._sanitizeSelector(o))):(o="#"+(a=e._tabId(c)),(s=e.element.find(o)).length||(s=e._createPanel(a)).insertAfter(e.panels[i-1]||e.tablist),s.attr("aria-live","polite")),s.length&&(e.panels=e.panels.add(s)),u&&c.data("ui-tabs-aria-controls",u),c.attr({"aria-controls":o.substring(1),"aria-labelledby":l}),s.attr("aria-labelledby",l)})),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,n=0;i=this.tabs[n];n++)!0===e||-1!==t.inArray(n,e)?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={click:function(t){t.preventDefault()}};e&&t.each(e.split(" "),(function(t,e){i[e]="_eventHandler"})),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,n,r=this.element.parent();"fill"===e?(t.support.minHeight||(n=r.css("overflow"),r.css("overflow","hidden")),i=r.height(),this.element.siblings(":visible").each((function(){var e=t(this),n=e.css("position");"absolute"!==n&&"fixed"!==n&&(i-=e.outerHeight(!0))})),n&&r.css("overflow",n),this.element.children().not(this.panels).each((function(){i-=t(this).outerHeight(!0)})),this.panels.each((function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))})).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each((function(){i=Math.max(i,t(this).height("").height())})).height(i))},_eventHandler:function(e){var i=this.options,n=this.active,r=t(e.currentTarget).closest("li"),o=r[0]===n[0],s=o&&i.collapsible,a=s?t():this._getPanelForTab(r),l=n.length?this._getPanelForTab(n):t(),c={oldTab:n,oldPanel:l,newTab:s?t():r,newPanel:a};e.preventDefault(),r.hasClass("ui-state-disabled")||r.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||!1===this._trigger("beforeActivate",e,c)||(i.active=!s&&this.tabs.index(r),this.active=o?t():r,this.xhr&&this.xhr.abort(),l.length||a.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(r),e),this._toggle(e,c))},_toggle:function(e,i){function n(){o.running=!1,o._trigger("activate",e,i)}function r(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),s.length&&o.options.show?o._show(s,o.options.show,n):(s.show(),n())}var o=this,s=i.newPanel,a=i.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,(function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r()})):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),r()),a.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),s.length&&a.length?i.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter((function(){return 0===t(this).attr("tabIndex")})).attr("tabIndex",-1),s.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(e){var i,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeData("href.tabs").removeData("load.tabs").removeUniqueId(),this.tabs.add(this.panels).each((function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")})),this.tabs.each((function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i):e.removeAttr("aria-controls")})),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var n=this.options.disabled;!1!==n&&(i===e?n=!1:(i=this._getIndex(i),n=t.isArray(n)?t.map(n,(function(t){return t!==i?t:null})):t.map(this.tabs,(function(t,e){return e!==i?e:null}))),this._setupDisabled(n))},disable:function(i){var n=this.options.disabled;if(!0!==n){if(i===e)n=!0;else{if(i=this._getIndex(i),-1!==t.inArray(i,n))return;n=t.isArray(n)?t.merge([i],n).sort():[i]}this._setupDisabled(n)}},load:function(e,i){e=this._getIndex(e);var r=this,o=this.tabs.eq(e),s=o.find(".ui-tabs-anchor"),a=this._getPanelForTab(o),l={tab:o,panel:a};n(s[0])||(this.xhr=t.ajax(this._ajaxSettings(s,i,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(o.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.success((function(t){setTimeout((function(){a.html(t),r._trigger("load",i,l)}),1)})).complete((function(t,e){setTimeout((function(){"abort"===e&&r.panels.stop(!1,!0),o.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),t===r.xhr&&delete r.xhr}),1)}))))},_ajaxSettings:function(e,i,n){var r=this;return{url:e.attr("href"),beforeSend:function(e,o){return r._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},n))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),!1!==t.uiBackCompat&&(t.ui.tabs.prototype._ui=function(t,e){return{tab:t,panel:e,index:this.anchors.index(t)}},t.widget("ui.tabs",t.ui.tabs,{url:function(t,e){this.anchors.eq(t).attr("href",e)}}),t.widget("ui.tabs",t.ui.tabs,{options:{ajaxOptions:null,cache:!1},_create:function(){this._super();var e=this;this._on({tabsbeforeload:function(i,n){t.data(n.tab[0],"cache.tabs")?i.preventDefault():n.jqXHR.success((function(){
e.options.cache&&t.data(n.tab[0],"cache.tabs",!0)}))}})},_ajaxSettings:function(e,i,n){var r=this.options.ajaxOptions;return t.extend({},r,{error:function(t,e){try{r.error(t,e,n.tab.closest("li").index(),n.tab[0])}catch(t){}}},this._superApply(arguments))},_setOption:function(t,e){"cache"===t&&!1===e&&this.anchors.removeData("cache.tabs"),this._super(t,e)},_destroy:function(){this.anchors.removeData("cache.tabs"),this._super()},url:function(t){this.anchors.eq(t).removeData("cache.tabs"),this._superApply(arguments)}}),t.widget("ui.tabs",t.ui.tabs,{abort:function(){this.xhr&&this.xhr.abort()}}),t.widget("ui.tabs",t.ui.tabs,{options:{spinner:"<em>Loading&#8230;</em>"},_create:function(){this._super(),this._on({tabsbeforeload:function(t,e){if(t.target===this.element[0]&&this.options.spinner){var i=e.tab.find("span"),n=i.html();i.html(this.options.spinner),e.jqXHR.complete((function(){i.html(n)}))}}})}}),t.widget("ui.tabs",t.ui.tabs,{options:{enable:null,disable:null},enable:function(e){var i,n=this.options;(e&&!0===n.disabled||t.isArray(n.disabled)&&-1!==t.inArray(e,n.disabled))&&(i=!0),this._superApply(arguments),i&&this._trigger("enable",null,this._ui(this.anchors[e],this.panels[e]))},disable:function(e){var i,n=this.options;(e&&!1===n.disabled||t.isArray(n.disabled)&&-1===t.inArray(e,n.disabled))&&(i=!0),this._superApply(arguments),i&&this._trigger("disable",null,this._ui(this.anchors[e],this.panels[e]))}}),t.widget("ui.tabs",t.ui.tabs,{options:{add:null,remove:null,tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},add:function(i,n,r){r===e&&(r=this.anchors.length);var o,s,a=this.options,l=t(a.tabTemplate.replace(/#\{href\}/g,i).replace(/#\{label\}/g,n)),c=i.indexOf("#")?this._tabId(l):i.replace("#","");return l.addClass("ui-state-default ui-corner-top").data("ui-tabs-destroy",!0),l.attr("aria-controls",c),o=r>=this.tabs.length,(s=this.element.find("#"+c)).length||(s=this._createPanel(c),o?r>0?s.insertAfter(this.panels.eq(-1)):s.appendTo(this.element):s.insertBefore(this.panels[r])),s.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").hide(),o?l.appendTo(this.tablist):l.insertBefore(this.tabs[r]),a.disabled=t.map(a.disabled,(function(t){return t>=r?++t:t})),this.refresh(),1===this.tabs.length&&!1===a.active&&this.option("active",0),this._trigger("add",null,this._ui(this.anchors[r],this.panels[r])),this},remove:function(e){e=this._getIndex(e);var i=this.options,n=this.tabs.eq(e).remove(),r=this._getPanelForTab(n).remove();return n.hasClass("ui-tabs-active")&&this.anchors.length>2&&this._activate(e+(e+1<this.anchors.length?1:-1)),i.disabled=t.map(t.grep(i.disabled,(function(t){return t!==e})),(function(t){return t>=e?--t:t})),this.refresh(),this._trigger("remove",null,this._ui(n.find("a")[0],r[0])),this}}),t.widget("ui.tabs",t.ui.tabs,{length:function(){return this.anchors.length}}),t.widget("ui.tabs",t.ui.tabs,{options:{idPrefix:"ui-tabs-"},_tabId:function(e){var n=e.is("li")?e.find("a[href]"):e;return n=n[0],t(n).closest("li").attr("aria-controls")||n.title&&n.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF\-]/g,"")||this.options.idPrefix+i()}}),t.widget("ui.tabs",t.ui.tabs,{options:{panelTemplate:"<div></div>"},_createPanel:function(e){return t(this.options.panelTemplate).attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)}}),t.widget("ui.tabs",t.ui.tabs,{_create:function(){var t=this.options;null===t.active&&t.selected!==e&&(t.active=-1!==t.selected&&t.selected),this._super(),t.selected=t.active,!1===t.selected&&(t.selected=-1)},_setOption:function(t,e){if("selected"!==t)return this._super(t,e);var i=this.options;this._super("active",-1!==e&&e),i.selected=i.active,!1===i.selected&&(i.selected=-1)},_eventHandler:function(){this._superApply(arguments),this.options.selected=this.options.active,!1===this.options.selected&&(this.options.selected=-1)}}),t.widget("ui.tabs",t.ui.tabs,{options:{show:null,select:null},_create:function(){this._super(),!1!==this.options.active&&this._trigger("show",null,this._ui(this.active.find(".ui-tabs-anchor")[0],this._getPanelForTab(this.active)[0]))},_trigger:function(t,e,i){var n,r,o=this._superApply(arguments);return!!o&&("beforeActivate"===t?(n=i.newTab.length?i.newTab:i.oldTab,r=i.newPanel.length?i.newPanel:i.oldPanel,o=this._super("select",e,{tab:n.find(".ui-tabs-anchor")[0],panel:r[0],index:n.closest("li").index()})):"activate"===t&&i.newTab.length&&(o=this._super("show",e,{tab:i.newTab.find(".ui-tabs-anchor")[0],panel:i.newPanel[0],index:i.newTab.closest("li").index()})),o)}}),t.widget("ui.tabs",t.ui.tabs,{select:function(t){if(-1===(t=this._getIndex(t))){if(!this.options.collapsible||-1===this.options.selected)return;t=this.options.selected}this.anchors.eq(t).trigger(this.options.event+this.eventNamespace)}}),r=0,t.widget("ui.tabs",t.ui.tabs,{options:{cookie:null},_create:function(){var t,e=this.options;null==e.active&&e.cookie&&(-1===(t=parseInt(this._cookie(),10))&&(t=!1),e.active=t),this._super()},_cookie:function(e){var i=[this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++r)];return arguments.length&&(i.push(!1===e?-1:e),i.push(this.options.cookie)),t.cookie.apply(null,i)},_refresh:function(){this._super(),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_eventHandler:function(){this._superApply(arguments),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_destroy:function(){this._super(),this.options.cookie&&this._cookie(null,this.options.cookie)}}),t.widget("ui.tabs",t.ui.tabs,{_trigger:function(e,i,n){var r=t.extend({},n);return"load"===e&&(r.panel=r.panel[0],r.tab=r.tab.find(".ui-tabs-anchor")[0]),this._super(e,i,r)}}),t.widget("ui.tabs",t.ui.tabs,{options:{fx:null},_getFx:function(){var e,i,n=this.options.fx;return n&&(t.isArray(n)?(e=n[0],i=n[1]):e=i=n),n?{show:i,hide:e}:null},_toggle:function(t,e){function i(){r.running=!1,r._trigger("activate",t,e)}function n(){e.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&a.show?o.animate(a.show,a.show.duration,(function(){i()})):(o.show(),i())}var r=this,o=e.newPanel,s=e.oldPanel,a=this._getFx();if(!a)return this._super(t,e);r.running=!0,s.length&&a.hide?s.animate(a.hide,a.hide.duration,(function(){e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()})):(e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s.hide(),n())}}))}(jQuery),function(t){function e(e,i){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(n.join(" ")))}function i(e){var i=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(i,n);-1!==r&&n.splice(r,1),e.removeData("ui-tooltip-id"),(n=t.trim(n.join(" ")))?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")}var n=0;t.widget("ui.tooltip",{version:"1.9.2",options:{content:function(){return t(this).attr("title")},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(e,i){var n=this;if("disabled"===e)return this[i?"_disable":"_enable"](),void(this.options[e]=i);this._super(e,i),"content"===e&&t.each(this.tooltips,(function(t,e){n._updateContent(e)}))},_disable:function(){var e=this;t.each(this.tooltips,(function(i,n){var r=t.Event("blur");r.target=r.currentTarget=n[0],e.close(r,!0)})),this.element.find(this.options.items).andSelf().each((function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).attr("title","")}))},_enable:function(){this.element.find(this.options.items).andSelf().each((function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}))},open:function(e){var i=this,n=t(e?e.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&n.parents().each((function(){var e,n=t(this);n.data("ui-tooltip-open")&&((e=t.Event("blur")).target=e.currentTarget=this,i.close(e,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))})),this._updateContent(n,e))},_updateContent:function(t,e){var i,n=this.options.content,r=this,o=e?e.type:null;if("string"==typeof n)return this._open(e,t,n);(i=n.call(t[0],(function(i){t.data("ui-tooltip-open")&&r._delay((function(){e&&(e.type=o),this._open(e,t,i)}))})))&&this._open(e,t,i)},_open:function(i,n,r){function o(t){c.of=t,s.is(":hidden")||s.position(c)}var s,a,l,c=t.extend({},this.options.position);r&&((s=this._find(n)).length?s.find(".ui-tooltip-content").html(r):(n.is("[title]")&&(i&&"mouseover"===i.type?n.attr("title",""):n.removeAttr("title")),s=this._tooltip(n),e(n,s.attr("id")),s.find(".ui-tooltip-content").html(r),this.options.track&&i&&/^mouse/.test(i.type)?(this._on(this.document,{mousemove:o}),o(i)):s.position(t.extend({of:n},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.show&&this.options.show.delay&&(l=setInterval((function(){s.is(":visible")&&(o(c.of),clearInterval(l))}),t.fx.interval)),this._trigger("open",i,{tooltip:s}),a={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}},remove:function(){this._removeTooltip(s)}},i&&"mouseover"!==i.type||(a.mouseleave="close"),i&&"focusin"!==i.type||(a.focusout="close"),this._on(!0,n,a)))},close:function(e){var n=this,r=t(e?e.currentTarget:this.element),o=this._find(r);this.closing||(r.data("ui-tooltip-title")&&r.attr("title",r.data("ui-tooltip-title")),i(r),o.stop(!0),this._hide(o,this.options.hide,(function(){n._removeTooltip(t(this))})),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,(function(e,i){t(i.element).attr("title",i.title),delete n.parents[e]})),this.closing=!0,this._trigger("close",e,{tooltip:o}),this.closing=!1)},_tooltip:function(e){var i="ui-tooltip-"+n++,r=t("<div>").attr({id:i,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return t("<div>").addClass("ui-tooltip-content").appendTo(r),r.appendTo(this.document[0].body),t.fn.bgiframe&&r.bgiframe(),this.tooltips[i]=e,r},_find:function(e){var i=e.data("ui-tooltip-id");return i?t("#"+i):t()},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,(function(i,n){var r=t.Event("blur");r.target=r.currentTarget=n[0],e.close(r,!0),t("#"+i).remove(),n.data("ui-tooltip-title")&&(n.attr("title",n.data("ui-tooltip-title")),n.removeData("ui-tooltip-title"))}))}})}(jQuery),function(t){"use strict";t.ajaxPrefilter((function(t){if(t.iframe)return t.originalURL=t.url,"iframe"})),t.ajaxTransport("iframe",(function(e,i,n){function r(){l.each((function(e,i){var n=t(i);n.data("clone").replaceWith(n)})),o.remove(),s.one("load",(function(){s.remove()})),s.attr("src","about:blank")}var o=null,s=null,a="iframe-"+t.now(),l=t(e.files).filter(":file:enabled"),c=null;if(e.dataTypes.shift(),e.data=i.data,l.length)return o=t("<form enctype='multipart/form-data' method='post'></form>").hide().attr({action:e.originalURL,target:a}),"string"==typeof e.data&&e.data.length>0&&t.error("data must not be serialized"),t.each(e.data||{},(function(e,i){t.isPlainObject(i)&&(e=i.name,i=i.value),t("<input type='hidden' />").attr({name:e,value:i}).appendTo(o)})),t("<input type='hidden' value='IFrame' name='X-Requested-With' />").appendTo(o),c=e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+("*"!==e.dataTypes[0]?", */*; q=0.01":""):e.accepts["*"],t("<input type='hidden' name='X-HTTP-Accept'>").attr("value",c).appendTo(o),l.after((function(){var e=t(this),i=e.clone().prop("disabled",!0);return e.data("clone",i),i})).next(),l.appendTo(o),{send:function(e,i){(s=t("<iframe src='about:blank' name='"+a+"' id='"+a+"' style='display:none'></iframe>")).one("load",(function(){s.one("load",(function(){var t=this.contentWindow?this.contentWindow.document:this.contentDocument?this.contentDocument:this.document,e=t.documentElement?t.documentElement:t.body,o=e.getElementsByTagName("textarea")[0],s=o&&o.getAttribute("data-type")||null,a=o&&o.getAttribute("data-status")||200,l=o&&o.getAttribute("data-statusText")||"OK",c={text:s?o.value:e?e.textContent||e.innerText:null};r(),n.responseText||(n.responseText=c.text),i(a,l,c,s?"Content-Type: "+s:null)})),o[0].submit()})),t("body").append(o,s)},abort:function(){null!==s&&(s.unbind("load").attr("src","about:blank"),r())}}}))}(jQuery),function(t){var e;t.remotipart=e={setup:function(i){var n=i.data("ujs:submit-button"),r=t('meta[name="csrf-param"]').attr("content"),o=t('meta[name="csrf-token"]').attr("content"),s=i.find('input[name="'+r+'"]').length;i.one("ajax:beforeSend.remotipart",(function(a,l,c){return delete c.beforeSend,c.iframe=!0,c.files=t(t.rails.fileInputSelector,i),c.data=i.serializeArray(),n&&c.data.push(n),c.files.each((function(t,e){for(var i=c.data.length-1;i>=0;i--)c.data[i].name==e.name&&c.data.splice(i,1)})),c.processData=!1,void 0===c.dataType&&(c.dataType="script *"),c.data.push({name:"remotipart_submitted",value:!0}),o&&r&&!s&&c.data.push({name:r,value:o}),t.rails.fire(i,"ajax:remotipartSubmit",[l,c])&&(t.rails.ajax(c).always((function(e){t.rails.fire(i,"ajax:remotipartComplete",[e])})),setTimeout((function(){t.rails.disableFormElements(i)}),20)),e.teardown(i),!1})).data("remotipartSubmitted",!0)},teardown:function(t){t.unbind("ajax:beforeSend.remotipart").removeData("remotipartSubmitted")}},t(document).on("ajax:aborted:file","form",(function(){var i=t(this);return e.setup(i),t.rails.handleRemote(i),!1}))}(jQuery),function(t){"use strict";var e=function(i,n){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,n)};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(t){var e="disabled",i=this.$element,n=i.is("input")?"val":"html",r=i.data();t+="Text",r.resetText||i.data("resetText",i[n]()),i[n](r[t]||this.options[t]),setTimeout((function(){"loadingText"==t?i.addClass(e).attr(e,e):i.removeClass(e).removeAttr(e)}),0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons"]');if(t.length){if(this.$element.closest("input").length>0)var e=this.$element.closest("input");else e=this.$element.find("input");e.prop("checked",!this.$element.hasClass("active")).trigger("change"),"radio"===e.prop("type")&&t.find(".active").removeClass("active")}this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=function(i){return this.each((function(){var n=t(this),r=n.data("bs.button"),o="object"==typeof i&&i;r||n.data("bs.button",r=new e(this,o)),"toggle"==i?r.toggle():i&&r.setState(i)}))},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",(function(e){var i=t(e.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle"),e.preventDefault()}))}(window.jQuery),function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,i,n){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n);for(var r=this.options.trigger.split(" "),o=r.length;o--;){var s=r[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focus",l="hover"==s?"mouseleave":"blur";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return(e=t.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,(function(t,n){i[t]!=n&&(e[t]=n)})),e},e.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(i.timeout),i.hoverState="in",!i.options.delay||!i.options.delay.show)return i.show();i.timeout=setTimeout((function(){"in"==i.hoverState&&i.show()}),i.options.delay.show)},e.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(i.timeout),i.hoverState="out",!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout((function(){"out"==i.hoverState&&i.hide()}),i.options.delay.hide)},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var i=this.tip();this.setContent(),this.options.animation&&i.addClass("fade");var n="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,r=/\s?auto?\s?/i,o=r.test(n);o&&(n=n.replace(r,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(n),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var s=this.getPosition(),a=i[0].offsetWidth,l=i[0].offsetHeight;if(o){var c=this.$element.parent(),u=n,d=document.documentElement.scrollTop||document.body.scrollTop,h="body"==this.options.container?window.innerWidth:c.outerWidth(),p="body"==this.options.container?window.innerHeight:c.outerHeight(),f="body"==this.options.container?0:c.offset().left;n="bottom"==n&&s.top+s.height+l-d>p?"top":"top"==n&&s.top-d-l<0?"bottom":"right"==n&&s.right+a>h?"left":"left"==n&&s.left-a<f?"right":n,i.removeClass(u).addClass(n)}var g=this.getCalculatedOffset(n,s,a,l);this.applyPlacement(g,n),this.$element.trigger("shown.bs."+this.type)}},e.prototype.applyPlacement=function(t,e){var i,n=this.tip(),r=n[0].offsetWidth,o=n[0].offsetHeight,s=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),t.top=t.top+s,t.left=t.left+a,n.offset(t).addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;if("top"==e&&c!=o&&(i=!0,t.top=t.top+o-c),/bottom|top/.test(e)){var u=0;t.left<0&&(u=-2*t.left,t.left=0,n.offset(t),l=n[0].offsetWidth,c=n[0].offsetHeight),this.replaceArrow(u-r+l,l,"left")}else this.replaceArrow(c-o,c,"top");i&&n.offset(t)},e.prototype.replaceArrow=function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=i.hoverState&&n.detach()}var i=this,n=this.tip(),r=t.Event("hide.bs."+this.type);if(this.$element.trigger(r),!r.isDefaultPrevented())return n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?n.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.$element.trigger("hidden.bs."+this.type),this},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var i=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)},e.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each((function(){var n=t(this),r=n.data("bs.tooltip"),o="object"==typeof i&&i;r||n.data("bs.tooltip",r=new e(this,o)),"string"==typeof i&&r[i]()}))},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(window.jQuery),function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var i=t.fn.popover;t.fn.popover=function(i){return this.each((function(){var n=t(this),r=n.data("bs.popover"),o="object"==typeof i&&i;r||n.data("bs.popover",r=new e(this,o)),"string"==typeof i&&r[i]()}))},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(window.jQuery),function(t){"use strict";var e=function(t,e){this.cinit("clickover",t,e)};e.prototype=t.extend({},t.fn.popover.Constructor.prototype,{constructor:e,cinit:function(e,i,n){this.attr={},this.attr.me=(10*Math.random()+"").replace(/\D/g,""),this.attr.click_event_ns="click."+this.attr.me+" touchstart."+this.attr.me,n||(n={}),n.trigger="manual",this.init(e,i,n),this.$element.on("click",this.options.selector,t.proxy(this.clickery,this))},clickery:function(e){if(e&&(e.preventDefault(),e.stopPropagation()),this.options.width&&this.tip().width(this.options.width),this.options.height&&this.tip().height(this.options.height),this.options.tip_id&&this.tip().attr("id",this.options.tip_id),this.options.class_name&&this.tip().addClass(this.options.class_name),this[this.isShown()?"hide":"show"](),this.isShown()){var i=this;this.options.global_close&&t("body").on(this.attr.click_event_ns,(function(t){i.tip().has(t.target).length||i.clickery()})),this.options.esc_close&&t(document).bind("keyup.clickery",(function(t){27==t.keyCode&&i.clickery()})),!this.options.allow_multiple&&t("[data-clickover-open=1]").each((function(){t(this).data("clickover")&&t(this).data("clickover").clickery()})),this.$element.attr("data-clickover-open",1),this.tip().on("click",'[data-dismiss="clickover"]',t.proxy(this.clickery,this)),this.options.auto_close&&this.options.auto_close>0&&(this.attr.tid=setTimeout(t.proxy(this.clickery,this),this.options.auto_close)),"function"==typeof this.options.onShown&&this.options.onShown.call(this),this.$element.trigger("shown")}else this.$element.removeAttr("data-clickover-open"),this.options.esc_close&&t(document).unbind("keyup.clickery"),t("body").off(this.attr.click_event_ns),"number"==typeof this.attr.tid&&(clearTimeout(this.attr.tid),delete this.attr.tid),"function"==typeof this.options.onHidden&&this.options.onHidden.call(this),this.$element.trigger("hidden")},isShown:function(){return this.tip().hasClass("in")},resetPosition:function(){var t,e,i,n,r,o,s;if(this.hasContent()&&this.enabled){switch(t=this.tip(),o="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,e=/in/.test(o),i=this.getPosition(e),n=t[0].offsetWidth,r=t[0].offsetHeight,e?o.split(" ")[1]:o){case"bottom":s={top:i.top+i.height,left:i.left+i.width/2-n/2};break;case"top":s={top:i.top-r,left:i.left+i.width/2-n/2};break;case"left":s={top:i.top+i.height/2-r/2,left:i.left-n};break;case"right":s={top:i.top+i.height/2-r/2,left:i.left+i.width}}t.css(s)}},debughide:function(){var t=(new Date).toString();console.log(t+": clickover hide"),this.hide()}}),t.fn.clickover=function(i){return this.each((function(){var n=t(this),r=n.data("clickover"),o="object"==typeof i&&i;r||n.data("clickover",r=new e(this,o)),"string"==typeof i&&r[i]()}))},t.fn.clickover.Constructor=e,t.fn.clickover.defaults=t.extend({},t.fn.popover.defaults,{trigger:"manual",auto_close:0,global_close:1,esc_close:1,onShown:null,onHidden:null,width:null,height:null,tip_id:null,class_name:"clickover",allow_multiple:0})}(window.jQuery),function(t){"use strict";var e=function(e,i){this.options=i,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var i=this,n=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop((function(){var n=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(document.body),i.$element.show(),n&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});n?i.$element.find(".modal-dialog").one(t.support.transition.end,(function(){i.$element.focus().trigger(r)})).emulateTransitionEnd(300):i.$element.focus().trigger(r)})))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy((function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()}),this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy((function(t){27==t.which&&this.hide()}),this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop((function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")}))},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$element.on("mousedown.dismiss.modal",t.proxy((function(e){e.target!==e.currentTarget||t(window).width()-e.pageX<=15||("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))}),this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var i=t.fn.modal;t.fn.modal=function(i,n){return this.each((function(){var r=t(this),o=r.data("bs.modal"),s=t.extend({},e.DEFAULTS,r.data(),"object"==typeof i&&i);o||r.data("bs.modal",o=new e(this,s)),"string"==typeof i?o[i](n):s.show&&o.show(n)}))},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(e){var i=t(this),n=i.attr("href"),r=t(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),o=r.data("modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},r.data(),i.data());e.preventDefault(),r.modal(o,this).one("hide",(function(){i.is(":visible")&&i.focus()}))})),t(document).on("show.bs.modal",".modal",(function(){t(document.body).addClass("modal-open")})).on("hidden.bs.modal",".modal",(function(){t(document.body).removeClass("modal-open")}))}(window.jQuery),function(t){"use strict";function e(){t(n).remove(),t(r).each((function(e){var n=i(t(this));n.hasClass("open")&&(n.trigger(e=t.Event("hide.bs.dropdown")),e.isDefaultPrevented()||n.removeClass("open").trigger("hidden.bs.dropdown"))}))}function i(e){var i=e.attr("data-target");i||(i=(i=e.attr("href"))&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}var n=".dropdown-backdrop",r="[data-toggle=dropdown]",o=function(e){t(e).on("click.bs.dropdown",this.toggle)};o.prototype.toggle=function(n){var r=t(this);if(!r.is(".disabled, :disabled")){var o=i(r),s=o.hasClass("open");if(e(),!s){if("ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e),o.trigger(n=t.Event("show.bs.dropdown")),n.isDefaultPrevented())return;o.toggleClass("open").trigger("shown.bs.dropdown"),r.focus()}return!1}},o.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var n=t(this);if(e.preventDefault(),e.stopPropagation(),!n.is(".disabled, :disabled")){var o=i(n),s=o.hasClass("open");if(!s||s&&27==e.keyCode)return 27==e.which&&o.find(r).focus(),n.click();var a=t("[role=menu] li:not(.divider):visible a",o);if(a.length){var l=a.index(a.filter(":focus"));38==e.keyCode&&l>0&&l--,40==e.keyCode&&l<a.length-1&&l++,~l||(l=0),a.eq(l).focus()}}}};var s=t.fn.dropdown;t.fn.dropdown=function(e){return this.each((function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new o(this)),"string"==typeof e&&n[e].call(i)}))},t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",(function(t){t.stopPropagation()})).on("click.bs.dropdown.data-api",r,o.prototype.toggle).on("keydown.bs.dropdown.data-api",r+", [role=menu]",o.prototype.keydown)}(jQuery),function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=i.find(".active:last a")[0],o=t.Event("show.bs.tab",{relatedTarget:r});if(e.trigger(o),!o.isDefaultPrevented()){var s=t(n);this.activate(e.parent("li"),i),this.activate(s,s.parent(),(function(){e.trigger({type:"shown.bs.tab",relatedTarget:r})}))}}},e.prototype.activate=function(e,i,n){function r(){
o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),s&&(e[0].offsetWidth,e.addClass("in")),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),n&&n()}var o=i.find("> .active"),s=n&&t.support.transition&&e.hasClass("fade");s&&o.length?o.one(t.support.transition.end,r).emulateTransitionEnd(150):r(),o.removeClass("in")};var i=t.fn.tab;t.fn.tab=function(i){return this.each((function(){var n=t(this),r=n.data("bs.tab");r||n.data("bs.tab",r=new e(this)),"string"==typeof i&&r[i]()}))},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',(function(e){e.preventDefault(),t(this).tab("show")}))}(jQuery),function(t){"use strict";var e=function(i,n){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,n),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var n=i.data("bs.collapse");if(n&&n.transitioning)return;i.collapse("hide"),n||i.data("bs.collapse",null)}var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("in")[r]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return o.call(this);var s=t.camelCase(["scroll",r].join("-"));this.$element.one(t.support.transition.end,t.proxy(o,this)).emulateTransitionEnd(350)[r](this.$element[0][s])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!t.support.transition)return n.call(this);this.$element[i](0).one(t.support.transition.end,t.proxy(n,this)).emulateTransitionEnd(350)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=t.fn.collapse;t.fn.collapse=function(i){return this.each((function(){var n=t(this),r=n.data("bs.collapse"),o=t.extend({},e.DEFAULTS,n.data(),"object"==typeof i&&i);r||n.data("bs.collapse",r=new e(this,o)),"string"==typeof i&&r[i]()}))},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",(function(e){var i,n=t(this),r=n.attr("data-target")||e.preventDefault()||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),o=t(r),s=o.data("bs.collapse"),a=s?"toggle":n.data(),l=n.attr("data-parent"),c=l&&t(l);s&&s.transitioning||(c&&c.find('[data-toggle=collapse][data-parent="'+l+'"]').not(n).addClass("collapsed"),n[o.hasClass("in")?"addClass":"removeClass"]("collapsed")),o.collapse(a)}))}(jQuery),function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]}}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;return t(this).one(t.support.transition.end,(function(){i=!0})),setTimeout((function(){i||t(n).trigger(t.support.transition.end)}),e),this},t((function(){t.support.transition=e()}))}(window.jQuery),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],(function(e){return t(e,window,document)})):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i||(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(i,e,e.document)}:t(jQuery,window,document)}((function(t,e,i,n){"use strict";function r(e){var i,n,o="a aa ai ao as b fn i m o s ",s={};t.each(e,(function(t){(i=t.match(/^([^A-Z]+?)([A-Z])/))&&-1!==o.indexOf(i[1]+" ")&&(n=t.replace(i[0],i[2].toLowerCase()),s[n]=t,"o"===i[1]&&r(e[t]))})),e._hungarianMap=s}function o(e,i,s){var a;e._hungarianMap||r(e),t.each(i,(function(r){(a=e._hungarianMap[r])===n||!s&&i[a]!==n||("o"===a.charAt(0)?(i[a]||(i[a]={}),t.extend(!0,i[a],i[r]),o(e[a],i[a],s)):i[a]=i[r])}))}function s(t){var e=Qt.defaults.oLanguage,i=t.sZeroRecords;!t.sEmptyTable&&i&&"No data available in table"===e.sEmptyTable&&Pt(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&i&&"Loading..."===e.sLoadingRecords&&Pt(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands);var n=t.sDecimal;n&&Ht(n)}function a(t){pe(t,"ordering","bSort"),pe(t,"orderMulti","bSortMulti"),pe(t,"orderClasses","bSortClasses"),pe(t,"orderCellsTop","bSortCellsTop"),pe(t,"order","aaSorting"),pe(t,"orderFixed","aaSortingFixed"),pe(t,"paging","bPaginate"),pe(t,"pagingType","sPaginationType"),pe(t,"pageLength","iDisplayLength"),pe(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),"boolean"==typeof t.scrollX&&(t.scrollX=t.scrollX?"100%":"");var e=t.aoSearchCols;if(e)for(var i=0,n=e.length;i<n;i++)e[i]&&o(Qt.models.oSearch,e[i])}function l(e){pe(e,"orderable","bSortable"),pe(e,"orderData","aDataSort"),pe(e,"orderSequence","asSorting"),pe(e,"orderDataType","sortDataType");var i=e.aDataSort;i&&!t.isArray(i)&&(e.aDataSort=[i])}function c(i){if(!Qt.__browser){var n={};Qt.__browser=n;var r=t("<div/>").css({position:"fixed",top:0,left:-1*t(e).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(t("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(t("<div/>").css({width:"100%",height:10}))).appendTo("body"),o=r.children(),s=o.children();n.barWidth=o[0].offsetWidth-o[0].clientWidth,n.bScrollOversize=100===s[0].offsetWidth&&100!==o[0].clientWidth,n.bScrollbarLeft=1!==Math.round(s.offset().left),n.bBounding=!!r[0].getBoundingClientRect().width,r.remove()}t.extend(i.oBrowser,Qt.__browser),i.oScroll.iBarWidth=Qt.__browser.barWidth}function u(t,e,i,r,o,s){var a,l=r,c=!1;for(i!==n&&(a=i,c=!0);l!==o;)t.hasOwnProperty(l)&&(a=c?e(a,t[l],l,t):t[l],c=!0,l+=s);return a}function d(e,n){var r=Qt.defaults.column,o=e.aoColumns.length,s=t.extend({},Qt.models.oColumn,r,{nTh:n||i.createElement("th"),sTitle:r.sTitle?r.sTitle:n?n.innerHTML:"",aDataSort:r.aDataSort?r.aDataSort:[o],mData:r.mData?r.mData:o,idx:o});e.aoColumns.push(s);var a=e.aoPreSearchCols;a[o]=t.extend({},Qt.models.oSearch,a[o]),h(e,o,t(n).data())}function h(e,i,r){var s=e.aoColumns[i],a=e.oClasses,c=t(s.nTh);if(!s.sWidthOrig){s.sWidthOrig=c.attr("width")||null;var u=(c.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);u&&(s.sWidthOrig=u[1])}r!==n&&null!==r&&(l(r),o(Qt.defaults.column,r),r.mDataProp===n||r.mData||(r.mData=r.mDataProp),r.sType&&(s._sManualType=r.sType),r.className&&!r.sClass&&(r.sClass=r.className),t.extend(s,r),Pt(s,r,"sWidth","sWidthOrig"),r.iDataSort!==n&&(s.aDataSort=[r.iDataSort]),Pt(s,r,"aDataSort"));var d=s.mData,h=j(d),p=s.mRender?j(s.mRender):null,f=function(t){return"string"==typeof t&&-1!==t.indexOf("@")};s._bAttrSrc=t.isPlainObject(d)&&(f(d.sort)||f(d.type)||f(d.filter)),s._setter=null,s.fnGetData=function(t,e,i){var r=h(t,e,n,i);return p&&e?p(r,e,t,i):r},s.fnSetData=function(t,e,i){return T(d)(t,e,i)},"number"!=typeof d&&(e._rowReadObject=!0),e.oFeatures.bSort||(s.bSortable=!1,c.addClass(a.sSortableNone));var g=-1!==t.inArray("asc",s.asSorting),m=-1!==t.inArray("desc",s.asSorting);s.bSortable&&(g||m)?g&&!m?(s.sSortingClass=a.sSortableAsc,s.sSortingClassJUI=a.sSortJUIAscAllowed):!g&&m?(s.sSortingClass=a.sSortableDesc,s.sSortingClassJUI=a.sSortJUIDescAllowed):(s.sSortingClass=a.sSortable,s.sSortingClassJUI=a.sSortJUI):(s.sSortingClass=a.sSortableNone,s.sSortingClassJUI="")}function p(t){if(!1!==t.oFeatures.bAutoWidth){var e=t.aoColumns;vt(t);for(var i=0,n=e.length;i<n;i++)e[i].nTh.style.width=e[i].sWidth}var r=t.oScroll;""===r.sY&&""===r.sX||gt(t),Rt(t,null,"column-sizing",[t])}function f(t,e){var i=v(t,"bVisible");return"number"==typeof i[e]?i[e]:null}function g(e,i){var n=v(e,"bVisible"),r=t.inArray(i,n);return-1!==r?r:null}function m(e){var i=0;return t.each(e.aoColumns,(function(e,n){n.bVisible&&"none"!==t(n.nTh).css("display")&&i++})),i}function v(e,i){var n=[];return t.map(e.aoColumns,(function(t,e){t[i]&&n.push(e)})),n}function y(t){var e,i,r,o,s,a,l,c,u,d=t.aoColumns,h=t.aoData,p=Qt.ext.type.detect;for(e=0,i=d.length;e<i;e++)if(u=[],!(l=d[e]).sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(r=0,o=p.length;r<o;r++){for(s=0,a=h.length;s<a&&(u[s]===n&&(u[s]=C(t,s,e,"type")),(c=p[r](u[s],t))||r===p.length-1)&&"html"!==c;s++);if(c){l.sType=c;break}}l.sType||(l.sType="string")}}function b(e,i,r,o){var s,a,l,c,u,h,p,f=e.aoColumns;if(i)for(s=i.length-1;s>=0;s--){var g=(p=i[s]).targets!==n?p.targets:p.aTargets;for(t.isArray(g)||(g=[g]),l=0,c=g.length;l<c;l++)if("number"==typeof g[l]&&g[l]>=0){for(;f.length<=g[l];)d(e);o(g[l],p)}else if("number"==typeof g[l]&&g[l]<0)o(f.length+g[l],p);else if("string"==typeof g[l])for(u=0,h=f.length;u<h;u++)("_all"==g[l]||t(f[u].nTh).hasClass(g[l]))&&o(u,p)}if(r)for(s=0,a=r.length;s<a;s++)o(s,r[s])}function _(e,i,r,o){var s=e.aoData.length,a=t.extend(!0,{},Qt.models.oRow,{src:r?"dom":"data",idx:s});a._aData=i,e.aoData.push(a);for(var l=e.aoColumns,c=0,u=l.length;c<u;c++)l[c].sType=null;e.aiDisplayMaster.push(s);var d=e.rowIdFn(i);return d!==n&&(e.aIds[d]=a),!r&&e.oFeatures.bDeferRender||O(e,s,r,o),s}function w(e,i){var n;return i instanceof t||(i=t(i)),i.map((function(t,i){return n=P(e,i),_(e,n.data,i,n.cells)}))}function x(t,e){return e._DT_RowIndex!==n?e._DT_RowIndex:null}function $(e,i,n){return t.inArray(n,e.aoData[i].anCells)}function C(t,e,i,r){var o=t.iDraw,s=t.aoColumns[i],a=t.aoData[e]._aData,l=s.sDefaultContent,c=s.fnGetData(a,r,{settings:t,row:e,col:i});if(c===n)return t.iDrawError!=o&&null===l&&(Et(t,0,"Requested unknown parameter "+("function"==typeof s.mData?"{function}":"'"+s.mData+"'")+" for row "+e+", column "+i,4),t.iDrawError=o),l;if(c!==a&&null!==c||null===l||r===n){if("function"==typeof c)return c.call(a)}else c=l;return null===c&&"display"==r?"":c}function k(t,e,i,n){var r=t.aoColumns[i],o=t.aoData[e]._aData;r.fnSetData(o,n,{settings:t,row:e,col:i})}function S(e){return t.map(e.match(/(\\.|[^\.])+/g)||[""],(function(t){return t.replace(/\\\./g,".")}))}function j(e){if(t.isPlainObject(e)){var i={};return t.each(e,(function(t,e){e&&(i[t]=j(e))})),function(t,e,r,o){var s=i[e]||i._;return s!==n?s(t,e,r,o):t}}if(null===e)return function(t){return t};if("function"==typeof e)return function(t,i,n,r){return e(t,i,n,r)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t){return t[e]};var r=function(e,i,o){var s,a,l,c;if(""!==o)for(var u=S(o),d=0,h=u.length;d<h;d++){if(s=u[d].match(fe),a=u[d].match(ge),s){if(u[d]=u[d].replace(fe,""),""!==u[d]&&(e=e[u[d]]),l=[],u.splice(0,d+1),c=u.join("."),t.isArray(e))for(var p=0,f=e.length;p<f;p++)l.push(r(e[p],i,c));var g=s[0].substring(1,s[0].length-1);e=""===g?l:l.join(g);break}if(a)u[d]=u[d].replace(ge,""),e=e[u[d]]();else{if(null===e||e[u[d]]===n)return n;e=e[u[d]]}}return e};return function(t,i){return r(t,i,e)}}function T(e){if(t.isPlainObject(e))return T(e._);if(null===e)return function(){};if("function"==typeof e)return function(t,i,n){e(t,"set",i,n)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t,i){t[e]=i};var i=function(e,r,o){for(var s,a,l,c,u,d=S(o),h=d[d.length-1],p=0,f=d.length-1;p<f;p++){if(a=d[p].match(fe),l=d[p].match(ge),a){if(d[p]=d[p].replace(fe,""),e[d[p]]=[],(s=d.slice()).splice(0,p+1),u=s.join("."),t.isArray(r))for(var g=0,m=r.length;g<m;g++)i(c={},r[g],u),e[d[p]].push(c);else e[d[p]]=r;return}l&&(d[p]=d[p].replace(ge,""),e=e[d[p]](r)),null!==e[d[p]]&&e[d[p]]!==n||(e[d[p]]={}),e=e[d[p]]}h.match(ge)?e=e[h.replace(ge,"")](r):e[h.replace(fe,"")]=r};return function(t,n){return i(t,n,e)}}function A(t){return ae(t.aoData,"_aData")}function D(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function I(t,e,i){for(var r=-1,o=0,s=t.length;o<s;o++)t[o]==e?r=o:t[o]>e&&t[o]--;-1!=r&&i===n&&t.splice(r,1)}function E(t,e,i,r){var o,s,a=t.aoData[e],l=function(i,n){for(;i.childNodes.length;)i.removeChild(i.firstChild);i.innerHTML=C(t,e,n,"display")};if("dom"!==i&&(i&&"auto"!==i||"dom"!==a.src)){var c=a.anCells;if(c)if(r!==n)l(c[r],r);else for(o=0,s=c.length;o<s;o++)l(c[o],o)}else a._aData=P(t,a,r,r===n?n:a._aData).data;a._aSortData=null,a._aFilterData=null;var u=t.aoColumns;if(r!==n)u[r].sType=null;else{for(o=0,s=u.length;o<s;o++)u[o].sType=null;F(t,a)}}function P(e,i,r,o){var s,a,l,c=[],u=i.firstChild,d=0,h=e.aoColumns,p=e._rowReadObject;o=o!==n?o:p?{}:[];var f=function(t,e){if("string"==typeof t){var i=t.indexOf("@");if(-1!==i){var n=t.substring(i+1);T(t)(o,e.getAttribute(n))}}},g=function(e){r!==n&&r!==d||(a=h[d],l=t.trim(e.innerHTML),a&&a._bAttrSrc?(T(a.mData._)(o,l),f(a.mData.sort,e),f(a.mData.type,e),f(a.mData.filter,e)):p?(a._setter||(a._setter=T(a.mData)),a._setter(o,l)):o[d]=l);d++};if(u)for(;u;)"TD"!=(s=u.nodeName.toUpperCase())&&"TH"!=s||(g(u),c.push(u)),u=u.nextSibling;else for(var m=0,v=(c=i.anCells).length;m<v;m++)g(c[m]);var y=i.firstChild?i:i.nTr;if(y){var b=y.getAttribute("id");b&&T(e.rowId)(o,b)}return{data:o,cells:c}}function O(e,n,r,o){var s,a,l,c,u,d=e.aoData[n],h=d._aData,p=[];if(null===d.nTr){for(s=r||i.createElement("tr"),d.nTr=s,d.anCells=p,s._DT_RowIndex=n,F(e,d),c=0,u=e.aoColumns.length;c<u;c++)l=e.aoColumns[c],(a=r?o[c]:i.createElement(l.sCellType))._DT_CellIndex={row:n,column:c},p.push(a),r&&!l.mRender&&l.mData===c||t.isPlainObject(l.mData)&&l.mData._===c+".display"||(a.innerHTML=C(e,n,c,"display")),l.sClass&&(a.className+=" "+l.sClass),l.bVisible&&!r?s.appendChild(a):!l.bVisible&&r&&a.parentNode.removeChild(a),l.fnCreatedCell&&l.fnCreatedCell.call(e.oInstance,a,C(e,n,c),h,n,c);Rt(e,"aoRowCreatedCallback",null,[s,h,n])}d.nTr.setAttribute("role","row")}function F(e,i){var n=i.nTr,r=i._aData;if(n){var o=e.rowIdFn(r);if(o&&(n.id=o),r.DT_RowClass){var s=r.DT_RowClass.split(" ");i.__rowc=i.__rowc?he(i.__rowc.concat(s)):s,t(n).removeClass(i.__rowc.join(" ")).addClass(r.DT_RowClass)}r.DT_RowAttr&&t(n).attr(r.DT_RowAttr),r.DT_RowData&&t(n).data(r.DT_RowData)}}function M(e){var i,n,r,o,s,a=e.nTHead,l=e.nTFoot,c=0===t("th, td",a).length,u=e.oClasses,d=e.aoColumns;for(c&&(o=t("<tr/>").appendTo(a)),i=0,n=d.length;i<n;i++)s=d[i],r=t(s.nTh).addClass(s.sClass),c&&r.appendTo(o),e.oFeatures.bSort&&(r.addClass(s.sSortingClass),!1!==s.bSortable&&(r.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),St(e,s.nTh,i))),s.sTitle!=r[0].innerHTML&&r.html(s.sTitle),qt(e,"header")(e,r,s,u);if(c&&z(e.aoHeader,a),t(a).find(">tr").attr("role","row"),t(a).find(">tr>th, >tr>td").addClass(u.sHeaderTH),t(l).find(">tr>th, >tr>td").addClass(u.sFooterTH),null!==l){var h=e.aoFooter[0];for(i=0,n=h.length;i<n;i++)(s=d[i]).nTf=h[i].cell,s.sClass&&t(s.nTf).addClass(s.sClass)}}function R(e,i,r){var o,s,a,l,c,u,d,h,p,f=[],g=[],m=e.aoColumns.length;if(i){for(r===n&&(r=!1),o=0,s=i.length;o<s;o++){for(f[o]=i[o].slice(),f[o].nTr=i[o].nTr,a=m-1;a>=0;a--)e.aoColumns[a].bVisible||r||f[o].splice(a,1);g.push([])}for(o=0,s=f.length;o<s;o++){if(d=f[o].nTr)for(;u=d.firstChild;)d.removeChild(u);for(a=0,l=f[o].length;a<l;a++)if(h=1,p=1,g[o][a]===n){for(d.appendChild(f[o][a].cell),g[o][a]=1;f[o+h]!==n&&f[o][a].cell==f[o+h][a].cell;)g[o+h][a]=1,h++;for(;f[o][a+p]!==n&&f[o][a].cell==f[o][a+p].cell;){for(c=0;c<h;c++)g[o+c][a+p]=1;p++}t(f[o][a].cell).attr("rowspan",h).attr("colspan",p)}}}}function N(e){var i=Rt(e,"aoPreDrawCallback","preDraw",[e]);if(-1===t.inArray(!1,i)){var r=[],o=0,s=e.asStripeClasses,a=s.length,l=(e.aoOpenRows.length,e.oLanguage),c=e.iInitDisplayStart,u="ssp"==Lt(e),d=e.aiDisplay;e.bDrawing=!0,c!==n&&-1!==c&&(e._iDisplayStart=u?c:c>=e.fnRecordsDisplay()?0:c,e.iInitDisplayStart=-1);var h=e._iDisplayStart,p=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,pt(e,!1);else if(u){if(!e.bDestroying&&!W(e))return}else e.iDraw++;if(0!==d.length)for(var f=u?0:h,g=u?e.aoData.length:p,v=f;v<g;v++){var y=d[v],b=e.aoData[y];null===b.nTr&&O(e,y);var _=b.nTr;if(0!==a){var w=s[o%a];b._sRowStripe!=w&&(t(_).removeClass(b._sRowStripe).addClass(w),b._sRowStripe=w)}Rt(e,"aoRowCallback",null,[_,b._aData,o,v]),r.push(_),o++}else{var x=l.sZeroRecords;1==e.iDraw&&"ajax"==Lt(e)?x=l.sLoadingRecords:l.sEmptyTable&&0===e.fnRecordsTotal()&&(x=l.sEmptyTable),r[0]=t("<tr/>",{class:a?s[0]:""}).append(t("<td />",{valign:"top",colSpan:m(e),class:e.oClasses.sRowEmpty}).html(x))[0]}Rt(e,"aoHeaderCallback","header",[t(e.nTHead).children("tr")[0],A(e),h,p,d]),Rt(e,"aoFooterCallback","footer",[t(e.nTFoot).children("tr")[0],A(e),h,p,d]);var $=t(e.nTBody);$.children().detach(),$.append(t(r)),Rt(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}else pt(e,!1)}function q(t,e){var i=t.oFeatures,n=i.bSort,r=i.bFilter;n&&$t(t),r?Y(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),!0!==e&&(t._iDisplayStart=0),t._drawHold=e,N(t),t._drawHold=!1}function L(e){var i=e.oClasses,n=t(e.nTable),r=t("<div/>").insertBefore(n),o=e.oFeatures,s=t("<div/>",{id:e.sTableId+"_wrapper",class:i.sWrapper+(e.nTFoot?"":" "+i.sNoFooter)});e.nHolding=r[0],e.nTableWrapper=s[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var a,l,c,u,d,h,p=e.sDom.split(""),f=0;f<p.length;f++){if(a=null,"<"==(l=p[f])){if(c=t("<div/>")[0],"'"==(u=p[f+1])||'"'==u){for(d="",h=2;p[f+h]!=u;)d+=p[f+h],h++;if("H"==d?d=i.sJUIHeader:"F"==d&&(d=i.sJUIFooter),-1!=d.indexOf(".")){var g=d.split(".");c.id=g[0].substr(1,g[0].length-1),c.className=g[1]}else"#"==d.charAt(0)?c.id=d.substr(1,d.length-1):c.className=d;f+=h}s.append(c),s=t(c)}else if(">"==l)s=s.parent();else if("l"==l&&o.bPaginate&&o.bLengthChange)a=ct(e);else if("f"==l&&o.bFilter)a=Q(e);else if("r"==l&&o.bProcessing)a=ht(e);else if("t"==l)a=ft(e);else if("i"==l&&o.bInfo)a=nt(e);else if("p"==l&&o.bPaginate)a=ut(e);else if(0!==Qt.ext.feature.length)for(var m=Qt.ext.feature,v=0,y=m.length;v<y;v++)if(l==m[v].cFeature){a=m[v].fnInit(e);break}if(a){var b=e.aanFeatures;b[l]||(b[l]=[]),b[l].push(a),s.append(a)}}r.replaceWith(s),e.nHolding=null}function z(e,i){var n,r,o,s,a,l,c,u,d,h,p,f=t(i).children("tr"),g=function(t,e,i){for(var n=t[e];n[i];)i++;return i};for(e.splice(0,e.length),o=0,l=f.length;o<l;o++)e.push([]);for(o=0,l=f.length;o<l;o++)for(u=0,r=(n=f[o]).firstChild;r;){if("TD"==r.nodeName.toUpperCase()||"TH"==r.nodeName.toUpperCase())for(d=(d=1*r.getAttribute("colspan"))&&0!==d&&1!==d?d:1,h=(h=1*r.getAttribute("rowspan"))&&0!==h&&1!==h?h:1,c=g(e,o,u),p=1===d,a=0;a<d;a++)for(s=0;s<h;s++)e[o+s][c+a]={cell:r,unique:p},e[o+s].nTr=n;r=r.nextSibling}}function H(t,e,i){var n=[];i||(i=t.aoHeader,e&&z(i=[],e));for(var r=0,o=i.length;r<o;r++)for(var s=0,a=i[r].length;s<a;s++)!i[r][s].unique||n[s]&&t.bSortCellsTop||(n[s]=i[r][s].cell);return n}function B(e,i,n){if(Rt(e,"aoServerParams","serverParams",[i]),i&&t.isArray(i)){var r={},o=/(.*?)\[\]$/;t.each(i,(function(t,e){var i=e.name.match(o);if(i){var n=i[0];r[n]||(r[n]=[]),r[n].push(e.value)}else r[e.name]=e.value})),i=r}var s,a=e.ajax,l=e.oInstance,c=function(t){Rt(e,null,"xhr",[e,t,e.jqXHR]),n(t)};if(t.isPlainObject(a)&&a.data){s=a.data;var u=t.isFunction(s)?s(i,e):s;i=t.isFunction(s)&&u?u:t.extend(!0,i,u),delete a.data}var d={data:i,success:function(t){var i=t.error||t.sError;i&&Et(e,0,i),e.json=t,c(t)},dataType:"json",cache:!1,type:e.sServerMethod,error:function(i,n){var r=Rt(e,null,"xhr",[e,null,e.jqXHR]);-1===t.inArray(!0,r)&&("parsererror"==n?Et(e,0,"Invalid JSON response",1):4===i.readyState&&Et(e,0,"Ajax error",7)),pt(e,!1)}};e.oAjaxData=i,Rt(e,null,"preXhr",[e,i]),e.fnServerData?e.fnServerData.call(l,e.sAjaxSource,t.map(i,(function(t,e){return{name:e,value:t}})),c,e):e.sAjaxSource||"string"==typeof a?e.jqXHR=t.ajax(t.extend(d,{url:a||e.sAjaxSource})):t.isFunction(a)?e.jqXHR=a.call(l,i,c,e):(e.jqXHR=t.ajax(t.extend(d,a)),a.data=s)}function W(t){return!t.bAjaxDataGet||(t.iDraw++,pt(t,!0),B(t,G(t),(function(e){U(t,e)})),!1)}function G(e){var i,n,r,o,s=e.aoColumns,a=s.length,l=e.oFeatures,c=e.oPreviousSearch,u=e.aoPreSearchCols,d=[],h=xt(e),p=e._iDisplayStart,f=!1!==l.bPaginate?e._iDisplayLength:-1,g=function(t,e){d.push({name:t,value:e})};g("sEcho",e.iDraw),g("iColumns",a),g("sColumns",ae(s,"sName").join(",")),g("iDisplayStart",p),g("iDisplayLength",f);var m={draw:e.iDraw,columns:[],order:[],start:p,length:f,search:{value:c.sSearch,regex:c.bRegex}};for(i=0;i<a;i++)r=s[i],o=u[i],n="function"==typeof r.mData?"function":r.mData,m.columns.push({data:n,name:r.sName,searchable:r.bSearchable,orderable:r.bSortable,search:{value:o.sSearch,regex:o.bRegex}}),g("mDataProp_"+i,n),l.bFilter&&(g("sSearch_"+i,o.sSearch),g("bRegex_"+i,o.bRegex),g("bSearchable_"+i,r.bSearchable)),l.bSort&&g("bSortable_"+i,r.bSortable);l.bFilter&&(g("sSearch",c.sSearch),g("bRegex",c.bRegex)),l.bSort&&(t.each(h,(function(t,e){m.order.push({column:e.col,dir:e.dir}),g("iSortCol_"+t,e.col),g("sSortDir_"+t,e.dir)})),g("iSortingCols",h.length));var v=Qt.ext.legacy.ajax;return null===v?e.sAjaxSource?d:m:v?d:m}function U(t,e){var i=function(t,i){return e[t]!==n?e[t]:e[i]},r=V(t,e),o=i("sEcho","draw"),s=i("iTotalRecords","recordsTotal"),a=i("iTotalDisplayRecords","recordsFiltered");if(o){if(1*o<t.iDraw)return;t.iDraw=1*o}D(t),t._iRecordsTotal=parseInt(s,10),t._iRecordsDisplay=parseInt(a,10);for(var l=0,c=r.length;l<c;l++)_(t,r[l]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,N(t),t._bInitComplete||at(t,e),t.bAjaxDataGet=!0,pt(t,!1)}function V(e,i){var r=t.isPlainObject(e.ajax)&&e.ajax.dataSrc!==n?e.ajax.dataSrc:e.sAjaxDataProp;return"data"===r?i.aaData||i[r]:""!==r?j(r)(i):i}function Q(e){var n=e.oClasses,r=e.sTableId,o=e.oLanguage,s=e.oPreviousSearch,a=e.aanFeatures,l='<input type="search" class="'+n.sFilterInput+'"/>',c=o.sSearch;c=c.match(/_INPUT_/)?c.replace("_INPUT_",l):c+l;var u=t("<div/>",{id:a.f?null:r+"_filter",class:n.sFilter}).append(t("<label/>").append(c)),d=function(){a.f;var t=this.value?this.value:"";t!=s.sSearch&&(Y(e,{sSearch:t,bRegex:s.bRegex,bSmart:s.bSmart,bCaseInsensitive:s.bCaseInsensitive}),e._iDisplayStart=0,N(e))},h=null!==e.searchDelay?e.searchDelay:"ssp"===Lt(e)?400:0,p=t("input",u).val(s.sSearch).attr("placeholder",o.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",h?_e(d,h):d).on("keypress.DT",(function(t){if(13==t.keyCode)return!1})).attr("aria-controls",r);return t(e.nTable).on("search.dt.DT",(function(t,n){if(e===n)try{p[0]!==i.activeElement&&p.val(s.sSearch)}catch(t){}})),u[0]}function Y(t,e,i){var r=t.oPreviousSearch,o=t.aoPreSearchCols,s=function(t){r.sSearch=t.sSearch,r.bRegex=t.bRegex,r.bSmart=t.bSmart,r.bCaseInsensitive=t.bCaseInsensitive},a=function(t){return t.bEscapeRegex!==n?!t.bEscapeRegex:t.bRegex};if(y(t),"ssp"!=Lt(t)){J(t,e.sSearch,i,a(e),e.bSmart,e.bCaseInsensitive),s(e);for(var l=0;l<o.length;l++)K(t,o[l].sSearch,l,a(o[l]),o[l].bSmart,o[l].bCaseInsensitive);X(t)}else s(e);t.bFiltered=!0,Rt(t,null,"search",[t])}function X(e){for(var i,n,r=Qt.ext.search,o=e.aiDisplay,s=0,a=r.length;s<a;s++){for(var l=[],c=0,u=o.length;c<u;c++)n=o[c],i=e.aoData[n],r[s](e,i._aFilterData,n,i._aData,c)&&l.push(n);o.length=0,t.merge(o,l)}}function K(t,e,i,n,r,o){if(""!==e){for(var s,a=[],l=t.aiDisplay,c=Z(e,n,r,o),u=0;u<l.length;u++)s=t.aoData[l[u]]._aFilterData[i],c.test(s)&&a.push(l[u]);t.aiDisplay=a}}function J(t,e,i,n,r,o){var s,a,l,c=Z(e,n,r,o),u=t.oPreviousSearch.sSearch,d=t.aiDisplayMaster,h=[];if(0!==Qt.ext.search.length&&(i=!0),a=tt(t),e.length<=0)t.aiDisplay=d.slice();else{for((a||i||u.length>e.length||0!==e.indexOf(u)||t.bSorted)&&(t.aiDisplay=d.slice()),s=t.aiDisplay,l=0;l<s.length;l++)c.test(t.aoData[s[l]]._sFilterRow)&&h.push(s[l]);t.aiDisplay=h}}function Z(e,i,n,r){if(e=i?e:me(e),n){var o=t.map(e.match(/"[^"]+"|[^ ]+/g)||[""],(function(t){if('"'===t.charAt(0)){var e=t.match(/^"(.*)"$/);t=e?e[1]:t}return t.replace('"',"")}));e="^(?=.*?"+o.join(")(?=.*?")+").*$"}return new RegExp(e,r?"i":"")}function tt(t){var e,i,n,r,o,s,a,l,c=t.aoColumns,u=Qt.ext.type.search,d=!1;for(i=0,r=t.aoData.length;i<r;i++)if(!(l=t.aoData[i])._aFilterData){for(s=[],n=0,o=c.length;n<o;n++)(e=c[n]).bSearchable?(a=C(t,i,n,"filter"),u[e.sType]&&(a=u[e.sType](a)),null===a&&(a=""),"string"!=typeof a&&a.toString&&(a=a.toString())):a="",a.indexOf&&-1!==a.indexOf("&")&&(ve.innerHTML=a,a=ye?ve.textContent:ve.innerText),a.replace&&(a=a.replace(/[\r\n]/g,"")),s.push(a);l._aFilterData=s,l._sFilterRow=s.join("  "),d=!0}return d}function et(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function it(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function nt(e){var i=e.sTableId,n=e.aanFeatures.i,r=t("<div/>",{class:e.oClasses.sInfo,id:n?null:i+"_info"});return n||(e.aoDrawCallback.push({fn:rt,sName:"information"}),r.attr("role","status").attr("aria-live","polite"),t(e.nTable).attr("aria-describedby",i+"_info")),r[0]}function rt(e){var i=e.aanFeatures.i;if(0!==i.length){var n=e.oLanguage,r=e._iDisplayStart+1,o=e.fnDisplayEnd(),s=e.fnRecordsTotal(),a=e.fnRecordsDisplay(),l=a?n.sInfo:n.sInfoEmpty;a!==s&&(l+=" "+n.sInfoFiltered),l=ot(e,l+=n.sInfoPostFix);var c=n.fnInfoCallback;null!==c&&(l=c.call(e.oInstance,e,r,o,s,a,l)),t(i).html(l)}}function ot(t,e){var i=t.fnFormatNumber,n=t._iDisplayStart+1,r=t._iDisplayLength,o=t.fnRecordsDisplay(),s=-1===r;return e.replace(/_START_/g,i.call(t,n)).replace(/_END_/g,i.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,i.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,i.call(t,o)).replace(/_PAGE_/g,i.call(t,s?1:Math.ceil(n/r))).replace(/_PAGES_/g,i.call(t,s?1:Math.ceil(o/r)))}function st(t){var e,i,n,r=t.iInitDisplayStart,o=t.aoColumns,s=t.oFeatures,a=t.bDeferLoading;if(t.bInitialised){for(L(t),M(t),R(t,t.aoHeader),R(t,t.aoFooter),pt(t,!0),s.bAutoWidth&&vt(t),e=0,i=o.length;e<i;e++)(n=o[e]).sWidth&&(n.nTh.style.width=wt(n.sWidth));Rt(t,null,"preInit",[t]),q(t);var l=Lt(t);("ssp"!=l||a)&&("ajax"==l?B(t,[],(function(i){var n=V(t,i);for(e=0;e<n.length;e++)_(t,n[e]);t.iInitDisplayStart=r,q(t),pt(t,!1),at(t,i)}),t):(pt(t,!1),at(t)))}else setTimeout((function(){st(t)}),200)}function at(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&p(t),Rt(t,null,"plugin-init",[t,e]),Rt(t,"aoInitComplete","init",[t,e])}function lt(t,e){var i=parseInt(e,10);t._iDisplayLength=i,Nt(t),Rt(t,null,"length",[t,i])}function ct(e){for(var i=e.oClasses,n=e.sTableId,r=e.aLengthMenu,o=t.isArray(r[0]),s=o?r[0]:r,a=o?r[1]:r,l=t("<select/>",{name:n+"_length","aria-controls":n,class:i.sLengthSelect}),c=0,u=s.length;c<u;c++)l[0][c]=new Option(a[c],s[c]);var d=t("<div><label/></div>").addClass(i.sLength);return e.aanFeatures.l||(d[0].id=n+"_length"),d.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),t("select",d).val(e._iDisplayLength).on("change.DT",(function(){lt(e,t(this).val()),N(e)})),t(e.nTable).on("length.dt.DT",(function(i,n,r){e===n&&t("select",d).val(r)})),d[0]}function ut(e){var i=e.sPaginationType,n=Qt.ext.pager[i],r="function"==typeof n,o=function(t){N(t)},s=t("<div/>").addClass(e.oClasses.sPaging+i)[0],a=e.aanFeatures;return r||n.fnInit(e,s,o),a.p||(s.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(t){if(r){var e,i,s=t._iDisplayStart,l=t._iDisplayLength,c=t.fnRecordsDisplay(),u=-1===l,d=u?0:Math.ceil(s/l),h=u?1:Math.ceil(c/l),p=n(d,h);for(e=0,i=a.p.length;e<i;e++)qt(t,"pageButton")(t,a.p[e],e,p,d,h)}else n.fnUpdate(t,o)},sName:"pagination"})),s}function dt(t,e,i){var n=t._iDisplayStart,r=t._iDisplayLength,o=t.fnRecordsDisplay();0===o||-1===r?n=0:"number"==typeof e?(n=e*r)>o&&(n=0):"first"==e?n=0:"previous"==e?(n=r>=0?n-r:0)<0&&(n=0):"next"==e?n+r<o&&(n+=r):"last"==e?n=Math.floor((o-1)/r)*r:Et(t,0,"Unknown paging action: "+e,5);var s=t._iDisplayStart!==n;return t._iDisplayStart=n,s&&(Rt(t,null,"page",[t]),i&&N(t)),s}function ht(e){return t("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing",class:e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function pt(e,i){e.oFeatures.bProcessing&&t(e.aanFeatures.r).css("display",i?"block":"none"),Rt(e,null,"processing",[e,i])}function ft(e){var i=t(e.nTable);i.attr("role","grid");var n=e.oScroll;if(""===n.sX&&""===n.sY)return e.nTable;var r=n.sX,o=n.sY,s=e.oClasses,a=i.children("caption"),l=a.length?a[0]._captionSide:null,c=t(i[0].cloneNode(!1)),u=t(i[0].cloneNode(!1)),d=i.children("tfoot"),h="<div/>",p=function(t){return t?wt(t):null};d.length||(d=null);var f=t(h,{class:s.sScrollWrapper}).append(t(h,{class:s.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:r?p(r):"100%"}).append(t(h,{class:s.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append("top"===l?a:null).append(i.children("thead"))))).append(t(h,{class:s.sScrollBody}).css({position:"relative",overflow:"auto",width:p(r)}).append(i));d&&f.append(t(h,{class:s.sScrollFoot}).css({overflow:"hidden",border:0,width:r?p(r):"100%"}).append(t(h,{class:s.sScrollFootInner}).append(u.removeAttr("id").css("margin-left",0).append("bottom"===l?a:null).append(i.children("tfoot")))));var g=f.children(),m=g[0],v=g[1],y=d?g[2]:null;return r&&t(v).on("scroll.DT",(function(){var t=this.scrollLeft;m.scrollLeft=t,d&&(y.scrollLeft=t)})),t(v).css(o&&n.bCollapse?"max-height":"height",o),e.nScrollHead=m,e.nScrollBody=v,e.nScrollFoot=y,e.aoDrawCallback.push({fn:gt,sName:"scrolling"}),f[0]}function gt(e){var i,r,o,s,a,l,c,u,d,h=e.oScroll,g=h.sX,m=h.sXInner,v=h.sY,y=h.iBarWidth,b=t(e.nScrollHead),_=b[0].style,w=b.children("div"),x=w[0].style,$=w.children("table"),C=e.nScrollBody,k=t(C),S=C.style,j=t(e.nScrollFoot).children("div"),T=j.children("table"),A=t(e.nTHead),D=t(e.nTable),I=D[0],E=I.style,P=e.nTFoot?t(e.nTFoot):null,O=e.oBrowser,F=O.bScrollOversize,M=ae(e.aoColumns,"nTh"),R=[],N=[],q=[],L=[],z=function(t){var e=t.style;e.paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0},B=C.scrollHeight>C.clientHeight;if(e.scrollBarVis!==B&&e.scrollBarVis!==n)return e.scrollBarVis=B,void p(e);e.scrollBarVis=B,D.children("thead, tfoot").remove(),P&&(l=P.clone().prependTo(D),r=P.find("tr"),s=l.find("tr")),a=A.clone().prependTo(D),i=A.find("tr"),o=a.find("tr"),a.find("th, td").removeAttr("tabindex"),g||(S.width="100%",b[0].style.width="100%"),t.each(H(e,a),(function(t,i){c=f(e,t),i.style.width=e.aoColumns[c].sWidth})),P&&mt((function(t){t.style.width=""}),s),d=D.outerWidth(),""===g?(E.width="100%",F&&(D.find("tbody").height()>C.offsetHeight||"scroll"==k.css("overflow-y"))&&(E.width=wt(D.outerWidth()-y)),d=D.outerWidth()):""!==m&&(E.width=wt(m),d=D.outerWidth()),mt(z,o),mt((function(e){q.push(e.innerHTML),R.push(wt(t(e).css("width")))}),o),mt((function(e,i){-1!==t.inArray(e,M)&&(e.style.width=R[i])}),i),t(o).height(0),P&&(mt(z,s),mt((function(e){L.push(e.innerHTML),N.push(wt(t(e).css("width")))}),s),mt((function(t,e){t.style.width=N[e]}),r),t(s).height(0)),mt((function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+q[e]+"</div>",t.style.width=R[e]}),o),P&&mt((function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+L[e]+"</div>",t.style.width=N[e]}),s),D.outerWidth()<d?(u=C.scrollHeight>C.offsetHeight||"scroll"==k.css("overflow-y")?d+y:d,F&&(C.scrollHeight>C.offsetHeight||"scroll"==k.css("overflow-y"))&&(E.width=wt(u-y)),""!==g&&""===m||Et(e,1,"Possible column misalignment",6)):u="100%",S.width=wt(u),_.width=wt(u),P&&(e.nScrollFoot.style.width=wt(u)),v||F&&(S.height=wt(I.offsetHeight+y));var W=D.outerWidth();$[0].style.width=wt(W),x.width=wt(W);var G=D.height()>C.clientHeight||"scroll"==k.css("overflow-y"),U="padding"+(O.bScrollbarLeft?"Left":"Right");x[U]=G?y+"px":"0px",P&&(T[0].style.width=wt(W),j[0].style.width=wt(W),j[0].style[U]=G?y+"px":"0px"),D.children("colgroup").insertBefore(D.children("thead")),k.scroll(),!e.bSorted&&!e.bFiltered||e._drawHold||(C.scrollTop=0)}function mt(t,e,i){for(var n,r,o=0,s=0,a=e.length;s<a;){for(n=e[s].firstChild,r=i?i[s].firstChild:null;n;)1===n.nodeType&&(i?t(n,r,o):t(n,o),o++),n=n.nextSibling,r=i?r.nextSibling:null
;s++}}function vt(i){var n,r,o,s=i.nTable,a=i.aoColumns,l=i.oScroll,c=l.sY,u=l.sX,d=l.sXInner,h=a.length,g=v(i,"bVisible"),y=t("th",i.nTHead),b=s.getAttribute("width"),_=s.parentNode,w=!1,x=i.oBrowser,$=x.bScrollOversize,C=s.style.width;for(C&&-1!==C.indexOf("%")&&(b=C),n=0;n<g.length;n++)null!==(r=a[g[n]]).sWidth&&(r.sWidth=yt(r.sWidthOrig,_),w=!0);if($||!w&&!u&&!c&&h==m(i)&&h==y.length)for(n=0;n<h;n++){var k=f(i,n);null!==k&&(a[k].sWidth=wt(y.eq(n).width()))}else{var S=t(s).clone().css("visibility","hidden").removeAttr("id");S.find("tbody tr").remove();var j=t("<tr/>").appendTo(S.find("tbody"));for(S.find("thead, tfoot").remove(),S.append(t(i.nTHead).clone()).append(t(i.nTFoot).clone()),S.find("tfoot th, tfoot td").css("width",""),y=H(i,S.find("thead")[0]),n=0;n<g.length;n++)r=a[g[n]],y[n].style.width=null!==r.sWidthOrig&&""!==r.sWidthOrig?wt(r.sWidthOrig):"",r.sWidthOrig&&u&&t(y[n]).append(t("<div/>").css({width:r.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(i.aoData.length)for(n=0;n<g.length;n++)r=a[o=g[n]],t(bt(i,o)).clone(!1).append(r.sContentPadding).appendTo(j);t("[name]",S).removeAttr("name");var T=t("<div/>").css(u||c?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(S).appendTo(_);u&&d?S.width(d):u?(S.css("width","auto"),S.removeAttr("width"),S.width()<_.clientWidth&&b&&S.width(_.clientWidth)):c?S.width(_.clientWidth):b&&S.width(b);var A=0;for(n=0;n<g.length;n++){var D=t(y[n]),I=D.outerWidth()-D.width(),E=x.bBounding?Math.ceil(y[n].getBoundingClientRect().width):D.outerWidth();A+=E,a[g[n]].sWidth=wt(E-I)}s.style.width=wt(A),T.remove()}if(b&&(s.style.width=wt(b)),(b||u)&&!i._reszEvt){var P=function(){t(e).on("resize.DT-"+i.sInstance,_e((function(){p(i)})))};$?setTimeout(P,1e3):P(),i._reszEvt=!0}}function yt(e,n){if(!e)return 0;var r=t("<div/>").css("width",wt(e)).appendTo(n||i.body),o=r[0].offsetWidth;return r.remove(),o}function bt(e,i){var n=_t(e,i);if(n<0)return null;var r=e.aoData[n];return r.nTr?r.anCells[i]:t("<td/>").html(C(e,n,i,"display"))[0]}function _t(t,e){for(var i,n=-1,r=-1,o=0,s=t.aoData.length;o<s;o++)(i=(i=(i=C(t,o,e,"display")+"").replace(be,"")).replace(/&nbsp;/g," ")).length>n&&(n=i.length,r=o);return r}function wt(t){return null===t?"0px":"number"==typeof t?t<0?"0px":t+"px":t.match(/\d$/)?t+"px":t}function xt(e){var i,r,o,s,a,l,c,u=[],d=e.aoColumns,h=e.aaSortingFixed,p=t.isPlainObject(h),f=[],g=function(e){e.length&&!t.isArray(e[0])?f.push(e):t.merge(f,e)};for(t.isArray(h)&&g(h),p&&h.pre&&g(h.pre),g(e.aaSorting),p&&h.post&&g(h.post),i=0;i<f.length;i++)for(r=0,o=(s=d[c=f[i][0]].aDataSort).length;r<o;r++)l=d[a=s[r]].sType||"string",f[i]._idx===n&&(f[i]._idx=t.inArray(f[i][1],d[a].asSorting)),u.push({src:c,col:a,dir:f[i][1],index:f[i]._idx,type:l,formatter:Qt.ext.type.order[l+"-pre"]});return u}function $t(t){var e,i,n,r,o,s=[],a=Qt.ext.type.order,l=t.aoData,c=(t.aoColumns,0),u=t.aiDisplayMaster;for(y(t),e=0,i=(o=xt(t)).length;e<i;e++)(r=o[e]).formatter&&c++,Tt(t,r.col);if("ssp"!=Lt(t)&&0!==o.length){for(e=0,n=u.length;e<n;e++)s[u[e]]=e;c===o.length?u.sort((function(t,e){var i,n,r,a,c,u=o.length,d=l[t]._aSortData,h=l[e]._aSortData;for(r=0;r<u;r++)if(0!==(a=(i=d[(c=o[r]).col])<(n=h[c.col])?-1:i>n?1:0))return"asc"===c.dir?a:-a;return(i=s[t])<(n=s[e])?-1:i>n?1:0})):u.sort((function(t,e){var i,n,r,c,u,d=o.length,h=l[t]._aSortData,p=l[e]._aSortData;for(r=0;r<d;r++)if(i=h[(u=o[r]).col],n=p[u.col],0!==(c=(a[u.type+"-"+u.dir]||a["string-"+u.dir])(i,n)))return c;return(i=s[t])<(n=s[e])?-1:i>n?1:0}))}t.bSorted=!0}function Ct(t){for(var e,i,n=t.aoColumns,r=xt(t),o=t.oLanguage.oAria,s=0,a=n.length;s<a;s++){var l=n[s],c=l.asSorting,u=l.sTitle.replace(/<.*?>/g,""),d=l.nTh;d.removeAttribute("aria-sort"),l.bSortable?(r.length>0&&r[0].col==s?(d.setAttribute("aria-sort","asc"==r[0].dir?"ascending":"descending"),i=c[r[0].index+1]||c[0]):i=c[0],e=u+("asc"===i?o.sSortAscending:o.sSortDescending)):e=u,d.setAttribute("aria-label",e)}}function kt(e,i,r,o){var s,a=e.aoColumns[i],l=e.aaSorting,c=a.asSorting,u=function(e,i){var r=e._idx;return r===n&&(r=t.inArray(e[1],c)),r+1<c.length?r+1:i?null:0};if("number"==typeof l[0]&&(l=e.aaSorting=[l]),r&&e.oFeatures.bSortMulti){var d=t.inArray(i,ae(l,"0"));-1!==d?(null===(s=u(l[d],!0))&&1===l.length&&(s=0),null===s?l.splice(d,1):(l[d][1]=c[s],l[d]._idx=s)):(l.push([i,c[0],0]),l[l.length-1]._idx=0)}else l.length&&l[0][0]==i?(s=u(l[0]),l.length=1,l[0][1]=c[s],l[0]._idx=s):(l.length=0,l.push([i,c[0]]),l[0]._idx=0);q(e),"function"==typeof o&&o(e)}function St(t,e,i,n){var r=t.aoColumns[i];Ft(e,{},(function(e){!1!==r.bSortable&&(t.oFeatures.bProcessing?(pt(t,!0),setTimeout((function(){kt(t,i,e.shiftKey,n),"ssp"!==Lt(t)&&pt(t,!1)}),0)):kt(t,i,e.shiftKey,n))}))}function jt(e){var i,n,r,o=e.aLastSort,s=e.oClasses.sSortColumn,a=xt(e),l=e.oFeatures;if(l.bSort&&l.bSortClasses){for(i=0,n=o.length;i<n;i++)r=o[i].src,t(ae(e.aoData,"anCells",r)).removeClass(s+(i<2?i+1:3));for(i=0,n=a.length;i<n;i++)r=a[i].src,t(ae(e.aoData,"anCells",r)).addClass(s+(i<2?i+1:3))}e.aLastSort=a}function Tt(t,e){var i,n,r,o=t.aoColumns[e],s=Qt.ext.order[o.sSortDataType];s&&(i=s.call(t.oInstance,t,e,g(t,e)));for(var a=Qt.ext.type.order[o.sType+"-pre"],l=0,c=t.aoData.length;l<c;l++)(n=t.aoData[l])._aSortData||(n._aSortData=[]),n._aSortData[e]&&!s||(r=s?i[l]:C(t,l,e,"sort"),n._aSortData[e]=a?a(r):r)}function At(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var i={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:t.extend(!0,[],e.aaSorting),search:et(e.oPreviousSearch),columns:t.map(e.aoColumns,(function(t,i){return{visible:t.bVisible,search:et(e.aoPreSearchCols[i])}}))};Rt(e,"aoStateSaveParams","stateSaveParams",[e,i]),e.oSavedState=i,e.fnStateSaveCallback.call(e.oInstance,e,i)}}function Dt(e,i,r){var o,s,a=e.aoColumns,l=function(i){if(i&&i.time){var l=Rt(e,"aoStateLoadParams","stateLoadParams",[e,c]);if(-1===t.inArray(!1,l)){var u=e.iStateDuration;if(u>0&&i.time<+new Date-1e3*u)r();else if(i.columns&&a.length!==i.columns.length)r();else{if(e.oLoadedState=t.extend(!0,{},c),i.start!==n&&(e._iDisplayStart=i.start,e.iInitDisplayStart=i.start),i.length!==n&&(e._iDisplayLength=i.length),i.order!==n&&(e.aaSorting=[],t.each(i.order,(function(t,i){e.aaSorting.push(i[0]>=a.length?[0,i[1]]:i)}))),i.search!==n&&t.extend(e.oPreviousSearch,it(i.search)),i.columns)for(o=0,s=i.columns.length;o<s;o++){var d=i.columns[o];d.visible!==n&&(a[o].bVisible=d.visible),d.search!==n&&t.extend(e.aoPreSearchCols[o],it(d.search))}Rt(e,"aoStateLoaded","stateLoaded",[e,c]),r()}}else r()}else r()};if(e.oFeatures.bStateSave){var c=e.fnStateLoadCallback.call(e.oInstance,e,l);c!==n&&l(c)}else r()}function It(e){var i=Qt.settings,n=t.inArray(e,ae(i,"nTable"));return-1!==n?i[n]:null}function Et(t,i,n,r){if(n="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+n,r&&(n+=". For more information about this error, please see http://datatables.net/tn/"+r),i)e.console&&console.log&&console.log(n);else{var o=Qt.ext,s=o.sErrMode||o.errMode;if(t&&Rt(t,null,"error",[t,r,n]),"alert"==s)alert(n);else{if("throw"==s)throw new Error(n);"function"==typeof s&&s(t,r,n)}}}function Pt(e,i,r,o){t.isArray(r)?t.each(r,(function(n,r){t.isArray(r)?Pt(e,i,r[0],r[1]):Pt(e,i,r)})):(o===n&&(o=r),i[r]!==n&&(e[o]=i[r]))}function Ot(e,i,n){var r;for(var o in i)i.hasOwnProperty(o)&&(r=i[o],t.isPlainObject(r)?(t.isPlainObject(e[o])||(e[o]={}),t.extend(!0,e[o],r)):n&&"data"!==o&&"aaData"!==o&&t.isArray(r)?e[o]=r.slice():e[o]=r);return e}function Ft(e,i,n){t(e).on("click.DT",i,(function(t){e.blur(),n(t)})).on("keypress.DT",i,(function(t){13===t.which&&(t.preventDefault(),n(t))})).on("selectstart.DT",(function(){return!1}))}function Mt(t,e,i,n){i&&t[e].push({fn:i,sName:n})}function Rt(e,i,n,r){var o=[];if(i&&(o=t.map(e[i].slice().reverse(),(function(t){return t.fn.apply(e.oInstance,r)}))),null!==n){var s=t.Event(n+".dt");t(e.nTable).trigger(s,r),o.push(s.result)}return o}function Nt(t){var e=t._iDisplayStart,i=t.fnDisplayEnd(),n=t._iDisplayLength;e>=i&&(e=i-n),e-=e%n,(-1===n||e<0)&&(e=0),t._iDisplayStart=e}function qt(e,i){var n=e.renderer,r=Qt.ext.renderer[i];return t.isPlainObject(n)&&n[i]?r[n[i]]||r._:"string"==typeof n&&r[n]||r._}function Lt(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}function zt(t,e){var i=[],n=He.numbers_length,r=Math.floor(n/2);return e<=n?i=ce(0,e):t<=r?((i=ce(0,n-2)).push("ellipsis"),i.push(e-1)):t>=e-1-r?((i=ce(e-(n-2),e)).splice(0,0,"ellipsis"),i.splice(0,0,0)):((i=ce(t-r+2,t+r-1)).push("ellipsis"),i.push(e-1),i.splice(0,0,"ellipsis"),i.splice(0,0,0)),i.DT_el="span",i}function Ht(e){t.each({num:function(t){return Be(t,e)},"num-fmt":function(t){return Be(t,e,te)},"html-num":function(t){return Be(t,e,Kt)},"html-num-fmt":function(t){return Be(t,e,Kt,te)}},(function(t,i){Wt.type.order[t+e+"-pre"]=i,t.match(/^html\-/)&&(Wt.type.search[t+e]=Wt.type.search.html)}))}function Bt(t){return function(){var e=[It(this[Qt.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Qt.ext.internal[t].apply(this,e)}}var Wt,Gt,Ut,Vt,Qt=function(e){this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new Gt(t?It(this[Wt.iApiIndex]):this)},this.fnAddData=function(e,i){var r=this.api(!0),o=t.isArray(e)&&(t.isArray(e[0])||t.isPlainObject(e[0]))?r.rows.add(e):r.row.add(e);return(i===n||i)&&r.draw(),o.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),i=e.settings()[0],r=i.oScroll;t===n||t?e.draw(!1):""===r.sX&&""===r.sY||gt(i)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===n||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,i){var r=this.api(!0),o=r.rows(t),s=o.settings()[0],a=s.aoData[o[0][0]];return o.remove(),e&&e.call(this,s,a),(i===n||i)&&r.draw(),a},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,i,r,o,s){var a=this.api(!0);null===e||e===n?a.search(t,i,r,s):a.column(e).search(t,i,r,s),a.draw()},this.fnGetData=function(t,e){var i=this.api(!0);if(t!==n){var r=t.nodeName?t.nodeName.toLowerCase():"";return e!==n||"td"==r||"th"==r?i.cell(t,e).data():i.row(t).data()||null}return i.data().toArray()},this.fnGetNodes=function(t){var e=this.api(!0);return t!==n?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),i=t.nodeName.toUpperCase();if("TR"==i)return e.row(t).index();if("TD"==i||"TH"==i){var n=e.cell(t).index();return[n.row,n.columnVisible,n.column]}return null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,i){return this.api(!0).row(t).child(e,i).show().child()[0]},this.fnPageChange=function(t,e){var i=this.api(!0).page(t);(e===n||e)&&i.draw(!1)},this.fnSetColumnVis=function(t,e,i){var r=this.api(!0).column(t).visible(e);(i===n||i)&&r.columns.adjust().draw()},this.fnSettings=function(){return It(this[Wt.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,i){this.api(!0).order.listener(t,e,i)},this.fnUpdate=function(t,e,i,r,o){var s=this.api(!0);return i===n||null===i?s.row(e).data(t):s.cell(e,i).data(t),(o===n||o)&&s.columns.adjust(),(r===n||r)&&s.draw(),0},this.fnVersionCheck=Wt.fnVersionCheck;var i=this,r=e===n,u=this.length;for(var p in r&&(e={}),this.oApi=this.internal=Wt.internal,Qt.ext.internal)p&&(this[p]=Bt(p));return this.each((function(){var p,f=u>1?Ot({},e,!0):e,g=0,m=this.getAttribute("id"),v=!1,y=Qt.defaults,x=t(this);if("table"==this.nodeName.toLowerCase()){a(y),l(y.column),o(y,y,!0),o(y.column,y.column,!0),o(y,t.extend(f,x.data()));var $=Qt.settings;for(g=0,p=$.length;g<p;g++){var C=$[g];if(C.nTable==this||C.nTHead.parentNode==this||C.nTFoot&&C.nTFoot.parentNode==this){var k=f.bRetrieve!==n?f.bRetrieve:y.bRetrieve,S=f.bDestroy!==n?f.bDestroy:y.bDestroy;if(r||k)return C.oInstance;if(S){C.oInstance.fnDestroy();break}return void Et(C,0,"Cannot reinitialise DataTable",3)}if(C.sTableId==this.id){$.splice(g,1);break}}null!==m&&""!==m||(m="DataTables_Table_"+Qt.ext._unique++,this.id=m);var T=t.extend(!0,{},Qt.models.oSettings,{sDestroyWidth:x[0].style.width,sInstance:m,sTableId:m});T.nTable=this,T.oApi=i.internal,T.oInit=f,$.push(T),T.oInstance=1===i.length?i:x.dataTable(),a(f),f.oLanguage&&s(f.oLanguage),f.aLengthMenu&&!f.iDisplayLength&&(f.iDisplayLength=t.isArray(f.aLengthMenu[0])?f.aLengthMenu[0][0]:f.aLengthMenu[0]),f=Ot(t.extend(!0,{},y),f),Pt(T.oFeatures,f,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),Pt(T,f,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),Pt(T.oScroll,f,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Pt(T.oLanguage,f,"fnInfoCallback"),Mt(T,"aoDrawCallback",f.fnDrawCallback,"user"),Mt(T,"aoServerParams",f.fnServerParams,"user"),Mt(T,"aoStateSaveParams",f.fnStateSaveParams,"user"),Mt(T,"aoStateLoadParams",f.fnStateLoadParams,"user"),Mt(T,"aoStateLoaded",f.fnStateLoaded,"user"),Mt(T,"aoRowCallback",f.fnRowCallback,"user"),Mt(T,"aoRowCreatedCallback",f.fnCreatedRow,"user"),Mt(T,"aoHeaderCallback",f.fnHeaderCallback,"user"),Mt(T,"aoFooterCallback",f.fnFooterCallback,"user"),Mt(T,"aoInitComplete",f.fnInitComplete,"user"),Mt(T,"aoPreDrawCallback",f.fnPreDrawCallback,"user"),T.rowIdFn=j(f.rowId),c(T);var A=T.oClasses;if(f.bJQueryUI?(t.extend(A,Qt.ext.oJUIClasses,f.oClasses),f.sDom===y.sDom&&"lfrtip"===y.sDom&&(T.sDom='<"H"lfr>t<"F"ip>'),T.renderer?t.isPlainObject(T.renderer)&&!T.renderer.header&&(T.renderer.header="jqueryui"):T.renderer="jqueryui"):t.extend(A,Qt.ext.classes,f.oClasses),x.addClass(A.sTable),T.iInitDisplayStart===n&&(T.iInitDisplayStart=f.iDisplayStart,T._iDisplayStart=f.iDisplayStart),null!==f.iDeferLoading){T.bDeferLoading=!0;var D=t.isArray(f.iDeferLoading);T._iRecordsDisplay=D?f.iDeferLoading[0]:f.iDeferLoading,T._iRecordsTotal=D?f.iDeferLoading[1]:f.iDeferLoading}var I=T.oLanguage;t.extend(!0,I,f.oLanguage),I.sUrl&&(t.ajax({dataType:"json",url:I.sUrl,success:function(e){s(e),o(y.oLanguage,e),t.extend(!0,I,e),st(T)},error:function(){st(T)}}),v=!0),null===f.asStripeClasses&&(T.asStripeClasses=[A.sStripeOdd,A.sStripeEven]);var E=T.asStripeClasses,P=x.children("tbody").find("tr").eq(0);-1!==t.inArray(!0,t.map(E,(function(t){return P.hasClass(t)})))&&(t("tbody tr",this).removeClass(E.join(" ")),T.asDestroyStripes=E.slice());var O,F=[],M=this.getElementsByTagName("thead");if(0!==M.length&&(z(T.aoHeader,M[0]),F=H(T)),null===f.aoColumns)for(O=[],g=0,p=F.length;g<p;g++)O.push(null);else O=f.aoColumns;for(g=0,p=O.length;g<p;g++)d(T,F?F[g]:null);if(b(T,f.aoColumnDefs,O,(function(t,e){h(T,t,e)})),P.length){var R=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};t(P[0]).children("th, td").each((function(t,e){var i=T.aoColumns[t];if(i.mData===t){var r=R(e,"sort")||R(e,"order"),o=R(e,"filter")||R(e,"search");null===r&&null===o||(i.mData={_:t+".display",sort:null!==r?t+".@data-"+r:n,type:null!==r?t+".@data-"+r:n,filter:null!==o?t+".@data-"+o:n},h(T,t))}}))}var N=T.oFeatures,q=function(){if(f.aaSorting===n){var e=T.aaSorting;for(g=0,p=e.length;g<p;g++)e[g][1]=T.aoColumns[g].asSorting[0]}jt(T),N.bSort&&Mt(T,"aoDrawCallback",(function(){if(T.bSorted){var e=xt(T),i={};t.each(e,(function(t,e){i[e.src]=e.dir})),Rt(T,null,"order",[T,e,i]),Ct(T)}})),Mt(T,"aoDrawCallback",(function(){(T.bSorted||"ssp"===Lt(T)||N.bDeferRender)&&jt(T)}),"sc");var i=x.children("caption").each((function(){this._captionSide=t(this).css("caption-side")})),r=x.children("thead");0===r.length&&(r=t("<thead/>").appendTo(x)),T.nTHead=r[0];var o=x.children("tbody");0===o.length&&(o=t("<tbody/>").appendTo(x)),T.nTBody=o[0];var s=x.children("tfoot");if(0===s.length&&i.length>0&&(""!==T.oScroll.sX||""!==T.oScroll.sY)&&(s=t("<tfoot/>").appendTo(x)),0===s.length||0===s.children().length?x.addClass(A.sNoFooter):s.length>0&&(T.nTFoot=s[0],z(T.aoFooter,T.nTFoot)),f.aaData)for(g=0;g<f.aaData.length;g++)_(T,f.aaData[g]);else(T.bDeferLoading||"dom"==Lt(T))&&w(T,t(T.nTBody).children("tr"));T.aiDisplay=T.aiDisplayMaster.slice(),T.bInitialised=!0,!1===v&&st(T)};f.bStateSave?(N.bStateSave=!0,Mt(T,"aoDrawCallback",At,"state_save"),Dt(T,f,q)):q()}else Et(null,0,"Non-table node initialisation ("+this.nodeName+")",2)})),i=null,this},Yt={},Xt=/[\r\n]/g,Kt=/<.*?>/g,Jt=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,Zt=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),te=/[',$\xa3\u20ac\xa5%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,ee=function(t){return!t||!0===t||"-"===t},ie=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},ne=function(t,e){return Yt[e]||(Yt[e]=new RegExp(me(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(Yt[e],"."):t},re=function(t,e,i){var n="string"==typeof t;return!!ee(t)||(e&&n&&(t=ne(t,e)),i&&n&&(t=t.replace(te,"")),!isNaN(parseFloat(t))&&isFinite(t))},oe=function(t){return ee(t)||"string"==typeof t},se=function(t,e,i){return!!ee(t)||(oe(t)&&!!re(de(t),e,i)||null)},ae=function(t,e,i){var r=[],o=0,s=t.length;if(i!==n)for(;o<s;o++)t[o]&&t[o][e]&&r.push(t[o][e][i]);else for(;o<s;o++)t[o]&&r.push(t[o][e]);return r},le=function(t,e,i,r){var o=[],s=0,a=e.length;if(r!==n)for(;s<a;s++)t[e[s]][i]&&o.push(t[e[s]][i][r]);else for(;s<a;s++)o.push(t[e[s]][i]);return o},ce=function(t,e){var i,r=[];e===n?(e=0,i=t):(i=e,e=t);for(var o=e;o<i;o++)r.push(o);return r},ue=function(t){for(var e=[],i=0,n=t.length;i<n;i++)t[i]&&e.push(t[i]);return e},de=function(t){return t.replace(Kt,"")},he=function(t){var e,i,n,r=[],o=t.length,s=0;t:for(i=0;i<o;i++){for(e=t[i],n=0;n<s;n++)if(r[n]===e)continue t;r.push(e),s++}return r};Qt.util={throttle:function(t,e){var i,r,o=e!==n?e:200;return function(){var e=this,s=+new Date,a=arguments;i&&s<i+o?(clearTimeout(r),r=setTimeout((function(){i=n,t.apply(e,a)}),o)):(i=s,t.apply(e,a))}},escapeRegex:function(t){return t.replace(Zt,"\\$1")}};var pe=function(t,e,i){t[e]!==n&&(t[i]=t[e])},fe=/\[.*?\]$/,ge=/\(\)$/,me=Qt.util.escapeRegex,ve=t("<div>")[0],ye=ve.textContent!==n,be=/<.*?>/g,_e=Qt.util.throttle,we=[],xe=Array.prototype,$e=function(e){var i,n,r=Qt.settings,o=t.map(r,(function(t){return t.nTable}));return e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?-1!==(i=t.inArray(e,o))?[r[i]]:null:e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?n=t(e):e instanceof t&&(n=e),n?n.map((function(){return-1!==(i=t.inArray(this,o))?r[i]:null})).toArray():void 0):[]};Gt=function(e,i){if(!(this instanceof Gt))return new Gt(e,i);var n=[],r=function(t){var e=$e(t);e&&(n=n.concat(e))};if(t.isArray(e))for(var o=0,s=e.length;o<s;o++)r(e[o]);else r(e);this.context=he(n),i&&t.merge(this,i),this.selector={rows:null,cols:null,opts:null},Gt.extend(this,this,we)},Qt.Api=Gt,t.extend(Gt.prototype,{any:function(){return 0!==this.count()},concat:xe.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,i=this.length;e<i;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new Gt(e[t],this[t]):null},filter:function(t){var e=[];if(xe.filter)e=xe.filter.call(this,t,this);else for(var i=0,n=this.length;i<n;i++)t.call(this,this[i],i,this)&&e.push(this[i]);return new Gt(this.context,e)},flatten:function(){var t=[];return new Gt(this.context,t.concat.apply(t,this.toArray()))},join:xe.join,indexOf:xe.indexOf||function(t,e){for(var i=e||0,n=this.length;i<n;i++)if(this[i]===t)return i;return-1},iterator:function(t,e,i,r){var o,s,a,l,c,u,d,h,p=[],f=this.context,g=this.selector;for("string"==typeof t&&(r=i,i=e,e=t,t=!1),s=0,a=f.length;s<a;s++){var m=new Gt(f[s]);if("table"===e)(o=i.call(m,f[s],s))!==n&&p.push(o);else if("columns"===e||"rows"===e)(o=i.call(m,f[s],this[s],s))!==n&&p.push(o);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(d=this[s],"column-rows"===e&&(u=Ae(f[s],g.opts)),l=0,c=d.length;l<c;l++)h=d[l],(o="cell"===e?i.call(m,f[s],h.row,h.column,s,l):i.call(m,f[s],h,s,l,u))!==n&&p.push(o)}if(p.length||r){var v=new Gt(f,t?p.concat.apply([],p):p),y=v.selector;return y.rows=g.rows,y.cols=g.cols,y.opts=g.opts,v}return this},lastIndexOf:xe.lastIndexOf||function(){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(xe.map)e=xe.map.call(this,t,this);else for(var i=0,n=this.length;i<n;i++)e.push(t.call(this,this[i],i));return new Gt(this.context,e)},pluck:function(t){return this.map((function(e){return e[t]}))},pop:xe.pop,push:xe.push,reduce:xe.reduce||function(t,e){return u(this,t,e,0,this.length,1)},reduceRight:xe.reduceRight||function(t,e){return u(this,t,e,this.length-1,-1,-1)},reverse:xe.reverse,selector:null,shift:xe.shift,sort:xe.sort,splice:xe.splice,toArray:function(){return xe.slice.call(this)},to$:function(){return t(this)},toJQuery:function(){return t(this)},unique:function(){return new Gt(this.context,he(this))},unshift:xe.unshift}),Gt.extend=function(e,i,n){if(n.length&&i&&(i instanceof Gt||i.__dt_wrapper)){var r,o,s,a=function(t,e,i){return function(){var n=e.apply(t,arguments);return Gt.extend(n,n,i.methodExt),n}};for(r=0,o=n.length;r<o;r++)i[(s=n[r]).name]="function"==typeof s.val?a(e,s.val,s):t.isPlainObject(s.val)?{}:s.val,i[s.name].__dt_wrapper=!0,Gt.extend(e,i[s.name],s.propExt)}},Gt.register=Ut=function(e,i){if(t.isArray(e))for(var n=0,r=e.length;n<r;n++)Gt.register(e[n],i);else{var o,s,a,l,c=e.split("."),u=we,d=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i].name===e)return t[i];return null};for(o=0,s=c.length;o<s;o++){var h=d(u,a=(l=-1!==c[o].indexOf("()"))?c[o].replace("()",""):c[o]);h||(h={name:a,val:{},methodExt:[],propExt:[]},u.push(h)),o===s-1?h.val=i:u=l?h.methodExt:h.propExt}}},Gt.registerPlural=Vt=function(e,i,r){Gt.register(e,r),Gt.register(i,(function(){var e=r.apply(this,arguments);return e===this?this:e instanceof Gt?e.length?t.isArray(e[0])?new Gt(e.context,e[0]):e[0]:n:e}))};var Ce=function(e,i){if("number"==typeof e)return[i[e]];var n=t.map(i,(function(t){return t.nTable}));return t(n).filter(e).map((function(){var e=t.inArray(this,n);return i[e]})).toArray()};Ut("tables()",(function(t){return t?new Gt(Ce(t,this.context)):this})),Ut("table()",(function(t){var e=this.tables(t),i=e.context;return i.length?new Gt(i[0]):e})),Vt("tables().nodes()","table().node()",(function(){return this.iterator("table",(function(t){return t.nTable}),1)})),Vt("tables().body()","table().body()",(function(){return this.iterator("table",(function(t){return t.nTBody}),1)})),Vt("tables().header()","table().header()",(function(){return this.iterator("table",(function(t){return t.nTHead}),1)})),Vt("tables().footer()","table().footer()",(function(){return this.iterator("table",(function(t){return t.nTFoot}),1)})),Vt("tables().containers()","table().container()",(function(){return this.iterator("table",(function(t){return t.nTableWrapper}),1)})),Ut("draw()",(function(t){return this.iterator("table",(function(e){"page"===t?N(e):("string"==typeof t&&(t="full-hold"!==t),q(e,!1===t))}))})),Ut("page()",(function(t){return t===n?this.page.info().page:this.iterator("table",(function(e){dt(e,t)}))})),Ut("page.info()",(function(){if(0===this.context.length)return n;var t=this.context[0],e=t._iDisplayStart,i=t.oFeatures.bPaginate?t._iDisplayLength:-1,r=t.fnRecordsDisplay(),o=-1===i;return{page:o?0:Math.floor(e/i),pages:o?1:Math.ceil(r/i),start:e,end:t.fnDisplayEnd(),length:i,recordsTotal:t.fnRecordsTotal(),recordsDisplay:r,serverSide:"ssp"===Lt(t)}})),Ut("page.len()",(function(t){return t===n?0!==this.context.length?this.context[0]._iDisplayLength:n:this.iterator("table",(function(e){lt(e,t)}))}));var ke=function(t,e,i){if(i){var n=new Gt(t);n.one("draw",(function(){i(n.ajax.json())}))}if("ssp"==Lt(t))q(t,e);else{pt(t,!0);var r=t.jqXHR;r&&4!==r.readyState&&r.abort(),B(t,[],(function(i){D(t);for(var n=V(t,i),r=0,o=n.length;r<o;r++)_(t,n[r]);q(t,e),pt(t,!1)}))}};Ut("ajax.json()",(function(){var t=this.context;if(t.length>0)return t[0].json})),Ut("ajax.params()",(function(){var t=this.context;if(t.length>0)return t[0].oAjaxData})),Ut("ajax.reload()",(function(t,e){return this.iterator("table",(function(i){ke(i,!1===e,t)}))})),Ut("ajax.url()",(function(e){var i=this.context;return e===n?0===i.length?n:(i=i[0]).ajax?t.isPlainObject(i.ajax)?i.ajax.url:i.ajax:i.sAjaxSource:this.iterator("table",(function(i){t.isPlainObject(i.ajax)?i.ajax.url=e:i.ajax=e}))})),Ut("ajax.url().load()",(function(t,e){return this.iterator("table",(function(i){ke(i,!1===e,t)}))}));var Se=function(e,i,r,o,s){var a,l,c,u,d,h,p=[],f=typeof i;for(i&&"string"!==f&&"function"!==f&&i.length!==n||(i=[i]),c=0,u=i.length;c<u;c++)for(d=0,h=(l=i[c]&&i[c].split&&!i[c].match(/[\[\(:]/)?i[c].split(","):[i[c]]).length;d<h;d++)(a=r("string"==typeof l[d]?t.trim(l[d]):l[d]))&&a.length&&(p=p.concat(a));var g=Wt.selector[e];if(g.length)for(c=0,u=g.length;c<u;c++)p=g[c](o,s,p);return he(p)},je=function(e){return e||(e={}),e.filter&&e.search===n&&(e.search=e.filter),t.extend({search:"none",order:"current",page:"all"},e)},Te=function(t){for(var e=0,i=t.length;e<i;e++)if(t[e].length>0)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},Ae=function(e,i){var n,r,o,s=[],a=e.aiDisplay,l=e.aiDisplayMaster,c=i.search,u=i.order,d=i.page;if("ssp"==Lt(e))return"removed"===c?[]:ce(0,l.length);if("current"==d)for(n=e._iDisplayStart,r=e.fnDisplayEnd();n<r;n++)s.push(a[n]);else if("current"==u||"applied"==u)s="none"==c?l.slice():"applied"==c?a.slice():t.map(l,(function(e){return-1===t.inArray(e,a)?e:null}));else if("index"==u||"original"==u)for(n=0,r=e.aoData.length;n<r;n++)("none"==c||-1===(o=t.inArray(n,a))&&"removed"==c||o>=0&&"applied"==c)&&s.push(n);return s},De=function(e,i,r){var o;return Se("row",i,(function(i){var s=ie(i);if(null!==s&&!r)return[s];if(o||(o=Ae(e,r)),null!==s&&-1!==t.inArray(s,o))return[s];if(null===i||i===n||""===i)return o;if("function"==typeof i)return t.map(o,(function(t){var n=e.aoData[t];return i(t,n._aData,n.nTr)?t:null}));var a=ue(le(e.aoData,o,"nTr"));if(i.nodeName){if(i._DT_RowIndex!==n)return[i._DT_RowIndex];if(i._DT_CellIndex)return[i._DT_CellIndex.row];var l=t(i).closest("*[data-dt-row]");return l.length?[l.data("dt-row")]:[]}if("string"==typeof i&&"#"===i.charAt(0)){var c=e.aIds[i.replace(/^#/,"")];if(c!==n)return[c.idx]}return t(a).filter(i).map((function(){return this._DT_RowIndex})).toArray()}),e,r)};Ut("rows()",(function(e,i){e===n?e="":t.isPlainObject(e)&&(i=e,e=""),i=je(i);var r=this.iterator("table",(function(t){return De(t,e,i)}),1);return r.selector.rows=e,r.selector.opts=i,r})),Ut("rows().nodes()",(function(){return this.iterator("row",(function(t,e){return t.aoData[e].nTr||n}),1)})),Ut("rows().data()",(function(){return this.iterator(!0,"rows",(function(t,e){return le(t.aoData,e,"_aData")}),1)})),Vt("rows().cache()","row().cache()",(function(t){return this.iterator("row",(function(e,i){var n=e.aoData[i];return"search"===t?n._aFilterData:n._aSortData}),1)})),Vt("rows().invalidate()","row().invalidate()",(function(t){return this.iterator("row",(function(e,i){E(e,i,t)}))})),Vt("rows().indexes()","row().index()",(function(){return this.iterator("row",(function(t,e){return e}),1)})),Vt("rows().ids()","row().id()",(function(t){for(var e=[],i=this.context,n=0,r=i.length;n<r;n++)for(var o=0,s=this[n].length;o<s;o++){var a=i[n].rowIdFn(i[n].aoData[this[n][o]]._aData);e.push((!0===t?"#":"")+a)}return new Gt(i,e)})),Vt("rows().remove()","row().remove()",(function(){var t=this;return this.iterator("row",(function(e,i,r){var o,s,a,l,c,u,d=e.aoData,h=d[i];for(d.splice(i,1),o=0,s=d.length;o<s;o++)if(u=(c=d[o]).anCells,null!==c.nTr&&(c.nTr._DT_RowIndex=o),null!==u)for(a=0,l=u.length;a<l;a++)u[a]._DT_CellIndex.row=o;I(e.aiDisplayMaster,i),I(e.aiDisplay,i),I(t[r],i,!1),Nt(e);var p=e.rowIdFn(h._aData);p!==n&&delete e.aIds[p]})),this.iterator("table",(function(t){for(var e=0,i=t.aoData.length;e<i;e++)t.aoData[e].idx=e})),this})),Ut("rows.add()",(function(e){var i=this.iterator("table",(function(t){var i,n,r,o=[];for(n=0,r=e.length;n<r;n++)(i=e[n]).nodeName&&"TR"===i.nodeName.toUpperCase()?o.push(w(t,i)[0]):o.push(_(t,i));return o}),1),n=this.rows(-1);return n.pop(),t.merge(n,i),n})),Ut("row()",(function(t,e){return Te(this.rows(t,e))})),Ut("row().data()",(function(t){var e=this.context;return t===n?e.length&&this.length?e[0].aoData[this[0]]._aData:n:(e[0].aoData[this[0]]._aData=t,E(e[0],this[0],"data"),this)})),Ut("row().node()",(function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]].nTr||null})),Ut("row.add()",(function(e){e instanceof t&&e.length&&(e=e[0]);var i=this.iterator("table",(function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?w(t,e)[0]:_(t,e)}));return this.row(i[0])}));var Ie=function(e,i,n,r){var o=[],s=function(i,n){if(t.isArray(i)||i instanceof t)for(var r=0,a=i.length;r<a;r++)s(i[r],n);else if(i.nodeName&&"tr"===i.nodeName.toLowerCase())o.push(i);else{var l=t("<tr><td/></tr>").addClass(n);t("td",l).addClass(n).html(i)[0].colSpan=m(e),o.push(l[0])}};s(n,r),i._details&&i._details.detach(),i._details=t(o),i._detailsShow&&i._details.insertAfter(i.nTr)},Ee=function(t,e){var i=t.context;if(i.length){var r=i[0].aoData[e!==n?e:t[0]];r&&r._details&&(r._details.remove(),r._detailsShow=n,r._details=n)}},Pe=function(t,e){var i=t.context;if(i.length&&t.length){var n=i[0].aoData[t[0]];n._details&&(n._detailsShow=e,e?n._details.insertAfter(n.nTr):n._details.detach(),Oe(i[0]))}},Oe=function(t){var e=new Gt(t),i=".dt.DT_details",n="draw"+i,r="column-visibility"+i,o="destroy"+i,s=t.aoData;e.off(n+" "+r+" "+o),ae(s,"_details").length>0&&(e.on(n,(function(i,n){t===n&&e.rows({page:"current"}).eq(0).each((function(t){var e=s[t];e._detailsShow&&e._details.insertAfter(e.nTr)}))})),e.on(r,(function(e,i){if(t===i)for(var n,r=m(i),o=0,a=s.length;o<a;o++)(n=s[o])._details&&n._details.children("td[colspan]").attr("colspan",r)})),e.on(o,(function(i,n){if(t===n)for(var r=0,o=s.length;r<o;r++)s[r]._details&&Ee(e,r)})))},Fe=""+"row().child",Me=Fe+"()";Ut(Me,(function(t,e){var i=this.context;return t===n?i.length&&this.length?i[0].aoData[this[0]]._details:n:(!0===t?this.child.show():!1===t?Ee(this):i.length&&this.length&&Ie(i[0],i[0].aoData[this[0]],t,e),this)})),Ut([Fe+".show()",Me+".show()"],(function(){return Pe(this,!0),this})),Ut([Fe+".hide()",Me+".hide()"],(function(){return Pe(this,!1),this})),Ut([Fe+".remove()",Me+".remove()"],(function(){return Ee(this),this})),Ut(Fe+".isShown()",(function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]]._detailsShow||!1}));var Re=/^([^:]+):(name|visIdx|visible)$/,Ne=function(t,e,i,n,r){for(var o=[],s=0,a=r.length;s<a;s++)o.push(C(t,r[s],e));return o},qe=function(e,i,n){var r=e.aoColumns,o=ae(r,"sName"),s=ae(r,"nTh");return Se("column",i,(function(i){var a=ie(i);if(""===i)return ce(r.length);if(null!==a)return[a>=0?a:r.length+a];if("function"==typeof i){var l=Ae(e,n);return t.map(r,(function(t,n){return i(n,Ne(e,n,0,0,l),s[n])?n:null}))}var c="string"==typeof i?i.match(Re):"";if(c)switch(c[2]){case"visIdx":case"visible":var u=parseInt(c[1],10);if(u<0){var d=t.map(r,(function(t,e){return t.bVisible?e:null}));return[d[d.length+u]]}return[f(e,u)];case"name":return t.map(o,(function(t,e){return t===c[1]?e:null}));default:return[]}if(i.nodeName&&i._DT_CellIndex)return[i._DT_CellIndex.column];var h=t(s).filter(i).map((function(){return t.inArray(this,s)})).toArray();if(h.length||!i.nodeName)return h;var p=t(i).closest("*[data-dt-column]");return p.length?[p.data("dt-column")]:[]}),e,n)},Le=function(e,i,r){var o,s,a,l,c=e.aoColumns,u=c[i],d=e.aoData;if(r===n)return u.bVisible;if(u.bVisible!==r){if(r){var h=t.inArray(!0,ae(c,"bVisible"),i+1);for(s=0,a=d.length;s<a;s++)l=d[s].nTr,o=d[s].anCells,l&&l.insertBefore(o[i],o[h]||null)}else t(ae(e.aoData,"anCells",i)).detach();u.bVisible=r,R(e,e.aoHeader),R(e,e.aoFooter),At(e)}};Ut("columns()",(function(e,i){e===n?e="":t.isPlainObject(e)&&(i=e,e=""),i=je(i);var r=this.iterator("table",(function(t){return qe(t,e,i)}),1);return r.selector.cols=e,r.selector.opts=i,r})),
Vt("columns().header()","column().header()",(function(){return this.iterator("column",(function(t,e){return t.aoColumns[e].nTh}),1)})),Vt("columns().footer()","column().footer()",(function(){return this.iterator("column",(function(t,e){return t.aoColumns[e].nTf}),1)})),Vt("columns().data()","column().data()",(function(){return this.iterator("column-rows",Ne,1)})),Vt("columns().dataSrc()","column().dataSrc()",(function(){return this.iterator("column",(function(t,e){return t.aoColumns[e].mData}),1)})),Vt("columns().cache()","column().cache()",(function(t){return this.iterator("column-rows",(function(e,i,n,r,o){return le(e.aoData,o,"search"===t?"_aFilterData":"_aSortData",i)}),1)})),Vt("columns().nodes()","column().nodes()",(function(){return this.iterator("column-rows",(function(t,e,i,n,r){return le(t.aoData,r,"anCells",e)}),1)})),Vt("columns().visible()","column().visible()",(function(t,e){var i=this.iterator("column",(function(e,i){if(t===n)return e.aoColumns[i].bVisible;Le(e,i,t)}));return t!==n&&(this.iterator("column",(function(i,n){Rt(i,null,"column-visibility",[i,n,t,e])})),(e===n||e)&&this.columns.adjust()),i})),Vt("columns().indexes()","column().index()",(function(t){return this.iterator("column",(function(e,i){return"visible"===t?g(e,i):i}),1)})),Ut("columns.adjust()",(function(){return this.iterator("table",(function(t){p(t)}),1)})),Ut("column.index()",(function(t,e){if(0!==this.context.length){var i=this.context[0];if("fromVisible"===t||"toData"===t)return f(i,e);if("fromData"===t||"toVisible"===t)return g(i,e)}})),Ut("column()",(function(t,e){return Te(this.columns(t,e))}));var ze=function(e,i,r){var o,s,a,l,c,u,d,h=e.aoData,p=Ae(e,r),f=ue(le(h,p,"anCells")),g=t([].concat.apply([],f)),m=e.aoColumns.length;return Se("cell",i,(function(i){var r="function"==typeof i;if(null===i||i===n||r){for(s=[],a=0,l=p.length;a<l;a++)for(o=p[a],c=0;c<m;c++)u={row:o,column:c},r?(d=h[o],i(u,C(e,o,c),d.anCells?d.anCells[c]:null)&&s.push(u)):s.push(u);return s}if(t.isPlainObject(i))return[i];var f=g.filter(i).map((function(t,e){return{row:e._DT_CellIndex.row,column:e._DT_CellIndex.column}})).toArray();return f.length||!i.nodeName?f:(d=t(i).closest("*[data-dt-row]")).length?[{row:d.data("dt-row"),column:d.data("dt-column")}]:[]}),e,r)};Ut("cells()",(function(e,i,r){if(t.isPlainObject(e)&&(e.row===n?(r=e,e=null):(r=i,i=null)),t.isPlainObject(i)&&(r=i,i=null),null===i||i===n)return this.iterator("table",(function(t){return ze(t,e,je(r))}));var o,s,a,l,c,u=this.columns(i,r),d=this.rows(e,r),h=this.iterator("table",(function(t,e){for(o=[],s=0,a=d[e].length;s<a;s++)for(l=0,c=u[e].length;l<c;l++)o.push({row:d[e][s],column:u[e][l]});return o}),1);return t.extend(h.selector,{cols:i,rows:e,opts:r}),h})),Vt("cells().nodes()","cell().node()",(function(){return this.iterator("cell",(function(t,e,i){var r=t.aoData[e];return r&&r.anCells?r.anCells[i]:n}),1)})),Ut("cells().data()",(function(){return this.iterator("cell",(function(t,e,i){return C(t,e,i)}),1)})),Vt("cells().cache()","cell().cache()",(function(t){return t="search"===t?"_aFilterData":"_aSortData",this.iterator("cell",(function(e,i,n){return e.aoData[i][t][n]}),1)})),Vt("cells().render()","cell().render()",(function(t){return this.iterator("cell",(function(e,i,n){return C(e,i,n,t)}),1)})),Vt("cells().indexes()","cell().index()",(function(){return this.iterator("cell",(function(t,e,i){return{row:e,column:i,columnVisible:g(t,i)}}),1)})),Vt("cells().invalidate()","cell().invalidate()",(function(t){return this.iterator("cell",(function(e,i,n){E(e,i,t,n)}))})),Ut("cell()",(function(t,e,i){return Te(this.cells(t,e,i))})),Ut("cell().data()",(function(t){var e=this.context,i=this[0];return t===n?e.length&&i.length?C(e[0],i[0].row,i[0].column):n:(k(e[0],i[0].row,i[0].column,t),E(e[0],i[0].row,"data",i[0].column),this)})),Ut("order()",(function(e,i){var r=this.context;return e===n?0!==r.length?r[0].aaSorting:n:("number"==typeof e?e=[[e,i]]:e.length&&!t.isArray(e[0])&&(e=Array.prototype.slice.call(arguments)),this.iterator("table",(function(t){t.aaSorting=e.slice()})))})),Ut("order.listener()",(function(t,e,i){return this.iterator("table",(function(n){St(n,t,e,i)}))})),Ut("order.fixed()",(function(e){if(!e){var i=this.context,r=i.length?i[0].aaSortingFixed:n;return t.isArray(r)?{pre:r}:r}return this.iterator("table",(function(i){i.aaSortingFixed=t.extend(!0,{},e)}))})),Ut(["columns().order()","column().order()"],(function(e){var i=this;return this.iterator("table",(function(n,r){var o=[];t.each(i[r],(function(t,i){o.push([i,e])})),n.aaSorting=o}))})),Ut("search()",(function(e,i,r,o){var s=this.context;return e===n?0!==s.length?s[0].oPreviousSearch.sSearch:n:this.iterator("table",(function(n){n.oFeatures.bFilter&&Y(n,t.extend({},n.oPreviousSearch,{sSearch:e+"",bRegex:null!==i&&i,bSmart:null===r||r,bCaseInsensitive:null===o||o}),1)}))})),Vt("columns().search()","column().search()",(function(e,i,r,o){return this.iterator("column",(function(s,a){var l=s.aoPreSearchCols;if(e===n)return l[a].sSearch;s.oFeatures.bFilter&&(t.extend(l[a],{sSearch:e+"",bRegex:null!==i&&i,bSmart:null===r||r,bCaseInsensitive:null===o||o}),Y(s,s.oPreviousSearch,1))}))})),Ut("state()",(function(){return this.context.length?this.context[0].oSavedState:null})),Ut("state.clear()",(function(){return this.iterator("table",(function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})}))})),Ut("state.loaded()",(function(){return this.context.length?this.context[0].oLoadedState:null})),Ut("state.save()",(function(){return this.iterator("table",(function(t){At(t)}))})),Qt.versionCheck=Qt.fnVersionCheck=function(t){for(var e,i,n=Qt.version.split("."),r=t.split("."),o=0,s=r.length;o<s;o++)if((e=parseInt(n[o],10)||0)!==(i=parseInt(r[o],10)||0))return e>i;return!0},Qt.isDataTable=Qt.fnIsDataTable=function(e){var i=t(e).get(0),n=!1;return e instanceof Qt.Api||(t.each(Qt.settings,(function(e,r){var o=r.nScrollHead?t("table",r.nScrollHead)[0]:null,s=r.nScrollFoot?t("table",r.nScrollFoot)[0]:null;r.nTable!==i&&o!==i&&s!==i||(n=!0)})),n)},Qt.tables=Qt.fnTables=function(e){var i=!1;t.isPlainObject(e)&&(i=e.api,e=e.visible);var n=t.map(Qt.settings,(function(i){if(!e||e&&t(i.nTable).is(":visible"))return i.nTable}));return i?new Gt(n):n},Qt.camelToHungarian=o,Ut("$()",(function(e,i){var n=this.rows(i).nodes(),r=t(n);return t([].concat(r.filter(e).toArray(),r.find(e).toArray()))})),t.each(["on","one","off"],(function(e,i){Ut(i+"()",(function(){var e=Array.prototype.slice.call(arguments);e[0]=t.map(e[0].split(/\s/),(function(t){return t.match(/\.dt\b/)?t:t+".dt"})).join(" ");var n=t(this.tables().nodes());return n[i].apply(n,e),this}))})),Ut("clear()",(function(){return this.iterator("table",(function(t){D(t)}))})),Ut("settings()",(function(){return new Gt(this.context,this.context)})),Ut("init()",(function(){var t=this.context;return t.length?t[0].oInit:null})),Ut("data()",(function(){return this.iterator("table",(function(t){return ae(t.aoData,"_aData")})).flatten()})),Ut("destroy()",(function(i){return i=i||!1,this.iterator("table",(function(n){var r,o=n.nTableWrapper.parentNode,s=n.oClasses,a=n.nTable,l=n.nTBody,c=n.nTHead,u=n.nTFoot,d=t(a),h=t(l),p=t(n.nTableWrapper),f=t.map(n.aoData,(function(t){return t.nTr}));n.bDestroying=!0,Rt(n,"aoDestroyCallback","destroy",[n]),i||new Gt(n).columns().visible(!0),p.off(".DT").find(":not(tbody *)").off(".DT"),t(e).off(".DT-"+n.sInstance),a!=c.parentNode&&(d.children("thead").detach(),d.append(c)),u&&a!=u.parentNode&&(d.children("tfoot").detach(),d.append(u)),n.aaSorting=[],n.aaSortingFixed=[],jt(n),t(f).removeClass(n.asStripeClasses.join(" ")),t("th, td",c).removeClass(s.sSortable+" "+s.sSortableAsc+" "+s.sSortableDesc+" "+s.sSortableNone),n.bJUI&&(t("th span."+s.sSortIcon+", td span."+s.sSortIcon,c).detach(),t("th, td",c).each((function(){var e=t("div."+s.sSortJUIWrapper,this);t(this).append(e.contents()),e.detach()}))),h.children().detach(),h.append(f);var g=i?"remove":"detach";d[g](),p[g](),!i&&o&&(o.insertBefore(a,n.nTableReinsertBefore),d.css("width",n.sDestroyWidth).removeClass(s.sTable),(r=n.asDestroyStripes.length)&&h.children().each((function(e){t(this).addClass(n.asDestroyStripes[e%r])})));var m=t.inArray(n,Qt.settings);-1!==m&&Qt.settings.splice(m,1)}))})),t.each(["column","row","cell"],(function(t,e){Ut(e+"s().every()",(function(t){var i=this.selector.opts,r=this;return this.iterator(e,(function(o,s,a,l,c){t.call(r[e](s,"cell"===e?a:i,"cell"===e?i:n),s,a,l,c)}))}))})),Ut("i18n()",(function(e,i,r){var o=this.context[0],s=j(e)(o.oLanguage);return s===n&&(s=i),r!==n&&t.isPlainObject(s)&&(s=s[r]!==n?s[r]:s._),s.replace("%d",r)})),Qt.version="1.10.13",Qt.settings=[],Qt.models={},Qt.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Qt.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},Qt.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Qt.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((-1===t.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(-1===t.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(t){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:t.extend({},Qt.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},r(Qt.defaults),Qt.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},r(Qt.defaults.column),Qt.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:n,oAjaxData:n,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Lt(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Lt(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,i=e+t,n=this.aiDisplay.length,r=this.oFeatures,o=r.bPaginate;return r.bServerSide?!1===o||-1===t?e+n:Math.min(e+t,this._iRecordsDisplay):!o||i>n||-1===t?n:i},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},Qt.ext=Wt={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Qt.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Qt.version},t.extend(Wt,{afnFiltering:Wt.search,aTypes:Wt.type.detect,ofnSearch:Wt.type.search,oSort:Wt.type.order,afnSortData:Wt.order,aoFeatures:Wt.feature,oApi:Wt.internal,oStdClasses:Wt.classes,oPagination:Wt.pager}),t.extend(Qt.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),function(){var e="",i=(e="")+"ui-state-default",n=e+"css_right ui-icon ui-icon-",r=e+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";t.extend(Qt.ext.oJUIClasses,Qt.ext.classes,{sPageButton:"fg-button ui-button "+i,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:i+" sorting_asc",sSortDesc:i+" sorting_desc",sSortable:i+" sorting",sSortableAsc:i+" sorting_asc_disabled",sSortableDesc:i+" sorting_desc_disabled",sSortableNone:i+" sorting_disabled",sSortJUIAsc:n+"triangle-1-n",sSortJUIDesc:n+"triangle-1-s",sSortJUI:n+"carat-2-n-s",sSortJUIAscAllowed:n+"carat-1-n",sSortJUIDescAllowed:n+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+i,sScrollFoot:"dataTables_scrollFoot "+i,sHeaderTH:i,sFooterTH:i,sJUIHeader:r+" ui-corner-tl ui-corner-tr",sJUIFooter:r+" ui-corner-bl ui-corner-br"})}();var He=Qt.ext.pager;t.extend(He,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(t,e){return[zt(t,e)]},simple_numbers:function(t,e){return["previous",zt(t,e),"next"]},full_numbers:function(t,e){return["first","previous",zt(t,e),"next","last"]},first_last_numbers:function(t,e){return["first",zt(t,e),"last"]},_numbers:zt,numbers_length:7}),t.extend(!0,Qt.ext.renderer,{pageButton:{_:function(e,r,o,s,a,l){var c,u,d,h=e.oClasses,p=e.oLanguage.oPaginate,f=e.oLanguage.oAria.paginate||{},g=0,m=function(i,n){var r,s,d,v=function(t){dt(e,t.data.action,!0)};for(r=0,s=n.length;r<s;r++)if(d=n[r],t.isArray(d)){var y=t("<"+(d.DT_el||"div")+"/>").appendTo(i);m(y,d)}else{switch(c=null,u="",d){case"ellipsis":i.append('<span class="ellipsis">&#x2026;</span>');break;case"first":c=p.sFirst,u=d+(a>0?"":" "+h.sPageButtonDisabled);break;case"previous":c=p.sPrevious,u=d+(a>0?"":" "+h.sPageButtonDisabled);break;case"next":c=p.sNext,u=d+(a<l-1?"":" "+h.sPageButtonDisabled);break;case"last":c=p.sLast,u=d+(a<l-1?"":" "+h.sPageButtonDisabled);break;default:c=d+1,u=a===d?h.sPageButtonActive:""}null!==c&&(Ft(t("<a>",{class:h.sPageButton+" "+u,"aria-controls":e.sTableId,"aria-label":f[d],"data-dt-idx":g,tabindex:e.iTabIndex,id:0===o&&"string"==typeof d?e.sTableId+"_"+d:null}).html(c).appendTo(i),{action:d},v),g++)}};try{d=t(r).find(i.activeElement).data("dt-idx")}catch(t){}m(t(r).empty(),s),d!==n&&t(r).find("[data-dt-idx="+d+"]").focus()}}}),t.extend(Qt.ext.type.detect,[function(t,e){var i=e.oLanguage.sDecimal;return re(t,i)?"num"+i:null},function(t){if(t&&!(t instanceof Date)&&!Jt.test(t))return null;var e=Date.parse(t);return null!==e&&!isNaN(e)||ee(t)?"date":null},function(t,e){var i=e.oLanguage.sDecimal;return re(t,i,!0)?"num-fmt"+i:null},function(t,e){var i=e.oLanguage.sDecimal;return se(t,i)?"html-num"+i:null},function(t,e){var i=e.oLanguage.sDecimal;return se(t,i,!0)?"html-num-fmt"+i:null},function(t){return ee(t)||"string"==typeof t&&-1!==t.indexOf("<")?"html":null}]),t.extend(Qt.ext.type.search,{html:function(t){return ee(t)?t:"string"==typeof t?t.replace(Xt," ").replace(Kt,""):""},string:function(t){return ee(t)?t:"string"==typeof t?t.replace(Xt," "):t}});var Be=function(t,e,i,n){return 0===t||t&&"-"!==t?(e&&(t=ne(t,e)),t.replace&&(i&&(t=t.replace(i,"")),n&&(t=t.replace(n,""))),1*t):-1/0};t.extend(Wt.type.order,{"date-pre":function(t){return Date.parse(t)||-1/0},"html-pre":function(t){return ee(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return ee(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return t<e?-1:t>e?1:0},"string-desc":function(t,e){return t<e?1:t>e?-1:0}}),Ht(""),t.extend(!0,Qt.ext.renderer,{header:{_:function(e,i,n,r){t(e.nTable).on("order.dt.DT",(function(t,o,s,a){if(e===o){var l=n.idx;i.removeClass(n.sSortingClass+" "+r.sSortAsc+" "+r.sSortDesc).addClass("asc"==a[l]?r.sSortAsc:"desc"==a[l]?r.sSortDesc:n.sSortingClass)}}))},jqueryui:function(e,i,n,r){t("<div/>").addClass(r.sSortJUIWrapper).append(i.contents()).append(t("<span/>").addClass(r.sSortIcon+" "+n.sSortingClassJUI)).appendTo(i),t(e.nTable).on("order.dt.DT",(function(t,o,s,a){if(e===o){var l=n.idx;i.removeClass(r.sSortAsc+" "+r.sSortDesc).addClass("asc"==a[l]?r.sSortAsc:"desc"==a[l]?r.sSortDesc:n.sSortingClass),i.find("span."+r.sSortIcon).removeClass(r.sSortJUIAsc+" "+r.sSortJUIDesc+" "+r.sSortJUI+" "+r.sSortJUIAscAllowed+" "+r.sSortJUIDescAllowed).addClass("asc"==a[l]?r.sSortJUIAsc:"desc"==a[l]?r.sSortJUIDesc:n.sSortingClassJUI)}}))}}});var We=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t};return Qt.render={number:function(t,e,i,n,r){return{display:function(o){if("number"!=typeof o&&"string"!=typeof o)return o;var s=o<0?"-":"",a=parseFloat(o);if(isNaN(a))return We(o);a=a.toFixed(i),o=Math.abs(a);var l=parseInt(o,10),c=i?e+(o-l).toFixed(i).substring(2):"";return s+(n||"")+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)+c+(r||"")}}},text:function(){return{display:We}}},t.extend(Qt.ext.internal,{_fnExternApiFunc:Bt,_fnBuildAjax:B,_fnAjaxUpdate:W,_fnAjaxParameters:G,_fnAjaxUpdateDraw:U,_fnAjaxDataSrc:V,_fnAddColumn:d,_fnColumnOptions:h,_fnAdjustColumnSizing:p,_fnVisibleToColumnIndex:f,_fnColumnIndexToVisible:g,_fnVisbleColumns:m,_fnGetColumns:v,_fnColumnTypes:y,_fnApplyColumnDefs:b,_fnHungarianMap:r,_fnCamelToHungarian:o,_fnLanguageCompat:s,_fnBrowserDetect:c,_fnAddData:_,_fnAddTr:w,_fnNodeToDataIndex:x,_fnNodeToColumnIndex:$,_fnGetCellData:C,_fnSetCellData:k,_fnSplitObjNotation:S,_fnGetObjectDataFn:j,_fnSetObjectDataFn:T,_fnGetDataMaster:A,_fnClearTable:D,_fnDeleteIndex:I,_fnInvalidate:E,_fnGetRowElements:P,_fnCreateTr:O,_fnBuildHead:M,_fnDrawHead:R,_fnDraw:N,_fnReDraw:q,_fnAddOptionsHtml:L,_fnDetectHeader:z,_fnGetUniqueThs:H,_fnFeatureHtmlFilter:Q,_fnFilterComplete:Y,_fnFilterCustom:X,_fnFilterColumn:K,_fnFilter:J,_fnFilterCreateSearch:Z,_fnEscapeRegex:me,_fnFilterData:tt,_fnFeatureHtmlInfo:nt,_fnUpdateInfo:rt,_fnInfoMacros:ot,_fnInitialise:st,_fnInitComplete:at,_fnLengthChange:lt,_fnFeatureHtmlLength:ct,_fnFeatureHtmlPaginate:ut,_fnPageChange:dt,_fnFeatureHtmlProcessing:ht,_fnProcessingDisplay:pt,_fnFeatureHtmlTable:ft,_fnScrollDraw:gt,_fnApplyToChildren:mt,_fnCalculateColumnWidths:vt,_fnThrottle:_e,_fnConvertToWidth:yt,_fnGetWidestNode:bt,_fnGetMaxLenString:_t,_fnStringToCss:wt,_fnSortFlatten:xt,_fnSort:$t,_fnSortAria:Ct,_fnSortListener:kt,_fnSortAttachListener:St,_fnSortingClasses:jt,_fnSortData:Tt,_fnSaveState:At,_fnLoadState:Dt,_fnSettingsFromNode:It,_fnLog:Et,_fnMap:Pt,_fnBindAction:Ft,_fnCallbackReg:Mt,_fnCallbackFire:Rt,_fnLengthOverflow:Nt,_fnRenderer:qt,_fnDataSource:Lt,_fnRowAttributes:F,_fnCalculateEnd:function(){}}),t.fn.dataTable=Qt,Qt.$=t,t.fn.dataTableSettings=Qt.settings,t.fn.dataTableExt=Qt.ext,t.fn.DataTable=function(e){return t(this).dataTable(e).api()},t.each(Qt,(function(e,i){t.fn.DataTable[e]=i})),t.fn.dataTable})),function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],(function(e){return t(e,window,document)})):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i&&i.fn.dataTable||(i=require("datatables.net")(e,i).$),t(i,e,e.document)}:t(jQuery,window,document)}((function(t,e,i,n){"use strict";var r,o=t.fn.dataTable,s=function(e,i){var r=this;if(this instanceof s){i!==n&&!0!==i||(i={});var o=t.fn.dataTable.camelToHungarian;o&&(o(s.defaults,s.defaults,!0),o(s.defaults,i));var a=new t.fn.dataTable.Api(e).settings()[0];if(this.s={dt:a,iTableColumns:a.aoColumns.length,aiOuterWidths:[],aiInnerWidths:[],rtl:"rtl"===t(a.nTable).css("direction")},this.dom={scroller:null,header:null,body:null,footer:null,grid:{wrapper:null,dt:null,left:{wrapper:null,head:null,body:null,foot:null},right:{wrapper:null,head:null,body:null,foot:null}},clone:{left:{header:null,body:null,footer:null},right:{header:null,body:null,footer:null}}},a._oFixedColumns)throw"FixedColumns already initialised on this table";a._oFixedColumns=this,a._bInitComplete?this._fnConstruct(i):a.oApi._fnCallbackReg(a,"aoInitComplete",(function(){r._fnConstruct(i)}),"FixedColumns")}else alert("FixedColumns warning: FixedColumns must be initialised with the 'new' keyword.")};return t.extend(s.prototype,{fnUpdate:function(){this._fnDraw(!0)},fnRedrawLayout:function(){this._fnColCalc(),this._fnGridLayout(),this.fnUpdate()},fnRecalculateHeight:function(t){delete t._DTTC_iHeight,t.style.height="auto"},fnSetRowHeight:function(t,e){t.style.height=e+"px"},fnGetPosition:function(e){var i,n=this.s.dt.oInstance;if(t(e).parents(".DTFC_Cloned").length){if("tr"===e.nodeName.toLowerCase())return i=t(e).index(),n.fnGetPosition(t("tr",this.s.dt.nTBody)[i]);var r=t(e).index();return i=t(e.parentNode).index(),[n.fnGetPosition(t("tr",this.s.dt.nTBody)[i]),r,n.oApi._fnVisibleToColumnIndex(this.s.dt,r)]}return n.fnGetPosition(e)},_fnConstruct:function(r){var o=this;if("function"==typeof this.s.dt.oInstance.fnVersionCheck&&!0===this.s.dt.oInstance.fnVersionCheck("1.8.0"))if(""!==this.s.dt.oScroll.sX){this.s=t.extend(!0,this.s,s.defaults,r);var a,l=this.s.dt.oClasses;this.dom.grid.dt=t(this.s.dt.nTable).parents("div."+l.sScrollWrapper)[0],this.dom.scroller=t("div."+l.sScrollBody,this.dom.grid.dt)[0],this._fnColCalc(),this._fnGridSetup();var c=!1;t(this.s.dt.nTableWrapper).on("mousedown.DTFC",(function(){c=!0,t(i).one("mouseup",(function(){c=!1}))})),t(this.dom.scroller).on("mouseover.DTFC touchstart.DTFC",(function(){c||(a="main")})).on("scroll.DTFC",(function(t){!a&&t.originalEvent&&(a="main"),"main"===a&&(o.s.iLeftColumns>0&&(o.dom.grid.left.liner.scrollTop=o.dom.scroller.scrollTop),o.s.iRightColumns>0&&(o.dom.grid.right.liner.scrollTop=o.dom.scroller.scrollTop))}));var u="onwheel"in i.createElement("div")?"wheel.DTFC":"mousewheel.DTFC";o.s.iLeftColumns>0&&t(o.dom.grid.left.liner).on("mouseover.DTFC touchstart.DTFC",(function(){c||(a="left")})).on("scroll.DTFC",(function(t){!a&&t.originalEvent&&(a="left"),"left"===a&&(o.dom.scroller.scrollTop=o.dom.grid.left.liner.scrollTop,o.s.iRightColumns>0&&(o.dom.grid.right.liner.scrollTop=o.dom.grid.left.liner.scrollTop))})).on(u,(function(t){var e="wheel"===t.type?-t.originalEvent.deltaX:t.originalEvent.wheelDeltaX;o.dom.scroller.scrollLeft-=e})),o.s.iRightColumns>0&&t(o.dom.grid.right.liner).on("mouseover.DTFC touchstart.DTFC",(function(){c||(a="right")})).on("scroll.DTFC",(function(t){!a&&t.originalEvent&&(a="right"),"right"===a&&(o.dom.scroller.scrollTop=o.dom.grid.right.liner.scrollTop,o.s.iLeftColumns>0&&(o.dom.grid.left.liner.scrollTop=o.dom.grid.right.liner.scrollTop))})).on(u,(function(t){var e="wheel"===t.type?-t.originalEvent.deltaX:t.originalEvent.wheelDeltaX;o.dom.scroller.scrollLeft-=e})),t(e).on("resize.DTFC",(function(){o._fnGridLayout.call(o)}));var d=!0,h=t(this.s.dt.nTable);h.on("draw.dt.DTFC",(function(){o._fnColCalc(),o._fnDraw.call(o,d),d=!1})).on("column-sizing.dt.DTFC",(function(){o._fnColCalc(),o._fnGridLayout(o)})).on("column-visibility.dt.DTFC",(function(t,e,i,r,s){(s===n||s)&&(o._fnColCalc(),o._fnGridLayout(o),o._fnDraw(!0))})).on("select.dt.DTFC deselect.dt.DTFC",(function(t){"dt"===t.namespace&&o._fnDraw(!1)})).on("destroy.dt.DTFC",(function(){h.off(".DTFC"),t(o.dom.scroller).off(".DTFC"),t(e).off(".DTFC"),t(o.s.dt.nTableWrapper).off(".DTFC"),t(o.dom.grid.left.liner).off(".DTFC "+u),t(o.dom.grid.left.wrapper).remove(),t(o.dom.grid.right.liner).off(".DTFC "+u),t(o.dom.grid.right.wrapper).remove()})),this._fnGridLayout(),this.s.dt.oInstance.fnDraw(!1)}else this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"FixedColumns is not needed (no x-scrolling in DataTables enabled), so no action will be taken. Use 'FixedHeader' for column fixing when scrolling is not enabled");else alert("FixedColumns "+s.VERSION+" required DataTables 1.8.0 or later. Please upgrade your DataTables installation")},_fnColCalc:function(){var e=this,i=0,n=0;this.s.aiInnerWidths=[],this.s.aiOuterWidths=[],t.each(this.s.dt.aoColumns,(function(r,o){var s,a=t(o.nTh);if(a.filter(":visible").length){var l=a.outerWidth();0===e.s.aiOuterWidths.length&&(l+="string"==typeof(s=t(e.s.dt.nTable).css("border-left-width"))?1:parseInt(s,10)),e.s.aiOuterWidths.length===e.s.dt.aoColumns.length-1&&(l+="string"==typeof(s=t(e.s.dt.nTable).css("border-right-width"))?1:parseInt(s,10)),e.s.aiOuterWidths.push(l),e.s.aiInnerWidths.push(a.width()),r<e.s.iLeftColumns&&(i+=l),e.s.iTableColumns-e.s.iRightColumns<=r&&(n+=l)}else e.s.aiInnerWidths.push(0),e.s.aiOuterWidths.push(0)})),this.s.iLeftWidth=i,this.s.iRightWidth=n},_fnGridSetup:function(){var e,i=this._fnDTOverflow();this.dom.body=this.s.dt.nTable,this.dom.header=this.s.dt.nTHead.parentNode,this.dom.header.parentNode.parentNode.style.position="relative";var n=t('<div class="DTFC_ScrollWrapper" style="position:relative; clear:both;"><div class="DTFC_LeftWrapper" style="position:absolute; top:0; left:0;"><div class="DTFC_LeftHeadWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div><div class="DTFC_LeftBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_LeftBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_LeftFootWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div></div><div class="DTFC_RightWrapper" style="position:absolute; top:0; right:0; z-index: 0;"><div class="DTFC_RightHeadWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightHeadBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div><div class="DTFC_RightBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_RightBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_RightFootWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightFootBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div></div></div>')[0],r=n.childNodes[0],o=n.childNodes[1];this.dom.grid.dt.parentNode.insertBefore(n,this.dom.grid.dt),n.appendChild(this.dom.grid.dt),this.dom.grid.wrapper=n,this.s.iLeftColumns>0&&(this.dom.grid.left.wrapper=r,this.dom.grid.left.head=r.childNodes[0],this.dom.grid.left.body=r.childNodes[1],this.dom.grid.left.liner=t("div.DTFC_LeftBodyLiner",n)[0],n.appendChild(r)),this.s.iRightColumns>0&&(this.dom.grid.right.wrapper=o,this.dom.grid.right.head=o.childNodes[0],this.dom.grid.right.body=o.childNodes[1],this.dom.grid.right.liner=t("div.DTFC_RightBodyLiner",n)[0],o.style.right=i.bar+"px",(e=t("div.DTFC_RightHeadBlocker",n)[0]).style.width=i.bar+"px",e.style.right=-i.bar+"px",this.dom.grid.right.headBlock=e,(e=t("div.DTFC_RightFootBlocker",n)[0]).style.width=i.bar+"px",e.style.right=-i.bar+"px",this.dom.grid.right.footBlock=e,n.appendChild(o)),this.s.dt.nTFoot&&(this.dom.footer=this.s.dt.nTFoot.parentNode,this.s.iLeftColumns>0&&(this.dom.grid.left.foot=r.childNodes[2]),this.s.iRightColumns>0&&(this.dom.grid.right.foot=o.childNodes[2])),this.s.rtl&&t("div.DTFC_RightHeadBlocker",n).css({left:-i.bar+"px",right:""})},_fnGridLayout:function(){var e,i=this,n=this.dom.grid,r=(t(n.wrapper).width(),t(this.s.dt.nTable.parentNode).outerHeight()),o=t(this.s.dt.nTable.parentNode.parentNode).outerHeight(),s=this._fnDTOverflow(),a=this.s.iLeftWidth,l=this.s.iRightWidth,c="rtl"===t(this.dom.body).css("direction"),u=function(e,n){s.bar?i._firefoxScrollError()?t(e).height()>34&&(e.style.width=n+s.bar+"px"):e.style.width=n+s.bar+"px":(e.style.width=n+20+"px",e.style.paddingRight="20px",e.style.boxSizing="border-box")};s.x&&(r-=s.bar),n.wrapper.style.height=o+"px",this.s.iLeftColumns>0&&((e=n.left.wrapper).style.width=a+"px",e.style.height="1px",c?(e.style.left="",e.style.right=0):(e.style.left=0,e.style.right=""),n.left.body.style.height=r+"px",n.left.foot&&(n.left.foot.style.top=(s.x?s.bar:0)+"px"),u(n.left.liner,a),n.left.liner.style.height=r+"px"),this.s.iRightColumns>0&&((e=n.right.wrapper).style.width=l+"px",e.style.height="1px",this.s.rtl?(e.style.left=s.y?s.bar+"px":0,e.style.right=""):(e.style.left="",e.style.right=s.y?s.bar+"px":0),n.right.body.style.height=r+"px",n.right.foot&&(n.right.foot.style.top=(s.x?s.bar:0)+"px"),u(n.right.liner,l),n.right.liner.style.height=r+"px",n.right.headBlock.style.display=s.y?"block":"none",n.right.footBlock.style.display=s.y?"block":"none")},_fnDTOverflow:function(){var t=this.s.dt.nTable,e=t.parentNode,i={x:!1,y:!1,bar:this.s.dt.oScroll.iBarWidth};return t.offsetWidth>e.clientWidth&&(i.x=!0),t.offsetHeight>e.clientHeight&&(i.y=!0),i},_fnDraw:function(e){this._fnGridLayout(),this._fnCloneLeft(e),this._fnCloneRight(e),null!==this.s.fnDrawCallback&&this.s.fnDrawCallback.call(this,this.dom.clone.left,this.dom.clone.right),t(this).trigger("draw.dtfc",{leftClone:this.dom.clone.left,rightClone:this.dom.clone.right})},_fnCloneRight:function(t){if(!(this.s.iRightColumns<=0)){var e,i=[];for(e=this.s.iTableColumns-this.s.iRightColumns;e<this.s.iTableColumns;e++)this.s.dt.aoColumns[e].bVisible&&i.push(e);this._fnClone(this.dom.clone.right,this.dom.grid.right,i,t)}},_fnCloneLeft:function(t){if(!(this.s.iLeftColumns<=0)){var e,i=[];for(e=0;e<this.s.iLeftColumns;e++)this.s.dt.aoColumns[e].bVisible&&i.push(e);this._fnClone(this.dom.clone.left,this.dom.grid.left,i,t)}},_fnCopyLayout:function(e,i,n){for(var r=[],o=[],s=[],a=0,l=e.length;a<l;a++){var c=[];c.nTr=t(e[a].nTr).clone(n,!1)[0]
;for(var u=0,d=this.s.iTableColumns;u<d;u++)if(-1!==t.inArray(u,i)){var h=t.inArray(e[a][u].cell,s);if(-1===h){var p=t(e[a][u].cell).clone(n,!1)[0];o.push(p),s.push(e[a][u].cell),c.push({cell:p,unique:e[a][u].unique})}else c.push({cell:o[h],unique:e[a][u].unique})}r.push(c)}return r},_fnClone:function(e,i,r,o){var s,a,l,c,u,d,h,p,f,g,m=this,v=this.s.dt;if(o){for(t(e.header).remove(),e.header=t(this.dom.header).clone(!0,!1)[0],e.header.className+=" DTFC_Cloned",e.header.style.width="100%",i.head.appendChild(e.header),p=this._fnCopyLayout(v.aoHeader,r,!0),(f=t(">thead",e.header)).empty(),s=0,a=p.length;s<a;s++)f[0].appendChild(p[s].nTr);v.oApi._fnDrawHead(v,p,!0)}else for(p=this._fnCopyLayout(v.aoHeader,r,!1),g=[],v.oApi._fnDetectHeader(g,t(">thead",e.header)[0]),s=0,a=p.length;s<a;s++)for(l=0,c=p[s].length;l<c;l++)g[s][l].cell.className=p[s][l].cell.className,t("span.DataTables_sort_icon",g[s][l].cell).each((function(){this.className=t("span.DataTables_sort_icon",p[s][l].cell)[0].className}));this._fnEqualiseHeights("thead",this.dom.header,e.header),"auto"==this.s.sHeightMatch&&t(">tbody>tr",m.dom.body).css("height","auto"),null!==e.body&&(t(e.body).remove(),e.body=null),e.body=t(this.dom.body).clone(!0)[0],e.body.className+=" DTFC_Cloned",e.body.style.paddingBottom=v.oScroll.iBarWidth+"px",e.body.style.marginBottom=2*v.oScroll.iBarWidth+"px",null!==e.body.getAttribute("id")&&e.body.removeAttribute("id"),t(">thead>tr",e.body).empty(),t(">tfoot",e.body).remove();var y=t("tbody",e.body)[0];if(t(y).empty(),v.aiDisplay.length>0){var b=t(">thead>tr",e.body)[0];for(h=0;h<r.length;h++){u=r[h],(d=t(v.aoColumns[u].nTh).clone(!0)[0]).innerHTML="";var _=d.style;_.paddingTop="0",_.paddingBottom="0",_.borderTopWidth="0",_.borderBottomWidth="0",_.height=0,_.width=m.s.aiInnerWidths[u]+"px",b.appendChild(d)}t(">tbody>tr",m.dom.body).each((function(e){var i=!1===m.s.dt.oFeatures.bServerSide?m.s.dt.aiDisplay[m.s.dt._iDisplayStart+e]:e,n=m.s.dt.aoData[i].anCells||t(this).children("td, th"),o=this.cloneNode(!1);for(o.removeAttribute("id"),o.setAttribute("data-dt-row",i),h=0;h<r.length;h++)u=r[h],n.length>0&&((d=t(n[u]).clone(!0,!0)[0]).setAttribute("data-dt-row",i),d.setAttribute("data-dt-column",h),o.appendChild(d));y.appendChild(o)}))}else t(">tbody>tr",m.dom.body).each((function(){(d=this.cloneNode(!0)).className+=" DTFC_NoData",t("td",d).html(""),y.appendChild(d)}));if(e.body.style.width="100%",e.body.style.margin="0",e.body.style.padding="0",v.oScroller!==n){var w=v.oScroller.dom.force;i.forcer?i.forcer.style.height=w.style.height:(i.forcer=w.cloneNode(!0),i.liner.appendChild(i.forcer))}if(i.liner.appendChild(e.body),this._fnEqualiseHeights("tbody",m.dom.body,e.body),null!==v.nTFoot){if(o){null!==e.footer&&e.footer.parentNode.removeChild(e.footer),e.footer=t(this.dom.footer).clone(!0,!0)[0],e.footer.className+=" DTFC_Cloned",e.footer.style.width="100%",i.foot.appendChild(e.footer),p=this._fnCopyLayout(v.aoFooter,r,!0);var x=t(">tfoot",e.footer);for(x.empty(),s=0,a=p.length;s<a;s++)x[0].appendChild(p[s].nTr);v.oApi._fnDrawHead(v,p,!0)}else{p=this._fnCopyLayout(v.aoFooter,r,!1);var $=[];for(v.oApi._fnDetectHeader($,t(">tfoot",e.footer)[0]),s=0,a=p.length;s<a;s++)for(l=0,c=p[s].length;l<c;l++)$[s][l].cell.className=p[s][l].cell.className}this._fnEqualiseHeights("tfoot",this.dom.footer,e.footer)}var C=v.oApi._fnGetUniqueThs(v,t(">thead",e.header)[0]);t(C).each((function(t){u=r[t],this.style.width=m.s.aiInnerWidths[u]+"px"})),null!==m.s.dt.nTFoot&&(C=v.oApi._fnGetUniqueThs(v,t(">tfoot",e.footer)[0]),t(C).each((function(t){u=r[t],this.style.width=m.s.aiInnerWidths[u]+"px"})))},_fnGetTrNodes:function(t){for(var e=[],i=0,n=t.childNodes.length;i<n;i++)"TR"==t.childNodes[i].nodeName.toUpperCase()&&e.push(t.childNodes[i]);return e},_fnEqualiseHeights:function(e,i,n){if("none"!=this.s.sHeightMatch||"thead"===e||"tfoot"===e){var r,o,s,a,l,c=i.getElementsByTagName(e)[0],u=n.getElementsByTagName(e)[0],d=t(">"+e+">tr:eq(0)",i).children(":first"),h=(d.outerHeight(),d.height(),this._fnGetTrNodes(c)),p=this._fnGetTrNodes(u),f=[];for(r=0,o=p.length;r<o;r++)a=h[r].offsetHeight,s=(l=p[r].offsetHeight)>a?l:a,"semiauto"==this.s.sHeightMatch&&(h[r]._DTTC_iHeight=s),f.push(s);for(r=0,o=p.length;r<o;r++)p[r].style.height=f[r]+"px",h[r].style.height=f[r]+"px"}},_firefoxScrollError:function(){if(r===n){var e=t("<div/>").css({position:"absolute",top:0,left:0,height:10,width:50,overflow:"scroll"}).appendTo("body");r=e[0].clientWidth===e[0].offsetWidth&&0!==this._fnDTOverflow().bar,e.remove()}return r}}),s.defaults={iLeftColumns:1,iRightColumns:0,fnDrawCallback:null,sHeightMatch:"semiauto"},s.version="3.2.2",o.Api.register("fixedColumns()",(function(){return this})),o.Api.register("fixedColumns().update()",(function(){return this.iterator("table",(function(t){t._oFixedColumns&&t._oFixedColumns.fnUpdate()}))})),o.Api.register("fixedColumns().relayout()",(function(){return this.iterator("table",(function(t){t._oFixedColumns&&t._oFixedColumns.fnRedrawLayout()}))})),o.Api.register("rows().recalcHeight()",(function(){return this.iterator("row",(function(t,e){t._oFixedColumns&&t._oFixedColumns.fnRecalculateHeight(this.row(e).node())}))})),o.Api.register("fixedColumns().rowIndex()",(function(e){return(e=t(e)).parents(".DTFC_Cloned").length?this.rows({page:"current"}).indexes()[e.index()]:this.row(e).index()})),o.Api.register("fixedColumns().cellIndex()",(function(e){if((e=t(e)).parents(".DTFC_Cloned").length){var i,n=e.parent().index(),r=this.rows({page:"current"}).indexes()[n];if(e.parents(".DTFC_LeftWrapper").length)i=e.index();else i=this.columns().flatten().length-this.context[0]._oFixedColumns.s.iRightColumns+e.index();return{row:r,column:this.column.index("toData",i),columnVisible:i}}return this.cell(e).index()})),t(i).on("init.dt.fixedColumns",(function(e,i){if("dt"===e.namespace){var n=i.oInit.fixedColumns,r=o.defaults.fixedColumns;if(n||r){var a=t.extend({},n,r);!1!==n&&new s(i,a)}}})),t.fn.dataTable.FixedColumns=s,t.fn.DataTable.FixedColumns=s,s})),$.fn.dataTableExt.hiddenRows={},$.fn.dataTable.Api.register("hideRows()",(function(){var t=$.fn.dataTableExt.rowsToHide;return $.each(t,function(t,e){this.row.hide(t,e)}.bind(this)),this.draw(!1),!0})),$.fn.dataTable.Api.register("restoreRows()",(function(){var t=$.fn.dataTableExt.hiddenRows;return $.each(t,function(t){this.row.restore(t)}.bind(this)),this.draw(!1),!0})),$.fn.dataTable.Api.register("row.hide()",(function(t,e){var i=this.row("#"+e);return 0==i.length?-1:($.fn.dataTableExt.hiddenRows[t]=i.node().outerHTML,i.remove(),t)})),$.fn.dataTable.Api.register("row.restore()",(function(t){var e=$.fn.dataTableExt.hiddenRows[t];return!!e&&(this.row.add($(e)),delete $.fn.dataTableExt.hiddenRows[t],!0)})),function(t){t.color={},t.color.make=function(e,i,n,r){var o={};return o.r=e||0,o.g=i||0,o.b=n||0,o.a=null!=r?r:1,o.add=function(t,e){for(var i=0;i<t.length;++i)o[t.charAt(i)]+=e;return o.normalize()},o.scale=function(t,e){for(var i=0;i<t.length;++i)o[t.charAt(i)]*=e;return o.normalize()},o.toString=function(){return o.a>=1?"rgb("+[o.r,o.g,o.b].join(",")+")":"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"},o.normalize=function(){function t(t,e,i){return e<t?t:e>i?i:e}return o.r=t(0,parseInt(o.r),255),o.g=t(0,parseInt(o.g),255),o.b=t(0,parseInt(o.b),255),o.a=t(0,o.a,1),o},o.clone=function(){return t.color.make(o.r,o.b,o.g,o.a)},o.normalize()},t.color.extract=function(e,i){var n;do{if(""!=(n=e.css(i).toLowerCase())&&"transparent"!=n)break;e=e.parent()}while(!t.nodeName(e.get(0),"body"));return"rgba(0, 0, 0, 0)"==n&&(n="transparent"),t.color.parse(n)},t.color.parse=function(i){var n,r=t.color.make;if(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(i))return r(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10));if(n=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return r(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(n[4]));if(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(i))return r(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]));if(n=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return r(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]),parseFloat(n[4]));if(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(i))return r(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16));if(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(i))return r(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16));var o=t.trim(i).toLowerCase();return"transparent"==o?r(255,255,255,0):r((n=e[o]||[0,0,0])[0],n[1],n[2])};var e={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(t){function e(e,r,o,s){function a(t,e){e=[_t].concat(e);for(var i=0;i<t.length;++i)t[i].apply(this,e)}function l(){for(var e=0;e<s.length;++e){var i=s[e];i.init(_t),i.options&&t.extend(!0,st,i.options)}}function c(e){var i;for(t.extend(!0,st,e),null==st.xaxis.color&&(st.xaxis.color=st.grid.color),null==st.yaxis.color&&(st.yaxis.color=st.grid.color),null==st.xaxis.tickColor&&(st.xaxis.tickColor=st.grid.tickColor),null==st.yaxis.tickColor&&(st.yaxis.tickColor=st.grid.tickColor),null==st.grid.borderColor&&(st.grid.borderColor=st.grid.color),null==st.grid.tickColor&&(st.grid.tickColor=t.color.parse(st.grid.color).scale("a",.22).toString()),i=0;i<Math.max(1,st.xaxes.length);++i)st.xaxes[i]=t.extend(!0,{},st.xaxis,st.xaxes[i]);for(i=0;i<Math.max(1,st.yaxes.length);++i)st.yaxes[i]=t.extend(!0,{},st.yaxis,st.yaxes[i]);for(st.xaxis.noTicks&&null==st.xaxis.ticks&&(st.xaxis.ticks=st.xaxis.noTicks),st.yaxis.noTicks&&null==st.yaxis.ticks&&(st.yaxis.ticks=st.yaxis.noTicks),st.x2axis&&(st.xaxes[1]=t.extend(!0,{},st.xaxis,st.x2axis),st.xaxes[1].position="top"),st.y2axis&&(st.yaxes[1]=t.extend(!0,{},st.yaxis,st.y2axis),st.yaxes[1].position="right"),st.grid.coloredAreas&&(st.grid.markings=st.grid.coloredAreas),st.grid.coloredAreasColor&&(st.grid.markingsColor=st.grid.coloredAreasColor),st.lines&&t.extend(!0,st.series.lines,st.lines),st.points&&t.extend(!0,st.series.points,st.points),st.bars&&t.extend(!0,st.series.bars,st.bars),null!=st.shadowSize&&(st.series.shadowSize=st.shadowSize),i=0;i<st.xaxes.length;++i)m(ht,i+1).options=st.xaxes[i];for(i=0;i<st.yaxes.length;++i)m(pt,i+1).options=st.yaxes[i];for(var n in bt)st.hooks[n]&&st.hooks[n].length&&(bt[n]=bt[n].concat(st.hooks[n]));a(bt.processOptions,[st])}function u(t){ot=d(t),v(),y()}function d(e){for(var i=[],n=0;n<e.length;++n){var r=t.extend(!0,{},st.series);null!=e[n].data?(r.data=e[n].data,delete e[n].data,t.extend(!0,r,e[n]),e[n].data=r.data):r.data=e[n],i.push(r)}return i}function h(t,e){var i=t[e+"axis"];return"object"==typeof i&&(i=i.n),"number"!=typeof i&&(i=1),i}function p(){return t.grep(ht.concat(pt),(function(t){return t}))}function f(t){var e,i,n={};for(e=0;e<ht.length;++e)(i=ht[e])&&i.used&&(n["x"+i.n]=i.c2p(t.left));for(e=0;e<pt.length;++e)(i=pt[e])&&i.used&&(n["y"+i.n]=i.c2p(t.top));return void 0!==n.x1&&(n.x=n.x1),void 0!==n.y1&&(n.y=n.y1),n}function g(t){var e,i,n,r={};for(e=0;e<ht.length;++e)if((i=ht[e])&&i.used&&(null==t[n="x"+i.n]&&1==i.n&&(n="x"),null!=t[n])){r.left=i.p2c(t[n]);break}for(e=0;e<pt.length;++e)if((i=pt[e])&&i.used&&(null==t[n="y"+i.n]&&1==i.n&&(n="y"),null!=t[n])){r.top=i.p2c(t[n]);break}return r}function m(e,i){return e[i-1]||(e[i-1]={n:i,direction:e==ht?"x":"y",options:t.extend(!0,{},e==ht?st.xaxis:st.yaxis)}),e[i-1]}function v(){var e,i=ot.length,n=[],r=[];for(e=0;e<ot.length;++e){var o=ot[e].color;null!=o&&(--i,"number"==typeof o?r.push(o):n.push(t.color.parse(ot[e].color)))}for(e=0;e<r.length;++e)i=Math.max(i,r[e]+1);var s=[],a=0;for(e=0;s.length<i;){var l,c=a%2==1?-1:1;(l=st.colors.length==e?t.color.make(100,100,100):t.color.parse(st.colors[e])).scale("rgb",1+c*Math.ceil(a/2)*.2),s.push(l),++e>=st.colors.length&&(e=0,++a)}var u,d=0;for(e=0;e<ot.length;++e){if(null==(u=ot[e]).color?(u.color=s[d].toString(),++d):"number"==typeof u.color&&(u.color=s[u.color].toString()),null==u.lines.show){var p,f=!0;for(p in u)if(u[p]&&u[p].show){f=!1;break}f&&(u.lines.show=!0)}u.xaxis=m(ht,h(u,"x")),u.yaxis=m(pt,h(u,"y"))}}function y(){function e(t,e,i){e<t.datamin&&e!=-m&&(t.datamin=e),i>t.datamax&&i!=m&&(t.datamax=i)}var i,n,r,o,s,l,c,u,d,h,f=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,m=Number.MAX_VALUE;for(t.each(p(),(function(t,e){e.datamin=f,e.datamax=g,e.used=!1})),i=0;i<ot.length;++i)(s=ot[i]).datapoints={points:[]},a(bt.processRawData,[s,s.data,s.datapoints]);for(i=0;i<ot.length;++i){var v=(s=ot[i]).data,y=s.datapoints.format;if(y||((y=[]).push({x:!0,number:!0,required:!0}),y.push({y:!0,number:!0,required:!0}),(s.bars.show||s.lines.show&&s.lines.fill)&&(y.push({y:!0,number:!0,required:!1,defaultValue:0}),s.bars.horizontal&&(delete y[y.length-1].y,y[y.length-1].x=!0)),s.datapoints.format=y),null==s.datapoints.pointsize)for(s.datapoints.pointsize=y.length,c=s.datapoints.pointsize,l=s.datapoints.points,insertSteps=s.lines.show&&s.lines.steps,s.xaxis.used=s.yaxis.used=!0,n=r=0;n<v.length;++n,r+=c){var b=null==(h=v[n]);if(!b)for(o=0;o<c;++o)u=h[o],(d=y[o])&&(d.number&&null!=u&&(u=+u,isNaN(u)?u=null:u==1/0?u=m:u==-1/0&&(u=-m)),null==u&&(d.required&&(b=!0),null!=d.defaultValue&&(u=d.defaultValue))),l[r+o]=u;if(b)for(o=0;o<c;++o)null!=(u=l[r+o])&&((d=y[o]).x&&e(s.xaxis,u,u),d.y&&e(s.yaxis,u,u)),l[r+o]=null;else if(insertSteps&&r>0&&null!=l[r-c]&&l[r-c]!=l[r]&&l[r-c+1]!=l[r+1]){for(o=0;o<c;++o)l[r+c+o]=l[r+o];l[r+1]=l[r-c+1],r+=c}}}for(i=0;i<ot.length;++i)s=ot[i],a(bt.processDatapoints,[s,s.datapoints]);for(i=0;i<ot.length;++i){l=(s=ot[i]).datapoints.points,c=s.datapoints.pointsize;var _=f,w=f,x=g,$=g;for(n=0;n<l.length;n+=c)if(null!=l[n])for(o=0;o<c;++o)u=l[n+o],(d=y[o])&&u!=m&&u!=-m&&(d.x&&(u<_&&(_=u),u>x&&(x=u)),d.y&&(u<w&&(w=u),u>$&&($=u)));if(s.bars.show){var C="left"==s.bars.align?0:-s.bars.barWidth/2;s.bars.horizontal?(w+=C,$+=C+s.bars.barWidth):(_+=C,x+=C+s.bars.barWidth)}e(s.xaxis,_,x),e(s.yaxis,w,$)}t.each(p(),(function(t,e){e.datamin==f&&(e.datamin=null),e.datamax==g&&(e.datamax=null)}))}function b(i,n){var r=document.createElement("canvas");return r.className=n,r.width=gt,r.height=mt,i||t(r).css({position:"absolute",left:0,top:0}),t(r).appendTo(e),r.getContext||(r=window.G_vmlCanvasManager.initElement(r)),r.getContext("2d").save(),r}function _(){if(gt=e.width(),mt=e.height(),gt<=0||mt<=0)throw"Invalid dimensions for plot, width = "+gt+", height = "+mt}function w(t){t.width!=gt&&(t.width=gt),t.height!=mt&&(t.height=mt);var e=t.getContext("2d");e.restore(),e.save()}function x(){var i,n=e.children("canvas.base"),r=e.children("canvas.overlay");0==n.length||0==r?(e.html(""),e.css({padding:0}),"static"==e.css("position")&&e.css("position","relative"),_(),at=b(!0,"base"),lt=b(!1,"overlay"),i=!1):(at=n.get(0),lt=r.get(0),i=!0),ut=at.getContext("2d"),dt=lt.getContext("2d"),ct=t([lt,at]),i&&(e.data("plot").shutdown(),_t.resize(),dt.clearRect(0,0,gt,mt),ct.unbind(),e.children().not([at,lt]).remove()),e.data("plot",_t)}function $(){st.grid.hoverable&&(ct.mousemove(V),ct.mouseleave(Q)),st.grid.clickable&&ct.click(Y),a(bt.bindEvents,[ct])}function C(){xt&&clearTimeout(xt),ct.unbind("mousemove",V),ct.unbind("mouseleave",Q),ct.unbind("click",Y),a(bt.shutdown,[ct])}function k(t){function e(t){return t}var i,n,r=t.options.transform||e,o=t.options.inverseTransform;"x"==t.direction?(i=t.scale=vt/Math.abs(r(t.max)-r(t.min)),n=Math.min(r(t.max),r(t.min))):(i=-(i=t.scale=yt/Math.abs(r(t.max)-r(t.min))),n=Math.max(r(t.max),r(t.min))),t.p2c=r==e?function(t){return(t-n)*i}:function(t){return(r(t)-n)*i},t.c2p=o?function(t){return o(n+t/i)}:function(t){return n+t/i}}function S(i){function n(n,r){return t('<div style="position:absolute;top:-10000px;'+r+'font-size:smaller"><div class="'+i.direction+"Axis "+i.direction+i.n+'Axis">'+n.join("")+"</div></div>").appendTo(e)}var r,o,s,a=i.options,l=i.ticks||[],c=[],u=a.labelWidth,d=a.labelHeight;if("x"==i.direction){if(null==u&&(u=Math.floor(gt/(l.length>0?l.length:1))),null==d){for(c=[],r=0;r<l.length;++r)(o=l[r].label)&&c.push('<div class="tickLabel" style="float:left;width:'+u+'px">'+o+"</div>");c.length>0&&(c.push('<div style="clear:left"></div>'),d=(s=n(c,"width:10000px;")).height(),s.remove())}}else if(null==u||null==d){for(r=0;r<l.length;++r)(o=l[r].label)&&c.push('<div class="tickLabel">'+o+"</div>");c.length>0&&(s=n(c,""),null==u&&(u=s.children().width()),null==d&&(d=s.find("div.tickLabel").height()),s.remove())}null==u&&(u=0),null==d&&(d=0),i.labelWidth=u,i.labelHeight=d}function j(e){var i=e.labelWidth,n=e.labelHeight,r=e.options.position,o=e.options.tickLength,s=st.grid.axisMargin,a=st.grid.labelMargin,l="x"==e.direction?ht:pt,c=t.grep(l,(function(t){return t&&t.options.position==r&&t.reserveSpace}));t.inArray(e,c)==c.length-1&&(s=0),null==o&&(o="full");var u=t.grep(l,(function(t){return t&&t.reserveSpace})),d=0==t.inArray(e,u);d||"full"!=o||(o=5),isNaN(+o)||(a+=+o),"x"==e.direction?(n+=a,"bottom"==r?(ft.bottom+=n+s,e.box={top:mt-ft.bottom,height:n}):(e.box={top:ft.top+s,height:n},ft.top+=n+s)):(i+=a,"left"==r?(e.box={left:ft.left+s,width:i},ft.left+=i+s):(ft.right+=i+s,e.box={left:gt-ft.right,width:i})),e.position=r,e.tickLength=o,e.box.padding=a,e.innermost=d}function T(t){"x"==t.direction?(t.box.left=ft.left,t.box.width=vt):(t.box.top=ft.top,t.box.height=yt)}function A(){var e,i=p();if(t.each(i,(function(t,e){e.show=e.options.show,null==e.show&&(e.show=e.used),e.reserveSpace=e.show||e.options.reserveSpace,D(e)})),allocatedAxes=t.grep(i,(function(t){return t.reserveSpace})),ft.left=ft.right=ft.top=ft.bottom=0,st.grid.show){for(t.each(allocatedAxes,(function(t,e){I(e),E(e),P(e,e.ticks),S(e)})),e=allocatedAxes.length-1;e>=0;--e)j(allocatedAxes[e]);var n=st.grid.minBorderMargin;if(null==n)for(n=0,e=0;e<ot.length;++e)n=Math.max(n,ot[e].points.radius+ot[e].points.lineWidth/2);for(var r in ft)ft[r]+=st.grid.borderWidth,ft[r]=Math.max(n,ft[r])}vt=gt-ft.left-ft.right,yt=mt-ft.bottom-ft.top,t.each(i,(function(t,e){k(e)})),st.grid.show&&(t.each(allocatedAxes,(function(t,e){T(e)})),N()),G()}function D(t){var e=t.options,i=+(null!=e.min?e.min:t.datamin),n=+(null!=e.max?e.max:t.datamax),r=n-i;if(0==r){var o=0==n?1:.01;null==e.min&&(i-=o),null!=e.max&&null==e.min||(n+=o)}else{var s=e.autoscaleMargin;null!=s&&(null==e.min&&(i-=r*s)<0&&null!=t.datamin&&t.datamin>=0&&(i=0),null==e.max&&(n+=r*s)>0&&null!=t.datamax&&t.datamax<=0&&(n=0))}t.min=i,t.max=n}function I(e){var i,r=e.options;i="number"==typeof r.ticks&&r.ticks>0?r.ticks:.3*Math.sqrt("x"==e.direction?gt:mt);var o,s,a,l,c,u,d=(e.max-e.min)/i;if("time"==r.mode){var h={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,year:525949.2*60*1e3},p=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]],f=0;null!=r.minTickSize&&(f="number"==typeof r.tickSize?r.tickSize:r.minTickSize[0]*h[r.minTickSize[1]]);for(var g=0;g<p.length-1&&!(d<(p[g][0]*h[p[g][1]]+p[g+1][0]*h[p[g+1][1]])/2&&p[g][0]*h[p[g][1]]>=f);++g);o=p[g][0],"year"==(a=p[g][1])&&(c=Math.pow(10,Math.floor(Math.log(d/h.year)/Math.LN10)),o=(u=d/h.year/c)<1.5?1:u<3?2:u<7.5?5:10,o*=c),e.tickSize=r.tickSize||[o,a],s=function(t){var e=[],i=t.tickSize[0],r=t.tickSize[1],o=new Date(t.min),s=i*h[r];"second"==r&&o.setUTCSeconds(n(o.getUTCSeconds(),i)),"minute"==r&&o.setUTCMinutes(n(o.getUTCMinutes(),i)),"hour"==r&&o.setUTCHours(n(o.getUTCHours(),i)),"month"==r&&o.setUTCMonth(n(o.getUTCMonth(),i)),"year"==r&&o.setUTCFullYear(n(o.getUTCFullYear(),i)),o.setUTCMilliseconds(0),s>=h.minute&&o.setUTCSeconds(0),s>=h.hour&&o.setUTCMinutes(0),s>=h.day&&o.setUTCHours(0),s>=4*h.day&&o.setUTCDate(1),s>=h.year&&o.setUTCMonth(0);var a,l=0,c=Number.NaN;do{if(a=c,c=o.getTime(),e.push(c),"month"==r)if(i<1){o.setUTCDate(1);var u=o.getTime();o.setUTCMonth(o.getUTCMonth()+1);var d=o.getTime();o.setTime(c+l*h.hour+(d-u)*i),l=o.getUTCHours(),o.setUTCHours(0)}else o.setUTCMonth(o.getUTCMonth()+i);else"year"==r?o.setUTCFullYear(o.getUTCFullYear()+i):o.setTime(c+s)}while(c<t.max&&c!=a);return e},l=function(e,i){var n=new Date(e);if(null!=r.timeformat)return t.plot.formatDate(n,r.timeformat,r.monthNames);var o=i.tickSize[0]*h[i.tickSize[1]],s=i.max-i.min,a=r.twelveHourClock?" %p":"";return o<h.minute?fmt="%h:%M:%S"+a:o<h.day?s<2*h.day?fmt="%h:%M"+a:fmt="%b %d %h:%M"+a:o<h.month?fmt="%b %d":o<h.year?s<h.year?fmt="%b":fmt="%b %y":fmt="%y",t.plot.formatDate(n,fmt,r.monthNames)}}else{var m=r.tickDecimals,v=-Math.floor(Math.log(d)/Math.LN10);null!=m&&v>m&&(v=m),(u=d/(c=Math.pow(10,-v)))<1.5?o=1:u<3?(o=2,u>2.25&&(null==m||v+1<=m)&&(o=2.5,++v)):o=u<7.5?5:10,o*=c,null!=r.minTickSize&&o<r.minTickSize&&(o=r.minTickSize),e.tickDecimals=Math.max(0,null!=m?m:v),e.tickSize=r.tickSize||o,s=function(t){var e,i=[],r=n(t.min,t.tickSize),o=0,s=Number.NaN;do{e=s,s=r+o*t.tickSize,i.push(s),++o}while(s<t.max&&s!=e);return i},l=function(t,e){return t.toFixed(e.tickDecimals)}}if(null!=r.alignTicksWithAxis){var y=("x"==e.direction?ht:pt)[r.alignTicksWithAxis-1];if(y&&y.used&&y!=e){var b=s(e);if(b.length>0&&(null==r.min&&(e.min=Math.min(e.min,b[0])),null==r.max&&b.length>1&&(e.max=Math.max(e.max,b[b.length-1]))),s=function(t){var e,i,n=[];for(i=0;i<y.ticks.length;++i)e=(y.ticks[i].v-y.min)/(y.max-y.min),e=t.min+e*(t.max-t.min),n.push(e);return n},"time"!=e.mode&&null==r.tickDecimals){var _=Math.max(0,1-Math.floor(Math.log(d)/Math.LN10)),w=s(e);w.length>1&&/\..*0$/.test((w[1]-w[0]).toFixed(_))||(e.tickDecimals=_)}}}e.tickGenerator=s,t.isFunction(r.tickFormatter)?e.tickFormatter=function(t,e){return""+r.tickFormatter(t,e)}:e.tickFormatter=l}function E(e){var i,n,r=e.options.ticks,o=[];for(null==r||"number"==typeof r&&r>0?o=e.tickGenerator(e):r&&(o=t.isFunction(r)?r({min:e.min,max:e.max}):r),e.ticks=[],i=0;i<o.length;++i){var s=null,a=o[i];"object"==typeof a?(n=+a[0],a.length>1&&(s=a[1])):n=+a,null==s&&(s=e.tickFormatter(n,e)),isNaN(n)||e.ticks.push({v:n,label:s})}}function P(t,e){t.options.autoscaleMargin&&e.length>0&&(null==t.options.min&&(t.min=Math.min(t.min,e[0].v)),null==t.options.max&&e.length>1&&(t.max=Math.max(t.max,e[e.length-1].v)))}function O(){ut.clearRect(0,0,gt,mt);var t=st.grid;t.show&&t.backgroundColor&&M(),t.show&&!t.aboveData&&R();for(var e=0;e<ot.length;++e)a(bt.drawSeries,[ut,ot[e]]),q(ot[e]);a(bt.draw,[ut]),t.show&&t.aboveData&&R()}function F(t,e){var n,r,o,s,a=p();for(i=0;i<a.length;++i)if((n=a[i]).direction==e&&(t[s=e+n.n+"axis"]||1!=n.n||(s=e+"axis"),t[s])){r=t[s].from,o=t[s].to;break}if(t[s]||(n="x"==e?ht[0]:pt[0],r=t[e+"1"],o=t[e+"2"]),null!=r&&null!=o&&r>o){var l=r;r=o,o=l}return{from:r,to:o,axis:n}}function M(){ut.save(),ut.translate(ft.left,ft.top),ut.fillStyle=rt(st.grid.backgroundColor,yt,0,"rgba(255, 255, 255, 0)"),ut.fillRect(0,0,vt,yt),ut.restore()}function R(){var e;ut.save(),ut.translate(ft.left,ft.top);var i=st.grid.markings;if(i){if(t.isFunction(i))(s=_t.getAxes()).xmin=s.xaxis.min,s.xmax=s.xaxis.max,s.ymin=s.yaxis.min,s.ymax=s.yaxis.max,i=i(s);for(e=0;e<i.length;++e){var n=i[e],r=F(n,"x"),o=F(n,"y");null==r.from&&(r.from=r.axis.min),null==r.to&&(r.to=r.axis.max),null==o.from&&(o.from=o.axis.min),null==o.to&&(o.to=o.axis.max),r.to<r.axis.min||r.from>r.axis.max||o.to<o.axis.min||o.from>o.axis.max||(r.from=Math.max(r.from,r.axis.min),r.to=Math.min(r.to,r.axis.max),o.from=Math.max(o.from,o.axis.min),o.to=Math.min(o.to,o.axis.max),r.from==r.to&&o.from==o.to||(r.from=r.axis.p2c(r.from),r.to=r.axis.p2c(r.to),o.from=o.axis.p2c(o.from),o.to=o.axis.p2c(o.to),r.from==r.to||o.from==o.to?(ut.beginPath(),ut.strokeStyle=n.color||st.grid.markingsColor,ut.lineWidth=n.lineWidth||st.grid.markingsLineWidth,ut.moveTo(r.from,o.from),ut.lineTo(r.to,o.to),ut.stroke()):(ut.fillStyle=n.color||st.grid.markingsColor,ut.fillRect(r.from,o.to,r.to-r.from,o.from-o.to))))}}for(var s=p(),a=st.grid.borderWidth,l=0;l<s.length;++l){var c,u,d,h,f=s[l],g=f.box,m=f.tickLength;if(f.show&&0!=f.ticks.length){for(ut.strokeStyle=f.options.tickColor||t.color.parse(f.options.color).scale("a",.22).toString(),ut.lineWidth=1,"x"==f.direction?(c=0,u="full"==m?"top"==f.position?0:yt:g.top-ft.top+("top"==f.position?g.height:0)):(u=0,c="full"==m?"left"==f.position?0:vt:g.left-ft.left+("left"==f.position?g.width:0)),f.innermost||(ut.beginPath(),d=h=0,"x"==f.direction?d=vt:h=yt,1==ut.lineWidth&&(c=Math.floor(c)+.5,u=Math.floor(u)+.5),ut.moveTo(c,u),ut.lineTo(c+d,u+h),ut.stroke()),ut.beginPath(),e=0;e<f.ticks.length;++e){var v=f.ticks[e].v;d=h=0,v<f.min||v>f.max||"full"==m&&a>0&&(v==f.min||v==f.max)||("x"==f.direction?(c=f.p2c(v),h="full"==m?-yt:m,"top"==f.position&&(h=-h)):(u=f.p2c(v),d="full"==m?-vt:m,"left"==f.position&&(d=-d)),1==ut.lineWidth&&("x"==f.direction?c=Math.floor(c)+.5:u=Math.floor(u)+.5),ut.moveTo(c,u),ut.lineTo(c+d,u+h))}ut.stroke()}}a&&(ut.lineWidth=a,ut.strokeStyle=st.grid.borderColor,ut.strokeRect(-a/2,-a/2,vt+a,yt+a)),ut.restore()}function N(){e.find(".tickLabels").remove();for(var t=['<div class="tickLabels" style="font-size:smaller">'],i=p(),n=0;n<i.length;++n){var r=i[n],o=r.box;if(r.show){t.push('<div class="'+r.direction+"Axis "+r.direction+r.n+'Axis" style="color:'+r.options.color+'">');for(var s=0;s<r.ticks.length;++s){var a=r.ticks[s];if(!(!a.label||a.v<r.min||a.v>r.max)){var l,c={};"x"==r.direction?(l="center",c.left=Math.round(ft.left+r.p2c(a.v)-r.labelWidth/2),"bottom"==r.position?c.top=o.top+o.padding:c.bottom=mt-(o.top+o.height-o.padding)):(c.top=Math.round(ft.top+r.p2c(a.v)-r.labelHeight/2),"left"==r.position?(c.right=gt-(o.left+o.width-o.padding),l="right"):(c.left=o.left+o.padding,l="left")),c.width=r.labelWidth;var u=["position:absolute","text-align:"+l];for(var d in c)u.push(d+":"+c[d]+"px");t.push('<div class="tickLabel" style="'+u.join(";")+'">'+a.label+"</div>")}}t.push("</div>")}}t.push("</div>"),e.append(t.join(""))}function q(t){t.lines.show&&L(t),t.bars.show&&B(t),t.points.show&&z(t)}function L(t){function e(t,e,i,n,r){var o=t.points,s=t.pointsize,a=null,l=null;ut.beginPath();for(var c=s;c<o.length;c+=s){var u=o[c-s],d=o[c-s+1],h=o[c],p=o[c+1];if(null!=u&&null!=h){if(d<=p&&d<r.min){if(p<r.min)continue;u=(r.min-d)/(p-d)*(h-u)+u,d=r.min}else if(p<=d&&p<r.min){if(d<r.min)continue;h=(r.min-d)/(p-d)*(h-u)+u,p=r.min}if(d>=p&&d>r.max){if(p>r.max)continue;u=(r.max-d)/(p-d)*(h-u)+u,d=r.max}else if(p>=d&&p>r.max){if(d>r.max)continue;h=(r.max-d)/(p-d)*(h-u)+u,p=r.max}if(u<=h&&u<n.min){if(h<n.min)continue;d=(n.min-u)/(h-u)*(p-d)+d,u=n.min}else if(h<=u&&h<n.min){if(u<n.min)continue;p=(n.min-u)/(h-u)*(p-d)+d,h=n.min}if(u>=h&&u>n.max){if(h>n.max)continue;d=(n.max-u)/(h-u)*(p-d)+d,u=n.max}else if(h>=u&&h>n.max){if(u>n.max)continue;p=(n.max-u)/(h-u)*(p-d)+d,h=n.max}u==a&&d==l||ut.moveTo(n.p2c(u)+e,r.p2c(d)+i),a=h,l=p,ut.lineTo(n.p2c(h)+e,r.p2c(p)+i)}}ut.stroke()}function i(t,e,i){for(var n=t.points,r=t.pointsize,o=Math.min(Math.max(0,i.min),i.max),s=0,a=!1,l=1,c=0,u=0;!(r>0&&s>n.length+r);){var d=n[(s+=r)-r],h=n[s-r+l],p=n[s],f=n[s+l];if(a){if(r>0&&null!=d&&null==p){u=s,r=-r,l=2;continue}if(r<0&&s==c+r){ut.fill(),a=!1,l=1,s=c=u+(r=-r);continue}}if(null!=d&&null!=p){if(d<=p&&d<e.min){if(p<e.min)continue;h=(e.min-d)/(p-d)*(f-h)+h,d=e.min}else if(p<=d&&p<e.min){if(d<e.min)continue;f=(e.min-d)/(p-d)*(f-h)+h,p=e.min}if(d>=p&&d>e.max){if(p>e.max)continue;h=(e.max-d)/(p-d)*(f-h)+h,d=e.max}else if(p>=d&&p>e.max){if(d>e.max)continue;f=(e.max-d)/(p-d)*(f-h)+h,p=e.max}if(a||(ut.beginPath(),ut.moveTo(e.p2c(d),i.p2c(o)),a=!0),h>=i.max&&f>=i.max)ut.lineTo(e.p2c(d),i.p2c(i.max)),ut.lineTo(e.p2c(p),i.p2c(i.max));else if(h<=i.min&&f<=i.min)ut.lineTo(e.p2c(d),i.p2c(i.min)),ut.lineTo(e.p2c(p),i.p2c(i.min));else{var g=d,m=p;h<=f&&h<i.min&&f>=i.min?(d=(i.min-h)/(f-h)*(p-d)+d,h=i.min):f<=h&&f<i.min&&h>=i.min&&(p=(i.min-h)/(f-h)*(p-d)+d,f=i.min),h>=f&&h>i.max&&f<=i.max?(d=(i.max-h)/(f-h)*(p-d)+d,h=i.max):f>=h&&f>i.max&&h<=i.max&&(p=(i.max-h)/(f-h)*(p-d)+d,f=i.max),d!=g&&ut.lineTo(e.p2c(g),i.p2c(h)),ut.lineTo(e.p2c(d),i.p2c(h)),ut.lineTo(e.p2c(p),i.p2c(f)),p!=m&&(ut.lineTo(e.p2c(p),i.p2c(f)),ut.lineTo(e.p2c(m),i.p2c(f)))}}}}ut.save(),ut.translate(ft.left,ft.top),ut.lineJoin="round";var n=t.lines.lineWidth,r=t.shadowSize;if(n>0&&r>0){ut.lineWidth=r,ut.strokeStyle="rgba(0,0,0,0.1)";var o=Math.PI/18;e(t.datapoints,Math.sin(o)*(n/2+r/2),Math.cos(o)*(n/2+r/2),t.xaxis,t.yaxis),ut.lineWidth=r/2,e(t.datapoints,Math.sin(o)*(n/2+r/4),Math.cos(o)*(n/2+r/4),t.xaxis,t.yaxis)}ut.lineWidth=n,ut.strokeStyle=t.color;var s=W(t.lines,t.color,0,yt);s&&(ut.fillStyle=s,i(t.datapoints,t.xaxis,t.yaxis)),n>0&&e(t.datapoints,0,0,t.xaxis,t.yaxis),ut.restore()}function z(t){function e(t,e,i,n,r,o,s,a){for(var l=t.points,c=t.pointsize,u=0;u<l.length;u+=c){var d=l[u],h=l[u+1];null==d||d<o.min||d>o.max||h<s.min||h>s.max||(ut.beginPath(),d=o.p2c(d),h=s.p2c(h)+n,"circle"==a?ut.arc(d,h,e,0,r?Math.PI:2*Math.PI,!1):a(ut,d,h,e,r),ut.closePath(),i&&(ut.fillStyle=i,ut.fill()),ut.stroke())}}ut.save(),ut.translate(ft.left,ft.top);var i=t.points.lineWidth,n=t.shadowSize,r=t.points.radius,o=t.points.symbol;if(i>0&&n>0){var s=n/2;ut.lineWidth=s,ut.strokeStyle="rgba(0,0,0,0.1)",e(t.datapoints,r,null,s+s/2,!0,t.xaxis,t.yaxis,o),ut.strokeStyle="rgba(0,0,0,0.2)",e(t.datapoints,r,null,s/2,!0,t.xaxis,t.yaxis,o)}ut.lineWidth=i,ut.strokeStyle=t.color,e(t.datapoints,r,W(t.points,t.color),0,!1,t.xaxis,t.yaxis,o),ut.restore()}function H(t,e,i,n,r,o,s,a,l,c,u,d){var h,p,f,g,m,v,y,b,_;u?(b=v=y=!0,m=!1,g=e+n,f=e+r,(p=t)<(h=i)&&(_=p,p=h,h=_,m=!0,v=!1)):(m=v=y=!0,b=!1,h=t+n,p=t+r,(g=e)<(f=i)&&(_=g,g=f,f=_,b=!0,y=!1)),p<a.min||h>a.max||g<l.min||f>l.max||(h<a.min&&(h=a.min,m=!1),p>a.max&&(p=a.max,v=!1),f<l.min&&(f=l.min,b=!1),g>l.max&&(g=l.max,y=!1),h=a.p2c(h),f=l.p2c(f),p=a.p2c(p),g=l.p2c(g),s&&(c.beginPath(),c.moveTo(h,f),c.lineTo(h,g),c.lineTo(p,g),c.lineTo(p,f),c.fillStyle=s(f,g),c.fill()),d>0&&(m||v||y||b)&&(c.beginPath(),c.moveTo(h,f+o),m?c.lineTo(h,g+o):c.moveTo(h,g+o),y?c.lineTo(p,g+o):c.moveTo(p,g+o),v?c.lineTo(p,f+o):c.moveTo(p,f+o),b?c.lineTo(h,f+o):c.moveTo(h,f+o),c.stroke()))}function B(t){function e(e,i,n,r,o,s,a){for(var l=e.points,c=e.pointsize,u=0;u<l.length;u+=c)null!=l[u]&&H(l[u],l[u+1],l[u+2],i,n,r,o,s,a,ut,t.bars.horizontal,t.bars.lineWidth)}ut.save(),ut.translate(ft.left,ft.top),ut.lineWidth=t.bars.lineWidth,ut.strokeStyle=t.color;var i="left"==t.bars.align?0:-t.bars.barWidth/2,n=t.bars.fill?function(e,i){return W(t.bars,t.color,e,i)}:null;e(t.datapoints,i,i+t.bars.barWidth,0,n,t.xaxis,t.yaxis),ut.restore()}function W(e,i,n,r){var o=e.fill;if(!o)return null;if(e.fillColor)return rt(e.fillColor,n,r,i);var s=t.color.parse(i);return s.a="number"==typeof o?o:.4,s.normalize(),s.toString()}function G(){if(e.find(".legend").remove(),st.legend.show){for(var i,n,r=[],o=!1,s=st.legend.labelFormatter,a=0;a<ot.length;++a)(n=(i=ot[a]).label)&&(a%st.legend.noColumns==0&&(o&&r.push("</tr>"),r.push("<tr>"),o=!0),s&&(n=s(n,i)),r.push('<td class="legendColorBox"><div style="border:1px solid '+st.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+i.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+n+"</td>"));if(o&&r.push("</tr>"),0!=r.length){var l='<table style="font-size:smaller;color:'+st.grid.color+'">'+r.join("")+"</table>";if(null!=st.legend.container)t(st.legend.container).html(l);else{var c="",u=st.legend.position,d=st.legend.margin;null==d[0]&&(d=[d,d]),"n"==u.charAt(0)?c+="top:"+(d[1]+ft.top)+"px;":"s"==u.charAt(0)&&(c+="bottom:"+(d[1]+ft.bottom)+"px;"),"e"==u.charAt(1)?c+="right:"+(d[0]+ft.right)+"px;":"w"==u.charAt(1)&&(c+="left:"+(d[0]+ft.left)+"px;");var h=t('<div class="legend">'+l.replace('style="','style="position:absolute;'+c+";")+"</div>").appendTo(e)
;if(0!=st.legend.backgroundOpacity){var p=st.legend.backgroundColor;null==p&&((p=(p=st.grid.backgroundColor)&&"string"==typeof p?t.color.parse(p):t.color.extract(h,"background-color")).a=1,p=p.toString());var f=h.children();t('<div style="position:absolute;width:'+f.width()+"px;height:"+f.height()+"px;"+c+"background-color:"+p+';"> </div>').prependTo(h).css("opacity",st.legend.backgroundOpacity)}}}}}function U(t,e,i){var n,r,o=st.grid.mouseActiveRadius,s=o*o+1,a=null;for(n=ot.length-1;n>=0;--n)if(i(ot[n])){var l=ot[n],c=l.xaxis,u=l.yaxis,d=l.datapoints.points,h=l.datapoints.pointsize,p=c.c2p(t),f=u.c2p(e),g=o/c.scale,m=o/u.scale;if(c.options.inverseTransform&&(g=Number.MAX_VALUE),u.options.inverseTransform&&(m=Number.MAX_VALUE),l.lines.show||l.points.show)for(r=0;r<d.length;r+=h){var v=d[r],y=d[r+1];if(null!=v&&!(v-p>g||v-p<-g||y-f>m||y-f<-m)){var b=Math.abs(c.p2c(v)-t),_=Math.abs(u.p2c(y)-e),w=b*b+_*_;w<s&&(s=w,a=[n,r/h])}}if(l.bars.show&&!a){var x="left"==l.bars.align?0:-l.bars.barWidth/2,$=x+l.bars.barWidth;for(r=0;r<d.length;r+=h){v=d[r],y=d[r+1];var C=d[r+2];null!=v&&((ot[n].bars.horizontal?p<=Math.max(C,v)&&p>=Math.min(C,v)&&f>=y+x&&f<=y+$:p>=v+x&&p<=v+$&&f>=Math.min(C,y)&&f<=Math.max(C,y))&&(a=[n,r/h]))}}}return a?(n=a[0],r=a[1],h=ot[n].datapoints.pointsize,{datapoint:ot[n].datapoints.points.slice(r*h,(r+1)*h),dataIndex:r,series:ot[n],seriesIndex:n}):null}function V(t){st.grid.hoverable&&X("plothover",t,(function(t){return 0!=t.hoverable}))}function Q(t){st.grid.hoverable&&X("plothover",t,(function(){return!1}))}function Y(t){X("plotclick",t,(function(t){return 0!=t.clickable}))}function X(t,i,n){var r=ct.offset(),o=i.pageX-r.left-ft.left,s=i.pageY-r.top-ft.top,a=f({left:o,top:s});a.pageX=i.pageX,a.pageY=i.pageY;var l=U(o,s,n);if(l&&(l.pageX=parseInt(l.series.xaxis.p2c(l.datapoint[0])+r.left+ft.left),l.pageY=parseInt(l.series.yaxis.p2c(l.datapoint[1])+r.top+ft.top)),st.grid.autoHighlight){for(var c=0;c<wt.length;++c){var u=wt[c];u.auto!=t||l&&u.series==l.series&&u.point[0]==l.datapoint[0]&&u.point[1]==l.datapoint[1]||tt(u.series,u.point)}l&&Z(l.series,l.datapoint,t)}e.trigger(t,[a,l])}function K(){xt||(xt=setTimeout(J,30))}function J(){var t,e;for(xt=null,dt.save(),dt.clearRect(0,0,gt,mt),dt.translate(ft.left,ft.top),t=0;t<wt.length;++t)(e=wt[t]).series.bars.show?nt(e.series,e.point):it(e.series,e.point);dt.restore(),a(bt.drawOverlay,[dt])}function Z(t,e,i){if("number"==typeof t&&(t=ot[t]),"number"==typeof e){var n=t.datapoints.pointsize;e=t.datapoints.points.slice(n*e,n*(e+1))}var r=et(t,e);-1==r?(wt.push({series:t,point:e,auto:i}),K()):i||(wt[r].auto=!1)}function tt(t,e){null==t&&null==e&&(wt=[],K()),"number"==typeof t&&(t=ot[t]),"number"==typeof e&&(e=t.data[e]);var i=et(t,e);-1!=i&&(wt.splice(i,1),K())}function et(t,e){for(var i=0;i<wt.length;++i){var n=wt[i];if(n.series==t&&n.point[0]==e[0]&&n.point[1]==e[1])return i}return-1}function it(e,i){var n=i[0],r=i[1],o=e.xaxis,s=e.yaxis;if(!(n<o.min||n>o.max||r<s.min||r>s.max)){var a=e.points.radius+e.points.lineWidth/2;dt.lineWidth=a,dt.strokeStyle=t.color.parse(e.color).scale("a",.5).toString();var l=1.5*a;n=o.p2c(n),r=s.p2c(r);dt.beginPath(),"circle"==e.points.symbol?dt.arc(n,r,l,0,2*Math.PI,!1):e.points.symbol(dt,n,r,l,!1),dt.closePath(),dt.stroke()}}function nt(e,i){dt.lineWidth=e.bars.lineWidth,dt.strokeStyle=t.color.parse(e.color).scale("a",.5).toString();var n=t.color.parse(e.color).scale("a",.5).toString(),r="left"==e.bars.align?0:-e.bars.barWidth/2;H(i[0],i[1],i[2]||0,r,r+e.bars.barWidth,0,(function(){return n}),e.xaxis,e.yaxis,dt,e.bars.horizontal,e.bars.lineWidth)}function rt(e,i,n,r){if("string"==typeof e)return e;for(var o=ut.createLinearGradient(0,n,0,i),s=0,a=e.colors.length;s<a;++s){var l=e.colors[s];if("string"!=typeof l){var c=t.color.parse(r);null!=l.brightness&&(c=c.scale("rgb",l.brightness)),null!=l.opacity&&(c.a*=l.opacity),l=c.toString()}o.addColorStop(s/(a-1),l)}return o}var ot=[],st={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85},xaxis:{show:null,position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1},shadowSize:3},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},hooks:{}},at=null,lt=null,ct=null,ut=null,dt=null,ht=[],pt=[],ft={left:0,right:0,top:0,bottom:0},gt=0,mt=0,vt=0,yt=0,bt={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},_t=this;_t.setData=u,_t.setupGrid=A,_t.draw=O,_t.getPlaceholder=function(){return e},_t.getCanvas=function(){return at},_t.getPlotOffset=function(){return ft},_t.width=function(){return vt},_t.height=function(){return yt},_t.offset=function(){var t=ct.offset();return t.left+=ft.left,t.top+=ft.top,t},_t.getData=function(){return ot},_t.getAxes=function(){var e={};return t.each(ht.concat(pt),(function(t,i){i&&(e[i.direction+(1!=i.n?i.n:"")+"axis"]=i)})),e},_t.getXAxes=function(){return ht},_t.getYAxes=function(){return pt},_t.c2p=f,_t.p2c=g,_t.getOptions=function(){return st},_t.highlight=Z,_t.unhighlight=tt,_t.triggerRedrawOverlay=K,_t.pointOffset=function(t){return{left:parseInt(ht[h(t,"x")-1].p2c(+t.x)+ft.left),top:parseInt(pt[h(t,"y")-1].p2c(+t.y)+ft.top)}},_t.shutdown=C,_t.resize=function(){_(),w(at),w(lt)},_t.hooks=bt,l(_t),c(o),x(),u(r),A(),O(),$();var wt=[],xt=null}function n(t,e){return e*Math.floor(t/e)}t.plot=function(i,n,r){return new e(t(i),n,r,t.plot.plugins)},t.plot.version="0.7",t.plot.plugins=[],t.plot.formatDate=function(t,e,i){var n=function(t){return 1==(t=""+t).length?"0"+t:t},r=[],o=!1,s=!1,a=t.getUTCHours(),l=a<12;null==i&&(i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),-1!=e.search(/%p|%P/)&&(a>12?a-=12:0==a&&(a=12));for(var c=0;c<e.length;++c){var u=e.charAt(c);if(o){switch(u){case"h":u=""+a;break;case"H":u=n(a);break;case"M":u=n(t.getUTCMinutes());break;case"S":u=n(t.getUTCSeconds());break;case"d":u=""+t.getUTCDate();break;case"m":u=""+(t.getUTCMonth()+1);break;case"y":u=""+t.getUTCFullYear();break;case"b":u=""+i[t.getUTCMonth()];break;case"p":u=l?"am":"pm";break;case"P":u=l?"AM":"PM";break;case"0":u="",s=!0}u&&s&&(u=n(u),s=!1),r.push(u),s||(o=!1)}else"%"==u?o=!0:r.push(u)}return r.join("")}}(jQuery),function(t){function e(r){var c,u=this,d=r.data||{};if(d.elem)u=r.dragTarget=d.elem,r.dragProxy=l.proxy||u,r.cursorOffsetX=d.pageX-d.left,r.cursorOffsetY=d.pageY-d.top,r.offsetX=r.pageX-r.cursorOffsetX,r.offsetY=r.pageY-r.cursorOffsetY;else if(l.dragging||d.which>0&&r.which!=d.which||t(r.target).is(d.not))return;switch(r.type){case"mousedown":return t.extend(d,t(u).offset(),{elem:u,target:r.target,pageX:r.pageX,pageY:r.pageY}),s.add(document,"mousemove mouseup",e,d),o(u,!1),l.dragging=null,!1;case!l.dragging&&"mousemove":if(n(r.pageX-d.pageX)+n(r.pageY-d.pageY)<d.distance)break;r.target=d.target,!1!==(c=i(r,"dragstart",u))&&(l.dragging=u,l.proxy=r.dragProxy=t(c||u)[0]);case"mousemove":if(l.dragging){if(c=i(r,"drag",u),a.drop&&(a.drop.allowed=!1!==c,a.drop.handler(r)),!1!==c)break;r.type="mouseup"}case"mouseup":s.remove(document,"mousemove mouseup",e),l.dragging&&(a.drop&&a.drop.handler(r),i(r,"dragend",u)),o(u,!0),l.dragging=l.proxy=d.elem=!1}return!0}function i(e,i,n){e.type=i;var r=t.event.handle.call(n,e);return!1!==r&&(r||e.result)}function n(t){return Math.pow(t,2)}function r(){return!1===l.dragging}function o(t,e){t&&(t.unselectable=e?"off":"on",t.onselectstart=function(){return e},t.style&&(t.style.MozUserSelect=e?"":"none"))}t.fn.drag=function(t,e,i){return e&&this.bind("dragstart",t),i&&this.bind("dragend",i),t?this.bind("drag",e||t):this.trigger("drag")};var s=t.event,a=s.special,l=a.drag={not:":input",distance:0,which:1,dragging:!1,setup:function(i){(i=t.extend({distance:l.distance,which:l.which,not:l.not},i||{})).distance=n(i.distance),s.add(this,"mousedown",e,i),this.attachEvent&&this.attachEvent("ondragstart",r)},teardown:function(){s.remove(this,"mousedown",e),this===l.dragging&&(l.dragging=l.proxy=!1),o(this,!0),this.detachEvent&&this.detachEvent("ondragstart",r)}};a.dragstart=a.dragend={setup:function(){},teardown:function(){}}}(jQuery),function(t){function e(e){var i=[].slice.call(arguments,1),n=0;return(e=t.event.fix(e||window.event)).type="mousewheel",e.wheelDelta&&(n=e.wheelDelta/120),e.detail&&(n=-e.detail/3),i.unshift(e,n),t.event.handle.apply(this,i)}var i=["DOMMouseScroll","mousewheel"];t.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=i.length;t;)this.addEventListener(i[--t],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var t=i.length;t;)this.removeEventListener(i[--t],e,!1);else this.onmousewheel=null}},t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}(jQuery),function(t){function e(e){function i(t,i){var n=e.offset();n.left=t.pageX-n.left,n.top=t.pageY-n.top,i?e.zoomOut({center:n}):e.zoom({center:n})}function n(t,e){return i(t,e<0),!1}function r(t){if(1!=t.which)return!1;var i=e.getPlaceholder().css("cursor");i&&(c=i),e.getPlaceholder().css("cursor",e.getOptions().pan.cursor),u=t.pageX,d=t.pageY}function o(t){var i=e.getOptions().pan.frameRate;!h&&i&&(h=setTimeout((function(){e.pan({left:u-t.pageX,top:d-t.pageY}),u=t.pageX,d=t.pageY,h=null}),1/i*1e3))}function s(t){h&&(clearTimeout(h),h=null),e.getPlaceholder().css("cursor",c),e.pan({left:u-t.pageX,top:d-t.pageY})}function a(t,e){var a=t.getOptions();a.zoom.interactive&&(e[a.zoom.trigger](i),e.mousewheel(n)),a.pan.interactive&&(e.bind("dragstart",{distance:10},r),e.bind("drag",o),e.bind("dragend",s))}function l(t,e){e.unbind(t.getOptions().zoom.trigger,i),e.unbind("mousewheel",n),e.unbind("dragstart",r),e.unbind("drag",o),e.unbind("dragend",s),h&&clearTimeout(h)}var c="default",u=0,d=0,h=null;e.zoomOut=function(t){t||(t={}),t.amount||(t.amount=e.getOptions().zoom.amount),t.amount=1/t.amount,e.zoom(t)},e.zoom=function(i){i||(i={});var n=i.center,r=i.amount||e.getOptions().zoom.amount,o=e.width(),s=e.height();n||(n={left:o/2,top:s/2});var a=n.left/o,l=n.top/s,c={x:{min:n.left-a*o/r,max:n.left+(1-a)*o/r},y:{min:n.top-l*s/r,max:n.top+(1-l)*s/r}};t.each(e.getAxes(),(function(t,e){var i=e.options,n=c[e.direction].min,r=c[e.direction].max,o=i.zoomRange;if(!1!==o){if((n=e.c2p(n))>(r=e.c2p(r))){var s=n;n=r,r=s}var a=r-n;o&&(null!=o[0]&&a<o[0]||null!=o[1]&&a>o[1])||(i.min=n,i.max=r)}})),e.setupGrid(),e.draw(),i.preventEvent||e.getPlaceholder().trigger("plotzoom",[e])},e.pan=function(i){var n={x:+i.left,y:+i.top};isNaN(n.x)&&(n.x=0),isNaN(n.y)&&(n.y=0),t.each(e.getAxes(),(function(t,e){var i,r,o=e.options,s=n[e.direction];i=e.c2p(e.p2c(e.min)+s),r=e.c2p(e.p2c(e.max)+s);var a=o.panRange;!1!==a&&(a&&(null!=a[0]&&a[0]>i&&(i+=s=a[0]-i,r+=s),null!=a[1]&&a[1]<r&&(i+=s=a[1]-r,r+=s)),o.min=i,o.max=r)})),e.setupGrid(),e.draw(),i.preventEvent||e.getPlaceholder().trigger("plotpan",[e])},e.hooks.bindEvents.push(a),e.hooks.shutdown.push(l)}var i={xaxis:{zoomRange:null,panRange:null},zoom:{interactive:!1,trigger:"dblclick",amount:1.5},pan:{interactive:!1,cursor:"move",frameRate:20}};t.plot.plugins.push({init:e,options:i,name:"navigate",version:"1.3"})}(jQuery),function(t){function e(e){function r(t,e){e.series.pie.show&&(e.grid.show=!1,"auto"==e.series.pie.label.show&&(e.legend.show?e.series.pie.label.show=!1:e.series.pie.label.show=!0),"auto"==e.series.pie.radius&&(e.series.pie.label.show?e.series.pie.radius=3/4:e.series.pie.radius=1),e.series.pie.tilt>1&&(e.series.pie.tilt=1),e.series.pie.tilt<0&&(e.series.pie.tilt=0),t.hooks.processDatapoints.push(a),t.hooks.drawOverlay.push($),t.hooks.draw.push(d))}function o(t,e){var i=t.getOptions();i.series.pie.show&&i.grid.hoverable&&e.unbind("mousemove").mousemove(g),i.series.pie.show&&i.grid.clickable&&e.unbind("click").click(m)}function s(t){for(var e=0;e<t.length;++e){var i=parseFloat(t[e].data[0][1]);i&&(A+=i)}}function a(e){O||(O=!0,C=e.getCanvas(),k=t(C).parent(),n=e.getOptions(),e.setData(u(e.getData())))}function l(){P=k.children().filter(".legend").children().width(),S=Math.min(C.width,C.height/n.series.pie.tilt)/2,T=C.height/2+n.series.pie.offset.top,j=C.width/2,"auto"==n.series.pie.offset.left?n.legend.position.match("w")?j+=P/2:j-=P/2:j+=n.series.pie.offset.left,j<S?j=S:j>C.width-S&&(j=C.width-S)}function c(t){for(var e=0;e<t.length;++e)"number"==typeof t[e].data?t[e].data=[[1,t[e].data]]:void 0!==t[e].data&&void 0!==t[e].data[0]||(void 0!==t[e].data&&void 0!==t[e].data.label&&(t[e].label=t[e].data.label),t[e].data=[[1,0]]);return t}function u(t){s(t=c(t));for(var e=0,i=0,r=n.series.pie.combine.color,o=[],a=0;a<t.length;++a)t[a].data[0][1]=parseFloat(t[a].data[0][1]),t[a].data[0][1]||(t[a].data[0][1]=0),t[a].data[0][1]/A<=n.series.pie.combine.threshold?(e+=t[a].data[0][1],i++,r||(r=t[a].color)):o.push({data:[[1,t[a].data[0][1]]],color:t[a].color,label:t[a].label,angle:t[a].data[0][1]*(2*Math.PI)/A,percent:t[a].data[0][1]/A*100});return i>0&&o.push({data:[[1,e]],color:r,label:n.series.pie.combine.label,angle:e*(2*Math.PI)/A,percent:e/A*100}),o}function d(e,i){function r(){ctx.clearRect(0,0,C.width,C.height),k.children().filter(".pieLabel, .pieLabelBackground").remove()}function o(){var t=5,e=15,i=10,r=.02;if(n.series.pie.radius>1)var o=n.series.pie.radius;else o=S*n.series.pie.radius;if(!(o>=C.width/2-t||o*n.series.pie.tilt>=C.height/2-e||o<=i)){ctx.save(),ctx.translate(t,e),ctx.globalAlpha=r,ctx.fillStyle="#000",ctx.translate(j,T),ctx.scale(1,n.series.pie.tilt);for(var s=1;s<=i;s++)ctx.beginPath(),ctx.arc(0,0,o,0,2*Math.PI,!1),ctx.fill(),o-=s;ctx.restore()}}function s(){function e(e,i,n){e<=0||(n?ctx.fillStyle=i:(ctx.strokeStyle=i,ctx.lineJoin="round"),ctx.beginPath(),Math.abs(e-2*Math.PI)>1e-9?ctx.moveTo(0,0):t.browser.msie&&(e-=1e-4),ctx.arc(0,0,r,o,o+e,!1),ctx.closePath(),o+=e,n?ctx.fill():ctx.stroke())}function i(){function e(e,i,o){if(0!=e.data[0][1]){var s,a=n.legend.labelFormatter,l=n.series.pie.label.formatter;s=a?a(e.label,e):e.label,l&&(s=l(s,e));var c=(i+e.angle+i)/2,u=j+Math.round(Math.cos(c)*r),d=T+Math.round(Math.sin(c)*r)*n.series.pie.tilt,h='<span class="pieLabel" id="pieLabel'+o+'" style="position:absolute;top:'+d+"px;left:"+u+'px;">'+s+"</span>";k.append(h);var p=k.children("#pieLabel"+o),f=d-p.height()/2,g=u-p.width()/2;if(p.css("top",f),p.css("left",g),(0-f>0||0-g>0||C.height-(f+p.height())<0||C.width-(g+p.width())<0)&&(D=!0),0!=n.series.pie.label.background.opacity){var m=n.series.pie.label.background.color;null==m&&(m=e.color);var v="top:"+f+"px;left:"+g+"px;";t('<div class="pieLabelBackground" style="position:absolute;width:'+p.width()+"px;height:"+p.height()+"px;"+v+"background-color:"+m+';"> </div>').insertBefore(p).css("opacity",n.series.pie.label.background.opacity)}}}var i=startAngle;if(n.series.pie.label.radius>1)var r=n.series.pie.label.radius;else r=S*n.series.pie.label.radius;for(var o=0;o<a.length;++o)a[o].percent>=100*n.series.pie.label.threshold&&e(a[o],i,o),i+=a[o].angle}if(startAngle=Math.PI*n.series.pie.startAngle,n.series.pie.radius>1)var r=n.series.pie.radius;else r=S*n.series.pie.radius;ctx.save(),ctx.translate(j,T),ctx.scale(1,n.series.pie.tilt),ctx.save();for(var o=startAngle,s=0;s<a.length;++s)a[s].startAngle=o,e(a[s].angle,a[s].color,!0);ctx.restore(),ctx.save(),ctx.lineWidth=n.series.pie.stroke.width,o=startAngle;for(s=0;s<a.length;++s)e(a[s].angle,n.series.pie.stroke.color,!1);ctx.restore(),h(ctx),n.series.pie.label.show&&i(),ctx.restore()}if(k){ctx=i,l();for(var a=e.getData(),c=0;D&&c<I;)D=!1,c>0&&(S*=E),c+=1,r(),n.series.pie.tilt<=.8&&o(),s();c>=I&&(r(),k.prepend('<div class="error">Could not draw pie with labels contained inside canvas</div>')),e.setSeries&&e.insertLegend&&(e.setSeries(a),e.insertLegend())}}function h(t){n.series.pie.innerRadius>0&&(t.save(),innerRadius=n.series.pie.innerRadius>1?n.series.pie.innerRadius:S*n.series.pie.innerRadius,t.globalCompositeOperation="destination-out",t.beginPath(),t.fillStyle=n.series.pie.stroke.color,t.arc(0,0,innerRadius,0,2*Math.PI,!1),t.fill(),t.closePath(),t.restore(),t.save(),t.beginPath(),t.strokeStyle=n.series.pie.stroke.color,t.arc(0,0,innerRadius,0,2*Math.PI,!1),t.stroke(),t.closePath(),t.restore())}function p(t,e){for(var i=!1,n=-1,r=t.length,o=r-1;++n<r;o=n)(t[n][1]<=e[1]&&e[1]<t[o][1]||t[o][1]<=e[1]&&e[1]<t[n][1])&&e[0]<(t[o][0]-t[n][0])*(e[1]-t[n][1])/(t[o][1]-t[n][1])+t[n][0]&&(i=!i);return i}function f(t,i){for(var n=e.getData(),r=e.getOptions(),o=r.series.pie.radius>1?r.series.pie.radius:S*r.series.pie.radius,s=0;s<n.length;++s){var a=n[s];if(a.pie.show){if(ctx.save(),ctx.beginPath(),ctx.moveTo(0,0),ctx.arc(0,0,o,a.startAngle,a.startAngle+a.angle,!1),ctx.closePath(),x=t-j,y=i-T,ctx.isPointInPath){if(ctx.isPointInPath(t-j,i-T))return ctx.restore(),{datapoint:[a.percent,a.data],dataIndex:0,series:a,seriesIndex:s}}else if(p1X=o*Math.cos(a.startAngle),p1Y=o*Math.sin(a.startAngle),p2X=o*Math.cos(a.startAngle+a.angle/4),p2Y=o*Math.sin(a.startAngle+a.angle/4),p3X=o*Math.cos(a.startAngle+a.angle/2),p3Y=o*Math.sin(a.startAngle+a.angle/2),p4X=o*Math.cos(a.startAngle+a.angle/1.5),p4Y=o*Math.sin(a.startAngle+a.angle/1.5),p5X=o*Math.cos(a.startAngle+a.angle),p5Y=o*Math.sin(a.startAngle+a.angle),arrPoly=[[0,0],[p1X,p1Y],[p2X,p2Y],[p3X,p3Y],[p4X,p4Y],[p5X,p5Y]],arrPoint=[x,y],p(arrPoly,arrPoint))return ctx.restore(),{datapoint:[a.percent,a.data],dataIndex:0,series:a,seriesIndex:s};ctx.restore()}}return null}function g(t){v("plothover",t)}function m(t){v("plotclick",t)}function v(t,i){var r=e.offset(),o=f(parseInt(i.pageX-r.left),parseInt(i.pageY-r.top));if(n.grid.autoHighlight)for(var s=0;s<F.length;++s){var a=F[s];a.auto!=t||o&&a.series==o.series||_(a.series)}o&&b(o.series,t);var l={pageX:i.pageX,pageY:i.pageY};k.trigger(t,[l,o])}function b(t,i){"number"==typeof t&&(t=series[t]);var n=w(t);-1==n?(F.push({series:t,auto:i}),e.triggerRedrawOverlay()):i||(F[n].auto=!1)}function _(t){null==t&&(F=[],e.triggerRedrawOverlay()),"number"==typeof t&&(t=series[t]);var i=w(t);-1!=i&&(F.splice(i,1),e.triggerRedrawOverlay())}function w(t){for(var e=0;e<F.length;++e){if(F[e].series==t)return e}return-1}function $(t,e){function n(t){t.angle<0||(e.fillStyle="rgba(255, 255, 255, "+r.series.pie.highlight.opacity+")",e.beginPath(),Math.abs(t.angle-2*Math.PI)>1e-9&&e.moveTo(0,0),e.arc(0,0,o,t.startAngle,t.startAngle+t.angle,!1),e.closePath(),e.fill())}var r=t.getOptions(),o=r.series.pie.radius>1?r.series.pie.radius:S*r.series.pie.radius;for(e.save(),e.translate(j,T),e.scale(1,r.series.pie.tilt),i=0;i<F.length;++i)n(F[i].series);h(e),e.restore()}var C=null,k=null,S=null,j=null,T=null,A=0,D=!0,I=10,E=.95,P=0,O=!1,F=[];e.hooks.processOptions.push(r),e.hooks.bindEvents.push(o)}var n={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,offset:{top:0,left:"auto"},stroke:{color:"#FFF",width:1},label:{show:"auto",formatter:function(t,e){return'<div style="font-size:x-small;text-align:center;padding:2px;color:'+e.color+';">'+t+"<br/>"+Math.round(e.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}};t.plot.plugins.push({init:e,options:n,name:"pie",version:"1.0"})}(jQuery),function(){function t(t){function e(t,e){for(var i=null,n=0;n<e.length&&t!=e[n];++n)e[n].stack==t.stack&&(i=e[n]);return i}function i(t,i,n){if(null!=i.stack){var r=e(i,t.getData());if(r){for(var o,s,a,l,c,u,d,h=n.pointsize,p=n.points,f=r.datapoints.pointsize,g=r.datapoints.points,v=[],y=i.lines.show,b=i.bars.horizontal,_=h>2&&(b?n.format[2].x:n.format[2].y),w=y&&i.lines.steps,x=!0,$=b?1:0,C=b?0:1,k=0,S=0;!(k>=p.length);){if(d=v.length,null==p[k]){for(m=0;m<h;++m)v.push(p[k+m]);k+=h}else if(S>=g.length){if(!y)for(m=0;m<h;++m)v.push(p[k+m]);k+=h}else if(null==g[S]){for(m=0;m<h;++m)v.push(null);x=!0,S+=f}else{if(o=p[k+$],s=p[k+C],l=g[S+$],c=g[S+C],u=0,o==l){for(m=0;m<h;++m)v.push(p[k+m]);v[d+C]+=c,u=c,k+=h,S+=f}else if(o>l){if(y&&k>0&&null!=p[k-h]){for(a=s+(p[k-h+C]-s)*(l-o)/(p[k-h+$]-o),v.push(l),v.push(a+c),m=2;m<h;++m)v.push(p[k+m]);u=c}S+=f}else{if(x&&y){k+=h;continue}for(m=0;m<h;++m)v.push(p[k+m]);y&&S>0&&null!=g[S-f]&&(u=c+(g[S-f+C]-c)*(o-l)/(g[S-f+$]-l)),v[d+C]+=u,k+=h}x=!1,d!=v.length&&_&&(v[d+2]+=u)}if(w&&d!=v.length&&d>0&&null!=v[d]&&v[d]!=v[d-h]&&v[d+1]!=v[d-h+1]){for(m=0;m<h;++m)v[d+h+m]=v[d+m];v[d+1]=v[d-h+1]}}n.points=v}}}t.hooks.processDatapoints.push(i)}var e={series:{stack:null}};jQuery.plot.plugins.push({init:t,options:e,name:"stack",version:"1.2"})}(),function(t){var e=t({});t.tinySub=function(){e.on.apply(e,arguments)},t.tinyUnsub=function(){e.off.apply(e,arguments)},t.tinyPub=function(){e.trigger.apply(e,arguments)}}(jQuery),function(t){"use strict";function e(e,i){this.isInit=!0,this.itemsArray=[],this.$element=t(e),this.$element.hide(),this.isSelect="SELECT"===e.tagName,this.multiple=this.isSelect&&e.hasAttribute("multiple"),this.objectItems=i&&i.itemValue,this.placeholderText=e.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=t('<div class="bootstrap-tagsinput"></div>'),this.$input=t('<input type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.before(this.$container),this.build(i),this.isInit=!1}function i(t,e){if("function"!=typeof t[e]){var i=t[e];t[e]=function(t){return t[i]}}}function n(t,e){if("function"!=typeof t[e]){var i=t[e];t[e]=function(){return i}}}function r(t){return t?l.text(t).html():""}function o(t){var e=0;if(document.selection){t.focus();var i=document.selection.createRange();i.moveStart("character",-t.value.length),e=i.text.length}else(t.selectionStart||"0"==t.selectionStart)&&(e=t.selectionStart);return e}function s(e,i){var n=!1;return t.each(i,(function(t,i){if("number"==typeof i&&e.which===i)return n=!0,!1;if(e.which===i.which){var r=!i.hasOwnProperty("altKey")||e.altKey===i.altKey,o=!i.hasOwnProperty("shiftKey")||e.shiftKey===i.shiftKey,s=!i.hasOwnProperty("ctrlKey")||e.ctrlKey===i.ctrlKey;if(r&&o&&s)return n=!0,!1}})),n}var a={tagClass:function(){return"label label-info"},focusClass:"focus",itemValue:function(t){return t?t.toString():t},itemText:function(t){return this.itemValue(t)},itemTitle:function(){return null},freeInput:!0,addOnBlur:!0,maxTags:void 0,maxChars:void 0,confirmKeys:[13,44],delimiter:",",delimiterRegex:null,cancelConfirmKeysOnEmpty:!1,onTagExists:function(t,e){e.hide().fadeIn()},trimValue:!1,allowDuplicates:!1,triggerChange:!0};e.prototype={constructor:e,add:function(e,i,n){var o=this;if(!(o.options.maxTags&&o.itemsArray.length>=o.options.maxTags)&&(!1===e||e)){if("string"==typeof e&&o.options.trimValue&&(e=t.trim(e)),"object"==typeof e&&!o.objectItems)throw"Can't add objects when itemValue option is not set";if(!e.toString().match(/^\s*$/)){if(o.isSelect&&!o.multiple&&o.itemsArray.length>0&&o.remove(o.itemsArray[0]),"string"==typeof e&&"INPUT"===this.$element[0].tagName){var s=o.options.delimiterRegex?o.options.delimiterRegex:o.options.delimiter,a=e.split(s);if(a.length>1){for(var l=0;l<a.length;l++)this.add(a[l],!0);return void(i||o.pushVal(o.options.triggerChange))}}var c=o.options.itemValue(e),u=o.options.itemText(e),d=o.options.tagClass(e),h=o.options.itemTitle(e),p=t.grep(o.itemsArray,(function(t){return o.options.itemValue(t)===c}))[0];if(!p||o.options.allowDuplicates){if(!(o.items().toString().length+e.length+1>o.options.maxInputLength)){var f=t.Event("beforeItemAdd",{item:e,cancel:!1,options:n});if(o.$element.trigger(f),!f.cancel){o.itemsArray.push(e);var g=t('<span class="tag '+r(d)+(null!==h?'" title="'+h:"")+'">'+r(u)+'<span data-role="remove"></span></span>');g.data("item",e),o.findInputWrapper().before(g),g.after(" ");var m=t('option[value="'+encodeURIComponent(c)+'"]',o.$element).length||t('option[value="'+r(c)+'"]',o.$element).length;if(o.isSelect&&!m){var v=t("<option selected>"+r(u)+"</option>");v.data("item",e),v.attr("value",c),o.$element.append(v)}i||o.pushVal(o.options.triggerChange),(o.options.maxTags===o.itemsArray.length||o.items().toString().length===o.options.maxInputLength)&&o.$container.addClass("bootstrap-tagsinput-max"),t(".typeahead, .twitter-typeahead",o.$container).length&&o.$input.typeahead("val",""),this.isInit?o.$element.trigger(t.Event("itemAddedOnInit",{item:e,options:n})):o.$element.trigger(t.Event("itemAdded",{item:e,options:n}))}}}else if(o.options.onTagExists){var y=t(".tag",o.$container).filter((function(){return t(this).data("item")===p}));o.options.onTagExists(e,y)}}}},remove:function(e,i,n){var r=this;if(r.objectItems&&(e=(e="object"==typeof e?t.grep(r.itemsArray,(function(t){return r.options.itemValue(t)==r.options.itemValue(e)})):t.grep(r.itemsArray,(function(t){return r.options.itemValue(t)==e})))[e.length-1]),e){var o=t.Event("beforeItemRemove",{item:e,cancel:!1,options:n});if(r.$element.trigger(o),o.cancel)return;t(".tag",r.$container).filter((function(){return t(this).data("item")===e})).remove(),t("option",r.$element).filter((function(){return t(this).data("item")===e})).remove(),-1!==t.inArray(e,r.itemsArray)&&r.itemsArray.splice(t.inArray(e,r.itemsArray),1)}i||r.pushVal(r.options.triggerChange),r.options.maxTags>r.itemsArray.length&&r.$container.removeClass("bootstrap-tagsinput-max"),r.$element.trigger(t.Event("itemRemoved",{item:e,options:n}))},removeAll:function(){var e=this;for(t(".tag",e.$container).remove(),t("option",e.$element).remove();e.itemsArray.length>0;)e.itemsArray.pop();e.pushVal(e.options.triggerChange)},refresh:function(){var e=this;t(".tag",e.$container).each((function(){var i=t(this),n=i.data("item"),o=e.options.itemValue(n),s=e.options.itemText(n),a=e.options.tagClass(n);(i.attr("class",null),i.addClass("tag "+r(a)),i.contents().filter((function(){return 3==this.nodeType}))[0].nodeValue=r(s),e.isSelect)&&t("option",e.$element).filter((function(){return t(this).data("item")===n})).attr("value",o)}))},items:function(){return this.itemsArray},pushVal:function(){var e=this,i=t.map(e.items(),(function(t){return e.options.itemValue(t).toString()}));e.$element.val(i,!0),e.options.triggerChange&&e.$element.trigger("change")},build:function(e){var r=this;if(r.options=t.extend({},a,e),r.objectItems&&(r.options.freeInput=!1),i(r.options,"itemValue"),i(r.options,"itemText"),n(r.options,"tagClass"),r.options.typeahead){var l=r.options.typeahead||{};n(l,"source"),r.$input.typeahead(t.extend({},l,{source:function(e,i){function n(t){for(var e=[],n=0;n<t.length;n++){var s=r.options.itemText(t[n]);o[s]=t[n],e.push(s)}i(e)}this.map={};var o=this.map,s=l.source(e);t.isFunction(s.success)?s.success(n):t.isFunction(s.then)?s.then(n):t.when(s).then(n)},updater:function(t){return r.add(this.map[t]),this.map[t]},matcher:function(t){return-1!==t.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(t){return t.sort()},highlighter:function(t){var e=new RegExp("("+this.query+")","gi");return t.replace(e,"<strong>$1</strong>")}}))}if(r.options.typeaheadjs){var c=null,u={},d=r.options.typeaheadjs;t.isArray(d)?(c=d[0],u=d[1]):u=d,r.$input.typeahead(c,u).on("typeahead:selected",t.proxy((function(t,e){u.valueKey?r.add(e[u.valueKey]):r.add(e),r.$input.typeahead("val","")}),r))}r.$container.on("click",t.proxy((function(){r.$element.attr("disabled")||r.$input.removeAttr("disabled"),r.$input.focus()}),r)),r.options.addOnBlur&&r.options.freeInput&&r.$input.on("focusout",t.proxy((function(){0===t(".typeahead, .twitter-typeahead",r.$container).length&&(r.add(r.$input.val()),r.$input.val(""))}),r)),r.$container.on({focusin:function(){r.$container.addClass(r.options.focusClass)},focusout:function(){r.$container.removeClass(r.options.focusClass)}}),r.$container.on("keydown","input",t.proxy((function(e){var i=t(e.target),n=r.findInputWrapper();if(r.$element.attr("disabled"))r.$input.attr("disabled","disabled");else{switch(e.which){case 8:if(0===o(i[0])){var s=n.prev();s.length&&r.remove(s.data("item"))}break;case 46:if(0===o(i[0])){var a=n.next();a.length&&r.remove(a.data("item"))}break;case 37:var l=n.prev();0===i.val().length&&l[0]&&(l.before(n),i.focus());break;case 39:var c=n.next();0===i.val().length&&c[0]&&(c.after(n),i.focus())}var u=i.val().length;Math.ceil(u/5),i.attr("size",Math.max(this.inputSize,i.val().length))}}),r)),r.$container.on("keypress","input",t.proxy((function(e){var i=t(e.target);if(r.$element.attr("disabled"))r.$input.attr("disabled","disabled");else{var n=i.val(),o=r.options.maxChars&&n.length>=r.options.maxChars;r.options.freeInput&&(s(e,r.options.confirmKeys)||o)&&(0!==n.length&&(r.add(o?n.substr(0,r.options.maxChars):n),i.val("")),!1===r.options.cancelConfirmKeysOnEmpty&&e.preventDefault());var a=i.val().length;Math.ceil(a/5),i.attr("size",Math.max(this.inputSize,i.val().length))}}),r)),r.$container.on("click","[data-role=remove]",t.proxy((function(e){r.$element.attr("disabled")||r.remove(t(e.target).closest(".tag").data("item"))}),r)),r.options.itemValue===a.itemValue&&("INPUT"===r.$element[0].tagName?r.add(r.$element.val()):t("option",r.$element).each((function(){r.add(t(this).attr("value"),!0)})))},destroy:function(){var t=this;t.$container.off("keypress","input"),t.$container.off("click","[role=remove]"),t.$container.remove(),t.$element.removeData("tagsinput"),t.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var e=this.$input[0],i=this.$container[0];e&&e.parentNode!==i;)e=e.parentNode;return t(e)}},t.fn.tagsinput=function(i,n,r){var o=[];return this.each((function(){var s=t(this).data("tagsinput");if(s)if(i||n){if(void 0!==s[i]){if(3===s[i].length&&void 0!==r)var a=s[i](n,null,r);else a=s[i](n);void 0!==a&&o.push(a)}}else o.push(s);else s=new e(this,i),t(this).data("tagsinput",s),o.push(s),"SELECT"===this.tagName&&t("option",t(this)).attr("selected","selected"),t(this).val(t(this).val())})),"string"==typeof i?o.length>1?o:o[0]:o},t.fn.tagsinput.Constructor=e;var l=t("<div />");t((function(){t("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()}))}(window.jQuery);var docCookies={getItem:function(t){return t&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(t,e,i,n,r,o){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;var s="";if(i)switch(i.constructor){case Number:s=i===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+i;break;case String:s="; expires="+i;break;case Date:s="; expires="+i.toUTCString()}return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+s+(r?"; domain="+r:"")+(n?"; path="+n:"")+(o?"; secure":""),!0},removeItem:function(t,e,i){return!!this.hasItem(t)&&(document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(i?"; domain="+i:"")+(e?"; path="+e:""),!0)},hasItem:function(t){return!!t&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var t=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),e=t.length,i=0;i<e;i++)t[i]=decodeURIComponent(t[i]);return t}};"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=docCookies),$.QueryString=function(t){if(""==t)return{};for(var e={},i=0;i<t.length;++i){var n=t[i].split("=",2);2==n.length&&(e[n[0]]=decodeURIComponent(n[1].replace(/\+/g," ")))}return e}(window.location.search.substr(1).split("&")),function(){function t(t,e){return t.set(e[0],e[1]),t}function e(t,e){return t.add(e),t}function i(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function n(t,e,i,n){for(var r=-1,o=t?t.length:0;++r<o;){
var s=t[r];e(n,s,i(s),t)}return n}function r(t,e){for(var i=-1,n=t?t.length:0;++i<n&&!1!==e(t[i],i,t););return t}function o(t,e){for(var i=t?t.length:0;i--&&!1!==e(t[i],i,t););return t}function s(t,e){for(var i=-1,n=t?t.length:0;++i<n;)if(!e(t[i],i,t))return!1;return!0}function a(t,e){for(var i=-1,n=t?t.length:0,r=0,o=[];++i<n;){var s=t[i];e(s,i,t)&&(o[r++]=s)}return o}function l(t,e){return!(!t||!t.length)&&-1<v(t,e,0)}function c(t,e,i){for(var n=-1,r=t?t.length:0;++n<r;)if(i(e,t[n]))return!0;return!1}function u(t,e){for(var i=-1,n=t?t.length:0,r=Array(n);++i<n;)r[i]=e(t[i],i,t);return r}function d(t,e){for(var i=-1,n=e.length,r=t.length;++i<n;)t[r+i]=e[i];return t}function h(t,e,i,n){var r=-1,o=t?t.length:0;for(n&&o&&(i=t[++r]);++r<o;)i=e(i,t[r],r,t);return i}function p(t,e,i,n){var r=t?t.length:0;for(n&&r&&(i=t[--r]);r--;)i=e(i,t[r],r,t);return i}function f(t,e){for(var i=-1,n=t?t.length:0;++i<n;)if(e(t[i],i,t))return!0;return!1}function g(t,e,i){var n;return i(t,(function(t,i,r){return e(t,i,r)?(n=i,!1):void 0})),n}function m(t,e,i,n){var r=t.length;for(i+=n?1:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function v(t,e,i){if(e!=e)return O(t,i);--i;for(var n=t.length;++i<n;)if(t[i]===e)return i;return-1}function y(t,e,i,n){--i;for(var r=t.length;++i<r;)if(n(t[i],e))return i;return-1}function b(t,e){var i=t?t.length:0;return i?x(t,e)/i:U}function _(t,e,i,n,r){return r(t,(function(t,r,o){i=n?(n=!1,t):e(i,t,r,o)})),i}function w(t,e){var i=t.length;for(t.sort(e);i--;)t[i]=t[i].c;return t}function x(t,e){for(var i,n=-1,r=t.length;++n<r;){var o=e(t[n]);o!==W&&(i=i===W?o:i+o)}return i}function $(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}function C(t,e){return u(e,(function(e){return[e,t[e]]}))}function k(t){return function(e){return t(e)}}function S(t,e){return u(e,(function(e){return t[e]}))}function j(t,e){return t.has(e)}function T(t,e){for(var i=-1,n=t.length;++i<n&&-1<v(e,t[i],0););return i}function A(t,e){for(var i=t.length;i--&&-1<v(e,t[i],0););return i}function D(t){return t&&t.Object===Object?t:null}function I(t){return Mt[t]}function E(t){return Rt[t]}function P(t){return"\\"+qt[t]}function O(t,e,i){var n=t.length;for(e+=i?1:-1;i?e--:++e<n;){var r=t[e];if(r!=r)return e}return-1}function F(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function M(t){for(var e,i=[];!(e=t.next()).done;)i.push(e.value);return i}function R(t){var e=-1,i=Array(t.size);return t.forEach((function(t,n){i[++e]=[n,t]})),i}function N(t,e){for(var i=-1,n=t.length,r=0,o=[];++i<n;){var s=t[i];s!==e&&"__lodash_placeholder__"!==s||(t[i]="__lodash_placeholder__",o[r++]=i)}return o}function q(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=t})),i}function L(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=[t,t]})),i}function z(t){if(!t||!It.test(t))return t.length;for(var e=At.lastIndex=0;At.test(t);)e++;return e}function H(t){return Nt[t]}function B(D){function Ct(t,e){return D.setTimeout.call(Vt,t,e)}function kt(t){if(Wn(t)&&!ys(t)&&!(t instanceof Rt)){if(t instanceof Mt)return t;if(Ir.call(t,"__wrapped__"))return cn(t)}return new Mt(t)}function St(){}function Mt(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=W}function Rt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Nt(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function qt(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Ht(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Bt(t){var e=-1,i=t?t.length:0;for(this.__data__=new Ht;++e<i;)this.add(t[e])}function Gt(t){this.__data__=new qt(t)}function Ut(t,e,i,n){return t===W||Fn(t,Sr[i])&&!Ir.call(n,i)?e:t}function Yt(t,e,i){(i===W||Fn(t[e],i))&&("number"!=typeof e||i!==W||e in t)||(t[e]=i)}function Xt(t,e,i){var n=t[e];Ir.call(t,e)&&Fn(n,i)&&(i!==W||e in t)||(t[e]=i)}function Kt(t,e){for(var i=t.length;i--;)if(Fn(t[i][0],e))return i;return-1}function Jt(t,e,i,n){return Co(t,(function(t,r,o){e(n,t,i(t),o)})),n}function Zt(t,e){return t&&ui(e,sr(e),t)}function te(t,e){for(var i=-1,n=null==t,r=e.length,o=Array(r);++i<r;)o[i]=n?W:rr(t,e[i]);return o}function ee(t,e,i){return t==t&&(i!==W&&(t=i>=t?t:i),e!==W&&(t=t>=e?t:e)),t}function ie(t,e,i,n,o,s,a){var l;if(n&&(l=s?n(t,o,s,a):n(t)),l!==W)return l;if(!Bn(t))return t;if(o=ys(t)){if(l=Ui(t),!e)return ci(t,l)}else{var c=Wi(t),u="[object Function]"==c||"[object GeneratorFunction]"==c;if(bs(t))return ri(t,e);if("[object Object]"==c||"[object Arguments]"==c||u&&!s){if(F(t))return s?t:{};if(l=Vi(u?{}:t),!e)return di(t,Zt(l,t))}else{if(!Ft[c])return s?t:{};l=Qi(t,c,ie,e)}}if(a||(a=new Gt),s=a.get(t))return s;if(a.set(t,l),!o)var d=i?ge(t,sr,Bi):sr(t);return r(d||t,(function(r,o){d&&(r=t[o=r]),Xt(l,o,ie(r,e,i,n,o,t,a))})),l}function ne(t){var e=sr(t),i=e.length;return function(n){if(null==n)return!i;for(var r=i;r--;){var o=e[r],s=t[o],a=n[o];if(a===W&&!(o in Object(n))||!s(a))return!1}return!0}}function re(t){return Bn(t)?Wr(t):{}}function oe(t,e,i){if("function"!=typeof t)throw new Cr("Expected a function");return Ct((function(){t.apply(W,i)}),e)}function se(t,e,i,n){var r=-1,o=l,s=!0,a=t.length,d=[],h=e.length;if(!a)return d;i&&(e=u(e,k(i))),n?(o=c,s=!1):e.length>=200&&(o=j,s=!1,e=new Bt(e));t:for(;++r<a;){var p=t[r],f=i?i(p):p;p=n||0!==p?p:0;if(s&&f==f){for(var g=h;g--;)if(e[g]===f)continue t;d.push(p)}else o(e,f,n)||d.push(p)}return d}function ae(t,e){var i=!0;return Co(t,(function(t,n,r){return i=!!e(t,n,r)})),i}function le(t,e,i){for(var n=-1,r=t.length;++n<r;){var o=t[n],s=e(o);if(null!=s&&(a===W?s==s&&!Yn(s):i(s,a)))var a=s,l=o}return l}function ce(t,e){var i=[];return Co(t,(function(t,n,r){e(t,n,r)&&i.push(t)})),i}function ue(t,e,i,n,r){var o=-1,s=t.length;for(i||(i=Xi),r||(r=[]);++o<s;){var a=t[o];e>0&&i(a)?e>1?ue(a,e-1,i,n,r):d(r,a):n||(r[r.length]=a)}return r}function de(t,e){return t&&So(t,e,sr)}function he(t,e){return t&&jo(t,e,sr)}function pe(t,e){return a(e,(function(e){return Ln(t[e])}))}function fe(t,e){for(var i=0,n=(e=tn(e,t)?[e]:ii(e)).length;null!=t&&n>i;)t=t[an(e[i++])];return i&&i==n?t:W}function ge(t,e,i){return e=e(t),ys(t)?e:d(e,i(t))}function me(t,e){return t>e}function ve(t,e){return null!=t&&(Ir.call(t,e)||"object"==typeof t&&e in t&&null===Yr(Object(t)))}function ye(t,e){return null!=t&&e in Object(t)}function be(t,e,i){for(var n=i?c:l,r=t[0].length,o=t.length,s=o,a=Array(o),d=1/0,h=[];s--;){var p=t[s];s&&e&&(p=u(p,k(e))),d=to(p.length,d),a[s]=!i&&(e||r>=120&&p.length>=120)?new Bt(s&&p):W}p=t[0];var f=-1,g=a[0];t:for(;++f<r&&d>h.length;){var m=p[f],v=e?e(m):m;m=i||0!==m?m:0;if(g?!j(g,v):!n(h,v,i)){for(s=o;--s;){var y=a[s];if(y?!j(y,v):!n(t[s],v,i))continue t}g&&g.push(v),h.push(m)}}return h}function _e(t,e,i){var n={};return de(t,(function(t,r,o){e(n,i(t),r,o)})),n}function we(t,e,n){return tn(e,t)||(t=sn(t,e=ii(e)),e=gn(e)),null==(e=null==t?t:t[an(e)])?W:i(e,t,n)}function xe(t,e,i,n,r){if(t===e)e=!0;else if(null==t||null==e||!Bn(t)&&!Wn(e))e=t!=t&&e!=e;else t:{var o=ys(t),s=ys(e),a="[object Array]",l="[object Array]";o||(a="[object Arguments]"==(a=Wi(t))?"[object Object]":a),s||(l="[object Arguments]"==(l=Wi(e))?"[object Object]":l);var c="[object Object]"==a&&!F(t);s="[object Object]"==l&&!F(e);if((l=a==l)&&!c)r||(r=new Gt),e=o||Xn(t)?Fi(t,e,xe,i,n,r):Mi(t,e,a,xe,i,n,r);else{if(!(2&n)&&(o=c&&Ir.call(t,"__wrapped__"),a=s&&Ir.call(e,"__wrapped__"),o||a)){t=o?t.value():t,e=a?e.value():e,r||(r=new Gt),e=xe(t,e,i,n,r);break t}if(l)e:if(r||(r=new Gt),o=2&n,a=sr(t),s=a.length,l=sr(e).length,s==l||o){for(c=s;c--;){var u=a[c];if(!(o?u in e:ve(e,u))){e=!1;break e}}if(l=r.get(t))e=l==e;else{l=!0,r.set(t,e);for(var d=o;++c<s;){var h=t[u=a[c]],p=e[u];if(i)var f=o?i(p,h,u,e,t,r):i(h,p,u,t,e,r);if(f===W?h!==p&&!xe(h,p,i,n,r):!f){l=!1;break}d||(d="constructor"==u)}l&&!d&&((i=t.constructor)!=(n=e.constructor)&&"constructor"in t&&"constructor"in e&&!("function"==typeof i&&i instanceof i&&"function"==typeof n&&n instanceof n)&&(l=!1)),r.delete(t),e=l}}else e=!1;else e=!1}}return e}function $e(t,e,i,n){var r=i.length,o=r,s=!n;if(null==t)return!o;for(t=Object(t);r--;){var a=i[r];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<o;){var l=(a=i[r])[0],c=t[l],u=a[1];if(s&&a[2]){if(c===W&&!(l in t))return!1}else{if(a=new Gt,n)var d=n(c,u,l,t,e,a);if(d===W?!xe(u,c,n,3,a):!d)return!1}}return!0}function Ce(t){return!(!Bn(t)||Ar&&Ar in t)&&(Ln(t)||F(t)?Mr:yt).test(ln(t))}function ke(t){return"function"==typeof t?t:null==t?pr:"object"==typeof t?ys(t)?De(t[0],t[1]):Ae(t):vr(t)}function Se(t){t=null==t?t:Object(t);var e,i=[];for(e in t)i.push(e);return i}function je(t,e){return e>t}function Te(t,e){var i=-1,n=Rn(t)?Array(t.length):[];return Co(t,(function(t,r,o){n[++i]=e(t,r,o)})),n}function Ae(t){var e=zi(t);return 1==e.length&&e[0][2]?rn(e[0][0],e[0][1]):function(i){return i===t||$e(i,t,e)}}function De(t,e){return tn(t)&&e==e&&!Bn(e)?rn(an(t),e):function(i){var n=rr(i,t);return n===W&&n===e?or(i,t):xe(e,n,W,3)}}function Ie(t,e,i,n,o){if(t!==e){if(!ys(e)&&!Xn(e))var s=ar(e);r(s||e,(function(r,a){if(s&&(r=e[a=r]),Bn(r)){o||(o=new Gt);var l=a,c=o,u=t[l],d=e[l];if(h=c.get(d))Yt(t,l,h);else{var h,p=(h=n?n(u,d,l+"",t,e,c):W)===W;p&&(h=d,ys(d)||Xn(d)?ys(u)?h=u:Nn(u)?h=ci(u):(p=!1,h=ie(d,!0)):Un(d)||Mn(d)?Mn(u)?h=ir(u):!Bn(u)||i&&Ln(u)?(p=!1,h=ie(d,!0)):h=u:p=!1),c.set(d,h),p&&Ie(h,d,i,n,c),c.delete(d),Yt(t,l,h)}}else(l=n?n(t[a],r,a+"",t,e,o):W)===W&&(l=r),Yt(t,a,l)}))}}function Ee(t,e){var i=t.length;return i?Ji(e+=0>e?i:0,i)?t[e]:W:void 0}function Pe(t,e,i){var n=-1;return e=u(e.length?e:[pr],k(qi())),t=Te(t,(function(t){return{a:u(e,(function(e){return e(t)})),b:++n,c:t}})),w(t,(function(t,e){var n;t:{n=-1;for(var r=t.a,o=e.a,s=r.length,a=i.length;++n<s;){var l=si(r[n],o[n]);if(l){n=n>=a?l:l*("desc"==i[n]?-1:1);break t}}n=t.b-e.b}return n}))}function Oe(t,e){return t=Object(t),h(e,(function(e,i){return i in t&&(e[i]=t[i]),e}),{})}function Fe(t,e){for(var i=-1,n=ge(t,ar,Eo),r=n.length,o={};++i<r;){var s=n[i],a=t[s];e(a,s)&&(o[s]=a)}return o}function Me(t){return function(e){return null==e?W:e[t]}}function Re(t){return function(e){return fe(e,t)}}function Ne(t,e,i,n){var r=n?y:v,o=-1,s=e.length,a=t;for(t===e&&(e=ci(e)),i&&(a=u(t,k(i)));++o<s;){var l=0,c=e[o];for(c=i?i(c):c;-1<(l=r(a,c,l,n));)a!==t&&Ur.call(a,l,1),Ur.call(t,l,1)}return t}function qe(t,e){for(var i=t?e.length:0,n=i-1;i--;){var r=e[i];if(i==n||r!==o){var o=r;if(Ji(r))Ur.call(t,r,1);else if(tn(r,t))delete t[an(r)];else{var s=sn(t,r=ii(r));null!=s&&delete s[an(gn(r))]}}}}function Le(t,e){return t+Qr(io()*(e-t+1))}function ze(t,e){var i="";if(!t||1>e||e>9007199254740991)return i;do{e%2&&(i+=t),(e=Qr(e/2))&&(t+=t)}while(e);return i}function He(t,e,i,n){for(var r=-1,o=(e=tn(e,t)?[e]:ii(e)).length,s=o-1,a=t;null!=a&&++r<o;){var l=an(e[r]);if(Bn(a)){var c=i;if(r!=s){var u=a[l];(c=n?n(u,l,a):W)===W&&(c=null==u?Ji(e[r+1])?[]:{}:u)}Xt(a,l,c)}a=a[l]}return t}function Be(t,e,i){var n=-1,r=t.length;for(0>e&&(e=-e>r?0:r+e),0>(i=i>r?r:i)&&(i+=r),r=e>i?0:i-e>>>0,e>>>=0,i=Array(r);++n<r;)i[n]=t[n+e];return i}function We(t,e){var i;return Co(t,(function(t,n,r){return!(i=e(t,n,r))})),!!i}function Ge(t,e,i){var n=0,r=t?t.length:n;if("number"==typeof e&&e==e&&2147483647>=r){for(;r>n;){var o=n+r>>>1,s=t[o];null!==s&&!Yn(s)&&(i?e>=s:e>s)?n=o+1:r=o}return r}return Ue(t,e,pr,i)}function Ue(t,e,i,n){e=i(e);for(var r=0,o=t?t.length:0,s=e!=e,a=null===e,l=Yn(e),c=e===W;o>r;){var u=Qr((r+o)/2),d=i(t[u]),h=d!==W,p=null===d,f=d==d,g=Yn(d);(s?n||f:c?f&&(n||h):a?f&&h&&(n||!p):l?f&&h&&!p&&(n||!g):!p&&!g&&(n?e>=d:e>d))?r=u+1:o=u}return to(o,4294967294)}function Ve(t,e){for(var i=-1,n=t.length,r=0,o=[];++i<n;){var s=t[i],a=e?e(s):s;if(!i||!Fn(a,l)){var l=a;o[r++]=0===s?0:s}}return o}function Qe(t){return"number"==typeof t?t:Yn(t)?U:+t}function Ye(t){if("string"==typeof t)return t;if(Yn(t))return $o?$o.call(t):"";var e=t+"";return"0"==e&&1/t==-G?"-0":e}function Xe(t,e,i){var n=-1,r=l,o=t.length,s=!0,a=[],u=a;if(i)s=!1,r=c;else if(o>=200){if(r=e?null:Ao(t))return q(r);s=!1,r=j,u=new Bt}else u=e?[]:a;t:for(;++n<o;){var d=t[n],h=e?e(d):d;d=i||0!==d?d:0;if(s&&h==h){for(var p=u.length;p--;)if(u[p]===h)continue t;e&&u.push(h),a.push(d)}else r(u,h,i)||(u!==a&&u.push(h),a.push(d))}return a}function Ke(t,e,i,n){for(var r=t.length,o=n?r:-1;(n?o--:++o<r)&&e(t[o],o,t););return i?Be(t,n?0:o,n?o+1:r):Be(t,n?o+1:0,n?r:o)}function Je(t,e){var i=t;return i instanceof Rt&&(i=i.value()),h(e,(function(t,e){return e.func.apply(e.thisArg,d([t],e.args))}),i)}function Ze(t,e,i){for(var n=-1,r=t.length;++n<r;)var o=o?d(se(o,t[n],e,i),se(t[n],o,e,i)):t[n];return o&&o.length?Xe(o,e,i):[]}function ti(t,e,i){for(var n=-1,r=t.length,o=e.length,s={};++n<r;)i(s,t[n],o>n?e[n]:W);return s}function ei(t){return Nn(t)?t:[]}function ii(t){return ys(t)?t:Fo(t)}function ni(t,e,i){var n=t.length;return i=i===W?n:i,!e&&i>=n?t:Be(t,e,i)}function ri(t,e){if(e)return t.slice();var i=new t.constructor(t.length);return t.copy(i),i}function oi(t){var e=new t.constructor(t.byteLength);return new Lr(e).set(new Lr(t)),e}function si(t,e){if(t!==e){var i=t!==W,n=null===t,r=t==t,o=Yn(t),s=e!==W,a=null===e,l=e==e,c=Yn(e);if(!a&&!c&&!o&&t>e||o&&s&&l&&!a&&!c||n&&s&&l||!i&&l||!r)return 1;if(!n&&!o&&!c&&e>t||c&&i&&r&&!n&&!o||a&&i&&r||!s&&r||!l)return-1}return 0}function ai(t,e,i,n){var r=-1,o=t.length,s=i.length,a=-1,l=e.length,c=Zr(o-s,0),u=Array(l+c);for(n=!n;++a<l;)u[a]=e[a];for(;++r<s;)(n||o>r)&&(u[i[r]]=t[r]);for(;c--;)u[a++]=t[r++];return u}function li(t,e,i,n){var r=-1,o=t.length,s=-1,a=i.length,l=-1,c=e.length,u=Zr(o-a,0),d=Array(u+c);for(n=!n;++r<u;)d[r]=t[r];for(u=r;++l<c;)d[u+l]=e[l];for(;++s<a;)(n||o>r)&&(d[u+i[s]]=t[r++]);return d}function ci(t,e){var i=-1,n=t.length;for(e||(e=Array(n));++i<n;)e[i]=t[i];return e}function ui(t,e,i,n){i||(i={});for(var r=-1,o=e.length;++r<o;){var s=e[r];Xt(i,s,n?n(i[s],t[s],s,i,t):t[s])}return i}function di(t,e){return ui(t,Bi(t),e)}function hi(t,e){return function(i,r){var o=ys(i)?n:Jt,s=e?e():{};return o(i,t,qi(r),s)}}function pi(t){return On((function(e,i){var n=-1,r=i.length,o=r>1?i[r-1]:W,s=r>2?i[2]:W;o=t.length>3&&"function"==typeof o?(r--,o):W;for(s&&Zi(i[0],i[1],s)&&(o=3>r?W:o,r=1),e=Object(e);++n<r;)(s=i[n])&&t(e,s,n,o);return e}))}function fi(t,e){return function(i,n){if(null==i)return i;if(!Rn(i))return t(i,n);for(var r=i.length,o=e?r:-1,s=Object(i);(e?o--:++o<r)&&!1!==n(s[o],o,s););return i}}function gi(t){return function(e,i,n){for(var r=-1,o=Object(e),s=(n=n(e)).length;s--;){var a=n[t?s:++r];if(!1===i(o[a],a,o))break}return e}}function mi(t,e,i){function n(){return(this&&this!==Vt&&this instanceof n?o:t).apply(r?i:this,arguments)}var r=1&e,o=bi(t);return n}function vi(t){return function(e){e=nr(e);var i=It.test(e)?e.match(At):W,n=i?i[0]:e.charAt(0);return e=i?ni(i,1).join(""):e.slice(1),n[t]()+e}}function yi(t){return function(e){return h(dr(ur(e).replace(jt,"")),t,"")}}function bi(t){return function(){switch((e=arguments).length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var e,i=re(t.prototype);return Bn(e=t.apply(i,e))?e:i}}function _i(t,e,n){function r(){for(var s=arguments.length,a=Array(s),l=s,c=Ni(r);l--;)a[l]=arguments[l];return s-=(l=3>s&&a[0]!==c&&a[s-1]!==c?[]:N(a,c)).length,n>s?Ii(t,e,$i,r.placeholder,W,a,l,W,W,n-s):i(this&&this!==Vt&&this instanceof r?o:t,this,a)}var o=bi(t);return r}function wi(t){return function(e,i,n){var r=Object(e);if(i=qi(i,3),!Rn(e))var o=sr(e);return n=t(o||e,(function(t,e){return o&&(t=r[e=t]),i(t,e,r)}),n),n>-1?e[o?o[n]:n]:W}}function xi(t){return On((function(e){var i=(e=ue(e,1)).length,n=i,r=Mt.prototype.thru;for(t&&e.reverse();n--;){if("function"!=typeof(s=e[n]))throw new Cr("Expected a function");if(r&&!o&&"wrapper"==Ri(s))var o=new Mt([],!0)}for(n=o?n:i;++n<i;){var s,a="wrapper"==(r=Ri(s=e[n]))?Do(s):W;o=a&&en(a[0])&&424==a[1]&&!a[4].length&&1==a[9]?o[Ri(a[0])].apply(o,a[3]):1==s.length&&en(s)?o[r]():o.thru(s)}return function(){var t=(r=arguments)[0];if(o&&1==r.length&&ys(t)&&t.length>=200)return o.plant(t).value();for(var n=0,r=i?e[n].apply(this,r):t;++n<i;)r=e[n].call(this,r);return r}}))}function $i(t,e,i,n,r,o,s,a,l,c){function u(){for(var v=arguments.length,y=Array(v),b=v;b--;)y[b]=arguments[b];if(f){var _,w=Ni(u);b=y.length;for(_=0;b--;)y[b]===w&&_++}if(n&&(y=ai(y,n,r,f)),o&&(y=li(y,o,s,f)),v-=_,f&&c>v)return w=N(y,w),Ii(t,e,$i,u.placeholder,i,y,w,a,l,c-v);if(w=h?i:this,b=p?w[t]:t,v=y.length,a){_=y.length;for(var x=to(a.length,_),$=ci(y);x--;){var C=a[x];y[x]=Ji(C,_)?$[C]:W}}else g&&v>1&&y.reverse();return d&&v>l&&(y.length=l),this&&this!==Vt&&this instanceof u&&(b=m||bi(b)),b.apply(w,y)}var d=128&e,h=1&e,p=2&e,f=24&e,g=512&e,m=p?W:bi(t);return u}function Ci(t,e){return function(i,n){return _e(i,t,e(n))}}function ki(t){return function(e,i){var n;if(e===W&&i===W)return 0;if(e!==W&&(n=e),i!==W){if(n===W)return i;"string"==typeof e||"string"==typeof i?(e=Ye(e),i=Ye(i)):(e=Qe(e),i=Qe(i)),n=t(e,i)}return n}}function Si(t){return On((function(e){return e=1==e.length&&ys(e[0])?u(e[0],k(qi())):u(ue(e,1,Ki),k(qi())),On((function(n){var r=this;return t(e,(function(t){return i(t,r,n)}))}))}))}function ji(t,e){var i=(e=e===W?" ":Ye(e)).length;return 2>i?i?ze(e,t):e:(i=ze(e,Vr(t/z(e))),It.test(e)?ni(i.match(At),0,t).join(""):i.slice(0,t))}function Ti(t,e,n,r){function o(){for(var e=-1,l=arguments.length,c=-1,u=r.length,d=Array(u+l),h=this&&this!==Vt&&this instanceof o?a:t;++c<u;)d[c]=r[c];for(;l--;)d[c++]=arguments[++e];return i(h,s?n:this,d)}var s=1&e,a=bi(t);return o}function Ai(t){return function(e,i,n){n&&"number"!=typeof n&&Zi(e,i,n)&&(i=n=W),e=(e=er(e))==e?e:0,i===W?(i=e,e=0):i=er(i)||0,n=n===W?i>e?1:-1:er(n)||0;var r=-1;i=Zr(Vr((i-e)/(n||1)),0);for(var o=Array(i);i--;)o[t?i:++r]=e,e+=n;return o}}function Di(t){return function(e,i){return"string"==typeof e&&"string"==typeof i||(e=er(e),i=er(i)),t(e,i)}}function Ii(t,e,i,n,r,o,s,a,l,c){var u=8&e;return 4&(e=(e|(u?32:64))&~(u?64:32))||(e&=-4),e=[t,e,r,u?o:W,u?s:W,o=u?W:o,s=u?W:s,a,l,c],i=i.apply(W,e),en(t)&&Oo(i,e),i.placeholder=n,i}function Ei(t){var e=xr[t];return function(t,i){if(t=er(t),i=to(Zn(i),292)){var n=(nr(t)+"e").split("e");return+((n=(nr(n=e(n[0]+"e"+(+n[1]+i)))+"e").split("e"))[0]+"e"+(+n[1]-i))}return e(t)}}function Pi(t){return function(e){var i=Wi(e);return"[object Map]"==i?R(e):"[object Set]"==i?L(e):C(e,t(e))}}function Oi(t,e,i,n,r,o,s,a){var l=2&e;if(!l&&"function"!=typeof t)throw new Cr("Expected a function");var c=n?n.length:0;if(c||(e&=-97,n=r=W),s=s===W?s:Zr(Zn(s),0),a=a===W?a:Zn(a),c-=r?r.length:0,64&e){var u=n,d=r;n=r=W}var h=l?W:Do(t);return o=[t,e,i,n,r,u,d,o,s,a],h&&(e=(i=o[1])|(t=h[1]),n=128==t&&8==i||128==t&&256==i&&h[8]>=o[7].length||384==t&&h[8]>=h[7].length&&8==i,131>e||n)&&(1&t&&(o[2]=h[2],e|=1&i?0:4),(i=h[3])&&(n=o[3],o[3]=n?ai(n,i,h[4]):i,o[4]=n?N(o[3],"__lodash_placeholder__"):h[4]),(i=h[5])&&(n=o[5],o[5]=n?li(n,i,h[6]):i,o[6]=n?N(o[5],"__lodash_placeholder__"):h[6]),(i=h[7])&&(o[7]=i),128&t&&(o[8]=null==o[8]?h[8]:to(o[8],h[8])),null==o[9]&&(o[9]=h[9]),o[0]=h[0],o[1]=e),t=o[0],e=o[1],i=o[2],n=o[3],r=o[4],!(a=o[9]=null==o[9]?l?0:t.length:Zr(o[9]-c,0))&&24&e&&(e&=-25),(h?To:Oo)(e&&1!=e?8==e||16==e?_i(t,e,a):32!=e&&33!=e||r.length?$i.apply(W,o):Ti(t,e,i,n):mi(t,e,i),o)}function Fi(t,e,i,n,r,o){var s=2&r,a=t.length;if(a!=(l=e.length)&&!(s&&l>a))return!1;if(l=o.get(t))return l==e;var l=-1,c=!0,u=1&r?new Bt:W;for(o.set(t,e);++l<a;){var d=t[l],h=e[l];if(n)var p=s?n(h,d,l,e,t,o):n(d,h,l,t,e,o);if(p!==W){if(p)continue;c=!1;break}if(u){if(!f(e,(function(t,e){return u.has(e)||d!==t&&!i(d,t,n,r,o)?void 0:u.add(e)}))){c=!1;break}}else if(d!==h&&!i(d,h,n,r,o)){c=!1;break}}return o.delete(t),c}function Mi(t,e,i,n,r,o,s){switch(i){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)break;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":if(t.byteLength!=e.byteLength||!n(new Lr(t),new Lr(e)))break;return!0;case"[object Boolean]":case"[object Date]":return+t==+e;case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object Number]":return t!=+t?e!=+e:t==+e;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=R;case"[object Set]":if(a||(a=q),t.size!=e.size&&!(2&o))break;return(i=s.get(t))?i==e:(o|=1,s.set(t,e),Fi(a(t),a(e),n,r,o,s));case"[object Symbol]":if(xo)return xo.call(t)==xo.call(e)}return!1}function Ri(t){for(var e=t.name+"",i=go[e],n=Ir.call(go,e)?i.length:0;n--;){var r=i[n],o=r.func;if(null==o||o==t)return r.name}return e}function Ni(t){return(Ir.call(kt,"placeholder")?kt:t).placeholder}function qi(){var t=(t=kt.iteratee||fr)===fr?ke:t;return arguments.length?t(arguments[0],arguments[1]):t}function Li(t,e){var i=t.__data__,n=typeof e;return("string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e)?i["string"==typeof e?"string":"hash"]:i.map}function zi(t){for(var e=sr(t),i=e.length;i--;){var n=e[i],r=t[n];e[i]=[n,r,r==r&&!Bn(r)]}return e}function Hi(t,e){var i=null==t?W:t[e];return Ce(i)?i:W}function Bi(t){return Hr(Object(t))}function Wi(t){return Or.call(t)}function Gi(t,e,i){for(var n,r=-1,o=(e=tn(e,t)?[e]:ii(e)).length;++r<o;){var s=an(e[r]);if(!(n=null!=t&&i(t,s)))break;t=t[s]}return n||!!(o=t?t.length:0)&&Hn(o)&&Ji(s,o)&&(ys(t)||Qn(t)||Mn(t))}function Ui(t){var e=t.length,i=t.constructor(e);return e&&"string"==typeof t[0]&&Ir.call(t,"index")&&(i.index=t.index,i.input=t.input),i}function Vi(t){return"function"!=typeof t.constructor||nn(t)?{}:re(Yr(Object(t)))}function Qi(i,n,r,o){var s=i.constructor;switch(n){case"[object ArrayBuffer]":return oi(i);case"[object Boolean]":case"[object Date]":return new s(+i);case"[object DataView]":return n=o?oi(i.buffer):i.buffer,new i.constructor(n,i.byteOffset,i.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return n=o?oi(i.buffer):i.buffer,new i.constructor(n,i.byteOffset,i.length);case"[object Map]":return h(n=o?r(R(i),!0):R(i),t,new i.constructor);case"[object Number]":case"[object String]":return new s(i);case"[object RegExp]":return(n=new i.constructor(i.source,ft.exec(i))).lastIndex=i.lastIndex,n;case"[object Set]":return h(n=o?r(q(i),!0):q(i),e,new i.constructor);case"[object Symbol]":return xo?Object(xo.call(i)):{}}}function Yi(t){var e=t?t.length:W;return Hn(e)&&(ys(t)||Qn(t)||Mn(t))?$(e,String):null}function Xi(t){return ys(t)||Mn(t)}function Ki(t){return ys(t)&&!(2==t.length&&!Ln(t[0]))}function Ji(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||_t.test(t))&&t>-1&&0==t%1&&e>t}function Zi(t,e,i){if(!Bn(i))return!1;var n=typeof e;return!!("number"==n?Rn(i)&&Ji(e,i.length):"string"==n&&e in i)&&Fn(i[e],t)}function tn(t,e){if(ys(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!Yn(t))||(rt.test(t)||!nt.test(t)||null!=e&&t in Object(e))}function en(t){var e=Ri(t),i=kt[e];return"function"==typeof i&&e in Rt.prototype&&(t===i||!!(e=Do(i))&&t===e[0])}function nn(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Sr)}function rn(t,e){return function(i){return null!=i&&(i[t]===e&&(e!==W||t in Object(i)))}}function on(t,e,i,n,r,o){return Bn(t)&&Bn(e)&&Ie(t,e,W,on,o.set(e,t)),t}function sn(t,e){return 1==e.length?t:fe(t,Be(e,0,-1))}function an(t){if("string"==typeof t||Yn(t))return t;var e=t+"";return"0"==e&&1/t==-G?"-0":e}function ln(t){if(null!=t){try{return Dr.call(t)}catch(t){}return t+""}return""}function cn(t){if(t instanceof Rt)return t.clone();var e=new Mt(t.__wrapped__,t.__chain__);return e.__actions__=ci(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function un(t,e,i){var n=t?t.length:0;return n?Be(t,0>(e=i||e===W?1:Zn(e))?0:e,n):[]}function dn(t,e,i){var n=t?t.length:0;return n?Be(t,0,0>(e=n-(e=i||e===W?1:Zn(e)))?0:e):[]}function hn(t,e,i){var n=t?t.length:0;return n?(0>(i=null==i?0:Zn(i))&&(i=Zr(n+i,0)),m(t,qi(e,3),i)):-1}function pn(t,e,i){var n=t?t.length:0;if(!n)return-1;var r=n-1;return i!==W&&(r=Zn(i),r=0>i?Zr(n+r,0):to(r,n-1)),m(t,qi(e,3),r,!0)}function fn(t){return t&&t.length?t[0]:W}function gn(t){var e=t?t.length:0;return e?t[e-1]:W}function mn(t,e){return t&&t.length&&e&&e.length?Ne(t,e):t}function vn(t){return t?ro.call(t):t}function yn(t){if(!t||!t.length)return[];var e=0;return t=a(t,(function(t){return Nn(t)?(e=Zr(t.length,e),!0):void 0})),$(e,(function(e){return u(t,Me(e))}))}function bn(t,e){if(!t||!t.length)return[];var n=yn(t);return null==e?n:u(n,(function(t){return i(e,W,t)}))}function _n(t){return(t=kt(t)).__chain__=!0,t}function wn(t,e){return e(t)}function xn(){return this}function $n(t,e){return(ys(t)?r:Co)(t,qi(e,3))}function Cn(t,e){return(ys(t)?o:ko)(t,qi(e,3))}function kn(t,e){return(ys(t)?u:Te)(t,qi(e,3))}function Sn(t,e,i){var n=-1,r=Kn(t),o=r.length,s=o-1;for(e=(i?Zi(t,e,i):e===W)?1:ee(Zn(e),0,o);++n<e;)i=r[t=Le(n,s)],r[t]=r[n],r[n]=i;return r.length=e,r}function jn(){return _r.now()}function Tn(t,e,i){return e=i?W:e,e=t&&null==e?t.length:e,Oi(t,128,W,W,W,W,e)}function An(t,e){var i;if("function"!=typeof e)throw new Cr("Expected a function");return t=Zn(t),function(){return 0<--t&&(i=e.apply(this,arguments)),1>=t&&(e=W),i}}function Dn(t,e,i){return(t=Oi(t,8,W,W,W,W,W,e=i?W:e)).placeholder=Dn.placeholder,t}function In(t,e,i){return(t=Oi(t,16,W,W,W,W,W,e=i?W:e)).placeholder=In.placeholder,t}function En(t,e,i){function n(e){var i=l,n=c;return l=c=W,f=e,d=t.apply(n,i)}function r(t){var i=t-p;return t-=f,p===W||i>=e||0>i||m&&t>=u}function o(){var t,i=jn();if(r(i))return s(i);t=i-f,i=e-(i-p),t=m?to(i,u-t):i,h=Ct(o,t)}function s(t){return h=W,v&&l?n(t):(l=c=W,d)}function a(){var t=jn(),i=r(t);if(l=arguments,c=this,p=t,i){if(h===W)return f=t=p,h=Ct(o,e),g?n(t):d;if(m)return h=Ct(o,e),n(p)}return h===W&&(h=Ct(o,e)),d}var l,c,u,d,h,p,f=0,g=!1,m=!1,v=!0;if("function"!=typeof t)throw new Cr("Expected a function");return e=er(e)||0,Bn(i)&&(g=!!i.leading,u=(m="maxWait"in i)?Zr(er(i.maxWait)||0,e):u,v="trailing"in i?!!i.trailing:v),a.cancel=function(){f=0,l=p=c=h=W},a.flush=function(){return h===W?d:s(jn())},a}function Pn(t,e){function i(){var n=arguments,r=e?e.apply(this,n):n[0],o=i.cache;return o.has(r)?o.get(r):(n=t.apply(this,n),i.cache=o.set(r,n),n)}if("function"!=typeof t||e&&"function"!=typeof e)throw new Cr("Expected a function");return i.cache=new(Pn.Cache||Ht),i}function On(t,e){if("function"!=typeof t)throw new Cr("Expected a function");return e=Zr(e===W?t.length-1:Zn(e),0),function(){for(var n=arguments,r=-1,o=Zr(n.length-e,0),s=Array(o);++r<o;)s[r]=n[e+r];switch(e){case 0:return t.call(this,s);case 1:return t.call(this,n[0],s);case 2:return t.call(this,n[0],n[1],s)}for(o=Array(e+1),r=-1;++r<e;)o[r]=n[r];return o[e]=s,i(t,this,o)}}function Fn(t,e){return t===e||t!=t&&e!=e}function Mn(t){return Nn(t)&&Ir.call(t,"callee")&&(!Gr.call(t,"callee")||"[object Arguments]"==Or.call(t))}function Rn(t){return null!=t&&Hn(Io(t))&&!Ln(t)}function Nn(t){return Wn(t)&&Rn(t)}function qn(t){return!!Wn(t)&&("[object Error]"==Or.call(t)||"string"==typeof t.message&&"string"==typeof t.name)}function Ln(t){return"[object Function]"==(t=Bn(t)?Or.call(t):"")||"[object GeneratorFunction]"==t}function zn(t){return"number"==typeof t&&t==Zn(t)}function Hn(t){return"number"==typeof t&&t>-1&&0==t%1&&9007199254740991>=t}function Bn(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Wn(t){return!!t&&"object"==typeof t}function Gn(t){return"number"==typeof t||Wn(t)&&"[object Number]"==Or.call(t)}function Un(t){return!(!Wn(t)||"[object Object]"!=Or.call(t)||F(t))&&(null===(t=Yr(Object(t)))||"function"==typeof(t=Ir.call(t,"constructor")&&t.constructor)&&t instanceof t&&Dr.call(t)==Pr)}function Vn(t){return Bn(t)&&"[object RegExp]"==Or.call(t)}function Qn(t){return"string"==typeof t||!ys(t)&&Wn(t)&&"[object String]"==Or.call(t)}function Yn(t){return"symbol"==typeof t||Wn(t)&&"[object Symbol]"==Or.call(t)}function Xn(t){return Wn(t)&&Hn(t.length)&&!!Ot[Or.call(t)]}function Kn(t){if(!t)return[];if(Rn(t))return Qn(t)?t.match(At):ci(t);if(Br&&t[Br])return M(t[Br]());var e=Wi(t);return("[object Map]"==e?R:"[object Set]"==e?q:lr)(t)}function Jn(t){return t?(t=er(t))===G||t===-G?17976931348623157e292*(0>t?-1:1):t==t?t:0:0===t?t:0}function Zn(t){var e=(t=Jn(t))%1;return t==t?e?t-e:t:0}function tr(t){return t?ee(Zn(t),0,4294967295):0}function er(t){if("number"==typeof t)return t;if(Yn(t))return U;if(Bn(t)&&(t=Bn(t=Ln(t.valueOf)?t.valueOf():t)?t+"":t),"string"!=typeof t)return 0===t?t:+t;t=t.replace(lt,"");var e=vt.test(t);return e||bt.test(t)?zt(t.slice(2),e?2:8):mt.test(t)?U:+t}function ir(t){return ui(t,ar(t))}function nr(t){return null==t?"":Ye(t)}function rr(t,e,i){return(t=null==t?W:fe(t,e))===W?i:t}function or(t,e){return null!=t&&Gi(t,e,ye)}function sr(t){var e=nn(t);if(!e&&!Rn(t))return Jr(Object(t));var i,n,r=!!(n=Yi(t)),o=(n=n||[]).length;for(i in t)!ve(t,i)||r&&("length"==i||Ji(i,o))||e&&"constructor"==i||n.push(i);return n}function ar(t){for(var e,i=-1,n=nn(t),r=Se(t),o=r.length,s=!!(e=Yi(t)),a=(e=e||[]).length;++i<o;){var l=r[i];s&&("length"==l||Ji(l,a))||"constructor"==l&&(n||!Ir.call(t,l))||e.push(l)}return e}function lr(t){return t?S(t,sr(t)):[]}function cr(t){return Gs(nr(t).toLowerCase())}function ur(t){return(t=nr(t))&&t.replace(wt,I).replace(Tt,"")}function dr(t,e,i){return t=nr(t),(e=i?W:e)===W&&(e=Et.test(t)?Dt:dt),t.match(e)||[]}function hr(t){return function(){return t}}function pr(t){return t}function fr(t){return ke("function"==typeof t?t:ie(t,!0))}function gr(t,e,i){var n=sr(e),o=pe(e,n);null!=i||Bn(e)&&(o.length||!n.length)||(i=e,e=t,t=this,o=pe(e,sr(e)));var s=!(Bn(i)&&"chain"in i&&!i.chain),a=Ln(t);return r(o,(function(i){var n=e[i];t[i]=n,a&&(t.prototype[i]=function(){var e=this.__chain__;if(s||e){var i=t(this.__wrapped__);return(i.__actions__=ci(this.__actions__)).push({func:n,args:arguments,thisArg:t}),i.__chain__=e,i}return n.apply(t,d([this.value()],arguments))})})),t}function mr(){}function vr(t){return tn(t)?Me(an(t)):Re(t)}function yr(){return[]}function br(){return!1}var _r=(D=D?Qt.defaults({},D,Qt.pick(Vt,Pt)):Vt).Date,wr=D.Error,xr=D.Math,$r=D.RegExp,Cr=D.TypeError,kr=D.Array.prototype,Sr=D.Object.prototype,jr=D.String.prototype,Tr=D["__core-js_shared__"],Ar=function(){var t=/[^.]+$/.exec(Tr&&Tr.keys&&Tr.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Dr=D.Function.prototype.toString,Ir=Sr.hasOwnProperty,Er=0,Pr=Dr.call(Object),Or=Sr.toString,Fr=Vt._,Mr=$r("^"+Dr.call(Ir).replace(st,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rr=Wt?D.Buffer:W,Nr=D.Reflect,qr=D.Symbol,Lr=D.Uint8Array,zr=Nr?Nr.f:W,Hr=Object.getOwnPropertySymbols,Br="symbol"==typeof(Br=qr&&qr.iterator)?Br:W,Wr=Object.create,Gr=Sr.propertyIsEnumerable,Ur=kr.splice,Vr=xr.ceil,Qr=xr.floor,Yr=Object.getPrototypeOf,Xr=D.isFinite,Kr=kr.join,Jr=Object.keys,Zr=xr.max,to=xr.min,eo=D.parseInt,io=xr.random,no=jr.replace,ro=kr.reverse,oo=jr.split,so=Hi(D,"DataView"),ao=Hi(D,"Map"),lo=Hi(D,"Promise"),co=Hi(D,"Set"),uo=Hi(D,"WeakMap"),ho=Hi(Object,"create"),po=uo&&new uo,fo=!Gr.call({valueOf:1},"valueOf"),go={},mo=ln(so),vo=ln(ao),yo=ln(lo),bo=ln(co),_o=ln(uo),wo=qr?qr.prototype:W,xo=wo?wo.valueOf:W,$o=wo?wo.toString:W;kt.templateSettings={escape:tt,evaluate:et,interpolate:it,variable:"",imports:{_:kt}},kt.prototype=St.prototype,kt.prototype.constructor=kt,Mt.prototype=re(St.prototype),Mt.prototype.constructor=Mt,Rt.prototype=re(St.prototype),Rt.prototype.constructor=Rt,Nt.prototype.clear=function(){this.__data__=ho?ho(null):{}},Nt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Nt.prototype.get=function(t){var e=this.__data__;return ho?"__lodash_hash_undefined__"===(t=e[t])?W:t:Ir.call(e,t)?e[t]:W},Nt.prototype.has=function(t){var e=this.__data__;return ho?e[t]!==W:Ir.call(e,t)},Nt.prototype.set=function(t,e){return this.__data__[t]=ho&&e===W?"__lodash_hash_undefined__":e,this},qt.prototype.clear=function(){this.__data__=[]},qt.prototype.delete=function(t){var e=this.__data__;return!(0>(t=Kt(e,t)))&&(t==e.length-1?e.pop():Ur.call(e,t,1),!0)},qt.prototype.get=function(t){var e=this.__data__;return 0>(t=Kt(e,t))?W:e[t][1]},qt.prototype.has=function(t){return-1<Kt(this.__data__,t)},qt.prototype.set=function(t,e){
var i=this.__data__,n=Kt(i,t);return 0>n?i.push([t,e]):i[n][1]=e,this},Ht.prototype.clear=function(){this.__data__={hash:new Nt,map:new(ao||qt),string:new Nt}},Ht.prototype.delete=function(t){return Li(this,t).delete(t)},Ht.prototype.get=function(t){return Li(this,t).get(t)},Ht.prototype.has=function(t){return Li(this,t).has(t)},Ht.prototype.set=function(t,e){return Li(this,t).set(t,e),this},Bt.prototype.add=Bt.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Bt.prototype.has=function(t){return this.__data__.has(t)},Gt.prototype.clear=function(){this.__data__=new qt},Gt.prototype.delete=function(t){return this.__data__.delete(t)},Gt.prototype.get=function(t){return this.__data__.get(t)},Gt.prototype.has=function(t){return this.__data__.has(t)},Gt.prototype.set=function(t,e){var i=this.__data__;return i instanceof qt&&200==i.__data__.length&&(i=this.__data__=new Ht(i.__data__)),i.set(t,e),this};var Co=fi(de),ko=fi(he,!0),So=gi(),jo=gi(!0);zr&&!Gr.call({valueOf:1},"valueOf")&&(Se=function(t){return M(zr(t))});var To=po?function(t,e){return po.set(t,e),t}:pr,Ao=co&&1/q(new co([,-0]))[1]==G?function(t){return new co(t)}:mr,Do=po?function(t){return po.get(t)}:mr,Io=Me("length");Hr||(Bi=yr);var Eo=Hr?function(t){for(var e=[];t;)d(e,Bi(t)),t=Yr(Object(t));return e}:Bi;(so&&"[object DataView]"!=Wi(new so(new ArrayBuffer(1)))||ao&&"[object Map]"!=Wi(new ao)||lo&&"[object Promise]"!=Wi(lo.resolve())||co&&"[object Set]"!=Wi(new co)||uo&&"[object WeakMap]"!=Wi(new uo))&&(Wi=function(t){var e=Or.call(t);if(t=(t="[object Object]"==e?t.constructor:W)?ln(t):W)switch(t){case mo:return"[object DataView]";case vo:return"[object Map]";case yo:return"[object Promise]";case bo:return"[object Set]";case _o:return"[object WeakMap]"}return e});var Po=Tr?Ln:br,Oo=function(){var t=0,e=0;return function(i,n){var r=jn(),o=16-(r-e);if(e=r,o>0){if(150<=++t)return i}else t=0;return To(i,n)}}(),Fo=Pn((function(t){var e=[];return nr(t).replace(ot,(function(t,i,n,r){e.push(n?r.replace(ht,"$1"):i||t)})),e})),Mo=On((function(t,e){return Nn(t)?se(t,ue(e,1,Nn,!0)):[]})),Ro=On((function(t,e){var i=gn(e);return Nn(i)&&(i=W),Nn(t)?se(t,ue(e,1,Nn,!0),qi(i)):[]})),No=On((function(t,e){var i=gn(e);return Nn(i)&&(i=W),Nn(t)?se(t,ue(e,1,Nn,!0),W,i):[]})),qo=On((function(t){var e=u(t,ei);return e.length&&e[0]===t[0]?be(e):[]})),Lo=On((function(t){var e=gn(t),i=u(t,ei);return e===gn(i)?e=W:i.pop(),i.length&&i[0]===t[0]?be(i,qi(e)):[]})),zo=On((function(t){var e=gn(t),i=u(t,ei);return e===gn(i)?e=W:i.pop(),i.length&&i[0]===t[0]?be(i,W,e):[]})),Ho=On(mn),Bo=On((function(t,e){e=ue(e,1);var i=t?t.length:0,n=te(t,e);return qe(t,u(e,(function(t){return Ji(t,i)?+t:t})).sort(si)),n})),Wo=On((function(t){return Xe(ue(t,1,Nn,!0))})),Go=On((function(t){var e=gn(t);return Nn(e)&&(e=W),Xe(ue(t,1,Nn,!0),qi(e))})),Uo=On((function(t){var e=gn(t);return Nn(e)&&(e=W),Xe(ue(t,1,Nn,!0),W,e)})),Vo=On((function(t,e){return Nn(t)?se(t,e):[]})),Qo=On((function(t){return Ze(a(t,Nn))})),Yo=On((function(t){var e=gn(t);return Nn(e)&&(e=W),Ze(a(t,Nn),qi(e))})),Xo=On((function(t){var e=gn(t);return Nn(e)&&(e=W),Ze(a(t,Nn),W,e)})),Ko=On(yn),Jo=On((function(t){var e="function"==typeof(e=(e=t.length)>1?t[e-1]:W)?(t.pop(),e):W;return bn(t,e)})),Zo=On((function(t){function e(e){return te(e,t)}var i=(t=ue(t,1)).length,n=i?t[0]:0,r=this.__wrapped__;return!(i>1||this.__actions__.length)&&r instanceof Rt&&Ji(n)?((r=r.slice(n,+n+(i?1:0))).__actions__.push({func:wn,args:[e],thisArg:W}),new Mt(r,this.__chain__).thru((function(t){return i&&!t.length&&t.push(W),t}))):this.thru(e)})),ts=hi((function(t,e,i){Ir.call(t,i)?++t[i]:t[i]=1})),es=wi(hn),is=wi(pn),ns=hi((function(t,e,i){Ir.call(t,i)?t[i].push(e):t[i]=[e]})),rs=On((function(t,e,n){var r=-1,o="function"==typeof e,s=tn(e),a=Rn(t)?Array(t.length):[];return Co(t,(function(t){var l=o?e:s&&null!=t?t[e]:W;a[++r]=l?i(l,t,n):we(t,e,n)})),a})),os=hi((function(t,e,i){t[i]=e})),ss=hi((function(t,e,i){t[i?0:1].push(e)}),(function(){return[[],[]]})),as=On((function(t,e){if(null==t)return[];var i=e.length;return i>1&&Zi(t,e[0],e[1])?e=[]:i>2&&Zi(e[0],e[1],e[2])&&(e=[e[0]]),Pe(t,e=1==e.length&&ys(e[0])?e[0]:ue(e,1,Ki),[])})),ls=On((function(t,e,i){var n=1;if(i.length){var r=N(i,Ni(ls));n=32|n}return Oi(t,n,e,i,r)})),cs=On((function(t,e,i){var n=3;if(i.length){var r=N(i,Ni(cs));n=32|n}return Oi(e,n,t,i,r)})),us=On((function(t,e){return oe(t,1,e)})),ds=On((function(t,e,i){return oe(t,er(e)||0,i)}));Pn.Cache=Ht;var hs=On((function(t,e){var n=(e=1==e.length&&ys(e[0])?u(e[0],k(qi())):u(ue(e,1,Ki),k(qi()))).length;return On((function(r){for(var o=-1,s=to(r.length,n);++o<s;)r[o]=e[o].call(this,r[o]);return i(t,this,r)}))})),ps=On((function(t,e){var i=N(e,Ni(ps));return Oi(t,32,W,e,i)})),fs=On((function(t,e){var i=N(e,Ni(fs));return Oi(t,64,W,e,i)})),gs=On((function(t,e){return Oi(t,256,W,W,W,ue(e,1))})),ms=Di(me),vs=Di((function(t,e){return t>=e})),ys=Array.isArray,bs=Rr?function(t){return t instanceof Rr}:br,_s=Di(je),ws=Di((function(t,e){return e>=t})),xs=pi((function(t,e){if(fo||nn(e)||Rn(e))ui(e,sr(e),t);else for(var i in e)Ir.call(e,i)&&Xt(t,i,e[i])})),$s=pi((function(t,e){if(fo||nn(e)||Rn(e))ui(e,ar(e),t);else for(var i in e)Xt(t,i,e[i])})),Cs=pi((function(t,e,i,n){ui(e,ar(e),t,n)})),ks=pi((function(t,e,i,n){ui(e,sr(e),t,n)})),Ss=On((function(t,e){return te(t,ue(e,1))})),js=On((function(t){return t.push(W,Ut),i(Cs,W,t)})),Ts=On((function(t){return t.push(W,on),i(Ps,W,t)})),As=Ci((function(t,e,i){t[e]=i}),hr(pr)),Ds=Ci((function(t,e,i){Ir.call(t,e)?t[e].push(i):t[e]=[i]}),qi),Is=On(we),Es=pi((function(t,e,i){Ie(t,e,i)})),Ps=pi((function(t,e,i,n){Ie(t,e,i,n)})),Os=On((function(t,e){return null==t?{}:(e=u(ue(e,1),an),Oe(t,se(ge(t,ar,Eo),e)))})),Fs=On((function(t,e){return null==t?{}:Oe(t,u(ue(e,1),an))})),Ms=Pi(sr),Rs=Pi(ar),Ns=yi((function(t,e,i){return e=e.toLowerCase(),t+(i?cr(e):e)})),qs=yi((function(t,e,i){return t+(i?"-":"")+e.toLowerCase()})),Ls=yi((function(t,e,i){return t+(i?" ":"")+e.toLowerCase()})),zs=vi("toLowerCase"),Hs=yi((function(t,e,i){return t+(i?"_":"")+e.toLowerCase()})),Bs=yi((function(t,e,i){return t+(i?" ":"")+Gs(e)})),Ws=yi((function(t,e,i){return t+(i?" ":"")+e.toUpperCase()})),Gs=vi("toUpperCase"),Us=On((function(t,e){try{return i(t,W,e)}catch(t){return qn(t)?t:new wr(t)}})),Vs=On((function(t,e){return r(ue(e,1),(function(e){e=an(e),t[e]=ls(t[e],t)})),t})),Qs=xi(),Ys=xi(!0),Xs=On((function(t,e){return function(i){return we(i,t,e)}})),Ks=On((function(t,e){return function(i){return we(t,i,e)}})),Js=Si(u),Zs=Si(s),ta=Si(f),ea=Ai(),ia=Ai(!0),na=ki((function(t,e){return t+e})),ra=Ei("ceil"),oa=ki((function(t,e){return t/e})),sa=Ei("floor"),aa=ki((function(t,e){return t*e})),la=Ei("round"),ca=ki((function(t,e){return t-e}));return kt.after=function(t,e){if("function"!=typeof e)throw new Cr("Expected a function");return t=Zn(t),function(){return 1>--t?e.apply(this,arguments):void 0}},kt.ary=Tn,kt.assign=xs,kt.assignIn=$s,kt.assignInWith=Cs,kt.assignWith=ks,kt.at=Ss,kt.before=An,kt.bind=ls,kt.bindAll=Vs,kt.bindKey=cs,kt.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return ys(t)?t:[t]},kt.chain=_n,kt.chunk=function(t,e,i){if(e=(i?Zi(t,e,i):e===W)?1:Zr(Zn(e),0),!(i=t?t.length:0)||1>e)return[];for(var n=0,r=0,o=Array(Vr(i/e));i>n;)o[r++]=Be(t,n,n+=e);return o},kt.compact=function(t){for(var e=-1,i=t?t.length:0,n=0,r=[];++e<i;){var o=t[e];o&&(r[n++]=o)}return r},kt.concat=function(){for(var t=arguments.length,e=Array(t?t-1:0),i=arguments[0],n=t;n--;)e[n-1]=arguments[n];return t?d(ys(i)?ci(i):[i],ue(e,1)):[]},kt.cond=function(t){var e=t?t.length:0,n=qi();return t=e?u(t,(function(t){if("function"!=typeof t[1])throw new Cr("Expected a function");return[n(t[0]),t[1]]})):[],On((function(n){for(var r=-1;++r<e;){var o=t[r];if(i(o[0],this,n))return i(o[1],this,n)}}))},kt.conforms=function(t){return ne(ie(t,!0))},kt.constant=hr,kt.countBy=ts,kt.create=function(t,e){var i=re(t);return e?Zt(i,e):i},kt.curry=Dn,kt.curryRight=In,kt.debounce=En,kt.defaults=js,kt.defaultsDeep=Ts,kt.defer=us,kt.delay=ds,kt.difference=Mo,kt.differenceBy=Ro,kt.differenceWith=No,kt.drop=un,kt.dropRight=dn,kt.dropRightWhile=function(t,e){return t&&t.length?Ke(t,qi(e,3),!0,!0):[]},kt.dropWhile=function(t,e){return t&&t.length?Ke(t,qi(e,3),!0):[]},kt.fill=function(t,e,i,n){var r=t?t.length:0;if(!r)return[];for(i&&"number"!=typeof i&&Zi(t,e,i)&&(i=0,n=r),r=t.length,0>(i=Zn(i))&&(i=-i>r?0:r+i),0>(n=n===W||n>r?r:Zn(n))&&(n+=r),n=i>n?0:tr(n);n>i;)t[i++]=e;return t},kt.filter=function(t,e){return(ys(t)?a:ce)(t,qi(e,3))},kt.flatMap=function(t,e){return ue(kn(t,e),1)},kt.flatMapDeep=function(t,e){return ue(kn(t,e),G)},kt.flatMapDepth=function(t,e,i){return i=i===W?1:Zn(i),ue(kn(t,e),i)},kt.flatten=function(t){return t&&t.length?ue(t,1):[]},kt.flattenDeep=function(t){return t&&t.length?ue(t,G):[]},kt.flattenDepth=function(t,e){return t&&t.length?ue(t,e=e===W?1:Zn(e)):[]},kt.flip=function(t){return Oi(t,512)},kt.flow=Qs,kt.flowRight=Ys,kt.fromPairs=function(t){for(var e=-1,i=t?t.length:0,n={};++e<i;){var r=t[e];n[r[0]]=r[1]}return n},kt.functions=function(t){return null==t?[]:pe(t,sr(t))},kt.functionsIn=function(t){return null==t?[]:pe(t,ar(t))},kt.groupBy=ns,kt.initial=function(t){return dn(t,1)},kt.intersection=qo,kt.intersectionBy=Lo,kt.intersectionWith=zo,kt.invert=As,kt.invertBy=Ds,kt.invokeMap=rs,kt.iteratee=fr,kt.keyBy=os,kt.keys=sr,kt.keysIn=ar,kt.map=kn,kt.mapKeys=function(t,e){var i={};return e=qi(e,3),de(t,(function(t,n,r){i[e(t,n,r)]=t})),i},kt.mapValues=function(t,e){var i={};return e=qi(e,3),de(t,(function(t,n,r){i[n]=e(t,n,r)})),i},kt.matches=function(t){return Ae(ie(t,!0))},kt.matchesProperty=function(t,e){return De(t,ie(e,!0))},kt.memoize=Pn,kt.merge=Es,kt.mergeWith=Ps,kt.method=Xs,kt.methodOf=Ks,kt.mixin=gr,kt.negate=function(t){if("function"!=typeof t)throw new Cr("Expected a function");return function(){return!t.apply(this,arguments)}},kt.nthArg=function(t){return t=Zn(t),On((function(e){return Ee(e,t)}))},kt.omit=Os,kt.omitBy=function(t,e){return e=qi(e),Fe(t,(function(t,i){return!e(t,i)}))},kt.once=function(t){return An(2,t)},kt.orderBy=function(t,e,i,n){return null==t?[]:(ys(e)||(e=null==e?[]:[e]),ys(i=n?W:i)||(i=null==i?[]:[i]),Pe(t,e,i))},kt.over=Js,kt.overArgs=hs,kt.overEvery=Zs,kt.overSome=ta,kt.partial=ps,kt.partialRight=fs,kt.partition=ss,kt.pick=Fs,kt.pickBy=function(t,e){return null==t?{}:Fe(t,qi(e))},kt.property=vr,kt.propertyOf=function(t){return function(e){return null==t?W:fe(t,e)}},kt.pull=Ho,kt.pullAll=mn,kt.pullAllBy=function(t,e,i){return t&&t.length&&e&&e.length?Ne(t,e,qi(i)):t},kt.pullAllWith=function(t,e,i){return t&&t.length&&e&&e.length?Ne(t,e,W,i):t},kt.pullAt=Bo,kt.range=ea,kt.rangeRight=ia,kt.rearg=gs,kt.reject=function(t,e){var i=ys(t)?a:ce;return e=qi(e,3),i(t,(function(t,i,n){return!e(t,i,n)}))},kt.remove=function(t,e){var i=[];if(!t||!t.length)return i;var n=-1,r=[],o=t.length;for(e=qi(e,3);++n<o;){var s=t[n];e(s,n,t)&&(i.push(s),r.push(n))}return qe(t,r),i},kt.rest=On,kt.reverse=vn,kt.sampleSize=Sn,kt.set=function(t,e,i){return null==t?t:He(t,e,i)},kt.setWith=function(t,e,i,n){return n="function"==typeof n?n:W,null==t?t:He(t,e,i,n)},kt.shuffle=function(t){return Sn(t,4294967295)},kt.slice=function(t,e,i){var n=t?t.length:0;return n?(i&&"number"!=typeof i&&Zi(t,e,i)?(e=0,i=n):(e=null==e?0:Zn(e),i=i===W?n:Zn(i)),Be(t,e,i)):[]},kt.sortBy=as,kt.sortedUniq=function(t){return t&&t.length?Ve(t):[]},kt.sortedUniqBy=function(t,e){return t&&t.length?Ve(t,qi(e)):[]},kt.split=function(t,e,i){return i&&"number"!=typeof i&&Zi(t,e,i)&&(e=i=W),(i=i===W?4294967295:i>>>0)?(t=nr(t))&&("string"==typeof e||null!=e&&!Vn(e))&&(""==(e=Ye(e))&&It.test(t))?ni(t.match(At),0,i):oo.call(t,e,i):[]},kt.spread=function(t,e){if("function"!=typeof t)throw new Cr("Expected a function");return e=e===W?0:Zr(Zn(e),0),On((function(n){var r=n[e];return n=ni(n,0,e),r&&d(n,r),i(t,this,n)}))},kt.tail=function(t){return un(t,1)},kt.take=function(t,e,i){return t&&t.length?Be(t,0,0>(e=i||e===W?1:Zn(e))?0:e):[]},kt.takeRight=function(t,e,i){var n=t?t.length:0;return n?Be(t,0>(e=n-(e=i||e===W?1:Zn(e)))?0:e,n):[]},kt.takeRightWhile=function(t,e){return t&&t.length?Ke(t,qi(e,3),!1,!0):[]},kt.takeWhile=function(t,e){return t&&t.length?Ke(t,qi(e,3)):[]},kt.tap=function(t,e){return e(t),t},kt.throttle=function(t,e,i){var n=!0,r=!0;if("function"!=typeof t)throw new Cr("Expected a function");return Bn(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),En(t,e,{leading:n,maxWait:e,trailing:r})},kt.thru=wn,kt.toArray=Kn,kt.toPairs=Ms,kt.toPairsIn=Rs,kt.toPath=function(t){return ys(t)?u(t,an):Yn(t)?[t]:ci(Fo(t))},kt.toPlainObject=ir,kt.transform=function(t,e,i){var n=ys(t)||Xn(t);if(e=qi(e,4),null==i)if(n||Bn(t)){var o=t.constructor;i=n?ys(t)?new o:[]:Ln(o)?re(Yr(Object(t))):{}}else i={};return(n?r:de)(t,(function(t,n,r){return e(i,t,n,r)})),i},kt.unary=function(t){return Tn(t,1)},kt.union=Wo,kt.unionBy=Go,kt.unionWith=Uo,kt.uniq=function(t){return t&&t.length?Xe(t):[]},kt.uniqBy=function(t,e){return t&&t.length?Xe(t,qi(e)):[]},kt.uniqWith=function(t,e){return t&&t.length?Xe(t,W,e):[]},kt.unset=function(t,e){var i,n;null==t?i=!0:(i=sn(i=t,n=tn(n=e,i)?[n]:ii(n)),n=an(gn(n)),i=!(null!=i&&ve(i,n))||delete i[n]);return i},kt.unzip=yn,kt.unzipWith=bn,kt.update=function(t,e,i){return null==t?t:He(t,e,("function"==typeof i?i:pr)(fe(t,e)),void 0)},kt.updateWith=function(t,e,i,n){return n="function"==typeof n?n:W,null!=t&&(t=He(t,e,("function"==typeof i?i:pr)(fe(t,e)),n)),t},kt.values=lr,kt.valuesIn=function(t){return null==t?[]:S(t,ar(t))},kt.without=Vo,kt.words=dr,kt.wrap=function(t,e){return ps(e=null==e?pr:e,t)},kt.xor=Qo,kt.xorBy=Yo,kt.xorWith=Xo,kt.zip=Ko,kt.zipObject=function(t,e){return ti(t||[],e||[],Xt)},kt.zipObjectDeep=function(t,e){return ti(t||[],e||[],He)},kt.zipWith=Jo,kt.entries=Ms,kt.entriesIn=Rs,kt.extend=$s,kt.extendWith=Cs,gr(kt,kt),kt.add=na,kt.attempt=Us,kt.camelCase=Ns,kt.capitalize=cr,kt.ceil=ra,kt.clamp=function(t,e,i){return i===W&&(i=e,e=W),i!==W&&(i=(i=er(i))==i?i:0),e!==W&&(e=(e=er(e))==e?e:0),ee(er(t),e,i)},kt.clone=function(t){return ie(t,!1,!0)},kt.cloneDeep=function(t){return ie(t,!0,!0)},kt.cloneDeepWith=function(t,e){return ie(t,!0,!0,e)},kt.cloneWith=function(t,e){return ie(t,!1,!0,e)},kt.deburr=ur,kt.divide=oa,kt.endsWith=function(t,e,i){t=nr(t),e=Ye(e);var n=t.length;return i=i===W?n:ee(Zn(i),0,n),(i-=e.length)>=0&&t.indexOf(e,i)==i},kt.eq=Fn,kt.escape=function(t){return(t=nr(t))&&Z.test(t)?t.replace(K,E):t},kt.escapeRegExp=function(t){return(t=nr(t))&&at.test(t)?t.replace(st,"\\$&"):t},kt.every=function(t,e,i){var n=ys(t)?s:ae;return i&&Zi(t,e,i)&&(e=W),n(t,qi(e,3))},kt.find=es,kt.findIndex=hn,kt.findKey=function(t,e){return g(t,qi(e,3),de)},kt.findLast=is,kt.findLastIndex=pn,kt.findLastKey=function(t,e){return g(t,qi(e,3),he)},kt.floor=sa,kt.forEach=$n,kt.forEachRight=Cn,kt.forIn=function(t,e){return null==t?t:So(t,qi(e,3),ar)},kt.forInRight=function(t,e){return null==t?t:jo(t,qi(e,3),ar)},kt.forOwn=function(t,e){return t&&de(t,qi(e,3))},kt.forOwnRight=function(t,e){return t&&he(t,qi(e,3))},kt.get=rr,kt.gt=ms,kt.gte=vs,kt.has=function(t,e){return null!=t&&Gi(t,e,ve)},kt.hasIn=or,kt.head=fn,kt.identity=pr,kt.includes=function(t,e,i,n){return t=Rn(t)?t:lr(t),i=i&&!n?Zn(i):0,n=t.length,0>i&&(i=Zr(n+i,0)),Qn(t)?n>=i&&-1<t.indexOf(e,i):!!n&&-1<v(t,e,i)},kt.indexOf=function(t,e,i){var n=t?t.length:0;return n?(0>(i=null==i?0:Zn(i))&&(i=Zr(n+i,0)),v(t,e,i)):-1},kt.inRange=function(t,e,i){return e=er(e)||0,i===W?(i=e,e=0):i=er(i)||0,(t=er(t))>=to(e,i)&&t<Zr(e,i)},kt.invoke=Is,kt.isArguments=Mn,kt.isArray=ys,kt.isArrayBuffer=function(t){return Wn(t)&&"[object ArrayBuffer]"==Or.call(t)},kt.isArrayLike=Rn,kt.isArrayLikeObject=Nn,kt.isBoolean=function(t){return!0===t||!1===t||Wn(t)&&"[object Boolean]"==Or.call(t)},kt.isBuffer=bs,kt.isDate=function(t){return Wn(t)&&"[object Date]"==Or.call(t)},kt.isElement=function(t){return!!t&&1===t.nodeType&&Wn(t)&&!Un(t)},kt.isEmpty=function(t){if(Rn(t)&&(ys(t)||Qn(t)||Ln(t.splice)||Mn(t)||bs(t)))return!t.length;if(Wn(t)){var e=Wi(t);if("[object Map]"==e||"[object Set]"==e)return!t.size}for(var i in t)if(Ir.call(t,i))return!1;return!(fo&&sr(t).length)},kt.isEqual=function(t,e){return xe(t,e)},kt.isEqualWith=function(t,e,i){var n=(i="function"==typeof i?i:W)?i(t,e):W;return n===W?xe(t,e,i):!!n},kt.isError=qn,kt.isFinite=function(t){return"number"==typeof t&&Xr(t)},kt.isFunction=Ln,kt.isInteger=zn,kt.isLength=Hn,kt.isMap=function(t){return Wn(t)&&"[object Map]"==Wi(t)},kt.isMatch=function(t,e){return t===e||$e(t,e,zi(e))},kt.isMatchWith=function(t,e,i){return i="function"==typeof i?i:W,$e(t,e,zi(e),i)},kt.isNaN=function(t){return Gn(t)&&t!=+t},kt.isNative=function(t){if(Po(t))throw new wr("This method is not supported with `core-js`. Try https://github.com/es-shims.");return Ce(t)},kt.isNil=function(t){return null==t},kt.isNull=function(t){return null===t},kt.isNumber=Gn,kt.isObject=Bn,kt.isObjectLike=Wn,kt.isPlainObject=Un,kt.isRegExp=Vn,kt.isSafeInteger=function(t){return zn(t)&&t>=-9007199254740991&&9007199254740991>=t},kt.isSet=function(t){return Wn(t)&&"[object Set]"==Wi(t)},kt.isString=Qn,kt.isSymbol=Yn,kt.isTypedArray=Xn,kt.isUndefined=function(t){return t===W},kt.isWeakMap=function(t){return Wn(t)&&"[object WeakMap]"==Wi(t)},kt.isWeakSet=function(t){return Wn(t)&&"[object WeakSet]"==Or.call(t)},kt.join=function(t,e){return t?Kr.call(t,e):""},kt.kebabCase=qs,kt.last=gn,kt.lastIndexOf=function(t,e,i){var n=t?t.length:0;if(!n)return-1;var r=n;if(i!==W&&(r=(0>(r=Zn(i))?Zr(n+r,0):to(r,n-1))+1),e!=e)return O(t,r-1,!0);for(;r--;)if(t[r]===e)return r;return-1},kt.lowerCase=Ls,kt.lowerFirst=zs,kt.lt=_s,kt.lte=ws,kt.max=function(t){return t&&t.length?le(t,pr,me):W},kt.maxBy=function(t,e){return t&&t.length?le(t,qi(e),me):W},kt.mean=function(t){return b(t,pr)},kt.meanBy=function(t,e){return b(t,qi(e))},kt.min=function(t){return t&&t.length?le(t,pr,je):W},kt.minBy=function(t,e){return t&&t.length?le(t,qi(e),je):W},kt.stubArray=yr,kt.stubFalse=br,kt.stubObject=function(){return{}},kt.stubString=function(){return""},kt.stubTrue=function(){return!0},kt.multiply=aa,kt.nth=function(t,e){return t&&t.length?Ee(t,Zn(e)):W},kt.noConflict=function(){return Vt._===this&&(Vt._=Fr),this},kt.noop=mr,kt.now=jn,kt.pad=function(t,e,i){t=nr(t);var n=(e=Zn(e))?z(t):0;return!e||n>=e?t:ji(Qr(e=(e-n)/2),i)+t+ji(Vr(e),i)},kt.padEnd=function(t,e,i){t=nr(t);var n=(e=Zn(e))?z(t):0;return e&&e>n?t+ji(e-n,i):t},kt.padStart=function(t,e,i){t=nr(t);var n=(e=Zn(e))?z(t):0;return e&&e>n?ji(e-n,i)+t:t},kt.parseInt=function(t,e,i){return i||null==e?e=0:e&&(e=+e),t=nr(t).replace(lt,""),eo(t,e||(gt.test(t)?16:10))},kt.random=function(t,e,i){if(i&&"boolean"!=typeof i&&Zi(t,e,i)&&(e=i=W),i===W&&("boolean"==typeof e?(i=e,e=W):"boolean"==typeof t&&(i=t,t=W)),t===W&&e===W?(t=0,e=1):(t=er(t)||0,e===W?(e=t,t=0):e=er(e)||0),t>e){var n=t;t=e,e=n}return i||t%1||e%1?(i=io(),to(t+i*(e-t+Lt("1e-"+((i+"").length-1))),e)):Le(t,e)},kt.reduce=function(t,e,i){var n=ys(t)?h:_,r=3>arguments.length;return n(t,qi(e,4),i,r,Co)},kt.reduceRight=function(t,e,i){var n=ys(t)?p:_,r=3>arguments.length;return n(t,qi(e,4),i,r,ko)},kt.repeat=function(t,e,i){return e=(i?Zi(t,e,i):e===W)?1:Zn(e),ze(nr(t),e)},kt.replace=function(){var t=arguments,e=nr(t[0]);return 3>t.length?e:no.call(e,t[1],t[2])},kt.result=function(t,e,i){var n=-1,r=(e=tn(e,t)?[e]:ii(e)).length;for(r||(t=W,r=1);++n<r;){var o=null==t?W:t[an(e[n])];o===W&&(n=r,o=i),t=Ln(o)?o.call(t):o}return t},kt.round=la,kt.runInContext=B,kt.sample=function(t){var e=(t=Rn(t)?t:lr(t)).length;return e>0?t[Le(0,e-1)]:W},kt.size=function(t){if(null==t)return 0;if(Rn(t)){var e=t.length;return e&&Qn(t)?z(t):e}return Wn(t)&&("[object Map]"==(e=Wi(t))||"[object Set]"==e)?t.size:sr(t).length},kt.snakeCase=Hs,kt.some=function(t,e,i){var n=ys(t)?f:We;return i&&Zi(t,e,i)&&(e=W),n(t,qi(e,3))},kt.sortedIndex=function(t,e){return Ge(t,e)},kt.sortedIndexBy=function(t,e,i){return Ue(t,e,qi(i))},kt.sortedIndexOf=function(t,e){var i=t?t.length:0;if(i){var n=Ge(t,e);if(i>n&&Fn(t[n],e))return n}return-1},kt.sortedLastIndex=function(t,e){return Ge(t,e,!0)},kt.sortedLastIndexBy=function(t,e,i){return Ue(t,e,qi(i),!0)},kt.sortedLastIndexOf=function(t,e){if(t&&t.length){var i=Ge(t,e,!0)-1;if(Fn(t[i],e))return i}return-1},kt.startCase=Bs,kt.startsWith=function(t,e,i){return t=nr(t),i=ee(Zn(i),0,t.length),t.lastIndexOf(Ye(e),i)==i},kt.subtract=ca,kt.sum=function(t){return t&&t.length?x(t,pr):0},kt.sumBy=function(t,e){return t&&t.length?x(t,qi(e)):0},kt.template=function(t,e,i){var n=kt.templateSettings;i&&Zi(t,e,i)&&(e=W),t=nr(t),e=Cs({},e,n,Ut);var r,o,s=sr(i=Cs({},e.imports,n.imports,Ut)),a=S(i,s),l=0;i=e.interpolate||xt;var c="__p+='";i=$r((e.escape||xt).source+"|"+i.source+"|"+(i===it?pt:xt).source+"|"+(e.evaluate||xt).source+"|$","g");var u="sourceURL"in e?"//# sourceURL="+e.sourceURL+"\n":"";if(t.replace(i,(function(e,i,n,s,a,u){return n||(n=s),c+=t.slice(l,u).replace($t,P),i&&(r=!0,c+="'+__e("+i+")+'"),a&&(o=!0,c+="';"+a+";\n__p+='"),n&&(c+="'+((__t=("+n+"))==null?'':__t)+'"),l=u+e.length,e})),c+="';",(e=e.variable)||(c="with(obj){"+c+"}"),c=(o?c.replace(V,""):c).replace(Q,"$1").replace(Y,"$1;"),c="function("+(e||"obj")+"){"+(e?"":"obj||(obj={});")+"var __t,__p=''"+(r?",__e=_.escape":"")+(o?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+c+"return __p}",(e=Us((function(){return Function(s,u+"return "+c).apply(W,a)}))).source=c,qn(e))throw e;return e},kt.times=function(t,e){if(1>(t=Zn(t))||t>9007199254740991)return[];var i=4294967295,n=to(t,4294967295);for(t-=4294967295,n=$(n,e=qi(e));++i<t;)e(i);return n},kt.toFinite=Jn,kt.toInteger=Zn,kt.toLength=tr,kt.toLower=function(t){return nr(t).toLowerCase()},kt.toNumber=er,kt.toSafeInteger=function(t){return ee(Zn(t),-9007199254740991,9007199254740991)},kt.toString=nr,kt.toUpper=function(t){return nr(t).toUpperCase()},kt.trim=function(t,e,i){return(t=nr(t))&&(i||e===W)?t.replace(lt,""):t&&(e=Ye(e))?ni(t=t.match(At),T(t,e=e.match(At)),A(t,e)+1).join(""):t},kt.trimEnd=function(t,e,i){return(t=nr(t))&&(i||e===W)?t.replace(ut,""):t&&(e=Ye(e))?ni(t=t.match(At),0,e=A(t,e.match(At))+1).join(""):t},kt.trimStart=function(t,e,i){return(t=nr(t))&&(i||e===W)?t.replace(ct,""):t&&(e=Ye(e))?ni(t=t.match(At),e=T(t,e.match(At))).join(""):t},kt.truncate=function(t,e){var i=30,n="...";if(Bn(e)){var r="separator"in e?e.separator:r;i="length"in e?Zn(e.length):i,n="omission"in e?Ye(e.omission):n}var o=(t=nr(t)).length;if(It.test(t)){var s=t.match(At);o=s.length}if(i>=o)return t;if(1>(o=i-z(n)))return n;if(i=s?ni(s,0,o).join(""):t.slice(0,o),r===W)return i+n;if(s&&(o+=i.length-o),Vn(r)){if(t.slice(o).search(r)){var a=i;for(r.global||(r=$r(r.source,nr(ft.exec(r))+"g")),r.lastIndex=0;s=r.exec(a);)var l=s.index;i=i.slice(0,l===W?o:l)}}else t.indexOf(Ye(r),o)!=o&&((r=i.lastIndexOf(r))>-1&&(i=i.slice(0,r)));return i+n},kt.unescape=function(t){return(t=nr(t))&&J.test(t)?t.replace(X,H):t},kt.uniqueId=function(t){var e=++Er;return nr(t)+e},kt.upperCase=Ws,kt.upperFirst=Gs,kt.each=$n,kt.eachRight=Cn,kt.first=fn,gr(kt,function(){var t={};return de(kt,(function(e,i){Ir.call(kt.prototype,i)||(t[i]=e)})),t}(),{chain:!1}),kt.VERSION="4.13.1",r("bind bindKey curry curryRight partial partialRight".split(" "),(function(t){kt[t].placeholder=kt})),r(["drop","take"],(function(t,e){Rt.prototype[t]=function(i){var n=this.__filtered__;if(n&&!e)return new Rt(this);i=i===W?1:Zr(Zn(i),0);var r=this.clone();return n?r.__takeCount__=to(i,r.__takeCount__):r.__views__.push({size:to(i,4294967295),type:t+(0>r.__dir__?"Right":"")}),r},Rt.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),r(["filter","map","takeWhile"],(function(t,e){var i=e+1,n=1==i||3==i;Rt.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:qi(t,3),type:i}),e.__filtered__=e.__filtered__||n,e}})),r(["head","last"],(function(t,e){var i="take"+(e?"Right":"");Rt.prototype[t]=function(){return this[i](1).value()[0]}})),r(["initial","tail"],(function(t,e){var i="drop"+(e?"":"Right");Rt.prototype[t]=function(){return this.__filtered__?new Rt(this):this[i](1)}})),Rt.prototype.compact=function(){return this.filter(pr)},Rt.prototype.find=function(t){return this.filter(t).head()},Rt.prototype.findLast=function(t){return this.reverse().find(t)},Rt.prototype.invokeMap=On((function(t,e){return"function"==typeof t?new Rt(this):this.map((function(i){return we(i,t,e)}))})),Rt.prototype.reject=function(t){return t=qi(t,3),this.filter((function(e){return!t(e)}))},Rt.prototype.slice=function(t,e){t=Zn(t);var i=this;return i.__filtered__&&(t>0||0>e)?new Rt(i):(0>t?i=i.takeRight(-t):t&&(i=i.drop(t)),e!==W&&(i=0>(e=Zn(e))?i.dropRight(-e):i.take(e-t)),i)},Rt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Rt.prototype.toArray=function(){return this.take(4294967295)},de(Rt.prototype,(function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),r=kt[n?"take"+("last"==e?"Right":""):e],o=n||/^find/.test(e);r&&(kt.prototype[e]=function(){function e(t){return t=r.apply(kt,d([t],a)),n&&h?t[0]:t}var s=this.__wrapped__,a=n?[1]:arguments,l=s instanceof Rt,c=a[0],u=l||ys(s);u&&i&&"function"==typeof c&&1!=c.length&&(l=u=!1);var h=this.__chain__,p=!!this.__actions__.length;c=o&&!h,l=l&&!p;return!o&&u?(s=l?s:new Rt(this),(s=t.apply(s,a)).__actions__.push({func:wn,args:[e],thisArg:W}),new Mt(s,h)):c&&l?t.apply(this,a):(s=this.thru(e),c?n?s.value()[0]:s.value():s)})})),r("pop push shift sort splice unshift".split(" "),(function(t){var e=kr[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);kt.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var r=this.value();return e.apply(ys(r)?r:[],t)}return this[i]((function(i){return e.apply(ys(i)?i:[],t)}))}})),de(Rt.prototype,(function(t,e){var i=kt[e];if(i){var n=i.name+"";(go[n]||(go[n]=[])).push({name:e,func:i})}})),go[$i(W,2).name]=[{name:"wrapper",func:W}],Rt.prototype.clone=function(){var t=new Rt(this.__wrapped__);return t.__actions__=ci(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ci(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ci(this.__views__),t},Rt.prototype.reverse=function(){if(this.__filtered__){var t=new Rt(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Rt.prototype.value=function(){var t,e=this.__wrapped__.value(),i=this.__dir__,n=ys(e),r=0>i,o=n?e.length:0;t=o;for(var s=this.__views__,a=0,l=-1,c=s.length;++l<c;){var u=s[l],d=u.size;switch(u.type){case"drop":a+=d;break;case"dropRight":t-=d;break;case"take":t=to(t,a+d);break;case"takeRight":a=Zr(a,t-d)}}if(s=(t={start:a,end:t}).start,t=(a=t.end)-s,r=r?a:s-1,a=(s=this.__iteratees__).length,l=0,c=to(t,this.__takeCount__),!n||200>o||o==t&&c==t)return Je(e,this.__actions__);n=[];t:for(;t--&&c>l;){for(o=-1,u=e[r+=i];++o<a;){d=(h=s[o]).type;var h=(0,h.iteratee)(u);if(2==d)u=h;else if(!h){if(1==d)continue t;break t}}n[l++]=u}return n},kt.prototype.at=Zo,kt.prototype.chain=function(){return _n(this)},kt.prototype.commit=function(){return new Mt(this.value(),this.__chain__)},kt.prototype.next=function(){this.__values__===W&&(this.__values__=Kn(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?W:this.__values__[this.__index__++]}},kt.prototype.plant=function(t){for(var e,i=this;i instanceof St;){var n=cn(i);n.__index__=0,n.__values__=W,e?r.__wrapped__=n:e=n;var r=n;i=i.__wrapped__}return r.__wrapped__=t,e},kt.prototype.reverse=function(){var t=this.__wrapped__;return t instanceof Rt?(this.__actions__.length&&(t=new Rt(this)),(t=t.reverse()).__actions__.push({func:wn,args:[vn],thisArg:W}),new Mt(t,this.__chain__)):this.thru(vn)},kt.prototype.toJSON=kt.prototype.valueOf=kt.prototype.value=function(){return Je(this.__wrapped__,this.__actions__)},Br&&(kt.prototype[Br]=xn),kt}var W,G=1/0,U=NaN,V=/\b__p\+='';/g,Q=/\b(__p\+=)''\+/g,Y=/(__e\(.*?\)|\b__t\))\+'';/g,X=/&(?:amp|lt|gt|quot|#39|#96);/g,K=/[&<>"'`]/g,J=RegExp(X.source),Z=RegExp(K.source),tt=/<%-([\s\S]+?)%>/g,et=/<%([\s\S]+?)%>/g,it=/<%=([\s\S]+?)%>/g,nt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rt=/^\w*$/,ot=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(\.|\[\])(?:\4|$))/g,st=/[\\^$.*+?()[\]{}|]/g,at=RegExp(st.source),lt=/^\s+|\s+$/g,ct=/^\s+/,ut=/\s+$/,dt=/[a-zA-Z0-9]+/g,ht=/\\(\\)?/g,pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ft=/\w*$/,gt=/^0x/i,mt=/^[-+]0x[0-9a-f]+$/i,vt=/^0b[01]+$/i,yt=/^\[object .+?Constructor\]$/,bt=/^0o[0-7]+$/i,_t=/^(?:0|[1-9]\d*)$/,wt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,xt=/($^)/,$t=/['\n\r\u2028\u2029\\]/g,Ct="[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?)*",kt="(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])"+Ct,St="(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]?|[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])",jt=RegExp("['\u2019]","g"),Tt=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]","g"),At=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+St+Ct,"g"),Dt=RegExp(["[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['\u2019](?:d|ll|m|re|s|t|ve))?|[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?|\\d+",kt].join("|"),"g"),It=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),Et=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Pt="Array Buffer DataView Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Promise Reflect RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ isFinite parseInt setTimeout".split(" "),Ot={};Ot["[object Float32Array]"]=Ot["[object Float64Array]"]=Ot["[object Int8Array]"]=Ot["[object Int16Array]"]=Ot["[object Int32Array]"]=Ot["[object Uint8Array]"]=Ot["[object Uint8ClampedArray]"]=Ot["[object Uint16Array]"]=Ot["[object Uint32Array]"]=!0,Ot["[object Arguments]"]=Ot["[object Array]"]=Ot["[object ArrayBuffer]"]=Ot["[object Boolean]"]=Ot["[object DataView]"]=Ot["[object Date]"]=Ot["[object Error]"]=Ot["[object Function]"]=Ot["[object Map]"]=Ot["[object Number]"]=Ot["[object Object]"]=Ot["[object RegExp]"]=Ot["[object Set]"]=Ot["[object String]"]=Ot["[object WeakMap]"]=!1;var Ft={}
;Ft["[object Arguments]"]=Ft["[object Array]"]=Ft["[object ArrayBuffer]"]=Ft["[object DataView]"]=Ft["[object Boolean]"]=Ft["[object Date]"]=Ft["[object Float32Array]"]=Ft["[object Float64Array]"]=Ft["[object Int8Array]"]=Ft["[object Int16Array]"]=Ft["[object Int32Array]"]=Ft["[object Map]"]=Ft["[object Number]"]=Ft["[object Object]"]=Ft["[object RegExp]"]=Ft["[object Set]"]=Ft["[object String]"]=Ft["[object Symbol]"]=Ft["[object Uint8Array]"]=Ft["[object Uint8ClampedArray]"]=Ft["[object Uint16Array]"]=Ft["[object Uint32Array]"]=!0,Ft["[object Error]"]=Ft["[object Function]"]=Ft["[object WeakMap]"]=!1;var Mt={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss"},Rt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Nt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},qt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Lt=parseFloat,zt=parseInt,Ht="object"==typeof exports&&exports,Bt=Ht&&"object"==typeof module&&module,Wt=Bt&&Bt.exports===Ht,Gt=D("object"==typeof self&&self),Ut=D("object"==typeof this&&this),Vt=D("object"==typeof global&&global)||Gt||Ut||Function("return this")(),Qt=B();(Gt||{})._=Qt,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define((function(){return Qt})):Bt?((Bt.exports=Qt)._=Qt,Ht._=Qt):Vt._=Qt}.call(this),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):t.parsley=e(t.jQuery)}(this,(function(t){"use strict";function e(t,e){return t.parsleyAdaptedCallback||(t.parsleyAdaptedCallback=function(){var i=Array.prototype.slice.call(arguments,0);i.unshift(this),t.apply(e||A,i)}),t.parsleyAdaptedCallback}function i(t){return 0===t.lastIndexOf(I,0)?t.substr(I.length):t}var n=1,r={},o={attr:function(t,e,i){var n,r,o,s=new RegExp("^"+e,"i");if(void 0===i)i={};else for(n in i)i.hasOwnProperty(n)&&delete i[n];if(void 0===t||void 0===t[0])return i;for(n=(o=t[0].attributes).length;n--;)(r=o[n])&&r.specified&&s.test(r.name)&&(i[this.camelize(r.name.slice(e.length))]=this.deserializeValue(r.value));return i},checkAttr:function(t,e,i){return t.is("["+e+i+"]")},setAttr:function(t,e,i,n){t[0].setAttribute(this.dasherize(e+i),String(n))},generateID:function(){return""+n++},deserializeValue:function(e){var i;try{return e?"true"==e||"false"!=e&&("null"==e?null:isNaN(i=Number(e))?/^[\[\{]/.test(e)?t.parseJSON(e):e:i):e}catch(t){return e}},camelize:function(t){return t.replace(/-+(.)?/g,(function(t,e){return e?e.toUpperCase():""}))},dasherize:function(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},warn:function(){window.console&&"function"==typeof window.console.warn&&window.console.warn.apply(window.console,arguments)},warnOnce:function(t){r[t]||(r[t]=!0,this.warn.apply(this,arguments))},_resetWarnings:function(){r={}},trimString:function(t){return t.replace(/^\s+|\s+$/g,"")},objectCreate:Object.create||function(){var t=function(){};return function(e){if(arguments.length>1)throw Error("Second argument not supported");if("object"!=typeof e)throw TypeError("Argument must be an object");t.prototype=e;var i=new t;return t.prototype=null,i}}()},s=o,a={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:!0,multiple:null,group:null,uiEnabled:!0,validationThreshold:3,focus:"first",trigger:!1,errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(){},errorsContainer:function(){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"},l=function(){};l.prototype={asyncSupport:!0,actualizeOptions:function(){return s.attr(this.$element,this.options.namespace,this.domOptions),this.parent&&this.parent.actualizeOptions&&this.parent.actualizeOptions(),this},_resetOptions:function(t){for(var e in this.domOptions=s.objectCreate(this.parent.options),this.options=s.objectCreate(this.domOptions),t)t.hasOwnProperty(e)&&(this.options[e]=t[e]);this.actualizeOptions()},_listeners:null,on:function(t,e){return this._listeners=this._listeners||{},(this._listeners[t]=this._listeners[t]||[]).push(e),this},subscribe:function(e,i){t.listenTo(this,e.toLowerCase(),i)},off:function(t,e){var i=this._listeners&&this._listeners[t];if(i)if(e)for(var n=i.length;n--;)i[n]===e&&i.splice(n,1);else delete this._listeners[t];return this},unsubscribe:function(e){t.unsubscribeTo(this,e.toLowerCase())},trigger:function(t,e,i){e=e||this;var n,r=this._listeners&&this._listeners[t];if(r)for(var o=r.length;o--;)if(!1===(n=r[o].call(e,e,i)))return n;return!this.parent||this.parent.trigger(t,e,i)},reset:function(){if("ParsleyForm"!==this.__class__)return this._trigger("reset");for(var t=0;t<this.fields.length;t++)this.fields[t]._trigger("reset");this._trigger("reset")},destroy:function(){if("ParsleyForm"!==this.__class__)return this.$element.removeData("Parsley"),this.$element.removeData("ParsleyFieldMultiple"),void this._trigger("destroy");for(var t=0;t<this.fields.length;t++)this.fields[t].destroy();this.$element.removeData("Parsley"),this._trigger("destroy")},asyncIsValid:function(){return s.warnOnce("asyncIsValid is deprecated; please use whenIsValid instead"),this.whenValid.apply(this,arguments)},_findRelatedMultiple:function(){return this.parent.$element.find("["+this.options.namespace+'multiple="'+this.options.multiple+'"]')}};var c={string:function(t){return t},integer:function(t){if(isNaN(t))throw'Requirement is not an integer: "'+t+'"';return parseInt(t,10)},number:function(t){if(isNaN(t))throw'Requirement is not a number: "'+t+'"';return parseFloat(t)},reference:function(e){var i=t(e);if(0===i.length)throw'No such reference: "'+e+'"';return i},boolean:function(t){return"false"!==t},object:function(t){return s.deserializeValue(t)},regexp:function(t){var e="";return/^\/.*\/(?:[gimy]*)$/.test(t)?(e=t.replace(/.*\/([gimy]*)$/,"$1"),t=t.replace(new RegExp("^/(.*?)/"+e+"$"),"$1")):t="^"+t+"$",new RegExp(t,e)}},u=function(t,e){var i=t.match(/^\s*\[(.*)\]\s*$/);if(!i)throw'Requirement is not an array: "'+t+'"';var n=i[1].split(",").map(s.trimString);if(n.length!==e)throw"Requirement has "+n.length+" values when "+e+" are needed";return n},d=function(t,e){var i=c[t||"string"];if(!i)throw'Unknown requirement specification: "'+t+'"';return i(e)},h=function(t,e,i){var n=null,r={};for(var o in t)if(o){var s=i(o);"string"==typeof s&&(s=d(t[o],s)),r[o]=s}else n=d(t[o],e);return[n,r]},p=function(e){t.extend(!0,this,e)};p.prototype={validate:function(e,i){if(this.fn)return arguments.length>3&&(i=[].slice.call(arguments,1,-1)),this.fn.call(this,e,i);if(t.isArray(e)){if(!this.validateMultiple)throw"Validator `"+this.name+"` does not handle multiple values";return this.validateMultiple.apply(this,arguments)}if(this.validateNumber)return!isNaN(e)&&(arguments[0]=parseFloat(arguments[0]),this.validateNumber.apply(this,arguments));if(this.validateString)return this.validateString.apply(this,arguments);throw"Validator `"+this.name+"` only handles multiple values"},parseRequirements:function(e,i){if("string"!=typeof e)return t.isArray(e)?e:[e];var n=this.requirementType;if(t.isArray(n)){for(var r=u(e,n.length),o=0;o<r.length;o++)r[o]=d(n[o],r[o]);return r}return t.isPlainObject(n)?h(n,e,i):[d(n,e)]},requirementType:"string",priority:2};var f=function(t,e){this.__class__="ParsleyValidatorRegistry",this.locale="en",this.init(t||{},e||{})},g={email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/,integer:/^-?\d+$/,digits:/^\d+$/,alphanum:/^\w+$/i,url:new RegExp("^(?:(?:https?|ftp)://)?(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:/\\S*)?$","i")};g.range=g.number,f.prototype={init:function(e,i){for(var n in this.catalog=i,this.validators=t.extend({},this.validators),e)this.addValidator(n,e[n].fn,e[n].priority);window.Parsley.trigger("parsley:validator:init")},setLocale:function(t){if(void 0===this.catalog[t])throw new Error(t+" is not available in the catalog");return this.locale=t,this},addCatalog:function(t,e,i){return"object"==typeof e&&(this.catalog[t]=e),!0===i?this.setLocale(t):this},addMessage:function(t,e,i){return void 0===this.catalog[t]&&(this.catalog[t]={}),this.catalog[t][e]=i,this},addMessages:function(t,e){for(var i in e)this.addMessage(t,i,e[i]);return this},addValidator:function(t){if(this.validators[t])s.warn('Validator "'+t+'" is already defined.');else if(a.hasOwnProperty(t))return void s.warn('"'+t+'" is a restricted keyword and is not a valid validator name.');return this._setValidator.apply(this,arguments)},updateValidator:function(t){return this.validators[t]?this._setValidator(this,arguments):(s.warn('Validator "'+t+'" is not already defined.'),this.addValidator.apply(this,arguments))},removeValidator:function(t){return this.validators[t]||s.warn('Validator "'+t+'" is not defined.'),delete this.validators[t],this},_setValidator:function(t,e,i){for(var n in"object"!=typeof e&&(e={fn:e,priority:i}),e.validate||(e=new p(e)),this.validators[t]=e,e.messages||{})this.addMessage(n,t,e.messages[n]);return this},getErrorMessage:function(t){var e;"type"===t.name?e=(this.catalog[this.locale][t.name]||{})[t.requirements]:e=this.formatMessage(this.catalog[this.locale][t.name],t.requirements);return e||this.catalog[this.locale].defaultMessage||this.catalog.en.defaultMessage},formatMessage:function(t,e){if("object"==typeof e){for(var i in e)t=this.formatMessage(t,e[i]);return t}return"string"==typeof t?t.replace(new RegExp("%s","i"),e):""},validators:{notblank:{validateString:function(t){return/\S/.test(t)},priority:2},required:{validateMultiple:function(t){return t.length>0},validateString:function(t){return/\S/.test(t)},priority:512},type:{validateString:function(t,e){var i=g[e];if(!i)throw new Error("validator type `"+e+"` is not supported");return i.test(t)},priority:256},pattern:{validateString:function(t,e){return e.test(t)},requirementType:"regexp",priority:64},minlength:{validateString:function(t,e){return t.length>=e},requirementType:"integer",priority:30},maxlength:{validateString:function(t,e){return t.length<=e},requirementType:"integer",priority:30},length:{validateString:function(t,e,i){return t.length>=e&&t.length<=i},requirementType:["integer","integer"],priority:30},mincheck:{validateMultiple:function(t,e){return t.length>=e},requirementType:"integer",priority:30},maxcheck:{validateMultiple:function(t,e){return t.length<=e},requirementType:"integer",priority:30},check:{validateMultiple:function(t,e,i){return t.length>=e&&t.length<=i},requirementType:["integer","integer"],priority:30},min:{validateNumber:function(t,e){return t>=e},requirementType:"number",priority:30},max:{validateNumber:function(t,e){return e>=t},requirementType:"number",priority:30},range:{validateNumber:function(t,e,i){return t>=e&&i>=t},requirementType:["number","number"],priority:30},equalto:{validateString:function(e,i){var n=t(i);return n.length?e===n.val():e===i},priority:256}}};var m=function(){this.__class__="ParsleyUI"};m.prototype={listen:function(){var t=this;return window.Parsley.on("form:init",(function(){t.setupForm(this)})).on("field:init",(function(){t.setupField(this)})).on("field:validated",(function(){t.reflow(this)})).on("form:validated",(function(){t.focus(this)})).on("field:reset",(function(){t.reset(this)})).on("form:destroy",(function(){t.destroy(this)})).on("field:destroy",(function(){t.destroy(this)})),this},reflow:function(t){if(void 0!==t._ui&&!1!==t._ui.active){var e=this._diff(t.validationResult,t._ui.lastValidationResult);t._ui.lastValidationResult=t.validationResult,t._ui.validatedOnce=!0,this.manageStatusClass(t),this.manageErrorsMessages(t,e),this.actualizeTriggers(t),(e.kept.length||e.added.length)&&!0!==t._ui.failedOnce&&this.manageFailingFieldTrigger(t)}},getErrorsMessages:function(t){if(!0===t.validationResult)return[];for(var e=[],i=0;i<t.validationResult.length;i++)e.push(t.validationResult[i].errorMessage||this._getErrorMessage(t,t.validationResult[i].assert));return e},manageStatusClass:function(t){t.hasConstraints()&&t.needsValidation()&&!0===t.validationResult?this._successClass(t):t.validationResult.length>0?this._errorClass(t):this._resetClass(t)},manageErrorsMessages:function(e,i){if(void 0===e.options.errorsMessagesDisabled){if(void 0!==e.options.errorMessage)return i.added.length||i.kept.length?(this._insertErrorWrapper(e),0===e._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&e._ui.$errorsWrapper.append(t(e.options.errorTemplate).addClass("parsley-custom-error-message")),e._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(e.options.errorMessage)):e._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove();for(var n=0;n<i.removed.length;n++)this.removeError(e,i.removed[n].assert.name,!0);for(n=0;n<i.added.length;n++)this.addError(e,i.added[n].assert.name,i.added[n].errorMessage,i.added[n].assert,!0);for(n=0;n<i.kept.length;n++)this.updateError(e,i.kept[n].assert.name,i.kept[n].errorMessage,i.kept[n].assert,!0)}},addError:function(e,i,n,r,o){this._insertErrorWrapper(e),e._ui.$errorsWrapper.addClass("filled").append(t(e.options.errorTemplate).addClass("parsley-"+i).html(n||this._getErrorMessage(e,r))),!0!==o&&this._errorClass(e)},updateError:function(t,e,i,n,r){t._ui.$errorsWrapper.addClass("filled").find(".parsley-"+e).html(i||this._getErrorMessage(t,n)),!0!==r&&this._errorClass(t)},removeError:function(t,e,i){t._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+e).remove(),!0!==i&&this.manageStatusClass(t)},focus:function(t){if(t._focusedField=null,!0===t.validationResult||"none"===t.options.focus)return null;for(var e=0;e<t.fields.length;e++){var i=t.fields[e];if(!0!==i.validationResult&&i.validationResult.length>0&&void 0===i.options.noFocus&&(t._focusedField=i.$element,"first"===t.options.focus))break}return null===t._focusedField?null:t._focusedField.focus()},_getErrorMessage:function(t,e){var i=e.name+"Message";return void 0!==t.options[i]?window.Parsley.formatMessage(t.options[i],e.requirements):window.Parsley.getErrorMessage(e)},_diff:function(t,e,i){for(var n=[],r=[],o=0;o<t.length;o++){for(var s=!1,a=0;a<e.length;a++)if(t[o].assert.name===e[a].assert.name){s=!0;break}s?r.push(t[o]):n.push(t[o])}return{kept:r,added:n,removed:i?[]:this._diff(e,t,!0).added}},setupForm:function(e){e.$element.on("submit.Parsley",!1,t.proxy(e.onSubmitValidate,e)),e.$element.on("click.Parsley",'input[type="submit"], button[type="submit"]',t.proxy(e.onSubmitButton,e)),!1!==e.options.uiEnabled&&e.$element.attr("novalidate","")},setupField:function(e){var i={active:!1};!1!==e.options.uiEnabled&&(i.active=!0,e.$element.attr(e.options.namespace+"id",e.__id__),i.$errorClassHandler=this._manageClassHandler(e),i.errorsWrapperId="parsley-id-"+(e.options.multiple?"multiple-"+e.options.multiple:e.__id__),i.$errorsWrapper=t(e.options.errorsWrapper).attr("id",i.errorsWrapperId),i.lastValidationResult=[],i.validatedOnce=!1,i.validationInformationVisible=!1,e._ui=i,this.actualizeTriggers(e))},_manageClassHandler:function(e){if("string"==typeof e.options.classHandler&&t(e.options.classHandler).length)return t(e.options.classHandler);var i=e.options.classHandler(e);return void 0!==i&&i.length?i:!e.options.multiple||e.$element.is("select")?e.$element:e.$element.parent()},_insertErrorWrapper:function(e){var i;if(0!==e._ui.$errorsWrapper.parent().length)return e._ui.$errorsWrapper.parent();if("string"==typeof e.options.errorsContainer){if(t(e.options.errorsContainer).length)return t(e.options.errorsContainer).append(e._ui.$errorsWrapper);s.warn("The errors container `"+e.options.errorsContainer+"` does not exist in DOM")}else"function"==typeof e.options.errorsContainer&&(i=e.options.errorsContainer(e));if(void 0!==i&&i.length)return i.append(e._ui.$errorsWrapper);var n=e.$element;return e.options.multiple&&(n=n.parent()),n.after(e._ui.$errorsWrapper)},actualizeTriggers:function(e){var i=e.$element;if(e.options.multiple&&(i=t("["+e.options.namespace+'multiple="'+e.options.multiple+'"]')),i.off(".Parsley"),!1!==e.options.trigger){var n=e.options.trigger.replace(/^\s+/g,"").replace(/\s+$/g,"");""!==n&&i.on(n.split(" ").join(".Parsley ")+".Parsley",t.proxy("function"==typeof e.eventValidate?e.eventValidate:this.eventValidate,e))}},eventValidate:function(t){new RegExp("key").test(t.type)&&!this._ui.validationInformationVisible&&this.getValue().length<=this.options.validationThreshold||(this._ui.validatedOnce=!0,this.validate())},manageFailingFieldTrigger:function(e){return e._ui.failedOnce=!0,e.options.multiple&&t("["+e.options.namespace+'multiple="'+e.options.multiple+'"]').each((function(){return new RegExp("change","i").test(t(this).parsley().options.trigger||"")?void 0:t(this).on("change.ParsleyFailedOnce",!1,t.proxy(e.validate,e))})),e.$element.is("select")&&!new RegExp("change","i").test(e.options.trigger||"")?e.$element.on("change.ParsleyFailedOnce",!1,t.proxy(e.validate,e)):new RegExp("keyup","i").test(e.options.trigger||"")?void 0:e.$element.on("keyup.ParsleyFailedOnce",!1,t.proxy(e.validate,e))},reset:function(t){this.actualizeTriggers(t),t.$element.off(".ParsleyFailedOnce"),void 0!==t._ui&&"ParsleyForm"!==t.__class__&&(t._ui.$errorsWrapper.removeClass("filled").children().remove(),this._resetClass(t),t._ui.validatedOnce=!1,t._ui.lastValidationResult=[],t._ui.validationInformationVisible=!1,t._ui.failedOnce=!1)},destroy:function(t){this.reset(t),"ParsleyForm"!==t.__class__&&(void 0!==t._ui&&t._ui.$errorsWrapper.remove(),delete t._ui)},_successClass:function(t){t._ui.validationInformationVisible=!0,t._ui.$errorClassHandler.removeClass(t.options.errorClass).addClass(t.options.successClass)},_errorClass:function(t){t._ui.validationInformationVisible=!0,t._ui.$errorClassHandler.removeClass(t.options.successClass).addClass(t.options.errorClass)},_resetClass:function(t){t._ui.$errorClassHandler.removeClass(t.options.successClass).removeClass(t.options.errorClass)}};var v=function(e,i,n){this.__class__="ParsleyForm",this.__id__=s.generateID(),this.$element=t(e),this.domOptions=i,this.options=n,this.parent=window.Parsley,this.fields=[],this.validationResult=null},y={pending:null,resolved:!0,rejected:!1};v.prototype={onSubmitValidate:function(t){var e=this;if(!0!==t.parsley)return this._$submitSource=this._$submitSource||this.$element.find('input[type="submit"], button[type="submit"]').first(),this._$submitSource.is("[formnovalidate]")?void(this._$submitSource=null):(t.stopImmediatePropagation(),t.preventDefault(),this.whenValidate(void 0,void 0,t).done((function(){e._submit()})).always((function(){e._$submitSource=null})),this)},onSubmitButton:function(e){this._$submitSource=t(e.target)},_submit:function(){!1!==this._trigger("submit")&&(this.$element.find(".parsley_synthetic_submit_button").remove(),this._$submitSource&&t('<input class="parsley_synthetic_submit_button" type="hidden">').attr("name",this._$submitSource.attr("name")).attr("value",this._$submitSource.attr("value")).appendTo(this.$element),this.$element.trigger(t.extend(t.Event("submit"),{parsley:!0})))},validate:function(t,e,i){return y[this.whenValidate(t,e,i).state()]},whenValidate:function(e,i,n){var r=this;this.submitEvent=n,this.validationResult=!0,this._trigger("validate"),this._refreshFields();var o=this._withoutReactualizingFormOptions((function(){return t.map(this.fields,(function(t){return!e||r._isFieldInGroup(t,e)?t.whenValidate(i):void 0}))})),s=function(){var e=t.Deferred();return!1===r.validationResult&&e.reject(),e.resolve().promise()};return t.when.apply(t,o).done((function(){r._trigger("success")})).fail((function(){r.validationResult=!1,r._trigger("error")})).always((function(){r._trigger("validated")})).pipe(s,s)},isValid:function(t,e){return y[this.whenValid(t,e).state()]},whenValid:function(e,i){var n=this;this._refreshFields();var r=this._withoutReactualizingFormOptions((function(){return t.map(this.fields,(function(t){return!e||n._isFieldInGroup(t,e)?t.whenValid(i):void 0}))}));return t.when.apply(t,r)},_isFieldInGroup:function(e,i){return t.isArray(e.options.group)?-1!==t.inArray(i,e.options.group):e.options.group===i},_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var e=this,i=this.fields;return this.fields=[],this.fieldsMappedById={},this._withoutReactualizingFormOptions((function(){this.$element.find(this.options.inputs).not(this.options.excluded).each((function(){var t=new window.Parsley.Factory(this,{},e);"ParsleyField"!==t.__class__&&"ParsleyFieldMultiple"!==t.__class__||!0===t.options.excluded||void 0===e.fieldsMappedById[t.__class__+"-"+t.__id__]&&(e.fieldsMappedById[t.__class__+"-"+t.__id__]=t,e.fields.push(t))})),t(i).not(e.fields).each((function(){this._trigger("reset")}))})),this},_withoutReactualizingFormOptions:function(t){var e=this.actualizeOptions;this.actualizeOptions=function(){return this};var i=t.call(this);return this.actualizeOptions=e,i},_trigger:function(t){return this.trigger("form:"+t)}};var b=function(e,i,n,r,o){if(!new RegExp("ParsleyField").test(e.__class__))throw new Error("ParsleyField or ParsleyFieldMultiple instance expected");var s=window.Parsley._validatorRegistry.validators[i],a=new p(s);t.extend(this,{validator:a,name:i,requirements:n,priority:r||e.options[i+"Priority"]||a.priority,isDomConstraint:!0===o}),this._parseRequirements(e.options)},_=function(t){return t[0].toUpperCase()+t.slice(1)};b.prototype={validate:function(t,e){var i=this.requirementList.slice(0);return i.unshift(t),i.push(e),this.validator.validate.apply(this.validator,i)},_parseRequirements:function(t){var e=this;this.requirementList=this.validator.parseRequirements(this.requirements,(function(i){return t[e.name+_(i)]}))}};var w=function(e,i,n,r){this.__class__="ParsleyField",this.__id__=s.generateID(),this.$element=t(e),void 0!==r&&(this.parent=r),this.options=n,this.domOptions=i,this.constraints=[],this.constraintsByName={},this.validationResult=[],this._bindConstraints()},x={pending:null,resolved:!0,rejected:!1};w.prototype={validate:function(t){switch(this.whenValidate(t).state()){case"pending":return null;case"resolved":return!0;case"rejected":return this.validationResult}},whenValidate:function(t){var e=this;return this.value=this.getValue(),this._trigger("validate"),this.whenValid(t,this.value).done((function(){e._trigger("success")})).fail((function(){e._trigger("error")})).always((function(){e._trigger("validated")}))},hasConstraints:function(){return 0!==this.constraints.length},needsValidation:function(t){return void 0===t&&(t=this.getValue()),!(!t.length&&!this._isRequired()&&void 0===this.options.validateIfEmpty)},isValid:function(t,e){return x[this.whenValid(t,e).state()]},whenValid:function(e,i){if(this.refreshConstraints(),this.validationResult=!0,!this.hasConstraints())return t.when();if("boolean"!=typeof e&&void 0===i&&(i=e,e=!1),null==i&&(i=this.getValue()),!this.needsValidation(i)&&!0!==e)return t.when();var n=this._getGroupedConstraints(),r=[],o=this;return t.each(n,(function(e,n){var s=t.when.apply(t,t.map(n,t.proxy(o,"_validateConstraint",i)));return r.push(s),"rejected"!==s.state()&&void 0})),t.when.apply(t,r)},_validateConstraint:function(e,i){var n=this,r=i.validate(e,this);return!1===r&&(r=t.Deferred().reject()),t.when(r).fail((function(t){!0===n.validationResult&&(n.validationResult=[]),n.validationResult.push({assert:i,errorMessage:"string"==typeof t&&t})}))},getValue:function(){var t;return null==(t="function"==typeof this.options.value?this.options.value(this):void 0!==this.options.value?this.options.value:this.$element.val())?"":this._handleWhitespace(t)},refreshConstraints:function(){return this.actualizeOptions()._bindConstraints()},addConstraint:function(t,e,i,n){if(window.Parsley._validatorRegistry.validators[t]){var r=new b(this,t,e,i,n);"undefined"!==this.constraintsByName[r.name]&&this.removeConstraint(r.name),this.constraints.push(r),this.constraintsByName[r.name]=r}return this},removeConstraint:function(t){for(var e=0;e<this.constraints.length;e++)if(t===this.constraints[e].name){this.constraints.splice(e,1);break}return delete this.constraintsByName[t],this},updateConstraint:function(t,e,i){return this.removeConstraint(t).addConstraint(t,e,i)},_bindConstraints:function(){for(var t=[],e={},i=0;i<this.constraints.length;i++)!1===this.constraints[i].isDomConstraint&&(t.push(this.constraints[i]),e[this.constraints[i].name]=this.constraints[i]);for(var n in this.constraints=t,this.constraintsByName=e,this.options)this.addConstraint(n,this.options[n],void 0,!0);return this._bindHtml5Constraints()},_bindHtml5Constraints:function(){(this.$element.hasClass("required")||this.$element.attr("required"))&&this.addConstraint("required",!0,void 0,!0),"string"==typeof this.$element.attr("pattern")&&this.addConstraint("pattern",this.$element.attr("pattern"),void 0,!0),void 0!==this.$element.attr("min")&&void 0!==this.$element.attr("max")?this.addConstraint("range",[this.$element.attr("min"),this.$element.attr("max")],void 0,!0):void 0!==this.$element.attr("min")?this.addConstraint("min",this.$element.attr("min"),void 0,!0):void 0!==this.$element.attr("max")&&this.addConstraint("max",this.$element.attr("max"),void 0,!0),void 0!==this.$element.attr("minlength")&&void 0!==this.$element.attr("maxlength")?this.addConstraint("length",[this.$element.attr("minlength"),this.$element.attr("maxlength")],void 0,!0):void 0!==this.$element.attr("minlength")?this.addConstraint("minlength",this.$element.attr("minlength"),void 0,!0):void 0!==this.$element.attr("maxlength")&&this.addConstraint("maxlength",this.$element.attr("maxlength"),void 0,!0);var t=this.$element.attr("type");return void 0===t?this:"number"===t?void 0===this.$element.attr("step")||0==parseFloat(this.$element.attr("step"))%1?this.addConstraint("type","integer",void 0,!0):this.addConstraint("type","number",void 0,!0):/^(email|url|range)$/i.test(t)?this.addConstraint("type",t,void 0,!0):this},_isRequired:function(){return void 0!==this.constraintsByName.required&&!1!==this.constraintsByName.required.requirements},_trigger:function(t){return this.trigger("field:"+t)},_handleWhitespace:function(t){return!0===this.options.trimValue&&s.warnOnce('data-parsley-trim-value="true" is deprecated, please use data-parsley-whitespace="trim"'),"squish"===this.options.whitespace&&(t=t.replace(/\s{2,}/g," ")),("trim"===this.options.whitespace||"squish"===this.options.whitespace||!0===this.options.trimValue)&&(t=s.trimString(t)),t},_getGroupedConstraints:function(){if(!1===this.options.priorityEnabled)return[this.constraints];for(var t=[],e={},i=0;i<this.constraints.length;i++){var n=this.constraints[i].priority;e[n]||t.push(e[n]=[]),e[n].push(this.constraints[i])}return t.sort((function(t,e){return e[0].priority-t[0].priority})),t}};var $=w,C=function(){this.__class__="ParsleyFieldMultiple"};C.prototype={addElement:function(t){return this.$elements.push(t),this},refreshConstraints:function(){var e;if(this.constraints=[],this.$element.is("select"))return this.actualizeOptions()._bindConstraints(),this;for(var i=0;i<this.$elements.length;i++)if(t("html").has(this.$elements[i]).length){e=this.$elements[i].data("ParsleyFieldMultiple").refreshConstraints().constraints;for(var n=0;n<e.length;n++)this.addConstraint(e[n].name,e[n].requirements,e[n].priority,e[n].isDomConstraint)}else this.$elements.splice(i,1);return this},getValue:function(){if(void 0!==this.options.value)return this.options.value;if(this.$element.is("input[type=radio]"))return this._findRelatedMultiple().filter(":checked").val()||"";if(this.$element.is("input[type=checkbox]")){var e=[];return this._findRelatedMultiple().filter(":checked").each((function(){e.push(t(this).val())})),e}return this.$element.is("select")&&null===this.$element.val()?[]:this.$element.val()},_init:function(){return this.$elements=[this.$element],this}};var k=function(e,i,n){this.$element=t(e);var r=this.$element.data("Parsley");if(r)return void 0!==n&&r.parent===window.Parsley&&(r.parent=n,r._resetOptions(r.options)),r;if(!this.$element.length)throw new Error("You must bind Parsley on an existing element.");if(void 0!==n&&"ParsleyForm"!==n.__class__)throw new Error("Parent instance must be a ParsleyForm instance");return this.parent=n||window.Parsley,this.init(i)};k.prototype={init:function(t){return this.__class__="Parsley",this.__version__="@@version",this.__id__=s.generateID(),this._resetOptions(t),this.$element.is("form")||s.checkAttr(this.$element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs)?this.bind("parsleyForm"):this.isMultiple()?this.handleMultiple():this.bind("parsleyField")},isMultiple:function(){return this.$element.is("input[type=radio], input[type=checkbox]")||this.$element.is("select")&&void 0!==this.$element.attr("multiple")},handleMultiple:function(){var e,i,n=this;if(this.options.multiple||(void 0!==this.$element.attr("name")&&this.$element.attr("name").length?this.options.multiple=e=this.$element.attr("name"):void 0!==this.$element.attr("id")&&this.$element.attr("id").length&&(this.options.multiple=this.$element.attr("id"))),this.$element.is("select")&&void 0!==this.$element.attr("multiple"))return this.options.multiple=this.options.multiple||this.__id__,this.bind("parsleyFieldMultiple");if(!this.options.multiple)return s.warn("To be bound by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element),this;this.options.multiple=this.options.multiple.replace(/(:|\.|\[|\]|\{|\}|\$)/g,""),void 0!==e&&t('input[name="'+e+'"]').each((function(){t(this).is("input[type=radio], input[type=checkbox]")&&t(this).attr(n.options.namespace+"multiple",n.options.multiple)}));for(var r=this._findRelatedMultiple(),o=0;o<r.length;o++)if(void 0!==(i=t(r.get(o)).data("Parsley"))){this.$element.data("ParsleyFieldMultiple")||i.addElement(this.$element);break}return this.bind("parsleyField",!0),i||this.bind("parsleyFieldMultiple")},bind:function(e,i){var n;switch(e){case"parsleyForm":n=t.extend(new v(this.$element,this.domOptions,this.options),window.ParsleyExtend)._bindFields();break;case"parsleyField":n=t.extend(new $(this.$element,this.domOptions,this.options,this.parent),window.ParsleyExtend);break;case"parsleyFieldMultiple":n=t.extend(new $(this.$element,this.domOptions,this.options,this.parent),new C,window.ParsleyExtend)._init();break;default:throw new Error(e+"is not a supported Parsley type")}return this.options.multiple&&s.setAttr(this.$element,this.options.namespace,"multiple",this.options.multiple),void 0!==i?(this.$element.data("ParsleyFieldMultiple",n),n):(this.$element.data("Parsley",n),n._trigger("init"),n)}};var S=t.fn.jquery.split(".")
;if(parseInt(S[0])<=1&&parseInt(S[1])<8)throw"The loaded version of jQuery is too old. Please upgrade to 1.8.x or better.";S.forEach||s.warn("Parsley requires ES5 to run properly. Please include https://github.com/es-shims/es5-shim");var j=t.extend(new l,{$element:t(document),actualizeOptions:null,_resetOptions:null,Factory:k,version:"@@version"});t.extend($.prototype,l.prototype),t.extend(v.prototype,l.prototype),t.extend(k.prototype,l.prototype),t.fn.parsley=t.fn.psly=function(e){if(this.length>1){var i=[];return this.each((function(){i.push(t(this).parsley(e))})),i}return t(this).length?new k(this,e):void s.warn("You must bind Parsley on an existing element.")},void 0===window.ParsleyExtend&&(window.ParsleyExtend={}),j.options=t.extend(s.objectCreate(a),window.ParsleyConfig),window.ParsleyConfig=j.options,window.Parsley=window.psly=j,window.ParsleyUtils=s;var T=window.Parsley._validatorRegistry=new f(window.ParsleyConfig.validators,window.ParsleyConfig.i18n);window.ParsleyValidator={},t.each("setLocale addCatalog addMessage addMessages getErrorMessage formatMessage addValidator updateValidator removeValidator".split(" "),(function(e,i){window.Parsley[i]=t.proxy(T,i),window.ParsleyValidator[i]=function(){return s.warnOnce("Accessing the method '"+i+"' through ParsleyValidator is deprecated. Simply call 'window.Parsley."+i+"(...)'"),window.Parsley[i].apply(window.Parsley,arguments)}})),window.ParsleyUI="function"==typeof window.ParsleyConfig.ParsleyUI?(new window.ParsleyConfig.ParsleyUI).listen():(new m).listen(),!1!==window.ParsleyConfig.autoBind&&t((function(){t("[data-parsley-validate]").length&&t("[data-parsley-validate]").parsley()}));var A=t({}),D=function(){s.warnOnce("Parsley's pubsub module is deprecated; use the 'on' and 'off' methods on parsley instances or window.Parsley")},I="parsley:";return t.listen=function(t,n){var r;if(D(),"object"==typeof arguments[1]&&"function"==typeof arguments[2]&&(r=arguments[1],n=arguments[2]),"function"!=typeof n)throw new Error("Wrong parameters");window.Parsley.on(i(t),e(n,r))},t.listenTo=function(t,n,r){if(D(),!(t instanceof $||t instanceof v))throw new Error("Must give Parsley instance");if("string"!=typeof n||"function"!=typeof r)throw new Error("Wrong parameters");t.on(i(n),e(r))},t.unsubscribe=function(t,e){if(D(),"string"!=typeof t||"function"!=typeof e)throw new Error("Wrong arguments");window.Parsley.off(i(t),e.parsleyAdaptedCallback)},t.unsubscribeTo=function(t,e){if(D(),!(t instanceof $||t instanceof v))throw new Error("Must give Parsley instance");t.off(i(e))},t.unsubscribeAll=function(e){D(),window.Parsley.off(i(e)),t("form,input,textarea,select").each((function(){var n=t(this).data("Parsley");n&&n.off(i(e))}))},t.emit=function(t,e){D();var n=e instanceof $||e instanceof v,r=Array.prototype.slice.call(arguments,n?2:1);r.unshift(i(t)),n||(e=window.Parsley),e.trigger.apply(e,r)},t.extend(!0,j,{asyncValidators:{default:{fn:function(t){return t.status>=200&&t.status<300},url:!1},reverse:{fn:function(t){return t.status<200||t.status>=300},url:!1}},addAsyncValidator:function(t,e,i,n){return j.asyncValidators[t]={fn:e,url:i||!1,options:n||{}},this},eventValidate:function(t){new RegExp("key").test(t.type)&&!this._ui.validationInformationVisible&&this.getValue().length<=this.options.validationThreshold||(this._ui.validatedOnce=!0,this.whenValidate())}}),j.addValidator("remote",{requirementType:{"":"string",validator:"string",reverse:"boolean",options:"object"},validateString:function(e,i,n,r){var o,s,a={},l=n.validator||(!0===n.reverse?"reverse":"default");if(void 0===j.asyncValidators[l])throw new Error("Calling an undefined async validator: `"+l+"`");(i=j.asyncValidators[l].url||i).indexOf("{value}")>-1?i=i.replace("{value}",encodeURIComponent(e)):a[r.$element.attr("name")||r.$element.attr("id")]=e;var c=t.extend(!0,n.options||{},j.asyncValidators[l].options);o=t.extend(!0,{},{url:i,data:a,type:"GET"},c),r.trigger("field:ajaxoptions",r,o),s=t.param(o),void 0===j._remoteCache&&(j._remoteCache={});var u=j._remoteCache[s]=j._remoteCache[s]||t.ajax(o),d=function(){var e=j.asyncValidators[l].fn.call(r,u,i,n);return e||(e=t.Deferred().reject()),t.when(e)};return u.then(d,d)},priority:-1}),j.on("form:submit",(function(){j._remoteCache={}})),window.ParsleyExtend.addAsyncValidator=function(){return ParsleyUtils.warnOnce("Accessing the method `addAsyncValidator` through an instance is deprecated. Simply call `Parsley.addAsyncValidator(...)`"),j.apply(j.addAsyncValidator,arguments)},j.addMessages("en",{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or fewer.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or fewer.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."}),j.setLocale("en"),j})),window.Parsley.addValidator("float",{requirementType:"regexp",validateString:function(t){return/^[+-]?(?:(?:\d+|\d{1,3}(?:,\d{3})+)+(?:\.\d+)?|(?:\.\d+)+)$/.test(t)}}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],(function(t){return e(t)})):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,(function(t){function e(t){this.$container,this.constraints=null,this.__$tooltip,this.__init(t)}function i(e,i){var n=!0;return t.each(e,(function(t){return void 0===i[t]||e[t]!==i[t]?(n=!1,!1):void 0})),n}function n(e){var i=e.attr("id"),n=i?a.window.document.getElementById(i):null;return n?n===e[0]:t.contains(a.window.document.body,e[0])}function r(){if(!s)return!1;var t=(s.document.body||s.document.documentElement).style,e="transition",i=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof t[e])return!0;e=e.charAt(0).toUpperCase()+e.substr(1);for(var n=0;n<i.length;n++)if("string"==typeof t[i[n]+e])return!0;return!1}var o={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:null,plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},s="undefined"!=typeof window?window:null,a={hasTouchCapability:!(!s||!("ontouchstart"in s||s.DocumentTouch&&s.document instanceof s.DocumentTouch||s.navigator.maxTouchPoints)),hasTransitions:r(),IE:!1,semVer:"4.2.8",window:s},l=function(){this.__$emitterPrivate=t({}),this.__$emitterPublic=t({}),this.__instancesLatestArr=[],this.__plugins={},this._env=a};l.prototype={__bridge:function(e,i,n){if(!i[n]){var r=function(){};r.prototype=e;var s=new r;s.__init&&s.__init(i),t.each(e,(function(t){0!=t.indexOf("__")&&(i[t]?o.debug&&console.log("The "+t+" method of the "+n+" plugin conflicts with another plugin or native methods"):(i[t]=function(){return s[t].apply(s,Array.prototype.slice.apply(arguments))},i[t].bridged=s))})),i[n]=s}return this},__setWindow:function(t){return a.window=t,this},_getRuler:function(t){return new e(t)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(e){var i=this;if("string"==typeof e){var n=e,r=null;return n.indexOf(".")>0?r=i.__plugins[n]:t.each(i.__plugins,(function(t,e){return e.name.substring(e.name.length-n.length-1)=="."+n?(r=e,!1):void 0})),r}if(e.name.indexOf(".")<0)throw new Error("Plugins must be namespaced");return i.__plugins[e.name]=e,e.core&&i.__bridge(e.core,i,e.name),this},_trigger:function(){var t=Array.prototype.slice.apply(arguments);return"string"==typeof t[0]&&(t[0]={type:t[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,t),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,t),this},instances:function(e){var i=[];return t(e||".tooltipstered").each((function(){var e=t(this),n=e.data("tooltipster-ns");n&&t.each(n,(function(t,n){i.push(e.data(n))}))})),i},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(e){return t((e?e+" ":"")+".tooltipstered").toArray()},setDefaults:function(e){return t.extend(o,e),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},t.tooltipster=new l,t.Tooltipster=function(e,i){this.__callbacks={close:[],open:[]},this.__closingTime,this.__Content,this.__contentBcr,this.__destroyed=!1,this.__$emitterPrivate=t({}),this.__$emitterPublic=t({}),this.__enabled=!0,this.__garbageCollector,this.__Geometry,this.__lastPosition,this.__namespace="tooltipster-"+Math.round(1e6*Math.random()),this.__options,this.__$originParents,this.__pointerIsOverOrigin=!1,this.__previousThemes=[],this.__state="closed",this.__timeouts={close:[],open:null},this.__touchEvents=[],this.__tracker=null,this._$origin,this._$tooltip,this.__init(e,i)},t.Tooltipster.prototype={__init:function(e,i){var n=this;if(n._$origin=t(e),n.__options=t.extend(!0,{},o,i),n.__optionsFormat(),!a.IE||a.IE>=n.__options.IEmin){var r=null;if(void 0===n._$origin.data("tooltipster-initialTitle")&&(void 0===(r=n._$origin.attr("title"))&&(r=null),n._$origin.data("tooltipster-initialTitle",r)),null!==n.__options.content)n.__contentSet(n.__options.content);else{var s,l=n._$origin.attr("data-tooltip-content");l&&(s=t(l)),s&&s[0]?n.__contentSet(s.first()):n.__contentSet(r)}n._$origin.removeAttr("title").addClass("tooltipstered"),n.__prepareOrigin(),n.__prepareGC(),t.each(n.__options.plugins,(function(t,e){n._plug(e)})),a.hasTouchCapability&&t(a.window.document.body).on("touchmove."+n.__namespace+"-triggerOpen",(function(t){n._touchRecordEvent(t)})),n._on("created",(function(){n.__prepareTooltip()}))._on("repositioned",(function(t){n.__lastPosition=t.position}))}else n.__options.disabled=!0},__contentInsert:function(){var t=this,e=t._$tooltip.find(".tooltipster-content"),i=t.__Content,n=function(t){i=t};return t._trigger({type:"format",content:t.__Content,format:n}),t.__options.functionFormat&&(i=t.__options.functionFormat.call(t,t,{origin:t._$origin[0]},t.__Content)),"string"!=typeof i||t.__options.contentAsHTML?e.empty().append(i):e.text(i),t},__contentSet:function(e){return e instanceof t&&this.__options.contentCloning&&(e=e.clone(!0)),this.__Content=e,this._trigger({type:"updated",content:e}),this},__destroyError:function(){throw new Error("This tooltip has been destroyed and cannot execute your method call.")},__geometry:function(){var e=this,i=e._$origin,n=e._$origin.is("area");if(n){var r=e._$origin.parent().attr("name");i=t('img[usemap="#'+r+'"]')}var o=i[0].getBoundingClientRect(),s=t(a.window.document),l=t(a.window),c=i,u={available:{document:null,window:null},document:{size:{height:s.height(),width:s.width()}},window:{scroll:{left:a.window.scrollX||a.window.document.documentElement.scrollLeft,top:a.window.scrollY||a.window.document.documentElement.scrollTop},size:{height:l.height(),width:l.width()}},origin:{fixedLineage:!1,offset:{},size:{height:o.bottom-o.top,width:o.right-o.left},usemapImage:n?i[0]:null,windowOffset:{bottom:o.bottom,left:o.left,right:o.right,top:o.top}}};if(n){var d=e._$origin.attr("shape"),h=e._$origin.attr("coords");if(h&&(h=h.split(","),t.map(h,(function(t,e){h[e]=parseInt(t)}))),"default"!=d)switch(d){case"circle":var p=h[0],f=h[1],g=h[2],m=f-g,v=p-g;u.origin.size.height=2*g,u.origin.size.width=u.origin.size.height,u.origin.windowOffset.left+=v,u.origin.windowOffset.top+=m;break;case"rect":var y=h[0],b=h[1],_=h[2],w=h[3];u.origin.size.height=w-b,u.origin.size.width=_-y,u.origin.windowOffset.left+=y,u.origin.windowOffset.top+=b;break;case"poly":for(var x=0,$=0,C=0,k=0,S="even",j=0;j<h.length;j++){var T=h[j];"even"==S?(T>C&&(C=T,0===j&&(x=C)),x>T&&(x=T),S="odd"):(T>k&&(k=T,1==j&&($=k)),$>T&&($=T),S="even")}u.origin.size.height=k-$,u.origin.size.width=C-x,u.origin.windowOffset.left+=x,u.origin.windowOffset.top+=$}}var A=function(t){u.origin.size.height=t.height,u.origin.windowOffset.left=t.left,u.origin.windowOffset.top=t.top,u.origin.size.width=t.width};for(e._trigger({type:"geometry",edit:A,geometry:{height:u.origin.size.height,left:u.origin.windowOffset.left,top:u.origin.windowOffset.top,width:u.origin.size.width}}),u.origin.windowOffset.right=u.origin.windowOffset.left+u.origin.size.width,u.origin.windowOffset.bottom=u.origin.windowOffset.top+u.origin.size.height,u.origin.offset.left=u.origin.windowOffset.left+u.window.scroll.left,u.origin.offset.top=u.origin.windowOffset.top+u.window.scroll.top,u.origin.offset.bottom=u.origin.offset.top+u.origin.size.height,u.origin.offset.right=u.origin.offset.left+u.origin.size.width,u.available.document={bottom:{height:u.document.size.height-u.origin.offset.bottom,width:u.document.size.width},left:{height:u.document.size.height,width:u.origin.offset.left},right:{height:u.document.size.height,width:u.document.size.width-u.origin.offset.right},top:{height:u.origin.offset.top,width:u.document.size.width}},u.available.window={bottom:{height:Math.max(u.window.size.height-Math.max(u.origin.windowOffset.bottom,0),0),width:u.window.size.width},left:{height:u.window.size.height,width:Math.max(u.origin.windowOffset.left,0)},right:{height:u.window.size.height,width:Math.max(u.window.size.width-Math.max(u.origin.windowOffset.right,0),0)},top:{height:Math.max(u.origin.windowOffset.top,0),width:u.window.size.width}};"html"!=c[0].tagName.toLowerCase();){if("fixed"==c.css("position")){u.origin.fixedLineage=!0;break}c=c.parent()}return u},__optionsFormat:function(){return"number"==typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),null===this.__options.parent?this.__options.parent=t(a.window.document.body):"string"==typeof this.__options.parent&&(this.__options.parent=t(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var e=this;return e.__options.selfDestruction?e.__garbageCollector=setInterval((function(){var i=(new Date).getTime();e.__touchEvents=t.grep(e.__touchEvents,(function(t){return i-t.time>6e4})),n(e._$origin)||e.close((function(){e.destroy()}))}),2e4):clearInterval(e.__garbageCollector),e},__prepareOrigin:function(){var t=this;if(t._$origin.off("."+t.__namespace+"-triggerOpen"),a.hasTouchCapability&&t._$origin.on("touchstart."+t.__namespace+"-triggerOpen touchend."+t.__namespace+"-triggerOpen touchcancel."+t.__namespace+"-triggerOpen",(function(e){t._touchRecordEvent(e)})),t.__options.triggerOpen.click||t.__options.triggerOpen.tap&&a.hasTouchCapability){var e="";t.__options.triggerOpen.click&&(e+="click."+t.__namespace+"-triggerOpen "),t.__options.triggerOpen.tap&&a.hasTouchCapability&&(e+="touchend."+t.__namespace+"-triggerOpen"),t._$origin.on(e,(function(e){t._touchIsMeaningfulEvent(e)&&t._open(e)}))}if(t.__options.triggerOpen.mouseenter||t.__options.triggerOpen.touchstart&&a.hasTouchCapability){e="";t.__options.triggerOpen.mouseenter&&(e+="mouseenter."+t.__namespace+"-triggerOpen "),t.__options.triggerOpen.touchstart&&a.hasTouchCapability&&(e+="touchstart."+t.__namespace+"-triggerOpen"),t._$origin.on(e,(function(e){!t._touchIsTouchEvent(e)&&t._touchIsEmulatedEvent(e)||(t.__pointerIsOverOrigin=!0,t._openShortly(e))}))}if(t.__options.triggerClose.mouseleave||t.__options.triggerClose.touchleave&&a.hasTouchCapability){e="";t.__options.triggerClose.mouseleave&&(e+="mouseleave."+t.__namespace+"-triggerOpen "),t.__options.triggerClose.touchleave&&a.hasTouchCapability&&(e+="touchend."+t.__namespace+"-triggerOpen touchcancel."+t.__namespace+"-triggerOpen"),t._$origin.on(e,(function(e){t._touchIsMeaningfulEvent(e)&&(t.__pointerIsOverOrigin=!1)}))}return t},__prepareTooltip:function(){var e=this,i=e.__options.interactive?"auto":"";return e._$tooltip.attr("id",e.__namespace).css({"pointer-events":i,zIndex:e.__options.zIndex}),t.each(e.__previousThemes,(function(t,i){e._$tooltip.removeClass(i)})),t.each(e.__options.theme,(function(t,i){e._$tooltip.addClass(i)})),e.__previousThemes=t.merge([],e.__options.theme),e},__scrollHandler:function(e){var i=this;if(i.__options.triggerClose.scroll)i._close(e);else if(n(i._$origin)&&n(i._$tooltip)){var r=null;if(e.target===a.window.document)i.__Geometry.origin.fixedLineage||i.__options.repositionOnScroll&&i.reposition(e);else{r=i.__geometry();var o=!1;if("fixed"!=i._$origin.css("position")&&i.__$originParents.each((function(e,i){var n=t(i),s=n.css("overflow-x"),a=n.css("overflow-y");if("visible"!=s||"visible"!=a){var l=i.getBoundingClientRect();if("visible"!=s&&(r.origin.windowOffset.left<l.left||r.origin.windowOffset.right>l.right))return o=!0,!1;if("visible"!=a&&(r.origin.windowOffset.top<l.top||r.origin.windowOffset.bottom>l.bottom))return o=!0,!1}return"fixed"!=n.css("position")&&void 0})),o)i._$tooltip.css("visibility","hidden");else if(i._$tooltip.css("visibility","visible"),i.__options.repositionOnScroll)i.reposition(e);else{var s=r.origin.offset.left-i.__Geometry.origin.offset.left,l=r.origin.offset.top-i.__Geometry.origin.offset.top;i._$tooltip.css({left:i.__lastPosition.coord.left+s,top:i.__lastPosition.coord.top+l})}}i._trigger({type:"scroll",event:e,geo:r})}return i},__stateSet:function(t){return this.__state=t,this._trigger({type:"state",state:t}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,t.each(this.__timeouts.close,(function(t,e){clearTimeout(e)})),this.__timeouts.close=[],this},__trackerStart:function(){var t=this,e=t._$tooltip.find(".tooltipster-content");return t.__options.trackTooltip&&(t.__contentBcr=e[0].getBoundingClientRect()),t.__tracker=setInterval((function(){if(n(t._$origin)&&n(t._$tooltip)){if(t.__options.trackOrigin){var r=t.__geometry(),o=!1;i(r.origin.size,t.__Geometry.origin.size)&&(t.__Geometry.origin.fixedLineage?i(r.origin.windowOffset,t.__Geometry.origin.windowOffset)&&(o=!0):i(r.origin.offset,t.__Geometry.origin.offset)&&(o=!0)),o||(t.__options.triggerClose.mouseleave?t._close():t.reposition())}if(t.__options.trackTooltip){var s=e[0].getBoundingClientRect();s.height===t.__contentBcr.height&&s.width===t.__contentBcr.width||(t.reposition(),t.__contentBcr=s)}}else t._close()}),t.__options.trackerInterval),t},_close:function(e,i,n){var r=this,o=!0;if(r._trigger({type:"close",event:e,stop:function(){o=!1}}),o||n){i&&r.__callbacks.close.push(i),r.__callbacks.open=[],r.__timeoutsClear();var s=function(){t.each(r.__callbacks.close,(function(t,i){i.call(r,r,{event:e,origin:r._$origin[0]})})),r.__callbacks.close=[]};if("closed"!=r.__state){var l=!0,c=(new Date).getTime()+r.__options.animationDuration[1];if("disappearing"==r.__state&&c>r.__closingTime&&r.__options.animationDuration[1]>0&&(l=!1),l){r.__closingTime=c,"disappearing"!=r.__state&&r.__stateSet("disappearing");var u=function(){clearInterval(r.__tracker),r._trigger({type:"closing",event:e}),r._$tooltip.off("."+r.__namespace+"-triggerClose").removeClass("tooltipster-dying"),t(a.window).off("."+r.__namespace+"-triggerClose"),r.__$originParents.each((function(e,i){t(i).off("scroll."+r.__namespace+"-triggerClose")})),r.__$originParents=null,t(a.window.document.body).off("."+r.__namespace+"-triggerClose"),r._$origin.off("."+r.__namespace+"-triggerClose"),r._off("dismissable"),r.__stateSet("closed"),r._trigger({type:"after",event:e}),r.__options.functionAfter&&r.__options.functionAfter.call(r,r,{event:e,origin:r._$origin[0]}),s()};a.hasTransitions?(r._$tooltip.css({"-moz-animation-duration":r.__options.animationDuration[1]+"ms","-ms-animation-duration":r.__options.animationDuration[1]+"ms","-o-animation-duration":r.__options.animationDuration[1]+"ms","-webkit-animation-duration":r.__options.animationDuration[1]+"ms","animation-duration":r.__options.animationDuration[1]+"ms","transition-duration":r.__options.animationDuration[1]+"ms"}),r._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),r.__options.animationDuration[1]>0&&r._$tooltip.delay(r.__options.animationDuration[1]),r._$tooltip.queue(u)):r._$tooltip.stop().fadeOut(r.__options.animationDuration[1],u)}}else s()}return r},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(e,i){var r=this;if(!r.__destroying&&n(r._$origin)&&r.__enabled){var o=!0;if("closed"==r.__state&&(r._trigger({type:"before",event:e,stop:function(){o=!1}}),o&&r.__options.functionBefore&&(o=r.__options.functionBefore.call(r,r,{event:e,origin:r._$origin[0]}))),!1!==o&&null!==r.__Content){i&&r.__callbacks.open.push(i),r.__callbacks.close=[],r.__timeoutsClear();var s,l=function(){"stable"!=r.__state&&r.__stateSet("stable"),t.each(r.__callbacks.open,(function(t,e){e.call(r,r,{origin:r._$origin[0],tooltip:r._$tooltip[0]})})),r.__callbacks.open=[]};if("closed"!==r.__state)s=0,"disappearing"===r.__state?(r.__stateSet("appearing"),a.hasTransitions?(r._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),r.__options.animationDuration[0]>0&&r._$tooltip.delay(r.__options.animationDuration[0]),r._$tooltip.queue(l)):r._$tooltip.stop().fadeIn(l)):"stable"==r.__state&&l();else{if(r.__stateSet("appearing"),s=r.__options.animationDuration[0],r.__contentInsert(),r.reposition(e,!0),a.hasTransitions?(r._$tooltip.addClass("tooltipster-"+r.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":r.__options.animationDuration[0]+"ms","-ms-animation-duration":r.__options.animationDuration[0]+"ms","-o-animation-duration":r.__options.animationDuration[0]+"ms","-webkit-animation-duration":r.__options.animationDuration[0]+"ms","animation-duration":r.__options.animationDuration[0]+"ms","transition-duration":r.__options.animationDuration[0]+"ms"}),setTimeout((function(){"closed"!=r.__state&&(r._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),r.__options.animationDuration[0]>0&&r._$tooltip.delay(r.__options.animationDuration[0]),r._$tooltip.queue(l))}),0)):r._$tooltip.css("display","none").fadeIn(r.__options.animationDuration[0],l),r.__trackerStart(),t(a.window).on("resize."+r.__namespace+"-triggerClose",(function(e){var i=t(document.activeElement);(i.is("input")||i.is("textarea"))&&t.contains(r._$tooltip[0],i[0])||r.reposition(e)})).on("scroll."+r.__namespace+"-triggerClose",(function(t){r.__scrollHandler(t)})),r.__$originParents=r._$origin.parents(),r.__$originParents.each((function(e,i){t(i).on("scroll."+r.__namespace+"-triggerClose",(function(t){r.__scrollHandler(t)}))})),r.__options.triggerClose.mouseleave||r.__options.triggerClose.touchleave&&a.hasTouchCapability){r._on("dismissable",(function(t){t.dismissable?t.delay?(h=setTimeout((function(){r._close(t.event)}),t.delay),r.__timeouts.close.push(h)):r._close(t):clearTimeout(h)}));var c=r._$origin,u="",d="",h=null;r.__options.interactive&&(c=c.add(r._$tooltip)),r.__options.triggerClose.mouseleave&&(u+="mouseenter."+r.__namespace+"-triggerClose ",d+="mouseleave."+r.__namespace+"-triggerClose "),r.__options.triggerClose.touchleave&&a.hasTouchCapability&&(u+="touchstart."+r.__namespace+"-triggerClose",d+="touchend."+r.__namespace+"-triggerClose touchcancel."+r.__namespace+"-triggerClose"),c.on(d,(function(t){if(r._touchIsTouchEvent(t)||!r._touchIsEmulatedEvent(t)){var e="mouseleave"==t.type?r.__options.delay:r.__options.delayTouch;r._trigger({delay:e[1],dismissable:!0,event:t,type:"dismissable"})}})).on(u,(function(t){!r._touchIsTouchEvent(t)&&r._touchIsEmulatedEvent(t)||r._trigger({dismissable:!1,event:t,type:"dismissable"})}))}r.__options.triggerClose.originClick&&r._$origin.on("click."+r.__namespace+"-triggerClose",(function(t){r._touchIsTouchEvent(t)||r._touchIsEmulatedEvent(t)||r._close(t)})),(r.__options.triggerClose.click||r.__options.triggerClose.tap&&a.hasTouchCapability)&&setTimeout((function(){if("closed"!=r.__state){var e="",i=t(a.window.document.body);r.__options.triggerClose.click&&(e+="click."+r.__namespace+"-triggerClose "),r.__options.triggerClose.tap&&a.hasTouchCapability&&(e+="touchend."+r.__namespace+"-triggerClose"),i.on(e,(function(e){r._touchIsMeaningfulEvent(e)&&(r._touchRecordEvent(e),r.__options.interactive&&t.contains(r._$tooltip[0],e.target)||r._close(e))})),r.__options.triggerClose.tap&&a.hasTouchCapability&&i.on("touchstart."+r.__namespace+"-triggerClose",(function(t){r._touchRecordEvent(t)}))}}),0),r._trigger("ready"),r.__options.functionReady&&r.__options.functionReady.call(r,r,{origin:r._$origin[0],tooltip:r._$tooltip[0]})}if(r.__options.timer>0){h=setTimeout((function(){r._close()}),r.__options.timer+s);r.__timeouts.close.push(h)}}}return r},_openShortly:function(t){var e=this,i=!0;if("stable"!=e.__state&&"appearing"!=e.__state&&!e.__timeouts.open&&(e._trigger({type:"start",event:t,stop:function(){i=!1}}),i)){var n=0==t.type.indexOf("touch")?e.__options.delayTouch:e.__options.delay;n[0]?e.__timeouts.open=setTimeout((function(){e.__timeouts.open=null,e.__pointerIsOverOrigin&&e._touchIsMeaningfulEvent(t)?(e._trigger("startend"),e._open(t)):e._trigger("startcancel")}),n[0]):(e._trigger("startend"),e._open(t))}return e},_optionsExtract:function(e,i){var n=this,r=t.extend(!0,{},i),o=n.__options[e];return o||(o={},t.each(i,(function(t){var e=n.__options[t];void 0!==e&&(o[t]=e)}))),t.each(r,(function(e,i){void 0!==o[e]&&("object"!=typeof i||i instanceof Array||null==i||"object"!=typeof o[e]||o[e]instanceof Array||null==o[e]?r[e]=o[e]:t.extend(r[e],o[e]))})),r},_plug:function(e){var i=t.tooltipster._plugin(e);if(!i)throw new Error('The "'+e+'" plugin is not defined');return i.instance&&t.tooltipster.__bridge(i.instance,this,i.name),this},_touchIsEmulatedEvent:function(t){for(var e=!1,i=(new Date).getTime(),n=this.__touchEvents.length-1;n>=0;n--){var r=this.__touchEvents[n];if(!(i-r.time<500))break;r.target===t.target&&(e=!0)}return e},_touchIsMeaningfulEvent:function(t){return this._touchIsTouchEvent(t)&&!this._touchSwiped(t.target)||!this._touchIsTouchEvent(t)&&!this._touchIsEmulatedEvent(t)},_touchIsTouchEvent:function(t){return 0==t.type.indexOf("touch")},_touchRecordEvent:function(t){return this._touchIsTouchEvent(t)&&(t.time=(new Date).getTime(),this.__touchEvents.push(t)),this},_touchSwiped:function(t){for(var e=!1,i=this.__touchEvents.length-1;i>=0;i--){var n=this.__touchEvents[i];if("touchmove"==n.type){e=!0;break}if("touchstart"==n.type&&t===n.target)break}return e},_trigger:function(){var e=Array.prototype.slice.apply(arguments);return"string"==typeof e[0]&&(e[0]={type:e[0]}),e[0].instance=this,e[0].origin=this._$origin?this._$origin[0]:null,e[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,e),t.tooltipster._trigger.apply(t.tooltipster,e),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,e),this},_unplug:function(e){var i=this;if(i[e]){var n=t.tooltipster._plugin(e);n.instance&&t.each(n.instance,(function(t){i[t]&&i[t].bridged===i[e]&&delete i[t]})),i[e].__destroy&&i[e].__destroy(),delete i[e]}return i},close:function(t){return this.__destroyed?this.__destroyError():this._close(null,t),this},content:function(t){var e=this;if(void 0===t)return e.__Content;if(e.__destroyed)e.__destroyError();else if(e.__contentSet(t),null!==e.__Content){if("closed"!==e.__state&&(e.__contentInsert(),e.reposition(),e.__options.updateAnimation))if(a.hasTransitions){var i=e.__options.updateAnimation;e._$tooltip.addClass("tooltipster-update-"+i),setTimeout((function(){"closed"!=e.__state&&e._$tooltip.removeClass("tooltipster-update-"+i)}),1e3)}else e._$tooltip.fadeTo(200,.5,(function(){"closed"!=e.__state&&e._$tooltip.fadeTo(200,1)}))}else e._close();return e},destroy:function(){var e=this;if(e.__destroyed)e.__destroyError();else{"closed"!=e.__state?e.option("animationDuration",0)._close(null,null,!0):e.__timeoutsClear(),e._trigger("destroy"),e.__destroyed=!0,e._$origin.removeData(e.__namespace).off("."+e.__namespace+"-triggerOpen"),t(a.window.document.body).off("."+e.__namespace+"-triggerOpen");var i=e._$origin.data("tooltipster-ns");if(i)if(1===i.length){var n=null;"previous"==e.__options.restoration?n=e._$origin.data("tooltipster-initialTitle"):"current"==e.__options.restoration&&(n="string"==typeof e.__Content?e.__Content:t("<div></div>").append(e.__Content).html()),n&&e._$origin.attr("title",n),e._$origin.removeClass("tooltipstered"),e._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else i=t.grep(i,(function(t){return t!==e.__namespace})),e._$origin.data("tooltipster-ns",i);e._trigger("destroyed"),e._off(),e.off(),e.__Content=null,e.__$emitterPrivate=null,e.__$emitterPublic=null,e.__options.parent=null,e._$origin=null,e._$tooltip=null,t.tooltipster.__instancesLatestArr=t.grep(t.tooltipster.__instancesLatestArr,(function(t){return e!==t})),clearInterval(e.__garbageCollector)}return e},disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=!1,this)},elementOrigin:function(){return this.__destroyed?void this.__destroyError():this._$origin[0]},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(t){return this.close(t)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(t){return this.__destroyed?this.__destroyError():this._open(null,t),this},option:function(e,i){return void 0===i?this.__options[e]:(this.__destroyed?this.__destroyError():(this.__options[e]=i,this.__optionsFormat(),t.inArray(e,["trigger","triggerClose","triggerOpen"])>=0&&this.__prepareOrigin(),"selfDestruction"===e&&this.__prepareGC()),this)},reposition:function(t,e){var i=this;return i.__destroyed?i.__destroyError():"closed"!=i.__state&&n(i._$origin)&&(e||n(i._$tooltip))&&(e||i._$tooltip.detach(),i.__Geometry=i.__geometry(),i._trigger({type:"reposition",event:t,helper:{geo:i.__Geometry}})),i},show:function(t){return this.open(t)},status:function(){return{destroyed:this.__destroyed,
enabled:this.__enabled,open:"closed"!==this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},t.fn.tooltipster=function(){var e=Array.prototype.slice.apply(arguments),i="You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.";if(0===this.length)return this;if("string"==typeof e[0]){var n="#*$~&";return this.each((function(){var r=t(this).data("tooltipster-ns"),o=r?t(this).data(r[0]):null;if(!o)throw new Error("You called Tooltipster's \""+e[0]+'" method on an uninitialized element');if("function"!=typeof o[e[0]])throw new Error('Unknown method "'+e[0]+'"');this.length>1&&"content"==e[0]&&(e[1]instanceof t||"object"==typeof e[1]&&null!=e[1]&&e[1].tagName)&&!o.__options.contentCloning&&o.__options.debug&&console.log(i);var s=o[e[0]](e[1],e[2]);return s!==o||"instance"===e[0]?(n=s,!1):void 0})),"#*$~&"!==n?n:this}t.tooltipster.__instancesLatestArr=[];var r=e[0]&&void 0!==e[0].multiple,s=r&&e[0].multiple||!r&&o.multiple,a=e[0]&&void 0!==e[0].content,l=a&&e[0].content||!a&&o.content,c=e[0]&&void 0!==e[0].contentCloning,u=c&&e[0].contentCloning||!c&&o.contentCloning,d=e[0]&&void 0!==e[0].debug,h=d&&e[0].debug||!d&&o.debug;return this.length>1&&(l instanceof t||"object"==typeof l&&null!=l&&l.tagName)&&!u&&h&&console.log(i),this.each((function(){var i=!1,n=t(this),r=n.data("tooltipster-ns"),o=null;r?s?i=!0:h&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):i=!0,i&&(o=new t.Tooltipster(this,e[0]),r||(r=[]),r.push(o.__namespace),n.data("tooltipster-ns",r),n.data(o.__namespace,o),o.__options.functionInit&&o.__options.functionInit.call(o,o,{origin:this}),o._trigger("init")),t.tooltipster.__instancesLatestArr.push(o)})),this},e.prototype={__init:function(e){this.__$tooltip=e,this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto"),this.$container=t('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo(a.window.document.body)},__forceRedraw:function(){var t=this.__$tooltip.parent();this.__$tooltip.detach(),this.__$tooltip.appendTo(t)},constrain:function(t,e){return this.constraints={width:t,height:e},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:t}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""}),this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var t=this.__$tooltip[0].getBoundingClientRect(),e={size:{height:t.height||t.bottom-t.top,width:t.width||t.right-t.left}};if(this.constraints){var i=this.__$tooltip.find(".tooltipster-content"),n=this.__$tooltip.outerHeight(),r=i[0].getBoundingClientRect(),o={height:n<=this.constraints.height,width:t.width<=this.constraints.width&&r.width>=i[0].scrollWidth-1};e.fits=o.height&&o.width}return a.IE&&a.IE<=11&&e.size.width!==a.window.document.documentElement.clientWidth&&(e.size.width=Math.ceil(e.size.width)+1),e}};var c=navigator.userAgent.toLowerCase();-1!=c.indexOf("msie")?a.IE=parseInt(c.split("msie")[1]):-1!==c.toLowerCase().indexOf("trident")&&-1!==c.indexOf(" rv:11")?a.IE=11:-1!=c.toLowerCase().indexOf("edge/")&&(a.IE=parseInt(c.toLowerCase().split("edge/")[1]));var u="tooltipster.sideTip";return t.tooltipster._plugin({name:u,instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(t){var e=this;e.__instance=t,e.__namespace="tooltipster-sideTip-"+Math.round(1e6*Math.random()),e.__previousState="closed",e.__options,e.__optionsFormat(),e.__instance._on("state."+e.__namespace,(function(t){"closed"==t.state?e.__close():"appearing"==t.state&&"closed"==e.__previousState&&e.__create(),e.__previousState=t.state})),e.__instance._on("options."+e.__namespace,(function(){e.__optionsFormat()})),e.__instance._on("reposition."+e.__namespace,(function(t){e.__reposition(t.event,t.helper)}))},__close:function(){this.__instance.content()instanceof t&&this.__instance.content().detach(),this.__instance._$tooltip.remove(),this.__instance._$tooltip=null},__create:function(){var e=t('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');this.__options.arrow||e.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide(),this.__options.minWidth&&e.css("min-width",this.__options.minWidth+"px"),this.__options.maxWidth&&e.css("max-width",this.__options.maxWidth+"px"),this.__instance._$tooltip=e,this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){var e=this;if(e.__options=e.__instance._optionsExtract(u,e.__defaults()),e.__options.position&&(e.__options.side=e.__options.position),"object"!=typeof e.__options.distance&&(e.__options.distance=[e.__options.distance]),e.__options.distance.length<4&&(void 0===e.__options.distance[1]&&(e.__options.distance[1]=e.__options.distance[0]),void 0===e.__options.distance[2]&&(e.__options.distance[2]=e.__options.distance[0]),void 0===e.__options.distance[3]&&(e.__options.distance[3]=e.__options.distance[1])),e.__options.distance={top:e.__options.distance[0],right:e.__options.distance[1],bottom:e.__options.distance[2],left:e.__options.distance[3]},"string"==typeof e.__options.side){var i={top:"bottom",right:"left",bottom:"top",left:"right"};e.__options.side=[e.__options.side,i[e.__options.side]],"left"==e.__options.side[0]||"right"==e.__options.side[0]?e.__options.side.push("top","bottom"):e.__options.side.push("right","left")}6===t.tooltipster._env.IE&&!0!==e.__options.arrow&&(e.__options.arrow=!1)},__reposition:function(e,i){var n,r=this,o=r.__targetFind(i),s=[];r.__instance._$tooltip.detach();var a=r.__instance._$tooltip.clone(),l=t.tooltipster._getRuler(a),c=!1,u=r.__instance.option("animation");switch(u&&a.removeClass("tooltipster-"+u),t.each(["window","document"],(function(n,u){var d=null;if(r.__instance._trigger({container:u,helper:i,satisfied:c,takeTest:function(t){d=t},results:s,type:"positionTest"}),1==d||0!=d&&0==c&&("window"!=u||r.__options.viewportAware))for(n=0;n<r.__options.side.length;n++){var h={horizontal:0,vertical:0},p=r.__options.side[n];"top"==p||"bottom"==p?h.vertical=r.__options.distance[p]:h.horizontal=r.__options.distance[p],r.__sideChange(a,p),t.each(["natural","constrained"],(function(t,n){if(d=null,r.__instance._trigger({container:u,event:e,helper:i,mode:n,results:s,satisfied:c,side:p,takeTest:function(t){d=t},type:"positionTest"}),1==d||0!=d&&0==c){var a={container:u,distance:h,fits:null,mode:n,outerSize:null,side:p,size:null,target:o[p],whole:null},f=("natural"==n?l.free():l.constrain(i.geo.available[u][p].width-h.horizontal,i.geo.available[u][p].height-h.vertical)).measure();if(a.size=f.size,a.outerSize={height:f.size.height+h.vertical,width:f.size.width+h.horizontal},"natural"==n?i.geo.available[u][p].width>=a.outerSize.width&&i.geo.available[u][p].height>=a.outerSize.height?a.fits=!0:a.fits=!1:a.fits=f.fits,"window"==u&&(a.fits?a.whole="top"==p||"bottom"==p?i.geo.origin.windowOffset.right>=r.__options.minIntersection&&i.geo.window.size.width-i.geo.origin.windowOffset.left>=r.__options.minIntersection:i.geo.origin.windowOffset.bottom>=r.__options.minIntersection&&i.geo.window.size.height-i.geo.origin.windowOffset.top>=r.__options.minIntersection:a.whole=!1),s.push(a),a.whole)c=!0;else if("natural"==a.mode&&(a.fits||a.size.width<=i.geo.available[u][p].width))return!1}}))}})),r.__instance._trigger({edit:function(t){s=t},event:e,helper:i,results:s,type:"positionTested"}),s.sort((function(t,e){if(t.whole&&!e.whole)return-1;if(!t.whole&&e.whole)return 1;if(t.whole&&e.whole){var i=r.__options.side.indexOf(t.side);return(n=r.__options.side.indexOf(e.side))>i?-1:i>n?1:"natural"==t.mode?-1:1}if(t.fits&&!e.fits)return-1;if(!t.fits&&e.fits)return 1;if(t.fits&&e.fits){var n;i=r.__options.side.indexOf(t.side);return(n=r.__options.side.indexOf(e.side))>i?-1:i>n?1:"natural"==t.mode?-1:1}return"document"==t.container&&"bottom"==t.side&&"natural"==t.mode?-1:1})),(n=s[0]).coord={},n.side){case"left":case"right":n.coord.top=Math.floor(n.target-n.size.height/2);break;case"bottom":case"top":n.coord.left=Math.floor(n.target-n.size.width/2)}switch(n.side){case"left":n.coord.left=i.geo.origin.windowOffset.left-n.outerSize.width;break;case"right":n.coord.left=i.geo.origin.windowOffset.right+n.distance.horizontal;break;case"top":n.coord.top=i.geo.origin.windowOffset.top-n.outerSize.height;break;case"bottom":n.coord.top=i.geo.origin.windowOffset.bottom+n.distance.vertical}"window"==n.container?"top"==n.side||"bottom"==n.side?n.coord.left<0?i.geo.origin.windowOffset.right-this.__options.minIntersection>=0?n.coord.left=0:n.coord.left=i.geo.origin.windowOffset.right-this.__options.minIntersection-1:n.coord.left>i.geo.window.size.width-n.size.width&&(i.geo.origin.windowOffset.left+this.__options.minIntersection<=i.geo.window.size.width?n.coord.left=i.geo.window.size.width-n.size.width:n.coord.left=i.geo.origin.windowOffset.left+this.__options.minIntersection+1-n.size.width):n.coord.top<0?i.geo.origin.windowOffset.bottom-this.__options.minIntersection>=0?n.coord.top=0:n.coord.top=i.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:n.coord.top>i.geo.window.size.height-n.size.height&&(i.geo.origin.windowOffset.top+this.__options.minIntersection<=i.geo.window.size.height?n.coord.top=i.geo.window.size.height-n.size.height:n.coord.top=i.geo.origin.windowOffset.top+this.__options.minIntersection+1-n.size.height):(n.coord.left>i.geo.window.size.width-n.size.width&&(n.coord.left=i.geo.window.size.width-n.size.width),n.coord.left<0&&(n.coord.left=0)),r.__sideChange(a,n.side),i.tooltipClone=a[0],i.tooltipParent=r.__instance.option("parent").parent[0],i.mode=n.mode,i.whole=n.whole,i.origin=r.__instance._$origin[0],i.tooltip=r.__instance._$tooltip[0],delete n.container,delete n.fits,delete n.mode,delete n.outerSize,delete n.whole,n.distance=n.distance.horizontal||n.distance.vertical;var d,h,p,f=t.extend(!0,{},n);if(r.__instance._trigger({edit:function(t){n=t},event:e,helper:i,position:f,type:"position"}),r.__options.functionPosition){var g=r.__options.functionPosition.call(r,r.__instance,i,f);g&&(n=g)}l.destroy(),"top"==n.side||"bottom"==n.side?(d={prop:"left",val:n.target-n.coord.left},h=n.size.width-this.__options.minIntersection):(d={prop:"top",val:n.target-n.coord.top},h=n.size.height-this.__options.minIntersection),d.val<this.__options.minIntersection?d.val=this.__options.minIntersection:d.val>h&&(d.val=h),p=i.geo.origin.fixedLineage?i.geo.origin.windowOffset:{left:i.geo.origin.windowOffset.left+i.geo.window.scroll.left,top:i.geo.origin.windowOffset.top+i.geo.window.scroll.top},n.coord={left:p.left+(n.coord.left-i.geo.origin.windowOffset.left),top:p.top+(n.coord.top-i.geo.origin.windowOffset.top)},r.__sideChange(r.__instance._$tooltip,n.side),i.geo.origin.fixedLineage?r.__instance._$tooltip.css("position","fixed"):r.__instance._$tooltip.css("position",""),r.__instance._$tooltip.css({left:n.coord.left,top:n.coord.top,height:n.size.height,width:n.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(d.prop,d.val),r.__instance._$tooltip.appendTo(r.__instance.option("parent")),r.__instance._trigger({type:"repositioned",event:e,position:n})},__sideChange:function(t,e){t.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+e)},__targetFind:function(t){var e={},i=this.__instance._$origin[0].getClientRects();i.length>1&&(1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),i=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1)));if(i.length<2)e.top=Math.floor(t.geo.origin.windowOffset.left+t.geo.origin.size.width/2),e.bottom=e.top,e.left=Math.floor(t.geo.origin.windowOffset.top+t.geo.origin.size.height/2),e.right=e.left;else{var n=i[0];e.top=Math.floor(n.left+(n.right-n.left)/2),n=i.length>2?i[Math.ceil(i.length/2)-1]:i[0],e.right=Math.floor(n.top+(n.bottom-n.top)/2),n=i[i.length-1],e.bottom=Math.floor(n.left+(n.right-n.left)/2),n=i.length>2?i[Math.ceil((i.length+1)/2)-1]:i[i.length-1],e.left=Math.floor(n.top+(n.bottom-n.top)/2)}return e}}}),t})),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],(function(i){return t.Bloodhound=e(i)})):"object"==typeof exports?module.exports=e(require("jquery")):t.Bloodhound=e(t.jQuery)}(this,(function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,i){function n(t,e){return i(e,t)}t.each(e,n)},map:t.map,filter:t.grep,every:function(e,i){var n=!0;return e?(t.each(e,(function(t,r){if(!(n=i.call(null,r,t,e)))return!1})),!!n):n},some:function(e,i){var n=!1;return e?(t.each(e,(function(t,r){if(n=i.call(null,r,t,e))return!1})),!!n):n},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function i(){return String(e)}return t.isFunction(e)?e:i},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,r;return function(){var o,s,a=this,l=arguments;return o=function(){n=null,i||(r=t.apply(a,l))},s=i&&!n,clearTimeout(n),n=setTimeout(o,e),s&&(r=t.apply(a,l)),r}},throttle:function(t,e){var i,n,r,o,s,a;return s=0,a=function(){s=new Date,r=null,o=t.apply(i,n)},function(){var l=new Date,c=e-(l-s);return i=this,n=arguments,c<=0?(clearTimeout(r),r=null,s=l,o=t.apply(i,n)):r||(r=setTimeout(a,c)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},guid:function(){function t(t){var e=(Math.random().toString(16)+"000000000").substr(2,8);return t?"-"+e.substr(0,4)+"-"+e.substr(4,4):e}return"tt-"+t()+t(!0)+t(!0)+t()},noop:function(){}}}(),i="1.2.0",n=function(){"use strict";function t(t){return(t=e.toStr(t))?t.split(/\s+/):[]}function i(t){return(t=e.toStr(t))?t.split(/\W+/):[]}function n(t){t=e.toStr(t);var i=[],n="";return e.each(t.split(""),(function(t){t.match(/\s+/)?n="":(i.push(n+t),n+=t)})),i}function r(t){return function(i){return i=e.isArray(i)?i:[].slice.call(arguments,0),function(n){var r=[];return e.each(i,(function(i){r=r.concat(t(e.toStr(n[i])))})),r}}}return{nonword:i,whitespace:t,ngram:n,obj:{nonword:r(i),whitespace:r(t),ngram:r(n)}}}(),r=function(){"use strict";function i(i){this.maxSize=e.isNumber(i)?i:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function n(){this.head=this.tail=null}function r(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(i.prototype,{set:function(t,e){var i,n=this.list.tail;this.size>=this.maxSize&&(this.list.remove(n),delete this.hash[n.key],this.size--),(i=this.hash[t])?(i.val=e,this.list.moveToFront(i)):(i=new r(t,e),this.list.add(i),this.hash[t]=i,this.size++)},get:function(t){var e=this.hash[t];if(e)return this.list.moveToFront(e),e.val},reset:function(){this.size=0,this.hash={},this.list=new n}}),e.mixin(n.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),i}(),o=function(){"use strict";function i(t,i){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix)),this.ls=i||a,!this.ls&&this._noop()}function n(){return(new Date).getTime()}function r(t){return JSON.stringify(e.isUndefined(t)?null:t)}function o(e){return t.parseJSON(e)}function s(t){var e,i,n=[],r=a.length;for(e=0;e<r;e++)(i=a.key(e)).match(t)&&n.push(i.replace(t,""));return n}var a;try{(a=window.localStorage).setItem("~~~","!"),a.removeItem("~~~")}catch(t){a=null}return e.mixin(i.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(t){"QuotaExceededError"===t.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),o(this.ls.getItem(this._prefix(t)))},set:function(t,i,o){return e.isNumber(o)?this._safeSet(this._ttlKey(t),r(n()+o)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),r(i))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=s(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var i=o(this.ls.getItem(this._ttlKey(t)));return!!(e.isNumber(i)&&n()>i)}}),i}(),s=function(){"use strict";function i(t){t=t||{},this.maxPendingRequests=t.maxPendingRequests||6,this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=!1===t.cache?new r(0):s}var n=0,o={},s=new r(10);return i.setMaxPendingRequests=function(t){this.maxPendingRequests=t},i.resetCache=function(){s.reset()},e.mixin(i.prototype,{_fingerprint:function(e){return(e=e||{}).url+e.type+t.param(e.data||{})},_get:function(t,e){function i(t){e(null,t),c._cache.set(a,t)}function r(){e(!0)}function s(){n--,delete o[a],c.onDeckRequestArgs&&(c._get.apply(c,c.onDeckRequestArgs),c.onDeckRequestArgs=null)}var a,l,c=this;a=this._fingerprint(t),this.cancelled||a!==this.lastReq||((l=o[a])?l.done(i).fail(r):n<this.maxPendingRequests?(n++,o[a]=this._send(t).done(i).fail(r).always(s)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(i,n){var r,o;n=n||t.noop,i=e.isString(i)?{url:i}:i||{},o=this._fingerprint(i),this.cancelled=!1,this.lastReq=o,(r=this._cache.get(o))?n(null,r):this._get(i,n)},cancel:function(){this.cancelled=!0}}),i}(),a=window.SearchIndex=function(){"use strict";function i(i){(i=i||{}).datumTokenizer&&i.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.identify=i.identify||e.stringify,this.datumTokenizer=i.datumTokenizer,this.queryTokenizer=i.queryTokenizer,this.matchAnyQueryToken=i.matchAnyQueryToken,this.reset()}function n(t){return t=e.filter(t,(function(t){return!!t})),e.map(t,(function(t){return t.toLowerCase()}))}function r(){var t={};return t[l]=[],t[a]={},t}function o(t){for(var e={},i=[],n=0,r=t.length;n<r;n++)e[t[n]]||(e[t[n]]=!0,i.push(t[n]));return i}function s(t,e){var i=0,n=0,r=[];t=t.sort(),e=e.sort();for(var o=t.length,s=e.length;i<o&&n<s;)t[i]<e[n]?i++:(t[i]>e[n]||(r.push(t[i]),i++),n++);return r}var a="c",l="i";return e.mixin(i.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var i=this;t=e.isArray(t)?t:[t],e.each(t,(function(t){var o,s;i.datums[o=i.identify(t)]=t,s=n(i.datumTokenizer(t)),e.each(s,(function(t){var e,n,s;for(e=i.trie,n=t.split("");s=n.shift();)(e=e[a][s]||(e[a][s]=r()))[l].push(o)}))}))},get:function(t){var i=this;return e.map(t,(function(t){return i.datums[t]}))},search:function(t){var i,r,c=this;return i=n(this.queryTokenizer(t)),e.each(i,(function(t){var e,i,n,o;if(r&&0===r.length&&!c.matchAnyQueryToken)return!1;for(e=c.trie,i=t.split("");e&&(n=i.shift());)e=e[a][n];if(e&&0===i.length)o=e[l].slice(0),r=r?s(r,o):o;else if(!c.matchAnyQueryToken)return r=[],!1})),r?e.map(o(r),(function(t){return c.datums[t]})):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=r()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),i}(),l=function(){"use strict";function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new o(t.cacheKey)}var i;return i={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(i.data,t,this.ttl),this.storage.set(i.protocol,location.protocol,this.ttl),this.storage.set(i.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,e={};return this.cache?(e.data=this.storage.get(i.data),e.protocol=this.storage.get(i.protocol),e.thumbprint=this.storage.get(i.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(t){function e(){t(!0)}function i(e){t(null,r.transform(e))}var n,r=this;t&&(n=this.prepare(this._settings()),this.transport(n).fail(e).done(i))},clear:function(){return this.storage.clear(),this}}),t}(),c=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.indexResponse=t.indexResponse,this.transport=new s({cache:t.cache,limiter:t.limiter,transport:t.transport,maxPendingRequests:t.maxPendingRequests})}return e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,e){function i(t,i){e(t?[]:r.transform(i))}var n,r=this;if(e)return t=t||"",n=this.prepare(t,this._settings()),this.transport.get(n,i)},cancelLastRequest:function(){this.transport.cancel()}}),t}(),u=function(){"use strict";function n(n){var r;return n?(r={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:e.identity,transform:e.identity,transport:null},n=e.isString(n)?{url:n}:n,!(n=e.mixin(r,n)).url&&t.error("prefetch requires url to be set"),n.transform=n.filter||n.transform,n.cacheKey=n.cacheKey||n.url,n.thumbprint=i+n.thumbprint,n.transport=n.transport?a(n.transport):t.ajax,n):null}function r(i){var n;if(i)return n={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null},i=e.isString(i)?{url:i}:i,!(i=e.mixin(n,i)).url&&t.error("remote requires url to be set"),i.transform=i.filter||i.transform,i.prepare=o(i),i.limiter=s(i),i.transport=i.transport?a(i.transport):t.ajax,delete i.replace,delete i.wildcard,delete i.rateLimitBy,delete i.rateLimitWait,i}function o(t){function e(t,e){return e.url=o(e.url,t),e}function i(t,e){return e.url=e.url.replace(s,encodeURIComponent(t)),e}function n(t,e){return e}var r,o,s;return r=t.prepare,o=t.replace,s=t.wildcard,r||(r=o?e:t.wildcard?i:n)}function s(t){function i(t){return function(i){return e.debounce(i,t)}}function n(t){return function(i){return e.throttle(i,t)}}var r,o,s;return r=t.limiter,o=t.rateLimitBy,s=t.rateLimitWait,r||(r=/^throttle$/i.test(o)?n(s):i(s)),r}function a(i){return function(n){function r(t){e.defer((function(){s.resolve(t)}))}function o(t){e.defer((function(){s.reject(t)}))}var s=t.Deferred();return i(n,r,o),s}}return function(i){var o,s;return o={initialize:!0,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,matchAnyQueryToken:!1,sufficient:5,indexRemote:!1,sorter:null,local:[],prefetch:null,remote:null},!(i=e.mixin(o,i||{})).datumTokenizer&&t.error("datumTokenizer is required"),!i.queryTokenizer&&t.error("queryTokenizer is required"),s=i.sorter,i.sorter=s?function(t){return t.sort(s)}:e.identity,i.local=e.isFunction(i.local)?i.local():i.local,i.prefetch=n(i.prefetch),i.remote=r(i.remote),i}}(),d=function(){"use strict";function i(t){t=u(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.indexRemote=t.indexRemote,this.local=t.local,this.remote=t.remote?new c(t.remote):null,this.prefetch=t.prefetch?new l(t.prefetch):null,this.index=new a({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),!1!==t.initialize&&this.initialize()}var r;return r=window&&window.Bloodhound,i.noConflict=function(){return window&&(window.Bloodhound=r),i},i.tokenizers=n,e.mixin(i.prototype,{__ttAdapter:function(){function t(t,e,n){return i.search(t,e,n)}function e(t,e){return i.search(t,e)}var i=this;return this.remote?t:e},_loadPrefetch:function(){function e(t,e){return t?i.reject():(r.add(e),r.prefetch.store(r.index.serialize()),void i.resolve())}var i,n,r=this;return i=t.Deferred(),this.prefetch?(n=this.prefetch.fromCache())?(this.index.bootstrap(n),i.resolve()):this.prefetch.fromNetwork(e):i.resolve(),i.promise()},_initialize:function(){function t(){e.add(e.local)}var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(t),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=e.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,i,n){function r(t){var i=[];e.each(t,(function(t){!e.some(o,(function(e){return s.identify(t)===s.identify(e)}))&&i.push(t)})),s.indexRemote&&s.add(i),n(i)}var o,s=this;return i=i||e.noop,n=n||e.noop,o=this.sorter(this.index.search(t)),i(this.remote?o.slice():o),this.remote&&o.length<this.sufficient?this.remote.get(t,r):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return s.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),i}();return d})),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],(function(t){return e(t)})):"object"==typeof exports?module.exports=e(require("jquery")):e(t.jQuery)}(this,(function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,i){function n(t,e){return i(e,t)}t.each(e,n)},map:t.map,filter:t.grep,every:function(e,i){var n=!0;return e?(t.each(e,(function(t,r){if(!(n=i.call(null,r,t,e)))return!1})),!!n):n},some:function(e,i){var n=!1;return e?(t.each(e,(function(t,r){if(n=i.call(null,r,t,e))return!1})),!!n):n},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function i(){return String(e)}return t.isFunction(e)?e:i},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,r;return function(){var o,s,a=this,l=arguments;return o=function(){n=null,i||(r=t.apply(a,l))},s=i&&!n,clearTimeout(n),n=setTimeout(o,e),s&&(r=t.apply(a,l)),r}},throttle:function(t,e){var i,n,r,o,s,a;return s=0,a=function(){s=new Date,r=null,o=t.apply(i,n)},function(){var l=new Date,c=e-(l-s);return i=this,n=arguments,c<=0?(clearTimeout(r),r=null,s=l,o=t.apply(i,n)):r||(r=setTimeout(a,c)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},guid:function(){function t(t){var e=(Math.random().toString(16)+"000000000").substr(2,8);return t?"-"+e.substr(0,4)+"-"+e.substr(4,4):e}return"tt-"+t()+t(!0)+t(!0)+t()},noop:function(){}}}(),i=function(){"use strict";function t(t){var s,a;return a=e.mixin({},o,t),{css:(s={css:r(),classes:a,html:i(a),selectors:n(a)}).css,html:s.html,classes:s.classes,selectors:s.selectors,mixin:function(t){e.mixin(t,s)}}}function i(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div role="listbox" class="'+t.menu+'"></div>'}}function n(t){var i={};return e.each(t,(function(t,e){i[e]="."+t})),i}function r(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var o={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return t}(),n=function(){"use strict";function i(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var n,r;return n="typeahead:",r={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},e.mixin(i.prototype,{_trigger:function(e,i){var r=t.Event(n+e);return this.$el.trigger.call(this.$el,r,i||[]),r},before:function(t){var e;return e=[].slice.call(arguments,1),this._trigger("before"+t,e).isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=r[t])&&this._trigger(e,[].slice.call(arguments,1))}}),i}(),r=function(){"use strict";function t(t,e,i,n){var r;if(!i)return this;for(e=e.split(l),i=n?a(i,n):i,this._callbacks=this._callbacks||{};r=e.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][t].push(i);return this}function e(e,i,n){return t.call(this,"async",e,i,n)}function i(e,i,n){return t.call(this,"sync",e,i,n)}function n(t){var e;if(!this._callbacks)return this;for(t=t.split(l);e=t.shift();)delete this._callbacks[e];return this}function r(t){var e,i,n,r,s;if(!this._callbacks)return this;for(t=t.split(l),n=[].slice.call(arguments,1);(e=t.shift())&&(i=this._callbacks[e]);)r=o(i.sync,this,[e].concat(n)),s=o(i.async,this,[e].concat(n)),r()&&c(s);return this}function o(t,e,i){function n(){for(var n,r=0,o=t.length;!n&&r<o;r+=1)n=!1===t[r].apply(e,i);return!n}return n}function s(){return window.setImmediate?function(t){setImmediate((function(){t()}))}:function(t){setTimeout((function(){t()}),0)}}function a(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var l=/\s+/,c=s();return{onSync:i,onAsync:e,off:n,trigger:r}}(),o=function(t){"use strict";function i(t){return o[t.toUpperCase()]||t}function n(t,n,r,o){for(var s,a=[],l=0,c=t.length;l<c;l++){var u=e.escapeRegExChars(t[l]);o&&(u=u.replace(/\S/g,i)),a.push(u)}return s=r?"\\b("+a.join("|")+")\\b":"("+a.join("|")+")",n?new RegExp(s):new RegExp(s,"i")}var r={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1,diacriticInsensitive:!1},o={A:"[Aa\xaa\xc0-\xc5\xe0-\xe5\u0100-\u0105\u01cd\u01ce\u0200-\u0203\u0226\u0227\u1d2c\u1d43\u1e00\u1e01\u1e9a\u1ea0-\u1ea3\u2090\u2100\u2101\u213b\u249c\u24b6\u24d0\u3371-\u3374\u3380-\u3384\u3388\u3389\u33a9-\u33af\u33c2\u33ca\u33df\u33ff\uff21\uff41]",B:"[Bb\u1d2e\u1d47\u1e02-\u1e07\u212c\u249d\u24b7\u24d1\u3374\u3385-\u3387\u33c3\u33c8\u33d4\u33dd\uff22\uff42]",C:"[Cc\xc7\xe7\u0106-\u010d\u1d9c\u2100\u2102\u2103\u2105\u2106\u212d\u216d\u217d\u249e\u24b8\u24d2\u3376\u3388\u3389\u339d\u33a0\u33a4\u33c4-\u33c7\uff23\uff43]",D:"[Dd\u010e\u010f\u01c4-\u01c6\u01f1-\u01f3\u1d30\u1d48\u1e0a-\u1e13\u2145\u2146\u216e\u217e\u249f\u24b9\u24d3\u32cf\u3372\u3377-\u3379\u3397\u33ad-\u33af\u33c5\u33c8\uff24\uff44]",E:"[Ee\xc8-\xcb\xe8-\xeb\u0112-\u011b\u0204-\u0207\u0228\u0229\u1d31\u1d49\u1e18-\u1e1b\u1eb8-\u1ebd\u2091\u2121\u212f\u2130\u2147\u24a0\u24ba\u24d4\u3250\u32cd\u32ce\uff25\uff45]",
F:"[Ff\u1da0\u1e1e\u1e1f\u2109\u2131\u213b\u24a1\u24bb\u24d5\u338a-\u338c\u3399\ufb00-\ufb04\uff26\uff46]",G:"[Gg\u011c-\u0123\u01e6\u01e7\u01f4\u01f5\u1d33\u1d4d\u1e20\u1e21\u210a\u24a2\u24bc\u24d6\u32cc\u32cd\u3387\u338d-\u338f\u3393\u33ac\u33c6\u33c9\u33d2\u33ff\uff27\uff47]",H:"[Hh\u0124\u0125\u021e\u021f\u02b0\u1d34\u1e22-\u1e2b\u1e96\u210b-\u210e\u24a3\u24bd\u24d7\u32cc\u3371\u3390-\u3394\u33ca\u33cb\u33d7\uff28\uff48]",I:"[Ii\xcc-\xcf\xec-\xef\u0128-\u0130\u0132\u0133\u01cf\u01d0\u0208-\u020b\u1d35\u1d62\u1e2c\u1e2d\u1ec8-\u1ecb\u2071\u2110\u2111\u2139\u2148\u2160-\u2163\u2165-\u2168\u216a\u216b\u2170-\u2173\u2175-\u2178\u217a\u217b\u24a4\u24be\u24d8\u337a\u33cc\u33d5\ufb01\ufb03\uff29\uff49]",J:"[Jj\u0132-\u0135\u01c7-\u01cc\u01f0\u02b2\u1d36\u2149\u24a5\u24bf\u24d9\u2c7c\uff2a\uff4a]",K:"[Kk\u0136\u0137\u01e8\u01e9\u1d37\u1d4f\u1e30-\u1e35\u212a\u24a6\u24c0\u24da\u3384\u3385\u3389\u338f\u3391\u3398\u339e\u33a2\u33a6\u33aa\u33b8\u33be\u33c0\u33c6\u33cd-\u33cf\uff2b\uff4b]",L:"[Ll\u0139-\u0140\u01c7-\u01c9\u02e1\u1d38\u1e36\u1e37\u1e3a-\u1e3d\u2112\u2113\u2121\u216c\u217c\u24a7\u24c1\u24db\u32cf\u3388\u3389\u33d0-\u33d3\u33d5\u33d6\u33ff\ufb02\ufb04\uff2c\uff4c]",M:"[Mm\u1d39\u1d50\u1e3e-\u1e43\u2120\u2122\u2133\u216f\u217f\u24a8\u24c2\u24dc\u3377-\u3379\u3383\u3386\u338e\u3392\u3396\u3399-\u33a8\u33ab\u33b3\u33b7\u33b9\u33bd\u33bf\u33c1\u33c2\u33ce\u33d0\u33d4-\u33d6\u33d8\u33d9\u33de\u33df\uff2d\uff4d]",N:"[Nn\xd1\xf1\u0143-\u0149\u01ca-\u01cc\u01f8\u01f9\u1d3a\u1e44-\u1e4b\u207f\u2115\u2116\u24a9\u24c3\u24dd\u3381\u338b\u339a\u33b1\u33b5\u33bb\u33cc\u33d1\uff2e\uff4e]",O:"[Oo\xba\xd2-\xd6\xf2-\xf6\u014c-\u0151\u01a0\u01a1\u01d1\u01d2\u01ea\u01eb\u020c-\u020f\u022e\u022f\u1d3c\u1d52\u1ecc-\u1ecf\u2092\u2105\u2116\u2134\u24aa\u24c4\u24de\u3375\u33c7\u33d2\u33d6\uff2f\uff4f]",P:"[Pp\u1d3e\u1d56\u1e54-\u1e57\u2119\u24ab\u24c5\u24df\u3250\u3371\u3376\u3380\u338a\u33a9-\u33ac\u33b0\u33b4\u33ba\u33cb\u33d7-\u33da\uff30\uff50]",Q:"[Qq\u211a\u24ac\u24c6\u24e0\u33c3\uff31\uff51]",R:"[Rr\u0154-\u0159\u0210-\u0213\u02b3\u1d3f\u1d63\u1e58-\u1e5b\u1e5e\u1e5f\u20a8\u211b-\u211d\u24ad\u24c7\u24e1\u32cd\u3374\u33ad-\u33af\u33da\u33db\uff32\uff52]",S:"[Ss\u015a-\u0161\u017f\u0218\u0219\u02e2\u1e60-\u1e63\u20a8\u2101\u2120\u24ae\u24c8\u24e2\u33a7\u33a8\u33ae-\u33b3\u33db\u33dc\ufb06\uff33\uff53]",T:"[Tt\u0162-\u0165\u021a\u021b\u1d40\u1d57\u1e6a-\u1e71\u1e97\u2121\u2122\u24af\u24c9\u24e3\u3250\u32cf\u3394\u33cf\ufb05\ufb06\uff34\uff54]",U:"[Uu\xd9-\xdc\xf9-\xfc\u0168-\u0173\u01af\u01b0\u01d3\u01d4\u0214-\u0217\u1d41\u1d58\u1d64\u1e72-\u1e77\u1ee4-\u1ee7\u2106\u24b0\u24ca\u24e4\u3373\u337a\uff35\uff55]",V:"[Vv\u1d5b\u1d65\u1e7c-\u1e7f\u2163-\u2167\u2173-\u2177\u24b1\u24cb\u24e5\u2c7d\u32ce\u3375\u33b4-\u33b9\u33dc\u33de\uff36\uff56]",W:"[Ww\u0174\u0175\u02b7\u1d42\u1e80-\u1e89\u1e98\u24b2\u24cc\u24e6\u33ba-\u33bf\u33dd\uff37\uff57]",X:"[Xx\u02e3\u1e8a-\u1e8d\u2093\u213b\u2168-\u216b\u2178-\u217b\u24b3\u24cd\u24e7\u33d3\uff38\uff58]",Y:"[Yy\xdd\xfd\xff\u0176-\u0178\u0232\u0233\u02b8\u1e8e\u1e8f\u1e99\u1ef2-\u1ef9\u24b4\u24ce\u24e8\u33c9\uff39\uff59]",Z:"[Zz\u0179-\u017e\u01f1-\u01f3\u1dbb\u1e90-\u1e95\u2124\u2128\u24b5\u24cf\u24e9\u3390-\u3394\uff3a\uff5a]"};return function(i){function o(e){var n,r,o;return(n=a.exec(e.data))&&(o=t.createElement(i.tagName),i.className&&(o.className=i.className),(r=e.splitText(n.index)).splitText(n[0].length),o.appendChild(r.cloneNode(!0)),e.parentNode.replaceChild(o,r)),!!n}function s(t,e){for(var i,n=3,r=0;r<t.childNodes.length;r++)(i=t.childNodes[r]).nodeType===n?r+=e(i)?1:0:s(i,e)}var a;(i=e.mixin({},r,i)).node&&i.pattern&&(i.pattern=e.isArray(i.pattern)?i.pattern:[i.pattern],a=n(i.pattern,i.caseSensitive,i.wordsOnly,i.diacriticInsensitive),s(i.node,o))}}(window.document),s=function(){"use strict";function i(i,r){(i=i||{}).input||t.error("input is missing"),r.mixin(this),this.$hint=t(i.hint),this.$input=t(i.input),this.$input.attr({"aria-activedescendant":"","aria-owns":this.$input.attr("id")+"_listbox",role:"combobox","aria-readonly":"true","aria-autocomplete":"list"}),t(r.menu).attr("id",this.$input.attr("id")+"_listbox"),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=n(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop),this.onSync("cursorchange",this._updateDescendent)}function n(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function o(t,e){return i.normalizeQuery(t)===i.normalizeQuery(e)}function s(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},i.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(i.prototype,r,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=a[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var i;switch(t){case"up":case"down":i=!s(e);break;default:i=!1}i&&e.preventDefault()},_shouldTrigger:function(t,e){var i;if("tab"===t)i=!s(e);else i=!0;return i},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var i,n;n=!!(i=o(t,this.query))&&this.query.length!==t.length,this.query=t,e||i?!e&&n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},_updateDescendent:function(t,e){this.$input.attr("aria-activedescendant",e)},bind:function(){var t,i,n,r,o=this;return t=e.bind(this._onBlur,this),i=e.bind(this._onFocus,this),n=e.bind(this._onKeydown,this),r=e.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",i).on("keydown.tt",n),!e.isMsie()||e.isMsie()>9?this.$input.on("input.tt",r):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",(function(t){a[t.which||t.keyCode]||e.defer(e.bind(o._onInput,o,t))})),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,i;i=(t=this.getInputValue())!==(e=this.getHint())&&0===e.indexOf(t),!(""!==t&&i&&!this.hasOverflow())&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,i,n;return t=this.$input.val().length,i=this.$input[0].selectionStart,e.isNumber(i)?i===t:!document.selection||((n=document.selection.createRange()).moveStart("character",-t),t===n.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),i}(),a=function(){"use strict";function i(i,r){(i=i||{}).templates=i.templates||{},i.templates.notFound=i.templates.notFound||i.templates.empty,i.source||t.error("missing source"),i.node||t.error("missing node"),i.name&&!a(i.name)&&t.error("invalid dataset name: "+i.name),r.mixin(this),this.highlight=!!i.highlight,this.name=e.toStr(i.name||c()),this.limit=i.limit||5,this.displayFn=n(i.display||i.displayKey),this.templates=s(i.templates,this.displayFn),this.source=i.source.__ttAdapter?i.source.__ttAdapter():i.source,this.async=e.isUndefined(i.async)?this.source.length>2:!!i.async,this._resetLastSuggestion(),this.$el=t(i.node).attr("role","presentation").addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function n(t){function i(e){return e[t]}return t=t||e.stringify,e.isFunction(t)?t:i}function s(i,n){function r(i){return t('<div role="option">').attr("id",e.guid()).text(n(i))}return{notFound:i.notFound&&e.templatify(i.notFound),pending:i.pending&&e.templatify(i.pending),header:i.header&&e.templatify(i.header),footer:i.footer&&e.templatify(i.footer),suggestion:i.suggestion||r}}function a(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var l,c;return l={dataset:"tt-selectable-dataset",val:"tt-selectable-display",obj:"tt-selectable-object"},c=e.getIdGenerator(),i.extractData=function(e){var i=t(e);return i.data(l.obj)?{dataset:i.data(l.dataset)||"",val:i.data(l.val)||"",obj:i.data(l.obj)||null}:null},e.mixin(i.prototype,r,{_overwrite:function(t,e){(e=e||[]).length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",e,!1,this.name)},_append:function(t,e){(e=e||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",e,!0,this.name)},_renderSuggestions:function(t,e){var i;i=this._getSuggestionsFragment(t,e),this.$lastSuggestion=i.children().last(),this.$el.html(i).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var i,n;n=(i=this._getSuggestionsFragment(t,e)).children().last(),this.$lastSuggestion.after(i),this.$lastSuggestion=n},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(i,n){var r,s=this;return r=document.createDocumentFragment(),e.each(n,(function(e){var n,o;o=s._injectQuery(i,e),n=t(s.templates.suggestion(o)).data(l.dataset,s.name).data(l.obj,e).data(l.val,s.displayFn(e)).addClass(s.classes.suggestion+" "+s.classes.selectable),r.appendChild(n[0])})),this.highlight&&o({className:this.classes.highlight,node:r,pattern:i}),t(r)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(t,i){return e.isObject(i)?e.mixin({_query:t},i):i},update:function(e){function i(t){s||(s=!0,t=(t||[]).slice(0,r.limit),a=t.length,r._overwrite(e,t),a<r.limit&&r.async&&r.trigger("asyncRequested",e,r.name))}function n(i){if(i=i||[],!o&&a<r.limit){r.cancel=t.noop;var n=Math.abs(a-r.limit);a+=n,r._append(e,i.slice(0,n)),r.async&&r.trigger("asyncReceived",e,r.name)}}var r=this,o=!1,s=!1,a=0;this.cancel(),this.cancel=function(){o=!0,r.cancel=t.noop,r.async&&r.trigger("asyncCanceled",e,r.name)},this.source(e,i,n),!s&&i([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),i}(),l=function(){"use strict";function i(i,n){function r(e){var i=o.$node.find(e.node).first();return e.node=i.length?i:t("<div>").appendTo(o.$node),new a(e,n)}var o=this;(i=i||{}).node||t.error("node is required"),n.mixin(this),this.$node=t(i.node),this.query=null,this.datasets=e.map(i.datasets,r)}return e.mixin(i.prototype,r,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(t,e,i,n){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,i,n)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){return e.every(this.datasets,e.bind((function(t){var e=t.isEmpty();return this.$node.attr("aria-expanded",!e),e}),this))},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,i,n,r;i=(e=t.position().top)+t.outerHeight(!0),n=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),e<0?this.$node.scrollTop(n+e):r<i&&this.$node.scrollTop(n+(i-r))},bind:function(){var i,n=this;return i=e.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,i),this.$node.on("mouseover",this.selectors.selectable,(function(){n.setCursor(t(this))})),this.$node.on("mouseleave",(function(){n._removeCursor()})),e.each(this.datasets,(function(t){t.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)})),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.scrollTop(0),this.$node.addClass(this.classes.open)},close:function(){this.$node.attr("aria-expanded",!1),this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,i,n;return i=this.getActiveSelectable(),e=this._getSelectables(),-1===(n=(n=((n=(i?e.index(i):-1)+t)+1)%(e.length+1)-1)<-1?e.length-1:n)?null:e.eq(n)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?a.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(t){function i(e){e.update(t)}var n=t!==this.query;return n&&(this.query=t,e.each(this.datasets,i)),n},empty:function(){function t(t){t.clear()}e.each(this.datasets,t),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function i(t){t.destroy()}this.$node.off(".tt"),this.$node=t("<div>"),e.each(this.datasets,i)}}),i}(),c=function(){"use strict";function i(i){this.$el=t("<span></span>",{role:"status","aria-live":"polite"}).css({position:"absolute",padding:"0",border:"0",height:"1px",width:"1px","margin-bottom":"-1px","margin-right":"-1px",overflow:"hidden",clip:"rect(0 0 0 0)","white-space":"nowrap"}),i.$input.after(this.$el),e.each(i.menu.datasets,e.bind((function(t){t.onSync&&(t.onSync("rendered",e.bind(this.update,this)),t.onSync("cleared",e.bind(this.cleared,this)))}),this))}return e.mixin(i.prototype,{update:function(t,e){var i,n=e.length;i=1===n?{result:"result",is:"is"}:{result:"results",is:"are"},this.$el.text(n+" "+i.result+" "+i.is+" available, use up and down arrow keys to navigate.")},cleared:function(){this.$el.text("")}}),i}(),u=function(){"use strict";function t(){l.apply(this,[].slice.call(arguments,0))}var i=l.prototype;return e.mixin(t.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),i.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),i.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),i._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),i._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),i.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),d=function(){"use strict";function i(i,r){var o,s,a,l,c,u,d,h,p,f,g;(i=i||{}).input||t.error("missing input"),i.menu||t.error("missing menu"),i.eventBus||t.error("missing event bus"),r.mixin(this),this.eventBus=i.eventBus,this.minLength=e.isNumber(i.minLength)?i.minLength:1,this.input=i.input,this.menu=i.menu,this.enabled=!0,this.autoselect=!!i.autoselect,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),o=n(this,"activate","open","_onFocused"),s=n(this,"deactivate","_onBlurred"),a=n(this,"isActive","isOpen","_onEnterKeyed"),l=n(this,"isActive","isOpen","_onTabKeyed"),c=n(this,"isActive","_onEscKeyed"),u=n(this,"isActive","open","_onUpKeyed"),d=n(this,"isActive","open","_onDownKeyed"),h=n(this,"isActive","isOpen","_onLeftKeyed"),p=n(this,"isActive","isOpen","_onRightKeyed"),f=n(this,"_openIfActive","_onQueryChanged"),g=n(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",o,this).onSync("blurred",s,this).onSync("enterKeyed",a,this).onSync("tabKeyed",l,this).onSync("escKeyed",c,this).onSync("upKeyed",u,this).onSync("downKeyed",d,this).onSync("leftKeyed",h,this).onSync("rightKeyed",p,this).onSync("queryChanged",f,this).onSync("whitespaceChanged",g,this).onSync("langDirChanged",this._onLangDirChanged,this)}function n(t){var i=[].slice.call(arguments,1);return function(){var n=[].slice.call(arguments);e.each(i,(function(e){return t[e].apply(t,n)}))}}return e.mixin(i.prototype,{_hacks:function(){var i,n;i=this.input.$input||t("<div>"),n=this.menu.$node||t("<div>"),i.on("blur.tt",(function(t){var r,o,s;r=document.activeElement,o=n.is(r),s=n.has(r).length>0,e.isMsie()&&(o||s)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer((function(){i.focus()})))})),n.on("mousedown.tt",(function(t){t.preventDefault()}))},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,i,n){if(this._updateHint(),this.autoselect){var r=this.selectors.cursor.substr(1);this.menu.$node.find(this.selectors.suggestion).first().addClass(r)}this.eventBus.trigger("render",e,i,n)},_onAsyncRequested:function(t,e,i){this.eventBus.trigger("asyncrequest",i,e)},_onAsyncCanceled:function(t,e,i){this.eventBus.trigger("asynccancel",i,e)},_onAsyncReceived:function(t,e,i){this.eventBus.trigger("asyncreceive",i,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var i;(i=this.menu.getActiveSelectable())?this.select(i)&&(e.preventDefault(),e.stopPropagation()):this.autoselect&&this.select(this.menu.getTopSelectable())&&(e.preventDefault(),e.stopPropagation())},_onTabKeyed:function(t,e){var i;(i=this.menu.getActiveSelectable())?this.select(i)&&e.preventDefault():(i=this.menu.getTopSelectable())&&this.autocomplete(i)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getActiveSelectable()||this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getActiveSelectable()||this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return(t=e.isString(t)?t:this.input.getQuery()||"").length>=this.minLength},_updateHint:function(){var t,i,n,r,o,a;t=this.menu.getTopSelectable(),i=this.menu.getSelectableData(t),n=this.input.getInputValue(),!i||e.isBlankString(n)||this.input.hasOverflow()?this.input.clearHint():(r=s.normalizeQuery(n),o=e.escapeRegExChars(r),(a=new RegExp("^(?:"+o+")(.+$)","i").exec(i.val))&&this.input.setHint(n+a[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(e.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return!(!e||this.eventBus.before("select",e.obj,e.dataset)||(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj,e.dataset),this.close(),0))},autocomplete:function(t){var e,i;return e=this.input.getQuery(),!(!((i=this.menu.getSelectableData(t))&&e!==i.val)||this.eventBus.before("autocomplete",i.obj,i.dataset)||(this.input.setQuery(i.val),this.eventBus.trigger("autocomplete",i.obj,i.dataset),0))},moveCursor:function(t){var e,i,n,r,o,s;return e=this.input.getQuery(),i=this.menu.selectableRelativeToCursor(t),r=(n=this.menu.getSelectableData(i))?n.obj:null,o=n?n.dataset:null,s=i?i.attr("id"):null,this.input.trigger("cursorchange",s),!(this._minLengthMet()&&this.menu.update(e))&&!this.eventBus.before("cursorchange",r,o)&&(this.menu.setCursor(i),n?this.input.setInputValue(n.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r,o),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),i}();!function(){"use strict";function r(e,i){e.each((function(){var e,n=t(this);(e=n.data(m.typeahead))&&i(e,n)}))}function o(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(h(t)).prop({readonly:!0,required:!1}).removeAttr("id name placeholder").removeClass("required").attr({spellcheck:"false",tabindex:-1})}function a(t,e){t.data(m.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(t){}return t}function h(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function p(t){var i,n;i=t.data(m.www),n=t.parent().filter(i.selectors.wrapper),e.each(t.data(m.attrs),(function(i,n){e.isUndefined(i)?t.removeAttr(n):t.attr(n,i)})),t.removeData(m.typeahead).removeData(m.www).removeData(m.attr).removeClass(i.classes.input),n.length&&(t.detach().insertAfter(n),n.remove())}function f(i){var n;return(n=e.isJQuery(i)||e.isElement(i)?t(i).first():[]).length?n:null}var g,m,v;g=t.fn.typeahead,m={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},v={initialize:function(r,h){function p(){var i,p,v,y,b,_,w,x,$,C,k;e.each(h,(function(t){t.highlight=!!r.highlight})),i=t(this),p=t(g.html.wrapper),v=f(r.hint),y=f(r.menu),b=!1!==r.hint&&!v,_=!1!==r.menu&&!y,b&&(v=o(i,g)),_&&(y=t(g.html.menu).css(g.css.menu)),v&&v.val(""),i=a(i,g),(b||_)&&(p.css(g.css.wrapper),i.css(b?g.css.input:g.css.inputWithNoHint),i.wrap(p).parent().prepend(b?v:null).append(_?y:null)),k=_?u:l,w=new n({el:i}),x=new s({hint:v,input:i},g),$=new k({node:y,datasets:h},g),new c({$input:i,menu:$}),C=new d({input:x,menu:$,eventBus:w,minLength:r.minLength,autoselect:r.autoselect},g),i.data(m.www,g),i.data(m.typeahead,C)}var g;return h=e.isArray(h)?h:[].slice.call(arguments,1),g=i((r=r||{}).classNames),this.each(p)},isEnabled:function(){var t;return r(this.first(),(function(e){t=e.isEnabled()})),t},enable:function(){return r(this,(function(t){t.enable()})),this},disable:function(){return r(this,(function(t){t.disable()})),this},isActive:function(){var t;return r(this.first(),(function(e){t=e.isActive()})),t},activate:function(){return r(this,(function(t){t.activate()})),this},deactivate:function(){return r(this,(function(t){t.deactivate()})),this},isOpen:function(){var t;return r(this.first(),(function(e){t=e.isOpen()})),t},open:function(){return r(this,(function(t){t.open()})),this},close:function(){return r(this,(function(t){t.close()})),this},select:function(e){var i=!1,n=t(e);return r(this.first(),(function(t){i=t.select(n)})),i},autocomplete:function(e){var i=!1,n=t(e);return r(this.first(),(function(t){i=t.autocomplete(n)})),i},moveCursor:function(t){var e=!1;return r(this.first(),(function(i){e=i.moveCursor(t)})),e},val:function(t){var i;return arguments.length?(r(this,(function(i){i.setVal(e.toStr(t))})),this):(r(this.first(),(function(t){i=t.getVal()})),i)},destroy:function(){return r(this,(function(t,e){p(e),t.destroy()})),this}},t.fn.typeahead=function(t){return v[t]?v[t].apply(this,[].slice.call(arguments,1)):v.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=g,this}}()})),function(){var t,e,i,n,r=function(t,e){return function(){return t.apply(e,arguments)}},o=function(t,e){function i(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;(n=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,i,n,r,o,s;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:t.label,title:t.title?t.title:void 0,children:0,disabled:t.disabled,classes:t.className}),s=[],i=0,n=(o=t.childNodes).length;i<n;i++)r=o[i],s.push(this.add_option(r,e,t.disabled));return s},t.prototype.add_option=function(t,e,i){if("OPTION"===t.nodeName.toUpperCase())return""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,title:t.title?t.title:void 0,selected:t.selected,disabled:!0===i?i:t.disabled,group_array_index:e,group_label:null!=e?this.parsed[e].label:null,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},t}()).select_to_array=function(t){var e,i,r,o,s;for(o=new n,i=0,r=(s=t.childNodes).length;i<r;i++)e=s[i],o.add_node(e);return o.parsed},e=function(){function t(e,i){this.form_field=e,this.options=null!=i?i:{},this.label_click_handler=r(this.label_click_handler,this),t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return t.prototype.set_default_values=function(){return this.click_test_action=function(t){return function(e){return t.test_active_click(e)}}(this),this.activate_action=function(t){return function(e){return t.activate_field(e)}}(this),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.is_rtl=this.options.rtl||/\bchosen-rtl\b/.test(this.form_field.className),this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1,this.hide_results_on_select=null==this.options.hide_results_on_select||this.options.hide_results_on_select},t.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.default_text=this.escape_html(this.default_text),this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.choice_label=function(t){return this.include_group_label_in_selected&&null!=t.group_label?"<b class='group-name'>"+this.escape_html(t.group_label)+"</b>"+t.html:t.html},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(){if(this.is_multiple){if(!this.active_field)return setTimeout(function(t){return function(){return t.container_mousedown()}}(this),50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(){if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(t){return function(){return t.blur_test()}}(this),100)},t.prototype.label_click_handler=function(t){return this.is_multiple?this.container_mousedown(t):this.activate_field()},t.prototype.results_option_build=function(t){var e,i,n,r,o,s,a;for(e="",a=0,r=0,o=(s=this.results_data).length;r<o&&(n="",""!==(n=(i=s[r]).group?this.result_add_group(i):this.result_add_option(i))&&(a++,e+=n),(null!=t?t.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(i))),!(a>=this.max_shown_results));r++);return e},t.prototype.result_add_option=function(t){var e,i;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),(i=document.createElement("li")).className=e.join(" "),t.style&&(i.style.cssText=t.style),i.setAttribute("data-option-array-index",t.array_index),i.innerHTML=t.highlighted_html||t.html,
t.title&&(i.title=t.title),this.outerHTML(i)):""},t.prototype.result_add_group=function(t){var e,i;return(t.search_match||t.group_match)&&t.active_options>0?((e=[]).push("group-result"),t.classes&&e.push(t.classes),(i=document.createElement("li")).className=e.join(" "),i.innerHTML=t.highlighted_html||this.escape_html(t.label),t.title&&(i.title=t.title),this.outerHTML(i)):""},t.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},t.prototype.reset_single_select_options=function(){var t,e,i,n,r;for(r=[],t=0,e=(i=this.results_data).length;t<e;t++)(n=i[t]).selected?r.push(n.selected=!1):r.push(void 0);return r},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.winnow_results=function(t){var e,i,n,r,o,s,a,l,c,u,d,h,p,f,g;for(this.no_results_clear(),u=0,e=(a=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),c=this.get_search_regex(e),n=0,r=(l=this.results_data).length;n<r;n++)(o=l[n]).search_match=!1,d=null,h=null,o.highlighted_html="",this.include_option_in_results(o)&&(o.group&&(o.group_match=!1,o.active_options=0),null!=o.group_array_index&&this.results_data[o.group_array_index]&&(0===(d=this.results_data[o.group_array_index]).active_options&&d.search_match&&(u+=1),d.active_options+=1),g=o.group?o.label:o.text,o.group&&!this.group_search||(h=this.search_string_match(g,c),o.search_match=null!=h,o.search_match&&!o.group&&(u+=1),o.search_match?(a.length&&(p=h.index,s=g.slice(0,p),i=g.slice(p,p+a.length),f=g.slice(p+a.length),o.highlighted_html=this.escape_html(s)+"<em>"+this.escape_html(i)+"</em>"+this.escape_html(f)),null!=d&&(d.group_match=!0)):null!=o.group_array_index&&this.results_data[o.group_array_index].search_match&&(o.search_match=!0)));return this.result_clear_highlight(),u<1&&a.length?(this.update_results_content(""),this.no_results(a)):(this.update_results_content(this.results_option_build()),(null!=t?t.skip_highlight:void 0)?void 0:this.winnow_results_set_highlight())},t.prototype.get_search_regex=function(t){var e,i;return i=this.search_contains?t:"(^|\\s|\\b)"+t+"[^\\s]*",this.enable_split_word_search||this.search_contains||(i="^"+i),e=this.case_sensitive_search?"":"i",new RegExp(i,e)},t.prototype.search_string_match=function(t,e){var i;return i=e.exec(t),!this.search_contains&&(null!=i?i[1]:void 0)&&(i.index+=1),i},t.prototype.choices_count=function(){var t,e,i;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,t=0,e=(i=this.form_field.options).length;t<e;t++)i[t].selected&&(this.selected_option_count+=1);return this.selected_option_count},t.prototype.choices_click=function(t){if(t.preventDefault(),this.activate_field(),!this.results_showing&&!this.is_disabled)return this.results_show()},t.prototype.keydown_checker=function(t){var e,i;switch(i=null!=(e=t.which)?e:t.keyCode,this.search_field_scale(),8!==i&&this.pending_backstroke&&this.clear_backstroke(),i){case 8:this.backstroke_length=this.get_search_field_value().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:case 27:this.results_showing&&t.preventDefault();break;case 32:this.disable_search&&t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},t.prototype.keyup_checker=function(t){var e,i;switch(i=null!=(e=t.which)?e:t.keyCode,this.search_field_scale(),i){case 8:this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0?this.keydown_backstroke():this.pending_backstroke||(this.result_clear_highlight(),this.results_search());break;case 13:t.preventDefault(),this.results_showing&&this.result_select(t);break;case 27:this.results_showing&&this.results_hide();break;case 9:case 16:case 17:case 18:case 38:case 40:case 91:break;default:this.results_search()}},t.prototype.clipboard_event_checker=function(){if(!this.is_disabled)return setTimeout(function(t){return function(){return t.results_search()}}(this),50)},t.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},t.prototype.include_option_in_results=function(t){return!(this.is_multiple&&!this.display_selected_options&&t.selected||!this.display_disabled_options&&t.disabled||t.empty)},t.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},t.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},t.prototype.search_results_touchend=function(t){if(this.touch_started)return this.search_results_mouseup(t)},t.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:((e=document.createElement("div")).appendChild(t),e.innerHTML)},t.prototype.get_single_html=function(){return'<a class="chosen-single chosen-default">\n  <span>'+this.default_text+'</span>\n  <div><b></b></div>\n</a>\n<div class="chosen-drop">\n  <div class="chosen-search">\n    <input class="chosen-search-input" type="text" autocomplete="off" />\n  </div>\n  <ul class="chosen-results"></ul>\n</div>'},t.prototype.get_multi_html=function(){return'<ul class="chosen-choices">\n  <li class="search-field">\n    <input class="chosen-search-input" type="text" autocomplete="off" value="'+this.default_text+'" />\n  </li>\n</ul>\n<div class="chosen-drop">\n  <ul class="chosen-results"></ul>\n</div>'},t.prototype.get_no_results_html=function(t){return'<li class="no-results">\n  '+this.results_none_found+" <span>"+this.escape_html(t)+"</span>\n</li>"},t.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent))},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),(t=jQuery).fn.extend({chosen:function(n){return e.browser_is_supported()?this.each((function(){var e,r;r=(e=t(this)).data("chosen"),"destroy"!==n?r instanceof i||e.data("chosen",new i(this,n)):r instanceof i&&r.destroy()})):this}}),i=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return o(i,e),i.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex},i.prototype.set_up_html=function(){var e,i;return(e=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),i={class:e.join(" "),title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=t("<div />",i),this.container.width(this.container_width()),this.is_multiple?this.container.html(this.get_multi_html()):this.container.html(this.get_single_html()),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},i.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},i.prototype.register_observers=function(){return this.container.on("touchstart.chosen",function(t){return function(e){t.container_mousedown(e)}}(this)),this.container.on("touchend.chosen",function(t){return function(e){t.container_mouseup(e)}}(this)),this.container.on("mousedown.chosen",function(t){return function(e){t.container_mousedown(e)}}(this)),this.container.on("mouseup.chosen",function(t){return function(e){t.container_mouseup(e)}}(this)),this.container.on("mouseenter.chosen",function(t){return function(e){t.mouse_enter(e)}}(this)),this.container.on("mouseleave.chosen",function(t){return function(e){t.mouse_leave(e)}}(this)),this.search_results.on("mouseup.chosen",function(t){return function(e){t.search_results_mouseup(e)}}(this)),this.search_results.on("mouseover.chosen",function(t){return function(e){t.search_results_mouseover(e)}}(this)),this.search_results.on("mouseout.chosen",function(t){return function(e){t.search_results_mouseout(e)}}(this)),this.search_results.on("mousewheel.chosen DOMMouseScroll.chosen",function(t){return function(e){t.search_results_mousewheel(e)}}(this)),this.search_results.on("touchstart.chosen",function(t){return function(e){t.search_results_touchstart(e)}}(this)),this.search_results.on("touchmove.chosen",function(t){return function(e){t.search_results_touchmove(e)}}(this)),this.search_results.on("touchend.chosen",function(t){return function(e){t.search_results_touchend(e)}}(this)),this.form_field_jq.on("chosen:updated.chosen",function(t){return function(e){t.results_update_field(e)}}(this)),this.form_field_jq.on("chosen:activate.chosen",function(t){return function(e){t.activate_field(e)}}(this)),this.form_field_jq.on("chosen:open.chosen",function(t){return function(e){t.container_mousedown(e)}}(this)),this.form_field_jq.on("chosen:close.chosen",function(t){return function(e){t.close_field(e)}}(this)),this.search_field.on("blur.chosen",function(t){return function(e){t.input_blur(e)}}(this)),this.search_field.on("keyup.chosen",function(t){return function(e){t.keyup_checker(e)}}(this)),this.search_field.on("keydown.chosen",function(t){return function(e){t.keydown_checker(e)}}(this)),this.search_field.on("focus.chosen",function(t){return function(e){t.input_focus(e)}}(this)),this.search_field.on("cut.chosen",function(t){return function(e){t.clipboard_event_checker(e)}}(this)),this.search_field.on("paste.chosen",function(t){return function(e){t.clipboard_event_checker(e)}}(this)),this.is_multiple?this.search_choices.on("click.chosen",function(t){return function(e){t.choices_click(e)}}(this)):this.container.on("click.chosen",(function(t){t.preventDefault()}))},i.prototype.destroy=function(){return t(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),this.form_field_label.length>0&&this.form_field_label.off("click.chosen"),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field.disabled||this.form_field_jq.parents("fieldset").is(":disabled"),this.container.toggleClass("chosen-disabled",this.is_disabled),this.search_field[0].disabled=this.is_disabled,this.is_multiple||this.selected_item.off("focus.chosen",this.activate_field),this.is_disabled?this.close_field():this.is_multiple?void 0:this.selected_item.on("focus.chosen",this.activate_field)},i.prototype.container_mousedown=function(e){var i;if(!this.is_disabled)return!e||"mousedown"!==(i=e.type)&&"touchstart"!==i||this.results_showing||e.preventDefault(),null!=e&&t(e.target).hasClass("search-choice-close")?void 0:(this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(this.container[0].ownerDocument).on("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},i.prototype.container_mouseup=function(t){if("ABBR"===t.target.nodeName&&!this.is_disabled)return this.results_reset(t)},i.prototype.search_results_mousewheel=function(t){var e;if(t.originalEvent&&(e=t.originalEvent.deltaY||-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e)return t.preventDefault(),"DOMMouseScroll"===t.type&&(e*=40),this.search_results.scrollTop(e+this.search_results.scrollTop())},i.prototype.blur_test=function(){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},i.prototype.close_field=function(){return t(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale(),this.search_field.blur()},i.prototype.activate_field=function(){if(!this.is_disabled)return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},i.prototype.test_active_click=function(e){var i;return(i=t(e.target).closest(".chosen-container")).length&&this.container[0]===i[0]?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=n.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},i.prototype.result_do_highlight=function(t){var e,i,n,r,o;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),r=(n=parseInt(this.search_results.css("maxHeight"),10))+(o=this.search_results.scrollTop()),(e=(i=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight())>=r)return this.search_results.scrollTop(e-n>0?e-n:0);if(i<o)return this.search_results.scrollTop(i)}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.get_search_field_value()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},i.prototype.update_results_content=function(t){return this.search_results.html(t)},i.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},i.prototype.set_tab_index=function(){var t;if(this.form_field.tabIndex)return t=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=t},i.prototype.set_label_behavior=function(){if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0)return this.form_field_label.on("click.chosen",this.label_click_handler)},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(e){var i;if((i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first()).length)return this.result_highlight=i,this.result_select(e),this.search_field.focus()},i.prototype.search_results_mouseover=function(e){var i;if(i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first())return this.result_do_highlight(i)},i.prototype.search_results_mouseout=function(e){if(t(e.target).hasClass("active-result")||t(e.target).parents(".active-result").first())return this.result_clear_highlight()},i.prototype.choice_build=function(e){var i,n;return i=t("<li />",{class:"search-choice"}).html("<span>"+this.choice_label(e)+"</span>"),e.disabled?i.addClass("search-choice-disabled"):((n=t("<a />",{class:"search-choice-close","data-option-array-index":e.array_index})).on("click.chosen",function(t){return function(e){return t.choice_destroy_link_click(e)}}(this)),i.append(n)),this.search_container.before(i)},i.prototype.choice_destroy_link_click=function(e){if(e.preventDefault(),e.stopPropagation(),!this.is_disabled)return this.choice_destroy(t(e.target))},i.prototype.choice_destroy=function(t){if(this.result_deselect(t[0].getAttribute("data-option-array-index")))return this.active_field?this.search_field.focus():this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.get_search_field_value().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()},i.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.trigger_form_field_change(),this.active_field)return this.results_hide()},i.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},i.prototype.result_select=function(t){var e,i;if(this.result_highlight)return e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),e.addClass("result-selected"),(i=this.results_data[e[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(this.choice_label(i)),this.is_multiple&&(!this.hide_results_on_select||t.metaKey||t.ctrlKey)?t.metaKey||t.ctrlKey?this.winnow_results({skip_highlight:!0}):(this.search_field.val(""),this.winnow_results()):(this.results_hide(),this.show_search_field_default()),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.trigger_form_field_change({selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,t.preventDefault(),this.search_field_scale())},i.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(t)},i.prototype.result_deselect=function(t){var e;return e=this.results_data[t],!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.trigger_form_field_change({deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},i.prototype.get_search_field_value=function(){return this.search_field.val()},i.prototype.get_search_text=function(){return t.trim(this.get_search_field_value())},i.prototype.escape_html=function(e){return t("<div/>").text(e).html()},i.prototype.winnow_results_set_highlight=function(){var t,e;if(null!=(t=(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?e.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(t)},i.prototype.no_results=function(t){var e;return e=this.get_no_results_html(t),this.search_results.append(e),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},i.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last()).length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.search_field_scale=function(){var e,i,n,r,o,s,a;if(this.is_multiple){for(o={position:"absolute",left:"-1000px",top:"-1000px",display:"none",whiteSpace:"pre"},i=0,n=(s=["fontSize","fontStyle","fontWeight","fontFamily","lineHeight","textTransform","letterSpacing"]).length;i<n;i++)o[r=s[i]]=this.search_field.css(r);return(e=t("<div />").css(o)).text(this.get_search_field_value()),t("body").append(e),a=e.width()+25,e.remove(),this.container.is(":visible")&&(a=Math.min(this.container.outerWidth()-10,a)),this.search_field.width(a)}},i.prototype.trigger_form_field_change=function(t){return this.form_field_jq.trigger("input",t),this.form_field_jq.trigger("change",t)},i}()}.call(this),function(t){t.widget("ui.multiselect",{options:{sortable:!0,searchable:!0,doubleClickable:!0,animated:"fast",show:"slideDown",hide:"slideUp",dividerLocation:.6,availableFirst:!1,nodeComparator:function(t,e){var i=t.text(),n=e.text();return i==n?0:i<n?-1:1}},_create:function(){this.element.hide(),this.id=this.element.attr("id"),this.container=t('<div class="ui-multiselect ui-helper-clearfix ui-widget"></div>').insertAfter(this.element),this.count=0,this.selectedContainer=t('<div class="selected"></div>').appendTo(this.container),this.availableContainer=t('<div class="available"></div>')[this.options.availableFirst?"prependTo":"appendTo"](this.container),this.selectedActions=t('<div class="actions ui-widget-header ui-helper-clearfix"><span class="count">0 '+t.ui.multiselect.locale.itemsCount+'</span><a href="#" class="remove-all">'+t.ui.multiselect.locale.removeAll+"</a></div>").appendTo(this.selectedContainer),this.availableActions=t('<div class="actions ui-widget-header ui-helper-clearfix"><input type="text" class="search empty ui-widget-content ui-corner-all"/><a href="#" class="add-all">'+t.ui.multiselect.locale.addAll+"</a></div>").appendTo(this.availableContainer),this.selectedList=t('<ul class="selected connected-list"><li class="ui-helper-hidden-accessible"></li></ul>').bind("selectstart",(function(){return!1})).appendTo(this.selectedContainer),this.availableList=t('<ul class="available connected-list"><li class="ui-helper-hidden-accessible"></li></ul>').bind("selectstart",(function(){return!1})).appendTo(this.availableContainer);var e=this;this.container.width(this.element.width()+1),this.selectedContainer.width(Math.floor(this.element.width()*this.options.dividerLocation)),this.availableContainer.width(Math.floor(this.element.width()*(1-this.options.dividerLocation))),this.selectedList.height(Math.max(this.element.height()-this.selectedActions.height(),1)),this.availableList.height(Math.max(this.element.height()-this.availableActions.height(),1)),this.options.animated||(this.options.show="show",this.options.hide="hide"),this.useProp=!!t.fn.prop,this._populateLists(this.element.find("option")),this.options.sortable&&this.selectedList.sortable({placeholder:"ui-state-highlight",axis:"y",update:function(){e.selectedList.find("li").each((function(){t(this).data("optionLink")&&t(this).data("optionLink").remove().appendTo(e.element)}))},receive:function(i,n){n.item.data("optionLink")[this.useProp?"prop":"attr"]("selected",!0),e.count+=1,e._updateCount(),e.selectedList.children(".ui-draggable").each((function(){t(this).removeClass("ui-draggable"),t(this).data("optionLink",n.item.data("optionLink")),t(this).data("idx",n.item.data("idx")),e._applyItemState(t(this),!0)})),setTimeout((function(){n.item.remove()}),1)}}),this.options.searchable?this._registerSearchEvents(this.availableContainer.find("input.search")):t(".search").hide(),this.container.find(".remove-all").click((function(){return e._populateLists(e.element.find("option").removeAttr("selected")),!1})),this.container.find(".add-all").click((function(){var i=e.element.find("option").not(":selected");return e.availableList.children("li:hidden").length>1?e.availableList.children("li").each((function(n){t(this).is(":visible")&&t(i[n-1])[e.useProp?"prop":"attr"]("selected",!0)})):i[e.useProp?"prop":"attr"]("selected",!0),e._populateLists(e.element.find("option")),!1}))},destroy:function(){this.element.show(),this.container.remove(),t.Widget.prototype.destroy.apply(this,arguments)},_populateLists:function(e){this.selectedList.children(".ui-element").remove(),this.availableList.children(".ui-element").remove(),this.count=0;var i=this;t(e.map((function(t){var e=i._getOptionNode(this).appendTo(this.selected?i.selectedList:i.availableList).show();return this.selected&&(i.count+=1),i._applyItemState(e,this.selected),e.data("idx",t),e[0]})));this._updateCount(),i._filter.apply(this.availableContainer.find("input.search"),[i.availableList])},_updateCount:function(){this.element.trigger("change"),this.selectedContainer.find("span.count").text(this.count+" "+t.ui.multiselect.locale.itemsCount)},_getOptionNode:function(e){e=t(e);var i=t('<li class="ui-state-default ui-element" title="'+e.text()+'"><span class="ui-icon"/>'+e.text()+'<a href="#" class="action"><span class="ui-corner-all ui-icon"/></a></li>').hide();return i.data("optionLink",e),i},_cloneWithData:function(t){var e=t.clone(!1,!1);return e.data("optionLink",t.data("optionLink")),e.data("idx",t.data("idx")),e},_setSelected:function(e,i){if(e.data("optionLink")[this.useProp?"prop":"attr"]("selected",i),i){var n=this._cloneWithData(e);return e[this.options.hide](this.options.animated,(function(){t(this).remove()})),n.appendTo(this.selectedList).hide()[this.options.show](this.options.animated),this._applyItemState(n,!0),n}var r=this.availableList.find("li"),o=this.options.nodeComparator,s=null,a=e.data("idx"),l=o(e,t(r[a]));if(l){for(;a>=0&&a<r.length;)if(l>0?a++:a--,l!=o(e,t(r[a]))){s=r[l>0?a:a+1];break}}else s=r[a];var c=this._cloneWithData(e);return s?c.insertBefore(t(s)):c.appendTo(this.availableList),e[this.options.hide](this.options.animated,(function(){t(this).remove()})),c.hide()[this.options.show](this.options.animated),this._applyItemState(c,!1),c},_applyItemState:function(t,e){e?(this.options.sortable?t.children("span").addClass("ui-icon-arrowthick-2-n-s").removeClass("ui-helper-hidden").addClass("ui-icon"):t.children("span").removeClass("ui-icon-arrowthick-2-n-s").addClass("ui-helper-hidden").removeClass("ui-icon"),t.find("a.action span").addClass("ui-icon-minus").removeClass("ui-icon-plus"),this._registerRemoveEvents(t.find("a.action"))):(t.children("span").removeClass("ui-icon-arrowthick-2-n-s").addClass("ui-helper-hidden").removeClass("ui-icon"),t.find("a.action span").addClass("ui-icon-plus").removeClass("ui-icon-minus"),this._registerAddEvents(t.find("a.action"))),this._registerDoubleClickEvents(t),this._registerHoverEvents(t)},_filter:function(e){var i=t(this),n=e.children("li"),r=n.map((function(){return t(this).text().toLowerCase()})),o=t.trim(i.val().toLowerCase()),s=[];o?(n.hide(),r.each((function(t){this.indexOf(o)>-1&&s.push(t)})),t.each(s,(function(){t(n[this]).show()}))):n.show()},_registerDoubleClickEvents:function(e){this.options.doubleClickable&&e.dblclick((function(i){0===t(i.target).closest(".action").length&&e.find("a.action").click()}))},_registerHoverEvents:function(e){e.removeClass("ui-state-hover"),e.mouseover((function(){t(this).addClass("ui-state-hover")})),e.mouseout((function(){t(this).removeClass("ui-state-hover")}))},_registerAddEvents:function(e){var i=this;e.click((function(){i._setSelected(t(this).parent(),!0);return i.count+=1,i._updateCount(),!1})),this.options.sortable&&e.each((function(){t(this).parent().draggable({connectToSortable:i.selectedList,helper:function(){var e=i._cloneWithData(t(this)).width(t(this).width()-50);return e.width(t(this).width()),e},appendTo:i.container,containment:i.container,revert:"invalid"})}))},_registerRemoveEvents:function(e){var i=this;e.click((function(){return i._setSelected(t(this).parent(),!1),i.count-=1,i._updateCount(),!1}))},_registerSearchEvents:function(e){var i=this;e.focus((function(){t(this).addClass("ui-state-active")})).blur((function(){t(this).removeClass("ui-state-active")})).keypress((function(t){if(13==t.keyCode)return!1})).keyup((function(){i._filter.apply(this,[i.availableList])}))}}),t.extend(t.ui.multiselect,{locale:{addAll:"Add all",removeAll:"Remove all",itemsCount:"items selected"}})}(jQuery),function(t,e){"use strict";"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.Headroom=e()}(this,(function(){"use strict";function t(t){this.callback=t,this.ticking=!1}function e(t){return t&&"undefined"!=typeof window&&(t===window||t.nodeType)}function i(t){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var n,r,o=t||{};for(r=1;r<arguments.length;r++){var s=arguments[r]||{};for(n in s)"object"!=typeof o[n]||e(o[n])?o[n]=o[n]||s[n]:o[n]=i(o[n],s[n])}return o}function n(t){return t===Object(t)?t:{down:t,up:t}}function r(t,e){e=i(e,r.options),this.lastKnownScrollY=0,this.elem=t,this.tolerance=n(e.tolerance),this.classes=e.classes,this.offset=e.offset,this.scroller=e.scroller,this.initialised=!1,this.onPin=e.onPin,this.onUnpin=e.onUnpin,this.onTop=e.onTop,this.onNotTop=e.onNotTop,this.onBottom=e.onBottom,this.onNotBottom=e.onNotBottom}var o={bind:!!function(){}.bind,classList:"classList"in document.documentElement,rAF:!!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)};return window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,t.prototype={constructor:t,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},r.prototype={constructor:r,init:function(){if(r.cutsTheMustard)return this.debouncer=new t(this.update.bind(this)),this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this},destroy:function(){var t=this.classes;for(var e in this.initialised=!1,t)t.hasOwnProperty(e)&&this.elem.classList.remove(t[e]);this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var t=this.elem.classList,e=this.classes
;!t.contains(e.pinned)&&t.contains(e.unpinned)||(t.add(e.unpinned),t.remove(e.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var t=this.elem.classList,e=this.classes;t.contains(e.unpinned)&&(t.remove(e.unpinned),t.add(e.pinned),this.onPin&&this.onPin.call(this))},top:function(){var t=this.elem.classList,e=this.classes;t.contains(e.top)||(t.add(e.top),t.remove(e.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notTop)||(t.add(e.notTop),t.remove(e.top),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){var t=this.elem.classList,e=this.classes;t.contains(e.bottom)||(t.add(e.bottom),t.remove(e.notBottom),this.onBottom&&this.onBottom.call(this))},notBottom:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notBottom)||(t.add(e.notBottom),t.remove(e.bottom),this.onNotBottom&&this.onNotBottom.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getElementPhysicalHeight:function(t){return Math.max(t.offsetHeight,t.clientHeight)},getScrollerPhysicalHeight:function(){return this.scroller===window||this.scroller===document.body?this.getViewportHeight():this.getElementPhysicalHeight(this.scroller)},getDocumentHeight:function(){var t=document.body,e=document.documentElement;return Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,t.clientHeight,e.clientHeight)},getElementHeight:function(t){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},getScrollerHeight:function(){return this.scroller===window||this.scroller===document.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(t){var e=t<0,i=t+this.getScrollerPhysicalHeight()>this.getScrollerHeight();return e||i},toleranceExceeded:function(t,e){return Math.abs(t-this.lastKnownScrollY)>=this.tolerance[e]},shouldUnpin:function(t,e){var i=t>this.lastKnownScrollY,n=t>=this.offset;return i&&n&&e},shouldPin:function(t,e){var i=t<this.lastKnownScrollY,n=t<=this.offset;return i&&e||n},update:function(){var t=this.getScrollY(),e=t>this.lastKnownScrollY?"down":"up",i=this.toleranceExceeded(t,e);this.isOutOfBounds(t)||(t<=this.offset?this.top():this.notTop(),t+this.getViewportHeight()>=this.getScrollerHeight()?this.bottom():this.notBottom(),this.shouldUnpin(t,i)?this.unpin():this.shouldPin(t,i)&&this.pin(),this.lastKnownScrollY=t)}},r.options={tolerance:{up:0,down:0},offset:0,scroller:window,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},r.cutsTheMustard=void 0!==o&&o.rAF&&o.bind&&o.classList,r})),$.fn.removeClassRegEx=function(t){var e=$(this),i=e.attr("class");if(!i||!t)return!1;for(var n=[],r=0,o=(i=i.split(" ")).length;r<o;r++)i[r].match(t)||n.push(i[r]);return e.attr("class",n.join(" ")),e},function(t){var e=function(){"use strict";var t="s",i={DAY:864e5,HOUR:36e5,MINUTE:6e4,SECOND:1e3,BASELINE_YEAR:2014,MAX_SCORE:864e6,AMBIGUITIES:{"America/Denver":["America/Mazatlan"],"Europe/London":["Africa/Casablanca"],"America/Chicago":["America/Mexico_City"],"America/Asuncion":["America/Campo_Grande","America/Santiago"],"America/Montevideo":["America/Sao_Paulo","America/Santiago"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Europe/Helsinki","Asia/Damascus","Africa/Cairo","Asia/Gaza","Europe/Minsk"],"Pacific/Auckland":["Pacific/Fiji"],"America/Los_Angeles":["America/Santa_Isabel"],"America/New_York":["America/Havana"],"America/Halifax":["America/Goose_Bay"],"America/Godthab":["America/Miquelon"],"Asia/Dubai":["Asia/Yerevan"],"Asia/Jakarta":["Asia/Krasnoyarsk"],"Asia/Shanghai":["Asia/Irkutsk","Australia/Perth"],"Australia/Sydney":["Australia/Lord_Howe"],"Asia/Tokyo":["Asia/Yakutsk"],"Asia/Dhaka":["Asia/Omsk"],"Asia/Baku":["Asia/Yerevan"],"Australia/Brisbane":["Asia/Vladivostok"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Majuro":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk","Europe/Moscow"],"Asia/Karachi":["Asia/Yekaterinburg"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]}},n=function(t){var e=-t.getTimezoneOffset();return null!==e?e:0},r=function(){var e=n(new Date(i.BASELINE_YEAR,0,2)),r=n(new Date(i.BASELINE_YEAR,5,2)),o=e-r;return 0>o?e+",1":o>0?r+",1,"+t:e+",0"},o=function(){var t,e;if("undefined"!=typeof Intl&&void 0!==Intl.DateTimeFormat&&(void 0!==(t=Intl.DateTimeFormat())&&void 0!==t.resolvedOptions))return(e=t.resolvedOptions().timeZone)&&(e.indexOf("/")>-1||"UTC"===e)?e:void 0},s=function(t){for(var e=new Date(t,0,1,0,0,1,0).getTime(),i=new Date(t,12,31,23,59,59).getTime(),n=e,r=new Date(n).getTimezoneOffset(),o=null,s=null;i-864e5>n;){var l=new Date(n),c=l.getTimezoneOffset();c!==r&&(r>c&&(o=l),c>r&&(s=l),r=c),n+=864e5}return!(!o||!s)&&{s:a(o).getTime(),e:a(s).getTime()}},a=function t(e,n,r){void 0===n&&(n=i.DAY,r=i.HOUR);for(var o=new Date(e.getTime()-n).getTime(),s=e.getTime()+n,a=new Date(o).getTimezoneOffset(),l=o,c=null;s-r>l;){var u=new Date(l);if(u.getTimezoneOffset()!==a){c=u;break}l+=r}return n===i.DAY?t(c,i.HOUR,i.MINUTE):n===i.HOUR?t(c,i.MINUTE,i.SECOND):c},l=function(t,e,i,n){if("N/A"!==i)return i;if("Asia/Beirut"===e){if("Africa/Cairo"===n.name&&13983768e5===t[6].s&&14116788e5===t[6].e)return 0;if("Asia/Jerusalem"===n.name&&13959648e5===t[6].s&&14118588e5===t[6].e)return 0}else if("America/Santiago"===e){if("America/Asuncion"===n.name&&14124816e5===t[6].s&&1397358e6===t[6].e)return 0;if("America/Campo_Grande"===n.name&&14136912e5===t[6].s&&13925196e5===t[6].e)return 0}else if("America/Montevideo"===e){if("America/Sao_Paulo"===n.name&&14136876e5===t[6].s&&1392516e6===t[6].e)return 0}else if("Pacific/Auckland"===e&&"Pacific/Fiji"===n.name&&14142456e5===t[6].s&&13961016e5===t[6].e)return 0;return i},c=function(t,n){for(var r=function(e){for(var r=0,o=0;o<t.length;o++)if(e.rules[o]&&t[o]){if(!(t[o].s>=e.rules[o].s&&t[o].e<=e.rules[o].e)){r="N/A";break}if(r=0,r+=Math.abs(t[o].s-e.rules[o].s),(r+=Math.abs(e.rules[o].e-t[o].e))>i.MAX_SCORE){r="N/A";break}}return l(t,n,r,e)},o={},s=e.olson.dst_rules.zones,a=s.length,c=i.AMBIGUITIES[n],u=0;a>u;u++){var d=s[u],h=r(s[u]);"N/A"!==h&&(o[d.name]=h)}for(var p in o)if(o.hasOwnProperty(p))for(var f=0;f<c.length;f++)if(c[f]===p)return p;return n},u=function(t){var i=function(){for(var t=[],i=0;i<e.olson.dst_rules.years.length;i++){var n=s(e.olson.dst_rules.years[i]);t.push(n)}return t},n=function(t){for(var e=0;e<t.length;e++)if(!1!==t[e])return!0;return!1},r=i();return n(r)?c(r,t):t},d=function(){var t=o();return t||(t=e.olson.timezones[r()],void 0!==i.AMBIGUITIES[t]&&(t=u(t))),{name:function(){return t}}};return{determine:d}}();e.olson=e.olson||{},e.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-660,1,s":"Pacific/Apia","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Asuncion","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Majuro","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},e.olson.dst_rules={years:[2008,2009,2010,2011,2012,2013,2014],zones:[{name:"Africa/Cairo",rules:[{e:12199572e5,s:12090744e5},{e:1250802e6,s:1240524e6},{e:12858804e5,s:12840696e5},!1,!1,!1,{e:14116788e5,s:1406844e6}]},{name:"Africa/Casablanca",rules:[{e:12202236e5,s:12122784e5},{e:12508092e5,s:12438144e5},{e:1281222e6,s:12727584e5},{e:13120668e5,s:13017888e5},{e:13489704e5,s:1345428e6},{e:13828392e5,s:13761e8},{e:14142888e5,s:14069448e5}]},{name:"America/Asuncion",rules:[{e:12050316e5,s:12243888e5},{e:12364812e5,s:12558384e5},{e:12709548e5,s:12860784e5},{e:13024044e5,s:1317528e6},{e:1333854e6,s:13495824e5},{e:1364094e6,s:1381032e6},{e:13955436e5,s:14124816e5}]},{name:"America/Campo_Grande",rules:[{e:12032172e5,s:12243888e5},{e:12346668e5,s:12558384e5},{e:12667212e5,s:1287288e6},{e:12981708e5,s:13187376e5},{e:13302252e5,s:1350792e6},{e:136107e7,s:13822416e5},{e:13925196e5,s:14136912e5}]},{name:"America/Goose_Bay",rules:[{e:122559486e4,s:120503526e4},{e:125704446e4,s:123648486e4},{e:128909886e4,s:126853926e4},{e:13205556e5,s:129998886e4},{e:13520052e5,s:13314456e5},{e:13834548e5,s:13628952e5},{e:14149044e5,s:13943448e5}]},{name:"America/Havana",rules:[{e:12249972e5,s:12056436e5},{e:12564468e5,s:12364884e5},{e:12885012e5,s:12685428e5},{e:13211604e5,s:13005972e5},{e:13520052e5,s:13332564e5},{e:13834548e5,s:13628916e5},{e:14149044e5,s:13943412e5}]},{name:"America/Mazatlan",rules:[{e:1225008e6,s:12074724e5},{e:12564576e5,s:1238922e6},{e:1288512e6,s:12703716e5},{e:13199616e5,s:13018212e5},{e:13514112e5,s:13332708e5},{e:13828608e5,s:13653252e5},{e:14143104e5,s:13967748e5}]},{name:"America/Mexico_City",rules:[{e:12250044e5,s:12074688e5},{e:1256454e6,s:12389184e5},{e:12885084e5,s:1270368e6},{e:1319958e6,s:13018176e5},{e:13514076e5,s:13332672e5},{e:13828572e5,s:13653216e5},{e:14143068e5,s:13967712e5}]},{name:"America/Miquelon",rules:[{e:12255984e5,s:12050388e5},{e:1257048e6,s:12364884e5},{e:12891024e5,s:12685428e5},{e:1320552e6,s:12999924e5},{e:13520016e5,s:1331442e6},{e:13834512e5,s:13628916e5},{e:14149008e5,s:13943412e5}]},{name:"America/Santa_Isabel",rules:[{e:12250116e5,s:1207476e6},{e:12564612e5,s:12389256e5},{e:12885156e5,s:12703752e5},{e:13199652e5,s:13018248e5},{e:13514148e5,s:13332744e5},{e:13828644e5,s:13653288e5},{e:1414314e6,s:13967784e5}]},{name:"America/Santiago",rules:[{e:1206846e6,s:1223784e6},{e:1237086e6,s:12552336e5},{e:127035e7,s:12866832e5},{e:13048236e5,s:13138992e5},{e:13356684e5,s:13465584e5},{e:1367118e6,s:13786128e5},{e:13985676e5,s:14100624e5}]},{name:"America/Sao_Paulo",rules:[{e:12032136e5,s:12243852e5},{e:12346632e5,s:12558348e5},{e:12667176e5,s:12872844e5},{e:12981672e5,s:1318734e6},{e:13302216e5,s:13507884e5},{e:13610664e5,s:1382238e6},{e:1392516e6,s:14136876e5}]},{name:"Asia/Amman",rules:[{e:1225404e6,s:12066552e5},{e:12568536e5,s:12381048e5},{e:12883032e5,s:12695544e5},{e:13197528e5,s:13016088e5},!1,!1,{e:14147064e5,s:13959576e5}]},{name:"Asia/Damascus",rules:[{e:12254868e5,s:120726e7},{e:125685e7,s:12381048e5},{e:12882996e5,s:12701592e5},{e:13197492e5,s:13016088e5},{e:13511988e5,s:13330584e5},{e:13826484e5,s:1364508e6},{e:14147028e5,s:13959576e5}]},{name:"Asia/Dubai",rules:[!1,!1,!1,!1,!1,!1,!1]},{name:"Asia/Gaza",rules:[{e:12199572e5,s:12066552e5},{e:12520152e5,s:12381048e5},{e:1281474e6,s:126964086e4},{e:1312146e6,s:130160886e4},{e:13481784e5,s:13330584e5},{e:13802292e5,s:1364508e6},{e:1414098e6,s:13959576e5}]},{name:"Asia/Irkutsk",rules:[{e:12249576e5,s:12068136e5},{e:12564072e5,s:12382632e5},{e:12884616e5,s:12697128e5},!1,!1,!1,!1]},{name:"Asia/Jerusalem",rules:[{e:12231612e5,s:12066624e5},{e:1254006e6,s:1238112e6},{e:1284246e6,s:12695616e5},{e:131751e7,s:1301616e6},{e:13483548e5,s:13330656e5},{e:13828284e5,s:13645152e5},{e:1414278e6,s:13959648e5}]},{name:"Asia/Kamchatka",rules:[{e:12249432e5,s:12067992e5},{e:12563928e5,s:12382488e5},{e:12884508e5,s:12696984e5},!1,!1,!1,!1]},{name:"Asia/Krasnoyarsk",rules:[{e:12249612e5,s:12068172e5},{e:12564108e5,s:12382668e5},{e:12884652e5,s:12697164e5},!1,!1,!1,!1]},{name:"Asia/Omsk",rules:[{e:12249648e5,s:12068208e5},{e:12564144e5,s:12382704e5},{e:12884688e5,s:126972e7},!1,!1,!1,!1]},{name:"Asia/Vladivostok",rules:[{e:12249504e5,s:12068064e5},{e:12564e8,s:1238256e6},{e:12884544e5,s:12697056e5},!1,!1,!1,!1]},{name:"Asia/Yakutsk",rules:[{e:1224954e6,s:120681e7},{e:12564036e5,s:12382596e5},{e:1288458e6,s:12697092e5},!1,!1,!1,!1]},{name:"Asia/Yekaterinburg",rules:[{e:12249684e5,s:12068244e5},{e:1256418e6,s:1238274e6},{e:12884724e5,s:12697236e5},!1,!1,!1,!1]},{name:"Asia/Yerevan",rules:[{e:1224972e6,s:1206828e6},{e:12564216e5,s:12382776e5},{e:1288476e6,s:12697272e5},{e:13199256e5,s:13011768e5},!1,!1,!1]},{name:"Australia/Lord_Howe",rules:[{e:12074076e5,s:12231342e5},{e:12388572e5,s:12545838e5},{e:12703068e5,s:12860334e5},{e:13017564e5,s:1317483e6},{e:1333206e6,s:13495374e5},{e:13652604e5,s:1380987e6},{e:139671e7,s:14124366e5}]},{name:"Australia/Perth",rules:[{e:12068136e5,s:12249576e5},!1,!1,!1,!1,!1,!1]},{name:"Europe/Helsinki",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]},{name:"Europe/Minsk",rules:[{e:12249792e5,s:12068352e5},{e:12564288e5,s:12382848e5},{e:12884832e5,s:12697344e5},!1,!1,!1,!1]},{name:"Europe/Moscow",rules:[{e:12249756e5,s:12068316e5},{e:12564252e5,s:12382812e5},{e:12884796e5,s:12697308e5},!1,!1,!1,!1]},{name:"Pacific/Apia",rules:[!1,!1,!1,{e:13017528e5,s:13168728e5},{e:13332024e5,s:13489272e5},{e:13652568e5,s:13803768e5},{e:13967064e5,s:14118264e5}]},{name:"Pacific/Fiji",rules:[!1,!1,{e:12696984e5,s:12878424e5},{e:13271544e5,s:1319292e6},{e:1358604e6,s:13507416e5},{e:139005e7,s:1382796e6},{e:14215032e5,s:14148504e5}]},{name:"Europe/London",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]}]},"undefined"!=typeof module&&void 0!==module.exports?module.exports=e:"undefined"!=typeof define&&null!==define&&null!=define.amd?define([],(function(){return e})):void 0===t?window.jstz=e:t.jstz=e}(),function(t){"use strict";function e(e){var i,n=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(n)}function i(e){return this.each((function(){var i=t(this),r=i.data("bs.drawer"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!r&&o.toggle&&"show"==e&&(o.toggle=!1),r||i.data("bs.drawer",r=new n(this,o)),"string"==typeof e&&r[e]()}))}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.$trigger=t(this.options.trigger).filter('[href="#'+e.id+'"], [data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndDrawerdClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.2",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0,trigger:'[data-toggle="drawer"]'},n.prototype.dimension=function(){return this.$element.hasClass("drawer-right")?"margin-right":"margin-left"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("open")){var e,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(e=r.data("bs.drawer"))&&e.transitioning)){var o=t.Event("show.bs.drawer");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(i.call(r,"hide"),e||r.data("bs.drawer",null));var s=this.dimension();this.$element.addClass("folding").css(s,0).attr("aria-expanded",!0),this.$trigger.removeClass("folded").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("folding").addClass("fold open").css(s,""),this.transitioning=0,this.$element.trigger("shown.bs.drawer")};if(!t.support.transition)return a.call(this);this.transEventName=t.support.transition.end,this.$element.one(this.transEventName,t.proxy(a,this)).emulateTransitionEnd(n.TRANSITION_DURATION).css(s,0)}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("open")){var e=t.Event("hide.bs.drawer");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element.addClass("folding").removeClass("open").attr("aria-expanded",!1),this.$trigger.addClass("folded").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("folding").addClass("fold").trigger("hidden.bs.drawer")};if(!t.support.transition)return r.call(this);this.transEventName=t.support.transition.end,this.$element.css(i,"").one(this.transEventName,t.proxy(r,this)).emulateTransitionEnd(n.TRANSITION_DURATION)}}},n.prototype.toggle=function(){this[this.$element.hasClass("open")?"hide":"show"]()},n.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="drawer"][data-parent="'+this.options.parent+'"]').each(t.proxy((function(i,n){var r=t(n);this.addAriaAndDrawerdClass(e(r),r)}),this)).end()},n.prototype.addAriaAndDrawerdClass=function(t,e){var i=t.hasClass("open");t.attr("aria-expanded",i),e.toggleClass("folded",!i).attr("aria-expanded",i)};var r=t.fn.fold;t.fn.drawer=i,t.fn.drawer.Constructor=n,t.fn.drawer.noConflict=function(){return t.fn.fold=r,this},t(document).on("click.bs.drawer.data-api",'[data-toggle="drawer"]',(function(n){var r=t(this);r.attr("data-target")||n.preventDefault();var o=e(r),s=o.data("bs.drawer")?"toggle":t.extend({},r.data(),{trigger:this});i.call(o,s)}))}(window.jQuery||{}),function(t,e){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define((function(){return e()})):t.pluralize=e()}(this,(function(){function t(t){return"string"==typeof t?new RegExp("^"+t+"$","i"):t}function e(t,e){return t===e?e:t===t.toLowerCase()?e.toLowerCase():t===t.toUpperCase()?e.toUpperCase():t[0]===t[0].toUpperCase()?e.charAt(0).toUpperCase()+e.substr(1).toLowerCase():e.toLowerCase()}function i(t,e){return t.replace(/\$(\d{1,2})/g,(function(t,i){return e[i]||""}))}function n(t,n){return t.replace(n[0],(function(r,o){var s=i(n[1],arguments);return e(""===r?t[o-1]:r,s)}))}function r(t,e,i){if(!t.length||u.hasOwnProperty(t))return e;for(var r=i.length;r--;){var o=i[r];if(o[0].test(e))return n(e,o)}return e}function o(t,i,n){return function(o){var s=o.toLowerCase();return i.hasOwnProperty(s)?e(o,s):t.hasOwnProperty(s)?e(o,t[s]):r(s,o,n)}}function s(t,e,i){return function(n){var o=n.toLowerCase();return!!e.hasOwnProperty(o)||!t.hasOwnProperty(o)&&r(o,o,i)===o}}function a(t,e,i){return(i?e+" ":"")+(1===e?a.singular(t):a.plural(t))}var l=[],c=[],u={},d={},h={};return a.plural=o(h,d,l),a.isPlural=s(h,d,l),a.singular=o(d,h,c),a.isSingular=s(d,h,c),a.addPluralRule=function(e,i){l.push([t(e),i])},a.addSingularRule=function(e,i){c.push([t(e),i])},a.addUncountableRule=function(t){"string"!=typeof t?(a.addPluralRule(t,"$0"),a.addSingularRule(t,"$0")):u[t.toLowerCase()]=!0},a.addIrregularRule=function(t,e){e=e.toLowerCase(),t=t.toLowerCase(),h[t]=e,d[e]=t},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach((function(t){return a.addIrregularRule(t[0],t[1])})),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach((function(t){return a.addPluralRule(t[0],t[1])})),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/(dg|ss|ois|lk|ok|wn|mb|th|ch|ec|oal|is|ec|ck|ix|sser|ts|wb)ies$/i,"$1ie"],[/\b(l|(?:neck|cross|hog|aun)?t|coll|faer|food|gen|goon|group|hipp|junk|vegg|(?:pork)?p|charl|calor|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach((function(t){return a.addSingularRule(t[0],t[1])})),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[e\xe9]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(a.addUncountableRule),a})),function(t){"use strict";var e=t.tablesorter={version:"2.31.3",parsers:[],widgets:[],defaults:{theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,resort:!0,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",duplicateSpan:!0,textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,initWidgets:!0,widgetClass:"widget-{name}",widgets:[],widgetOptions:{zebra:["even","odd"]},initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssInfoBlock:"tablesorter-infoOnly",cssNoSort:"tablesorter-noSort",cssIgnoreRow:"tablesorter-ignoreRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",cssIconDisabled:"",pointerClick:"click",pointerDown:"mousedown",pointerUp:"mouseup",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[],globalize:0,imgAttr:0},css:{table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",colgroup:"tablesorter-colgroup",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},language:{sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",sortDisabled:"sorting is disabled",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},regex:{templateContent:/\{content\}/g,templateIcon:/\{icon\}/g,templateName:/\{name\}/i,spaces:/\s+/g,nonWord:/\W/g,formElements:/(input|select|button|textarea)/i,chunk:/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i,comma:/,/g,digitNonUS:/[\s|\.]/g,digitNegativeTest:/^\s*\([.\d]+\)/,digitNegativeReplace:/^\s*\(([.\d]+)\)/,digitTest:/^[\-+(]?\d+[)]?$/,digitReplace:/[,.'"\s]/g},string:{max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,null:0,top:!0,bottom:!1},keyCodes:{enter:13},dates:{},instanceMethods:{},setup:function(i,n){if(i&&i.tHead&&0!==i.tBodies.length&&!0!==i.hasInitialized){var r,o="",s=t(i),a=t.metadata;i.hasInitialized=!1,i.isProcessing=!0,i.config=n,t.data(i,"tablesorter",n),e.debug(n,"core")&&(console[console.group?"group":"log"]("Initializing tablesorter v"+e.version),t.data(i,"startoveralltimer",new Date)),n.supportsDataObject=((r=t.fn.jquery.split("."))[0]=parseInt(r[0],10),r[0]>1||1===r[0]&&parseInt(r[1],10)>=4),n.emptyTo=n.emptyTo.toLowerCase(),n.stringTo=n.stringTo.toLowerCase(),n.last={sortList:[],clickedIndex:-1},/tablesorter\-/.test(s.attr("class"))||(o=""!==n.theme?" tablesorter-"+n.theme:""),n.namespace?n.namespace="."+n.namespace.replace(e.regex.nonWord,""):n.namespace=".tablesorter"+Math.random().toString(16).slice(2),n.table=i,n.$table=s.addClass(e.css.table+" "+n.tableClass+o+" "+n.namespace.slice(1)).attr("role","grid"),n.$headers=s.find(n.selectorHeaders),n.$table.children().children("tr").attr("role","row"),n.$tbodies=s.children("tbody:not(."+n.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),n.$table.children("caption").length&&((o=n.$table.children("caption")[0]).id||(o.id=n.namespace.slice(1)+"caption"),n.$table.attr("aria-labelledby",o.id)),n.widgetInit={},n.textExtraction=n.$table.attr("data-text-extraction")||n.textExtraction||"basic",e.buildHeaders(n),e.fixColumnWidth(i),e.addWidgetFromClass(i),e.applyWidgetOptions(i),e.setupParsers(n),n.totalRows=0,n.debug&&e.validateOptions(n),n.delayInit||e.buildCache(n),e.bindEvents(i,n.$headers,!0),e.bindMethods(n),n.supportsDataObject&&void 0!==s.data().sortlist?n.sortList=s.data().sortlist:a&&s.metadata()&&s.metadata().sortlist&&(n.sortList=s.metadata().sortlist),e.applyWidget(i,!0),n.sortList.length>0?(n.last.sortList=n.sortList,e.sortOn(n,n.sortList,{},!n.initWidgets)):(e.setHeadersCss(n),n.initWidgets&&e.applyWidget(i,!1)),n.showProcessing&&s.unbind("sortBegin"+n.namespace+" sortEnd"+n.namespace).bind("sortBegin"+n.namespace+" sortEnd"+n.namespace,(function(t){clearTimeout(n.timerProcessing),e.isProcessing(i),"sortBegin"===t.type&&(n.timerProcessing=setTimeout((function(){e.isProcessing(i,!0)}),500))})),i.hasInitialized=!0,i.isProcessing=!1,e.debug(n,"core")&&(console.log("Overall initialization time:"+e.benchmark(t.data(i,"startoveralltimer"))),e.debug(n,"core")&&console.groupEnd&&console.groupEnd()),s.triggerHandler("tablesorter-initialized",i),"function"==typeof n.initialized&&n.initialized(i)}else e.debug(n,"core")&&(i.hasInitialized?console.warn("Stopping initialization. Tablesorter has already been initialized"):console.error("Stopping initialization! No table, thead or tbody",i))},bindMethods:function(i){var n=i.$table,r=i.namespace,o="sortReset update updateRows updateAll updateHeaders addRows updateCell updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(r+" ");n.unbind(o.replace(e.regex.spaces," ")).bind("sortReset"+r,(function(t,i){t.stopPropagation(),e.sortReset(this.config,(function(t){t.isApplyingWidgets?setTimeout((function(){e.applyWidget(t,"",i)}),100):e.applyWidget(t,"",i)}))})).bind("updateAll"+r,(function(t,i,n){t.stopPropagation(),e.updateAll(this.config,i,n)})).bind("update"+r+" updateRows"+r,(function(t,i,n){t.stopPropagation(),e.update(this.config,i,n)})).bind("updateHeaders"+r,(function(t,i){t.stopPropagation(),e.updateHeaders(this.config,i)})).bind("updateCell"+r,(function(t,i,n,r){t.stopPropagation(),e.updateCell(this.config,i,n,r)})).bind("addRows"+r,(function(t,i,n,r){t.stopPropagation(),e.addRows(this.config,i,n,r)})).bind("updateComplete"+r,(function(){this.isUpdating=!1})).bind("sorton"+r,(function(t,i,n,r){t.stopPropagation(),e.sortOn(this.config,i,n,r)})).bind("appendCache"+r,(function(i,n,r){i.stopPropagation(),e.appendCache(this.config,r),t.isFunction(n)&&n(this)})).bind("updateCache"+r,(function(t,i,n){t.stopPropagation(),e.updateCache(this.config,i,n)})).bind("applyWidgetId"+r,(function(t,i){t.stopPropagation(),e.applyWidgetId(this,i)})).bind("applyWidgets"+r,(function(t,i){t.stopPropagation(),e.applyWidget(this,!1,i)})).bind("refreshWidgets"+r,(function(t,i,n){t.stopPropagation(),e.refreshWidgets(this,i,n)})).bind("removeWidget"+r,(function(t,i,n){t.stopPropagation(),e.removeWidget(this,i,n)})).bind("destroy"+r,(function(t,i,n){t.stopPropagation(),e.destroy(this,i,n)})).bind("resetToLoadState"+r,(function(n){n.stopPropagation(),e.removeWidget(this,!0,!1);var r=t.extend(!0,{},i.originalSettings);(i=t.extend(!0,{},e.defaults,r)).originalSettings=r,this.hasInitialized=!1,e.setup(this,i)}))},bindEvents:function(i,n,r){var o,s=(i=t(i)[0]).config,a=s.namespace,l=null;!0!==r&&(n.addClass(a.slice(1)+"_extra_headers"),(o=e.getClosest(n,"table")).length&&"TABLE"===o[0].nodeName&&o[0]!==i&&t(o[0]).addClass(a.slice(1)+"_extra_table")),o=(s.pointerDown+" "+s.pointerUp+" "+s.pointerClick+" sort keyup ").replace(e.regex.spaces," ").split(" ").join(a+" "),n.find(s.selectorSort).add(n.filter(s.selectorSort)).unbind(o).bind(o,(function(i,n){var r,o,a,c=t(i.target),u=" "+i.type+" ";if(!(1!==(i.which||i.button)&&!u.match(" "+s.pointerClick+" | sort | keyup ")||" keyup "===u&&i.which!==e.keyCodes.enter||u.match(" "+s.pointerClick+" ")&&void 0!==i.which||u.match(" "+s.pointerUp+" ")&&l!==i.target&&!0!==n)){if(u.match(" "+s.pointerDown+" "))return l=i.target,void("1"===(a=c.jquery.split("."))[0]&&a[1]<4&&i.preventDefault());if(l=null,r=e.getClosest(t(this),"."+e.css.header),e.regex.formElements.test(i.target.nodeName)||c.hasClass(s.cssNoSort)||c.parents("."+s.cssNoSort).length>0||r.hasClass("sorter-false")||c.parents("button").length>0)return!s.cancelSelection;s.delayInit&&e.isEmptyObject(s.cache)&&e.buildCache(s),s.last.clickedIndex=r.attr("data-column")||r.index(),
(o=s.$headerIndexed[s.last.clickedIndex][0])&&!o.sortDisabled&&e.initSort(s,o,i)}})),s.cancelSelection&&n.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},buildHeaders:function(i){var n,r,o,s;for(i.headerList=[],i.headerContent=[],i.sortVars=[],e.debug(i,"core")&&(o=new Date),i.columns=e.computeColumnIndex(i.$table.children("thead, tfoot").children("tr")),r=i.cssIcon?'<i class="'+(i.cssIcon===e.css.icon?e.css.icon:i.cssIcon+" "+e.css.icon)+'"></i>':"",i.$headers=t(t.map(i.$table.find(i.selectorHeaders),(function(n,o){var s,a,l,c,u,d=t(n);if(!e.getClosest(d,"tr").hasClass(i.cssIgnoreRow))return/(th|td)/i.test(n.nodeName)||(u=e.getClosest(d,"th, td"),d.attr("data-column",u.attr("data-column"))),s=e.getColumnData(i.table,i.headers,o,!0),i.headerContent[o]=d.html(),""===i.headerTemplate||d.find("."+e.css.headerIn).length||(c=i.headerTemplate.replace(e.regex.templateContent,d.html()).replace(e.regex.templateIcon,d.find("."+e.css.icon).length?"":r),i.onRenderTemplate&&(a=i.onRenderTemplate.apply(d,[o,c]))&&"string"==typeof a&&(c=a),d.html('<div class="'+e.css.headerIn+'">'+c+"</div>")),i.onRenderHeader&&i.onRenderHeader.apply(d,[o,i,i.$table]),l=parseInt(d.attr("data-column"),10),n.column=l,u=e.getOrder(e.getData(d,s,"sortInitialOrder")||i.sortInitialOrder),i.sortVars[l]={count:-1,order:u?i.sortReset?[1,0,2]:[1,0]:i.sortReset?[0,1,2]:[0,1],lockedOrder:!1,sortedBy:""},void 0!==(u=e.getData(d,s,"lockedOrder")||!1)&&!1!==u&&(i.sortVars[l].lockedOrder=!0,i.sortVars[l].order=e.getOrder(u)?[1,1]:[0,0]),i.headerList[o]=n,d.addClass(e.css.header+" "+i.cssHeader),e.getClosest(d,"tr").addClass(e.css.headerRow+" "+i.cssHeaderRow).attr("role","row"),i.tabIndex&&d.attr("tabindex",0),n}))),i.$headerIndexed=[],s=0;s<i.columns;s++)e.isEmptyObject(i.sortVars[s])&&(i.sortVars[s]={}),n=i.$headers.filter('[data-column="'+s+'"]'),i.$headerIndexed[s]=n.length?n.not(".sorter-false").length?n.not(".sorter-false").filter(":last"):n.filter(":last"):t();i.$table.find(i.selectorHeaders).attr({scope:"col",role:"columnheader"}),e.updateHeader(i),e.debug(i,"core")&&(console.log("Built headers:"+e.benchmark(o)),console.log(i.$headers))},addInstanceMethods:function(i){t.extend(e.instanceMethods,i)},setupParsers:function(t,i){var n,r,o,s,a,l,c,u,d,h,p,f,g,m,v=t.table,y=0,b=e.debug(t,"core"),_={};if(t.$tbodies=t.$table.children("tbody:not(."+t.cssInfoBlock+")"),0===(m=(g=void 0===i?t.$tbodies:i).length))return b?console.warn("Warning: *Empty table!* Not building a parser cache"):"";for(b&&(f=new Date,console[console.group?"group":"log"]("Detecting parsers for each column")),r={extractors:[],parsers:[]};y<m;){if((n=g[y].rows).length)for(a=0,s=t.columns,l=0;l<s;l++){if((c=t.$headerIndexed[a])&&c.length&&(u=e.getColumnData(v,t.headers,a),p=e.getParserById(e.getData(c,u,"extractor")),h=e.getParserById(e.getData(c,u,"sorter")),d="false"===e.getData(c,u,"parser"),t.empties[a]=(e.getData(c,u,"empty")||t.emptyTo||(t.emptyToBottom?"bottom":"top")).toLowerCase(),t.strings[a]=(e.getData(c,u,"string")||t.stringTo||"max").toLowerCase(),d&&(h=e.getParserById("no-parser")),p||(p=!1),h||(h=e.detectParserForColumn(t,n,-1,a)),b&&(_["("+a+") "+c.text()]={parser:h.id,extractor:p?p.id:"none",string:t.strings[a],empty:t.empties[a]}),r.parsers[a]=h,r.extractors[a]=p,(o=c[0].colSpan-1)>0))for(a+=o,s+=o;o+1>0;)r.parsers[a-o]=h,r.extractors[a-o]=p,o--;a++}y+=r.parsers.length?m:1}b&&(e.isEmptyObject(_)?console.warn("  No parsers detected!"):console[console.table?"table":"log"](_),console.log("Completed detecting parsers"+e.benchmark(f)),console.groupEnd&&console.groupEnd()),t.parsers=r.parsers,t.extractors=r.extractors},addParser:function(t){var i,n=e.parsers.length,r=!0;for(i=0;i<n;i++)e.parsers[i].id.toLowerCase()===t.id.toLowerCase()&&(r=!1);r&&(e.parsers[e.parsers.length]=t)},getParserById:function(t){if("false"==t)return!1;var i,n=e.parsers.length;for(i=0;i<n;i++)if(e.parsers[i].id.toLowerCase()===t.toString().toLowerCase())return e.parsers[i];return!1},detectParserForColumn:function(i,n,r,o){for(var s,a,l,c=e.parsers.length,u=!1,d="",h=e.debug(i,"core"),p=!0;""===d&&p;)(l=n[++r])&&r<50?l.className.indexOf(e.cssIgnoreRow)<0&&(u=n[r].cells[o],d=e.getElementText(i,u,o),a=t(u),h&&console.log("Checking if value was empty on row "+r+", column: "+o+': "'+d+'"')):p=!1;for(;--c>=0;)if((s=e.parsers[c])&&"text"!==s.id&&s.is&&s.is(d,i.table,u,a))return s;return e.getParserById("text")},getElementText:function(i,n,r){if(!n)return"";var o,s=i.textExtraction||"",a=n.jquery?n:t(n);return"string"==typeof s?"basic"===s&&void 0!==(o=a.attr(i.textAttribute))?t.trim(o):t.trim(n.textContent||a.text()):"function"==typeof s?t.trim(s(a[0],i.table,r)):"function"==typeof(o=e.getColumnData(i.table,s,r))?t.trim(o(a[0],i.table,r)):t.trim(a[0].textContent||a.text())},getParsedText:function(t,i,n,r){void 0===r&&(r=e.getElementText(t,i,n));var o=""+r,s=t.parsers[n],a=t.extractors[n];return s&&(a&&"function"==typeof a.format&&(r=a.format(r,t.table,i,n)),o="no-parser"===s.id?"":s.format(""+r,t.table,i,n),t.ignoreCase&&"string"==typeof o&&(o=o.toLowerCase())),o},buildCache:function(i,n,r){var o,s,a,l,c,u,d,h,p,f,g,m,v,y,b,_,w,x,$,C,k,S,j=i.table,T=i.parsers,A=e.debug(i,"core");if(i.$tbodies=i.$table.children("tbody:not(."+i.cssInfoBlock+")"),d=void 0===r?i.$tbodies:r,i.cache={},i.totalRows=0,!T)return A?console.warn("Warning: *Empty table!* Not building a cache"):"";for(A&&(m=new Date),i.showProcessing&&e.isProcessing(j,!0),u=0;u<d.length;u++){for(_=[],o=i.cache[u]={normalized:[]},v=d[u]&&d[u].rows.length||0,l=0;l<v;++l)if(y={child:[],raw:[]},p=[],!(h=t(d[u].rows[l])).hasClass(i.selectorRemove.slice(1)))if(h.hasClass(i.cssChildRow)&&0!==l)for(k=o.normalized.length-1,(b=o.normalized[k][i.columns]).$row=b.$row.add(h),h.prev().hasClass(i.cssChildRow)||h.prev().addClass(e.css.cssHasChild),f=h.children("th, td"),k=b.child.length,b.child[k]=[],x=0,C=i.columns,c=0;c<C;c++)(g=f[c])&&(b.child[k][c]=e.getParsedText(i,g,c),(w=f[c].colSpan-1)>0&&(x+=w,C+=w)),x++;else{for(y.$row=h,y.order=l,x=0,C=i.columns,c=0;c<C;++c){if((g=h[0].cells[c])&&x<i.columns&&(!($=void 0!==T[x])&&A&&console.warn("No parser found for row: "+l+", column: "+c+'; cell containing: "'+t(g).text()+'"; does it have a header?'),s=e.getElementText(i,g,x),y.raw[x]=s,a=e.getParsedText(i,g,x,s),p[x]=a,$&&"numeric"===(T[x].type||"").toLowerCase()&&(_[x]=Math.max(Math.abs(a)||0,_[x]||0)),(w=g.colSpan-1)>0)){for(S=0;S<=w;)a=i.duplicateSpan||0===S?a:"string"!=typeof i.textExtraction&&e.getElementText(i,g,x+S)||"",y.raw[x+S]=a,p[x+S]=a,S++;x+=w,C+=w}x++}p[i.columns]=y,o.normalized[o.normalized.length]=p}o.colMax=_,i.totalRows+=o.normalized.length}if(i.showProcessing&&e.isProcessing(j),A){for(k=Math.min(5,i.cache[0].normalized.length),console[console.group?"group":"log"]("Building cache for "+i.totalRows+" rows (showing "+k+" rows in log) and "+i.columns+" columns"+e.benchmark(m)),s={},c=0;c<i.columns;c++)for(x=0;x<k;x++)s["row: "+x]||(s["row: "+x]={}),s["row: "+x][i.$headerIndexed[c].text()]=i.cache[0].normalized[x][c];console[console.table?"table":"log"](s),console.groupEnd&&console.groupEnd()}t.isFunction(n)&&n(j)},getColumnText:function(i,n,r,o){var s,a,l,c,u,d,h,p,f,g,m="function"==typeof r,v="all"===n,y={raw:[],parsed:[],$cell:[]},b=(i=t(i)[0]).config;if(!e.isEmptyObject(b)){for(u=b.$tbodies.length,s=0;s<u;s++)for(d=(l=b.cache[s].normalized).length,a=0;a<d;a++)c=l[a],o&&!c[b.columns].$row.is(o)||(g=!0,p=v?c.slice(0,b.columns):c[n],c=c[b.columns],h=v?c.raw:c.raw[n],f=v?c.$row.children():c.$row.children().eq(n),m&&(g=r({tbodyIndex:s,rowIndex:a,parsed:p,raw:h,$row:c.$row,$cell:f})),!1!==g&&(y.parsed[y.parsed.length]=p,y.raw[y.raw.length]=h,y.$cell[y.$cell.length]=f));return y}e.debug(b,"core")&&console.warn("No cache found - aborting getColumnText function!")},setHeadersCss:function(i){var n,r,o=i.sortList,s=o.length,a=e.css.sortNone+" "+i.cssNone,l=[e.css.sortAsc+" "+i.cssAsc,e.css.sortDesc+" "+i.cssDesc],c=[i.cssIconAsc,i.cssIconDesc,i.cssIconNone],u=["ascending","descending"],d=function(t,i){t.removeClass(a).addClass(l[i]).attr("aria-sort",u[i]).find("."+e.css.icon).removeClass(c[2]).addClass(c[i])},h=i.$table.find("tfoot tr").children("td, th").add(t(i.namespace+"_extra_headers")).removeClass(l.join(" ")),p=i.$headers.add(t("thead "+i.namespace+"_extra_headers")).removeClass(l.join(" ")).addClass(a).attr("aria-sort","none").find("."+e.css.icon).removeClass(c.join(" ")).end();for(p.not(".sorter-false").find("."+e.css.icon).addClass(c[2]),i.cssIconDisabled&&p.filter(".sorter-false").find("."+e.css.icon).addClass(i.cssIconDisabled),n=0;n<s;n++)if(2!==o[n][1]){if((p=(p=i.$headers.filter((function(t){for(var n=!0,r=i.$headers.eq(t),o=parseInt(r.attr("data-column"),10),s=o+e.getClosest(r,"th, td")[0].colSpan;o<s;o++)n=!!n&&(n||e.isValueInArray(o,i.sortList)>-1);return n}))).not(".sorter-false").filter('[data-column="'+o[n][0]+'"]'+(1===s?":last":""))).length)for(r=0;r<p.length;r++)p[r].sortDisabled||d(p.eq(r),o[n][1]);h.length&&d(h.filter('[data-column="'+o[n][0]+'"]'),o[n][1])}for(s=i.$headers.length,n=0;n<s;n++)e.setColumnAriaLabel(i,i.$headers.eq(n))},getClosest:function(e,i){return t.fn.closest?e.closest(i):e.is(i)?e:e.parents(i).filter(":first")},setColumnAriaLabel:function(i,n,r){if(n.length){var o=parseInt(n.attr("data-column"),10),s=i.sortVars[o],a=n.hasClass(e.css.sortAsc)?"sortAsc":n.hasClass(e.css.sortDesc)?"sortDesc":"sortNone",l=t.trim(n.text())+": "+e.language[a];n.hasClass("sorter-false")||!1===r?l+=e.language.sortDisabled:(a=(s.count+1)%s.order.length,r=s.order[a],l+=e.language[0===r?"nextAsc":1===r?"nextDesc":"nextNone"]),n.attr("aria-label",l),s.sortedBy?n.attr("data-sortedBy",s.sortedBy):n.removeAttr("data-sortedBy")}},updateHeader:function(t){var i,n,r,o,s=t.table,a=t.$headers.length;for(i=0;i<a;i++)r=t.$headers.eq(i),o=e.getColumnData(s,t.headers,i,!0),n="false"===e.getData(r,o,"sorter")||"false"===e.getData(r,o,"parser"),e.setColumnSort(t,r,n)},setColumnSort:function(t,e,i){var n=t.table.id;e[0].sortDisabled=i,e[i?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+i),t.tabIndex&&(i?e.removeAttr("tabindex"):e.attr("tabindex","0")),n&&(i?e.removeAttr("aria-controls"):e.attr("aria-controls",n))},updateHeaderSortCount:function(i,n){var r,o,s,a,l,c,u,d,h=n||i.sortList,p=h.length;for(i.sortList=[],a=0;a<p;a++)if(u=h[a],(r=parseInt(u[0],10))<i.columns){switch(i.sortVars[r].order||(d=e.getOrder(i.sortInitialOrder)?i.sortReset?[1,0,2]:[1,0]:i.sortReset?[0,1,2]:[0,1],i.sortVars[r].order=d,i.sortVars[r].count=0),d=i.sortVars[r].order,o=(o=(""+u[1]).match(/^(1|d|s|o|n)/))?o[0]:""){case"1":case"d":o=1;break;case"s":o=l||0;break;case"o":o=0===(c=d[(l||0)%d.length])?1:1===c?0:2;break;case"n":o=d[++i.sortVars[r].count%d.length];break;default:o=0}l=0===a?o:l,s=[r,parseInt(o,10)||0],i.sortList[i.sortList.length]=s,o=t.inArray(s[1],d),i.sortVars[r].count=o>=0?o:s[1]%d.length}},updateAll:function(t,i,n){var r=t.table;r.isUpdating=!0,e.refreshWidgets(r,!0,!0),e.buildHeaders(t),e.bindEvents(r,t.$headers,!0),e.bindMethods(t),e.commonUpdate(t,i,n)},update:function(t,i,n){t.table.isUpdating=!0,e.updateHeader(t),e.commonUpdate(t,i,n)},updateHeaders:function(t,i){t.table.isUpdating=!0,e.buildHeaders(t),e.bindEvents(t.table,t.$headers,!0),e.resortComplete(t,i)},updateCell:function(i,n,r,o){if(t(n).closest("tr").hasClass(i.cssChildRow))console.warn('Tablesorter Warning! "updateCell" for child row content has been disabled, use "update" instead');else{if(e.isEmptyObject(i.cache))return e.updateHeader(i),void e.commonUpdate(i,r,o);i.table.isUpdating=!0,i.$table.find(i.selectorRemove).remove();var s,a,l,c,u,d,h=i.$tbodies,p=t(n),f=h.index(e.getClosest(p,"tbody")),g=i.cache[f],m=e.getClosest(p,"tr");if(n=p[0],h.length&&f>=0){if(l=h.eq(f).find("tr").not("."+i.cssChildRow).index(m),u=g.normalized[l],(d=m[0].cells.length)!==i.columns)for(c=0,s=!1,a=0;a<d;a++)s||m[0].cells[a]===n?s=!0:c+=m[0].cells[a].colSpan;else c=p.index();s=e.getElementText(i,n,c),u[i.columns].raw[c]=s,s=e.getParsedText(i,n,c,s),u[c]=s,"numeric"===(i.parsers[c].type||"").toLowerCase()&&(g.colMax[c]=Math.max(Math.abs(s)||0,g.colMax[c]||0)),!1!==(s="undefined"!==r?r:i.resort)?e.checkResort(i,s,o):e.resortComplete(i,o)}else e.debug(i,"core")&&console.error("updateCell aborted, tbody missing or not within the indicated table"),i.table.isUpdating=!1}},addRows:function(i,n,r,o){var s,a,l,c,u,d,h,p,f,g,m,v,y,b="string"==typeof n&&1===i.$tbodies.length&&/<tr/.test(n||""),_=i.table;if(b)n=t(n),i.$tbodies.append(n);else if(!(n&&n instanceof t&&e.getClosest(n,"table")[0]===i.table))return e.debug(i,"core")&&console.error("addRows method requires (1) a jQuery selector reference to rows that have already been added to the table, or (2) row HTML string to be added to a table with only one tbody"),!1;if(_.isUpdating=!0,e.isEmptyObject(i.cache))e.updateHeader(i),e.commonUpdate(i,r,o);else{for(u=n.filter("tr").attr("role","row").length,l=i.$tbodies.index(n.parents("tbody").filter(":first")),i.parsers&&i.parsers.length||e.setupParsers(i),c=0;c<u;c++){for(f=0,h=n[c].cells.length,p=i.cache[l].normalized.length,m=[],g={child:[],raw:[],$row:n.eq(c),order:p},d=0;d<h;d++)v=n[c].cells[d],s=e.getElementText(i,v,f),g.raw[f]=s,a=e.getParsedText(i,v,f,s),m[f]=a,"numeric"===(i.parsers[f].type||"").toLowerCase()&&(i.cache[l].colMax[f]=Math.max(Math.abs(a)||0,i.cache[l].colMax[f]||0)),(y=v.colSpan-1)>0&&(f+=y),f++;m[i.columns]=g,i.cache[l].normalized[p]=m}e.checkResort(i,r,o)}},updateCache:function(t,i,n){t.parsers&&t.parsers.length||e.setupParsers(t,n),e.buildCache(t,i,n)},appendCache:function(t,i){var n,r,o,s,a,l,c,u=t.table,d=t.$tbodies,h=[],p=t.cache;if(e.isEmptyObject(p))return t.appender?t.appender(u,h):u.isUpdating?t.$table.triggerHandler("updateComplete",u):"";for(e.debug(t,"core")&&(c=new Date),l=0;l<d.length;l++)if((o=d.eq(l)).length){for(s=e.processTbody(u,o,!0),r=(n=p[l].normalized).length,a=0;a<r;a++)h[h.length]=n[a][t.columns].$row,t.appender&&(!t.pager||t.pager.removeRows||t.pager.ajax)||s.append(n[a][t.columns].$row);e.processTbody(u,s,!1)}t.appender&&t.appender(u,h),e.debug(t,"core")&&console.log("Rebuilt table"+e.benchmark(c)),i||t.appender||e.applyWidget(u),u.isUpdating&&t.$table.triggerHandler("updateComplete",u)},commonUpdate:function(t,i,n){t.$table.find(t.selectorRemove).remove(),e.setupParsers(t),e.buildCache(t),e.checkResort(t,i,n)},initSort:function(i,n,r){if(i.table.isUpdating)return setTimeout((function(){e.initSort(i,n,r)}),50);var o,s,a,l,c,u,d,h=!r[i.sortMultiSortKey],p=i.table,f=i.$headers.length,g=e.getClosest(t(n),"th, td"),m=parseInt(g.attr("data-column"),10),v="mouseup"===r.type?"user":r.type,y=i.sortVars[m].order;if(g=g[0],i.$table.triggerHandler("sortStart",p),u=(i.sortVars[m].count+1)%y.length,i.sortVars[m].count=r[i.sortResetKey]?2:u,i.sortRestart)for(a=0;a<f;a++)d=i.$headers.eq(a),m!==(u=parseInt(d.attr("data-column"),10))&&(h||d.hasClass(e.css.sortNone))&&(i.sortVars[u].count=-1);if(h){if(t.each(i.sortVars,(function(t){i.sortVars[t].sortedBy=""})),i.sortList=[],i.last.sortList=[],null!==i.sortForce)for(o=i.sortForce,s=0;s<o.length;s++)o[s][0]!==m&&(i.sortList[i.sortList.length]=o[s],i.sortVars[o[s][0]].sortedBy="sortForce");if((l=y[i.sortVars[m].count])<2&&(i.sortList[i.sortList.length]=[m,l],i.sortVars[m].sortedBy=v,g.colSpan>1))for(s=1;s<g.colSpan;s++)i.sortList[i.sortList.length]=[m+s,l],i.sortVars[m+s].count=t.inArray(l,y),i.sortVars[m+s].sortedBy=v}else if(i.sortList=t.extend([],i.last.sortList),e.isValueInArray(m,i.sortList)>=0)for(i.sortVars[m].sortedBy=v,s=0;s<i.sortList.length;s++)(u=i.sortList[s])[0]===m&&(u[1]=y[i.sortVars[m].count],2===u[1]&&(i.sortList.splice(s,1),i.sortVars[m].count=-1));else if(l=y[i.sortVars[m].count],i.sortVars[m].sortedBy=v,l<2&&(i.sortList[i.sortList.length]=[m,l],g.colSpan>1))for(s=1;s<g.colSpan;s++)i.sortList[i.sortList.length]=[m+s,l],i.sortVars[m+s].count=t.inArray(l,y),i.sortVars[m+s].sortedBy=v;if(i.last.sortList=t.extend([],i.sortList),i.sortList.length&&i.sortAppend&&(o=t.isArray(i.sortAppend)?i.sortAppend:i.sortAppend[i.sortList[0][0]],!e.isEmptyObject(o)))for(s=0;s<o.length;s++)if(o[s][0]!==m&&e.isValueInArray(o[s][0],i.sortList)<0){if(c=(""+(l=o[s][1])).match(/^(a|d|s|o|n)/))switch(u=i.sortList[0][1],c[0]){case"d":l=1;break;case"s":l=u;break;case"o":l=0===u?1:0;break;case"n":l=(u+1)%y.length;break;default:l=0}i.sortList[i.sortList.length]=[o[s][0],l],i.sortVars[o[s][0]].sortedBy="sortAppend"}i.$table.triggerHandler("sortBegin",p),setTimeout((function(){e.setHeadersCss(i),e.multisort(i),e.appendCache(i),i.$table.triggerHandler("sortBeforeEnd",p),i.$table.triggerHandler("sortEnd",p)}),1)},multisort:function(t){var i,n,r,o,s=t.table,a=[],l=0,c=t.textSorter||"",u=t.sortList,d=u.length,h=t.$tbodies.length;if(!t.serverSideSorting&&!e.isEmptyObject(t.cache)){if(e.debug(t,"core")&&(n=new Date),"object"==typeof c)for(r=t.columns;r--;)"function"==typeof(o=e.getColumnData(s,c,r))&&(a[r]=o);for(i=0;i<h;i++)r=t.cache[i].colMax,t.cache[i].normalized.sort((function(i,n){var o,h,p,f,g,m,v;for(o=0;o<d;o++){if(p=u[o][0],f=u[o][1],l=0===f,t.sortStable&&i[p]===n[p]&&1===d)return i[t.columns].order-n[t.columns].order;if((h=/n/i.test(e.getSortType(t.parsers,p)))&&t.strings[p]?(h="boolean"==typeof e.string[t.strings[p]]?(l?1:-1)*(e.string[t.strings[p]]?-1:1):t.strings[p]&&e.string[t.strings[p]]||0,g=t.numberSorter?t.numberSorter(i[p],n[p],l,r[p],s):e["sortNumeric"+(l?"Asc":"Desc")](i[p],n[p],h,r[p],p,t)):(m=l?i:n,v=l?n:i,g="function"==typeof c?c(m[p],v[p],l,p,s):"function"==typeof a[p]?a[p](m[p],v[p],l,p,s):e["sortNatural"+(l?"Asc":"Desc")](i[p]||"",n[p]||"",p,t)),g)return g}return i[t.columns].order-n[t.columns].order}));e.debug(t,"core")&&console.log("Applying sort "+u.toString()+e.benchmark(n))}},resortComplete:function(e,i){e.table.isUpdating&&e.$table.triggerHandler("updateComplete",e.table),t.isFunction(i)&&i(e.table)},checkResort:function(i,n,r){var o=t.isArray(n)?n:i.sortList;!1===(void 0===n?i.resort:n)||i.serverSideSorting||i.table.isProcessing?(e.resortComplete(i,r),e.applyWidget(i.table,!1)):o.length?e.sortOn(i,o,(function(){e.resortComplete(i,r)}),!0):e.sortReset(i,(function(){e.resortComplete(i,r),e.applyWidget(i.table,!1)}))},sortOn:function(i,n,r,o){var s,a=i.table;for(i.$table.triggerHandler("sortStart",a),s=0;s<i.columns;s++)i.sortVars[s].sortedBy=e.isValueInArray(s,n)>-1?"sorton":"";e.updateHeaderSortCount(i,n),e.setHeadersCss(i),i.delayInit&&e.isEmptyObject(i.cache)&&e.buildCache(i),i.$table.triggerHandler("sortBegin",a),e.multisort(i),e.appendCache(i,o),i.$table.triggerHandler("sortBeforeEnd",a),i.$table.triggerHandler("sortEnd",a),e.applyWidget(a),t.isFunction(r)&&r(a)},sortReset:function(i,n){var r;for(i.sortList=[],r=0;r<i.columns;r++)i.sortVars[r].count=-1,i.sortVars[r].sortedBy="";e.setHeadersCss(i),e.multisort(i),e.appendCache(i),t.isFunction(n)&&n(i.table)},getSortType:function(t,e){return t&&t[e]&&t[e].type||""},getOrder:function(t){return/^d/i.test(t)||1===t},sortNatural:function(t,i){if(t===i)return 0;t=(t||"").toString(),i=(i||"").toString();var n,r,o,s,a,l,c=e.regex;if(c.hex.test(i)){if((n=parseInt(t.match(c.hex),16))<(r=parseInt(i.match(c.hex),16)))return-1;if(n>r)return 1}for(n=t.replace(c.chunk,"\\0$1\\0").replace(c.chunks,"").split("\\0"),r=i.replace(c.chunk,"\\0$1\\0").replace(c.chunks,"").split("\\0"),l=Math.max(n.length,r.length),a=0;a<l;a++){if(o=isNaN(n[a])?n[a]||0:parseFloat(n[a])||0,s=isNaN(r[a])?r[a]||0:parseFloat(r[a])||0,isNaN(o)!==isNaN(s))return isNaN(o)?1:-1;if(typeof o!=typeof s&&(o+="",s+=""),o<s)return-1;if(o>s)return 1}return 0},sortNaturalAsc:function(t,i,n,r){if(t===i)return 0;var o=e.string[r.empties[n]||r.emptyTo];return""===t&&0!==o?"boolean"==typeof o?o?-1:1:-o||-1:""===i&&0!==o?"boolean"==typeof o?o?1:-1:o||1:e.sortNatural(t,i)},sortNaturalDesc:function(t,i,n,r){if(t===i)return 0;var o=e.string[r.empties[n]||r.emptyTo];return""===t&&0!==o?"boolean"==typeof o?o?-1:1:o||1:""===i&&0!==o?"boolean"==typeof o?o?1:-1:-o||-1:e.sortNatural(i,t)},sortText:function(t,e){return t>e?1:t<e?-1:0},getTextValue:function(t,e,i){if(i){var n,r=t?t.length:0,o=i+e;for(n=0;n<r;n++)o+=t.charCodeAt(n);return e*o}return 0},sortNumericAsc:function(t,i,n,r,o,s){if(t===i)return 0;var a=e.string[s.empties[o]||s.emptyTo];return""===t&&0!==a?"boolean"==typeof a?a?-1:1:-a||-1:""===i&&0!==a?"boolean"==typeof a?a?1:-1:a||1:(isNaN(t)&&(t=e.getTextValue(t,n,r)),isNaN(i)&&(i=e.getTextValue(i,n,r)),t-i)},sortNumericDesc:function(t,i,n,r,o,s){if(t===i)return 0;var a=e.string[s.empties[o]||s.emptyTo];return""===t&&0!==a?"boolean"==typeof a?a?-1:1:a||1:""===i&&0!==a?"boolean"==typeof a?a?1:-1:-a||-1:(isNaN(t)&&(t=e.getTextValue(t,n,r)),isNaN(i)&&(i=e.getTextValue(i,n,r)),i-t)},sortNumeric:function(t,e){return t-e},addWidget:function(t){t.id&&!e.isEmptyObject(e.getWidgetById(t.id))&&console.warn('"'+t.id+'" widget was loaded more than once!'),e.widgets[e.widgets.length]=t},hasWidget:function(e,i){return(e=t(e)).length&&e[0].config&&e[0].config.widgetInit[i]||!1},getWidgetById:function(t){var i,n,r=e.widgets.length;for(i=0;i<r;i++)if((n=e.widgets[i])&&n.id&&n.id.toLowerCase()===t.toLowerCase())return n},applyWidgetOptions:function(i){var n,r,o,s=i.config,a=s.widgets.length;if(a)for(n=0;n<a;n++)(r=e.getWidgetById(s.widgets[n]))&&r.options&&(o=t.extend(!0,{},r.options),s.widgetOptions=t.extend(!0,o,s.widgetOptions),t.extend(!0,e.defaults.widgetOptions,r.options))},addWidgetFromClass:function(t){var i,n,r=t.config,o="^"+r.widgetClass.replace(e.regex.templateName,"(\\S+)+")+"$",s=new RegExp(o,"g"),a=(t.className||"").split(e.regex.spaces);if(a.length)for(i=a.length,n=0;n<i;n++)a[n].match(s)&&(r.widgets[r.widgets.length]=a[n].replace(s,"$1"))},applyWidgetId:function(i,n,r){var o,s,a,l=(i=t(i)[0]).config,c=l.widgetOptions,u=e.debug(l,"core"),d=e.getWidgetById(n);d&&(a=d.id,o=!1,t.inArray(a,l.widgets)<0&&(l.widgets[l.widgets.length]=a),u&&(s=new Date),!r&&l.widgetInit[a]||(l.widgetInit[a]=!0,i.hasInitialized&&e.applyWidgetOptions(i),"function"==typeof d.init&&(o=!0,u&&console[console.group?"group":"log"]("Initializing "+a+" widget"),d.init(i,d,l,c))),r||"function"!=typeof d.format||(o=!0,u&&console[console.group?"group":"log"]("Updating "+a+" widget"),d.format(i,l,c,!1)),u&&o&&(console.log("Completed "+(r?"initializing ":"applying ")+a+" widget"+e.benchmark(s)),console.groupEnd&&console.groupEnd()))},applyWidget:function(i,n,r){var o,s,a,l,c,u=(i=t(i)[0]).config,d=e.debug(u,"core"),h=[];if(!1===n||!i.hasInitialized||!i.isApplyingWidgets&&!i.isUpdating){if(d&&(c=new Date),e.addWidgetFromClass(i),clearTimeout(u.timerReady),u.widgets.length){for(i.isApplyingWidgets=!0,u.widgets=t.grep(u.widgets,(function(e,i){return t.inArray(e,u.widgets)===i})),s=(a=u.widgets||[]).length,o=0;o<s;o++)(l=e.getWidgetById(a[o]))&&l.id?(l.priority||(l.priority=10),h[o]=l):d&&console.warn('"'+a[o]+'" was enabled, but the widget code has not been loaded!');for(h.sort((function(t,e){return t.priority<e.priority?-1:t.priority===e.priority?0:1})),s=h.length,d&&console[console.group?"group":"log"]("Start "+(n?"initializing":"applying")+" widgets"),o=0;o<s;o++)(l=h[o])&&l.id&&e.applyWidgetId(i,l.id,n);d&&console.groupEnd&&console.groupEnd()}u.timerReady=setTimeout((function(){i.isApplyingWidgets=!1,t.data(i,"lastWidgetApplication",new Date),u.$table.triggerHandler("tablesorter-ready"),n||"function"!=typeof r||r(i),d&&(l=u.widgets.length,console.log("Completed "+(!0===n?"initializing ":"applying ")+l+" widget"+(1!==l?"s":"")+e.benchmark(c)))}),10)}},removeWidget:function(i,n,r){var o,s,a,l,c=(i=t(i)[0]).config;if(!0===n)for(n=[],l=e.widgets.length,a=0;a<l;a++)(s=e.widgets[a])&&s.id&&(n[n.length]=s.id);else n=(t.isArray(n)?n.join(","):n||"").toLowerCase().split(/[\s,]+/);for(l=n.length,o=0;o<l;o++)s=e.getWidgetById(n[o]),(a=t.inArray(n[o],c.widgets))>=0&&!0!==r&&c.widgets.splice(a,1),s&&s.remove&&(e.debug(c,"core")&&console.log((r?"Refreshing":"Removing")+' "'+n[o]+'" widget'),s.remove(i,c,c.widgetOptions,r),c.widgetInit[n[o]]=!1);c.$table.triggerHandler("widgetRemoveEnd",i)},refreshWidgets:function(i,n,r){var o,s,a=(i=t(i)[0]).config.widgets,l=e.widgets,c=l.length,u=[],d=function(e){t(e).triggerHandler("refreshComplete")};for(o=0;o<c;o++)(s=l[o])&&s.id&&(n||t.inArray(s.id,a)<0)&&(u[u.length]=s.id);e.removeWidget(i,u.join(","),!0),!0!==r?(e.applyWidget(i,n||!1,d),n&&e.applyWidget(i,!1,d)):d(i)},benchmark:function(t){return" ("+((new Date).getTime()-t.getTime())+" ms)"},log:function(){console.log(arguments)},debug:function(t,e){return t&&(!0===t.debug||"string"==typeof t.debug&&t.debug.indexOf(e)>-1)},isEmptyObject:function(t){for(var e in t)return!1;return!0},isValueInArray:function(t,e){var i,n=e&&e.length||0;for(i=0;i<n;i++)if(e[i][0]===t)return i;return-1},formatFloat:function(i,n){return"string"!=typeof i||""===i?i:(i=(n&&n.config?!1!==n.config.usNumberFormat:void 0===n||n)?i.replace(e.regex.comma,""):i.replace(e.regex.digitNonUS,"").replace(e.regex.comma,"."),e.regex.digitNegativeTest.test(i)&&(i=i.replace(e.regex.digitNegativeReplace,"-$1")),r=parseFloat(i),isNaN(r)?t.trim(i):r);var r},isDigit:function(t){return isNaN(t)?e.regex.digitTest.test(t.toString().replace(e.regex.digitReplace,"")):""!==t},computeColumnIndex:function(i,n){var r,o,s,a,l,c,u,d,h,p,f=n&&n.columns||0,g=[],m=new Array(f);for(r=0;r<i.length;r++)for(c=i[r].cells,o=0;o<c.length;o++){for(u=r,d=(l=c[o]).rowSpan||1,h=l.colSpan||1,void 0===g[u]&&(g[u]=[]),s=0;s<g[u].length+1;s++)if(void 0===g[u][s]){p=s;break}for(f&&l.cellIndex===p||(l.setAttribute?l.setAttribute("data-column",p):t(l).attr("data-column",p)),s=u;s<u+d;s++)for(void 0===g[s]&&(g[s]=[]),m=g[s],a=p;a<p+h;a++)m[a]="x"}return e.checkColumnCount(i,g,m.length),m.length},checkColumnCount:function(t,e,i){var n,r,o=!0,s=[];for(n=0;n<e.length;n++)if(e[n]&&(r=e[n].length,e[n].length!==i)){o=!1;break}o||(t.each((function(t,e){var i=e.parentElement.nodeName;s.indexOf(i)<0&&s.push(i)})),console.error("Invalid or incorrect number of columns in the "+s.join(" or ")+"; expected "+i+", but found "+r+" columns"))},fixColumnWidth:function(i){var n,r,o,s,a,l=(i=t(i)[0]).config,c=l.$table.children("colgroup");if(c.length&&c.hasClass(e.css.colgroup)&&c.remove(),l.widthFixed&&0===l.$table.children("colgroup").length){for(c=t('<colgroup class="'+e.css.colgroup+'">'),n=l.$table.width(),s=(o=l.$tbodies.find("tr:first").children(":visible")).length,a=0;a<s;a++)r=parseInt(o.eq(a).width()/n*1e3,10)/10+"%",c.append(t("<col>").css("width",r));l.$table.prepend(c)}},getData:function(e,i,n){var r,o,s="",a=t(e);return a.length?(r=!!t.metadata&&a.metadata(),o=" "+(a.attr("class")||""),void 0!==a.data(n)||void 0!==a.data(n.toLowerCase())?s+=a.data(n)||a.data(n.toLowerCase()):r&&void 0!==r[n]?s+=r[n]:i&&void 0!==i[n]?s+=i[n]:" "!==o&&o.match(" "+n+"-")&&(s=o.match(new RegExp("\\s"+n+"-([\\w-]+)"))[1]||""),t.trim(s)):""},getColumnData:function(e,i,n,r,o){if("object"!=typeof i||null===i)return i;var s,a=(e=t(e)[0]).config,l=o||a.$headers,c=a.$headerIndexed&&a.$headerIndexed[n]||l.find('[data-column="'+n+'"]:last');if(void 0!==i[n])return r?i[n]:i[l.index(c)];for(s in i)if("string"==typeof s&&c.filter(s).add(c.find(s)).length)return i[s]},isProcessing:function(i,n,r){var o=(i=t(i))[0].config,s=r||i.find("."+e.css.header);n?(void 0!==r&&o.sortList.length>0&&(s=s.filter((function(){return!this.sortDisabled&&e.isValueInArray(parseFloat(t(this).attr("data-column")),o.sortList)>=0}))),i.add(s).addClass(e.css.processing+" "+o.cssProcessing)):i.add(s).removeClass(e.css.processing+" "+o.cssProcessing)},processTbody:function(e,i,n){if(e=t(e)[0],n)return e.isProcessing=!0,i.before('<colgroup class="tablesorter-savemyplace"/>'),t.fn.detach?i.detach():i.remove();var r=t(e).find("colgroup.tablesorter-savemyplace");i.insertAfter(r),r.remove(),e.isProcessing=!1},clearTableBody:function(e){t(e)[0].config.$tbodies.children().detach()},characterEquivalents:{a:"\xe1\xe0\xe2\xe3\xe4\u0105\xe5",A:"\xc1\xc0\xc2\xc3\xc4\u0104\xc5",c:"\xe7\u0107\u010d",C:"\xc7\u0106\u010c",e:"\xe9\xe8\xea\xeb\u011b\u0119",E:"\xc9\xc8\xca\xcb\u011a\u0118",i:"\xed\xec\u0130\xee\xef\u0131",I:"\xcd\xcc\u0130\xce\xcf",o:"\xf3\xf2\xf4\xf5\xf6\u014d",O:"\xd3\xd2\xd4\xd5\xd6\u014c",ss:"\xdf",SS:"\u1e9e",u:"\xfa\xf9\xfb\xfc\u016f",U:"\xda\xd9\xdb\xdc\u016e"},replaceAccents:function(t){var i,n="[",r=e.characterEquivalents;if(!e.characterRegex){for(i in e.characterRegexArray={},r)"string"==typeof i&&(n+=r[i],e.characterRegexArray[i]=new RegExp("["+r[i]+"]","g"));e.characterRegex=new RegExp(n+"]")}if(e.characterRegex.test(t))for(i in r)"string"==typeof i&&(t=t.replace(e.characterRegexArray[i],i));return t},validateOptions:function(i){var n,r,o,s,a="headers sortForce sortList sortAppend widgets".split(" "),l=i.originalSettings;if(l){for(n in e.debug(i,"core")&&(s=new Date),l)if("undefined"===(o=typeof e.defaults[n]))console.warn('Tablesorter Warning! "table.config.'+n+'" option not recognized');else if("object"===o)for(r in l[n])o=e.defaults[n]&&typeof e.defaults[n][r],t.inArray(n,a)<0&&"undefined"===o&&console.warn('Tablesorter Warning! "table.config.'+n+"."+r+'" option not recognized');e.debug(i,"core")&&console.log("validate options time:"+e.benchmark(s))}},restoreHeaders:function(i){var n,r,o=t(i)[0].config,s=o.$table.find(o.selectorHeaders),a=s.length;for(n=0;n<a;n++)(r=s.eq(n)).find("."+e.css.headerIn).length&&r.html(o.headerContent[n])},destroy:function(i,n,r){if((i=t(i)[0]).hasInitialized){e.removeWidget(i,!0,!1);var o,s=t(i),a=i.config,l=s.find("thead:first"),c=l.find("tr."+e.css.headerRow).removeClass(e.css.headerRow+" "+a.cssHeaderRow),u=s.find("tfoot:first > tr").children("th, td");!1===n&&t.inArray("uitheme",a.widgets)>=0&&(s.triggerHandler("applyWidgetId",["uitheme"]),s.triggerHandler("applyWidgetId",["zebra"])),l.find("tr").not(c).remove(),o="sortReset update updateRows updateAll updateHeaders updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets removeWidget destroy mouseup mouseleave "+"keypress sortBegin sortEnd resetToLoadState ".split(" ").join(a.namespace+" "),s.removeData("tablesorter").unbind(o.replace(e.regex.spaces," ")),a.$headers.add(u).removeClass([e.css.header,a.cssHeader,a.cssAsc,a.cssDesc,e.css.sortAsc,e.css.sortDesc,e.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),c.find(a.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(a.namespace+" ").replace(e.regex.spaces," ")),e.restoreHeaders(i),s.toggleClass(e.css.table+" "+a.tableClass+" tablesorter-"+a.theme,!1===n),s.removeClass(a.namespace.slice(1)),i.hasInitialized=!1,delete i.config.cache,"function"==typeof r&&r(i),e.debug(a,"core")&&console.log("tablesorter has been removed")}}};t.fn.tablesorter=function(i){return this.each((function(){var n=this,r=t.extend(!0,{},e.defaults,i,e.instanceMethods);r.originalSettings=i,!n.hasInitialized&&e.buildTable&&"TABLE"!==this.nodeName?e.buildTable(n,r):e.setup(n,r)}))},window.console&&window.console.log||(e.logs=[],console={},console.log=console.warn=console.error=console.table=function(){var t=arguments.length>1?arguments:arguments[0];e.logs[e.logs.length]={date:Date.now(),log:t}}),e.addParser({id:"no-parser",is:function(){return!1},format:function(){return""},type:"text"}),e.addParser({id:"text",is:function(){return!0},format:function(i,n){var r=n.config;return i&&(i=t.trim(r.ignoreCase?i.toLocaleLowerCase():i),i=r.sortLocaleCompare?e.replaceAccents(i):i),i},type:"text"}),e.regex.nondigit=/[^\w,. \-()]/g,e.addParser({id:"digit",is:function(t){return e.isDigit(t)},format:function(i,n){var r=e.formatFloat((i||"").replace(e.regex.nondigit,""),n);return i&&"number"==typeof r?r:i?t.trim(i&&n.config.ignoreCase?i.toLocaleLowerCase():i):i},type:"numeric"}),e.regex.currencyReplace=/[+\-,. ]/g,e.regex.currencyTest=/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/,e.addParser({id:"currency",is:function(t){return t=(t||"").replace(e.regex.currencyReplace,""),e.regex.currencyTest.test(t)},format:function(i,n){var r=e.formatFloat((i||"").replace(e.regex.nondigit,""),n);return i&&"number"==typeof r?r:i?t.trim(i&&n.config.ignoreCase?i.toLocaleLowerCase():i):i},type:"numeric"}),e.regex.urlProtocolTest=/^(https?|ftp|file):\/\//,e.regex.urlProtocolReplace=/(https?|ftp|file):\/\/(www\.)?/,e.addParser({id:"url",is:function(t){return e.regex.urlProtocolTest.test(t)},format:function(i){return i?t.trim(i.replace(e.regex.urlProtocolReplace,"")):i},type:"text"}),e.regex.dash=/-/g,e.regex.isoDate=/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,e.addParser({id:"isoDate",is:function(t){return e.regex.isoDate.test(t)},format:function(t){var i=t?new Date(t.replace(e.regex.dash,"/")):t;return i instanceof Date&&isFinite(i)?i.getTime():t},type:"numeric"}),
e.regex.percent=/%/g,e.regex.percentTest=/(\d\s*?%|%\s*?\d)/,e.addParser({id:"percent",is:function(t){return e.regex.percentTest.test(t)&&t.length<15},format:function(t,i){return t?e.formatFloat(t.replace(e.regex.percent,""),i):t},type:"numeric"}),e.addParser({id:"image",is:function(t,e,i,n){return n.find("img").length>0},format:function(e,i,n){return t(n).find("img").attr(i.config.imgAttr||"alt")||e},parsed:!0,type:"text"}),e.regex.dateReplace=/(\S)([AP]M)$/i,e.regex.usLongDateTest1=/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i,e.regex.usLongDateTest2=/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i,e.addParser({id:"usLongDate",is:function(t){return e.regex.usLongDateTest1.test(t)||e.regex.usLongDateTest2.test(t)},format:function(t){var i=t?new Date(t.replace(e.regex.dateReplace,"$1 $2")):t;return i instanceof Date&&isFinite(i)?i.getTime():t},type:"numeric"}),e.regex.shortDateTest=/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/,e.regex.shortDateReplace=/[\-.,]/g,e.regex.shortDateXXY=/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,e.regex.shortDateYMD=/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,e.convertFormat=function(t,i){t=(t||"").replace(e.regex.spaces," ").replace(e.regex.shortDateReplace,"/"),"mmddyyyy"===i?t=t.replace(e.regex.shortDateXXY,"$3/$1/$2"):"ddmmyyyy"===i?t=t.replace(e.regex.shortDateXXY,"$3/$2/$1"):"yyyymmdd"===i&&(t=t.replace(e.regex.shortDateYMD,"$1/$2/$3"));var n=new Date(t);return n instanceof Date&&isFinite(n)?n.getTime():""},e.addParser({id:"shortDate",is:function(t){return t=(t||"").replace(e.regex.spaces," ").replace(e.regex.shortDateReplace,"/"),e.regex.shortDateTest.test(t)},format:function(t,i,n,r){if(t){var o=i.config,s=o.$headerIndexed[r],a=s.length&&s.data("dateFormat")||e.getData(s,e.getColumnData(i,o.headers,r),"dateFormat")||o.dateFormat;return s.length&&s.data("dateFormat",a),e.convertFormat(t,a)||t}return t},type:"numeric"}),e.regex.timeTest=/^(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)$|^((?:[01]\d|[2][0-4]):[0-5]\d)$/i,e.regex.timeMatch=/(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)|((?:[01]\d|[2][0-4]):[0-5]\d)/i,e.addParser({id:"time",is:function(t){return e.regex.timeTest.test(t)},format:function(t){var i=(t||"").match(e.regex.timeMatch),n=new Date(t),r=t&&(null!==i?i[0]:"00:00 AM"),o=r?new Date("2000/01/01 "+r.replace(e.regex.dateReplace,"$1 $2")):r;return o instanceof Date&&isFinite(o)?(n instanceof Date&&isFinite(n)?n.getTime():0)?parseFloat(o.getTime()+"."+n.getTime()):o.getTime():t},type:"numeric"}),e.addParser({id:"metadata",is:function(){return!1},format:function(e,i,n){var r=i.config,o=r.parserMetadataName?r.parserMetadataName:"sortValue";return t(n).metadata()[o]},type:"numeric"}),e.addWidget({id:"zebra",priority:90,format:function(e,i,n){var r,o,s,a,l,c,u,d=new RegExp(i.cssChildRow,"i"),h=i.$tbodies.add(t(i.namespace+"_extra_table").children("tbody:not(."+i.cssInfoBlock+")"));for(l=0;l<h.length;l++)for(s=0,u=(r=h.eq(l).children("tr:visible").not(i.selectorRemove)).length,c=0;c<u;c++)o=r.eq(c),d.test(o[0].className)||s++,a=s%2==0,o.removeClass(n.zebra[a?1:0]).addClass(n.zebra[a?0:1])},remove:function(t,i,n,r){if(!r){var o,s,a=i.$tbodies,l=(n.zebra||["even","odd"]).join(" ");for(o=0;o<a.length;o++)(s=e.processTbody(t,a.eq(o),!0)).children().removeClass(l),e.processTbody(t,s,!1)}}})}(jQuery),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}((function(t){var e=-1,i=-1,n=function(t){return parseFloat(t)||0},r=function(e){var i=1,r=t(e),o=null,s=[];return r.each((function(){var e=t(this),r=e.offset().top-n(e.css("margin-top")),a=s.length>0?s[s.length-1]:null;null===a?s.push(e):Math.floor(Math.abs(o-r))<=i?s[s.length-1]=a.add(e):s.push(e),o=r})),s},o=function(e){var i={byRow:!0,property:"height",target:null,remove:!1};return"object"==typeof e?t.extend(i,e):("boolean"==typeof e?i.byRow=e:"remove"===e&&(i.remove=!0),i)},s=t.fn.matchHeight=function(e){var i=o(e);if(i.remove){var n=this;return this.css(i.property,""),t.each(s._groups,(function(t,e){e.elements=e.elements.not(n)})),this}return this.length<=1&&!i.target||(s._groups.push({elements:this,options:i}),s._apply(this,i)),this};s.version="0.7.2",s._groups=[],s._throttle=80,s._maintainScroll=!1,s._beforeUpdate=null,s._afterUpdate=null,s._rows=r,s._parse=n,s._parseOptions=o,s._apply=function(e,i){var a=o(i),l=t(e),c=[l],u=t(window).scrollTop(),d=t("html").outerHeight(!0),h=l.parents().filter(":hidden");return h.each((function(){var e=t(this);e.data("style-cache",e.attr("style"))})),h.css("display","block"),a.byRow&&!a.target&&(l.each((function(){var e=t(this),i=e.css("display");"inline-block"!==i&&"flex"!==i&&"inline-flex"!==i&&(i="block"),e.data("style-cache",e.attr("style")),e.css({display:i,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px",overflow:"hidden"})})),c=r(l),l.each((function(){var e=t(this);e.attr("style",e.data("style-cache")||"")}))),t.each(c,(function(e,i){var r=t(i),o=0;if(a.target)o=a.target.outerHeight(!1);else{if(a.byRow&&r.length<=1)return void r.css(a.property,"");r.each((function(){var e=t(this),i=e.attr("style"),n=e.css("display");"inline-block"!==n&&"flex"!==n&&"inline-flex"!==n&&(n="block");var r={display:n};r[a.property]="",e.css(r),e.outerHeight(!1)>o&&(o=e.outerHeight(!1)),i?e.attr("style",i):e.css("display","")}))}r.each((function(){var e=t(this),i=0;a.target&&e.is(a.target)||("border-box"!==e.css("box-sizing")&&(i+=n(e.css("border-top-width"))+n(e.css("border-bottom-width")),i+=n(e.css("padding-top"))+n(e.css("padding-bottom"))),e.css(a.property,o-i+"px"))}))})),h.each((function(){var e=t(this);e.attr("style",e.data("style-cache")||null)})),s._maintainScroll&&t(window).scrollTop(u/d*t("html").outerHeight(!0)),this},s._applyDataApi=function(){var e={};t("[data-match-height], [data-mh]").each((function(){var i=t(this),n=i.attr("data-mh")||i.attr("data-match-height");e[n]=n in e?e[n].add(i):i})),t.each(e,(function(){this.matchHeight(!0)}))};var a=function(e){s._beforeUpdate&&s._beforeUpdate(e,s._groups),t.each(s._groups,(function(){s._apply(this.elements,this.options)})),s._afterUpdate&&s._afterUpdate(e,s._groups)};s._update=function(n,r){if(r&&"resize"===r.type){var o=t(window).width();if(o===e)return;e=o}n?-1===i&&(i=setTimeout((function(){a(r),i=-1}),s._throttle)):a(r)},t(s._applyDataApi);var l=t.fn.on?"on":"bind";t(window)[l]("load",(function(t){s._update(!1,t)})),t(window)[l]("resize orientationchange",(function(t){s._update(!0,t)}))})),function(){"use strict";function t(t){return(t=String(t)).charAt(0).toUpperCase()+t.slice(1)}function e(t,e,i){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return e&&i&&/^Win/i.test(t)&&!/^Windows Phone /i.test(t)&&(r=r[/[\d.]+$/.exec(t)])&&(t="Windows "+r),t=String(t),e&&i&&(t=t.replace(RegExp(e,"i"),i)),t=n(t.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}function i(t,e){var i=-1,n=t?t.length:0;if("number"==typeof n&&n>-1&&n<=m)for(;++i<n;)e(t[i],i,t);else r(t,e)}function n(e){return e=c(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:t(e)}function r(t,e){for(var i in t)b.call(t,i)&&e(t[i],i,t)}function o(e){return null==e?t(e):_.call(e).slice(8,-1)}function s(t,e){var i=null!=t?typeof t[e]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(i)||"object"==i&&!t[e])}function a(t){return String(t).replace(/([ -])(?!$)/g,"$1?")}function l(t,e){var n=null;return i(t,(function(i,r){n=e(n,i,r,t)})),n}function c(t){return String(t).replace(/^ +| +$/g,"")}function u(t){function i(e){return l(e,(function(e,i){return e||RegExp("\\b"+(i.pattern||a(i))+"\\b","i").exec(t)&&(i.label||i)}))}function d(e){return l(e,(function(e,i,n){return e||(i[U]||i[/^[a-z]+(?: +[a-z]+\b)*/i.exec(U)]||RegExp("\\b"+a(n)+"(?:\\b|\\w*\\d)","i").exec(t))&&n}))}function p(e){return l(e,(function(e,i){return e||RegExp("\\b"+(i.pattern||a(i))+"\\b","i").exec(t)&&(i.label||i)}))}function f(i){return l(i,(function(i,n){var r=n.pattern||a(n);return!i&&(i=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(i=e(i,r,n.label||n)),i}))}function g(e){return l(e,(function(e,i){var r=i.pattern||a(i);return!e&&(e=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(i.label&&!RegExp(r,"i").test(i.label)?i.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),i=i.label||i,e=n(e[0].replace(RegExp(r,"i"),i).replace(RegExp("; *(?:"+i+"[_-])?","i")," ").replace(RegExp("("+i+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}function m(e){return l(e,(function(e,i){return e||(RegExp(i+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null}))}function y(){return this.description||""}var b=h,w=t&&"object"==typeof t&&"String"!=o(t);w&&(b=t,t=null);var x=b.navigator||{},$=x.userAgent||"";t||(t=$);var C,k,S=w?!!x.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(_.toString()),j="Object",T=w?j:"ScriptBridgingProxyObject",A=w?j:"Environment",D=w&&b.java?"JavaPackage":o(b.java),I=w?j:"RuntimeObject",E=/\bJava/.test(D)&&b.java,P=E&&o(b.environment)==A,O=E?"a":"\u03b1",F=E?"b":"\u03b2",M=b.document||{},R=b.operamini||b.opera,N=v.test(N=w&&R?R["[[Class]]"]:o(R))?N:R=null,q=t,L=[],z=null,H=t==$,B=H&&R&&"function"==typeof R.version&&R.version(),W=i([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),G=p(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),U=g([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),V=d({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),Q=f(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(W&&(W=[W]),/\bAndroid\b/.test(Q)&&!U&&(C=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(t))&&(U=c(C[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),V&&!U?U=g([V]):V&&U&&(U=U.replace(RegExp("^("+a(V)+")[-_.\\s]","i"),V+" ").replace(RegExp("^("+a(V)+")[-_.]?(\\w)","i"),V+" $2")),(C=/\bGoogle TV\b/.exec(U))&&(U=C[0]),/\bSimulator\b/i.test(t)&&(U=(U?U+" ":"")+"Simulator"),"Opera Mini"==G&&/\bOPiOS\b/.test(t)&&L.push("running in Turbo/Uncompressed mode"),"IE"==G&&/\blike iPhone OS\b/.test(t)?(V=(C=u(t.replace(/like iPhone OS/,""))).manufacturer,U=C.product):/^iP/.test(U)?(G||(G="Safari"),Q="iOS"+((C=/ OS ([\d_]+)/i.exec(t))?" "+C[1].replace(/_/g,"."):"")):"Konqueror"==G&&/^Linux\b/i.test(Q)?Q="Kubuntu":V&&"Google"!=V&&(/Chrome/.test(G)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(U))||/\bAndroid\b/.test(Q)&&/^Chrome/.test(G)&&/\bVersion\//i.test(t)?(G="Android Browser",Q=/\bAndroid\b/.test(Q)?Q:"Android"):"Silk"==G?(/\bMobi/i.test(t)||(Q="Android",L.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&L.unshift("accelerated")):"UC Browser"==G&&/\bUCWEB\b/.test(t)?L.push("speed mode"):"PaleMoon"==G&&(C=/\bFirefox\/([\d.]+)\b/.exec(t))?L.push("identifying as Firefox "+C[1]):"Firefox"==G&&(C=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(Q||(Q="Firefox OS"),U||(U=C[1])):!G||(C=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(G))?(G&&!U&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(C+"/")+8))&&(G=null),(C=U||V||Q)&&(U||V||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(Q))&&(G=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(Q)?Q:C)+" Browser")):"Electron"==G&&(C=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&L.push("Chromium "+C),B||(B=m(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",a(G),"(?:Firefox|Minefield|NetFront)"])),(C=("iCab"==W&&parseFloat(B)>3?"WebKit":/\bOpera\b/.test(G)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(W)&&"WebKit"||!W&&/\bMSIE\b/i.test(t)&&("Mac OS"==Q?"Tasman":"Trident")||"WebKit"==W&&/\bPlayStation\b(?! Vita\b)/i.test(G)&&"NetFront")&&(W=[C]),"IE"==G&&(C=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(G+=" Mobile",Q="Windows Phone "+(/\+$/.test(C)?C:C+".x"),L.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(G="IE Mobile",Q="Windows Phone 8.x",L.unshift("desktop mode"),B||(B=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=G&&"Trident"==W&&(C=/\brv:([\d.]+)/.exec(t))&&(G&&L.push("identifying as "+G+(B?" "+B:"")),G="IE",B=C[1]),H){if(s(b,"global"))if(E&&(q=(C=E.lang.System).getProperty("os.arch"),Q=Q||C.getProperty("os.name")+" "+C.getProperty("os.version")),P){try{B=b.require("ringo/engine").version.join("."),G="RingoJS"}catch(t){(C=b.system)&&C.global.system==b.system&&(G="Narwhal",Q||(Q=C[0].os||null))}G||(G="Rhino")}else"object"==typeof b.process&&!b.process.browser&&(C=b.process)&&("object"==typeof C.versions&&("string"==typeof C.versions.electron?(L.push("Node "+C.versions.node),G="Electron",B=C.versions.electron):"string"==typeof C.versions.nw&&(L.push("Chromium "+B,"Node "+C.versions.node),G="NW.js",B=C.versions.nw)),G||(G="Node.js",q=C.arch,Q=C.platform,B=(B=/[\d.]+/.exec(C.version))?B[0]:null));else o(C=b.runtime)==T?(G="Adobe AIR",Q=C.flash.system.Capabilities.os):o(C=b.phantom)==I?(G="PhantomJS",B=(C=C.version||null)&&C.major+"."+C.minor+"."+C.patch):"number"==typeof M.documentMode&&(C=/\bTrident\/(\d+)/i.exec(t))?(B=[B,M.documentMode],(C=+C[1]+4)!=B[1]&&(L.push("IE "+B[1]+" mode"),W&&(W[1]=""),B[1]=C),B="IE"==G?String(B[1].toFixed(1)):B[0]):"number"==typeof M.documentMode&&/^(?:Chrome|Firefox)\b/.test(G)&&(L.push("masking as "+G+" "+B),G="IE",B="11.0",W=["Trident"],Q="Windows");Q=Q&&n(Q)}if(B&&(C=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(B)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(H&&x.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(z=/b/i.test(C)?"beta":"alpha",B=B.replace(RegExp(C+"\\+?$"),"")+("beta"==z?F:O)+(/\d+\+?/.exec(C)||"")),"Fennec"==G||"Firefox"==G&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(Q))G="Firefox Mobile";else if("Maxthon"==G&&B)B=B.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(U))"Xbox 360"==U&&(Q=null),"Xbox 360"==U&&/\bIEMobile\b/.test(t)&&L.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(G)&&(!G||U||/Browser|Mobi/.test(G))||"Windows CE"!=Q&&!/Mobi/i.test(t))if("IE"==G&&H)try{null===b.external&&L.unshift("platform preview")}catch(t){L.unshift("embedded")}else(/\bBlackBerry\b/.test(U)||/\bBB10\b/.test(t))&&(C=(RegExp(U.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||B)?(Q=((C=[C,/BB10/.test(t)])[1]?(U=null,V="BlackBerry"):"Device Software")+" "+C[0],B=null):this!=r&&"Wii"!=U&&(H&&R||/Opera/.test(G)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==G&&/\bOS X (?:\d+\.){2,}/.test(Q)||"IE"==G&&(Q&&!/^Win/.test(Q)&&B>5.5||/\bWindows XP\b/.test(Q)&&B>8||8==B&&!/\bTrident\b/.test(t)))&&!v.test(C=u.call(r,t.replace(v,"")+";"))&&C.name&&(C="ing as "+C.name+((C=C.version)?" "+C:""),v.test(G)?(/\bIE\b/.test(C)&&"Mac OS"==Q&&(Q=null),C="identify"+C):(C="mask"+C,G=N?n(N.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(C)&&(Q=null),H||(B=null)),W=["Presto"],L.push(C));else G+=" Mobile";(C=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(C=[parseFloat(C.replace(/\.(\d)$/,".0$1")),C],"Safari"==G&&"+"==C[1].slice(-1)?(G="WebKit Nightly",z="alpha",B=C[1].slice(0,-1)):B!=C[1]&&B!=(C[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(B=null),C[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(t)||0)[1],537.36==C[0]&&537.36==C[2]&&parseFloat(C[1])>=28&&"WebKit"==W&&(W=["Blink"]),H&&(S||C[1])?(W&&(W[1]="like Chrome"),C=C[1]||((C=C[0])<530?1:C<532?2:C<532.05?3:C<533?4:C<534.03?5:C<534.07?6:C<534.1?7:C<534.13?8:C<534.16?9:C<534.24?10:C<534.3?11:C<535.01?12:C<535.02?"13+":C<535.07?15:C<535.11?16:C<535.19?17:C<536.05?18:C<536.1?19:C<537.01?20:C<537.11?"21+":C<537.13?23:C<537.18?24:C<537.24?25:C<537.36?26:"Blink"!=W?"27":"28")):(W&&(W[1]="like Safari"),C=(C=C[0])<400?1:C<500?2:C<526?3:C<533?4:C<534?"4+":C<535?5:C<537?6:C<538?7:C<601?8:C<602?9:C<604?10:C<606?11:C<608?12:"12"),W&&(W[1]+=" "+(C+="number"==typeof C?".x":/[.+]/.test(C)?"":"+")),"Safari"==G&&(!B||parseInt(B)>45)?B=C:"Chrome"==G&&/\bHeadlessChrome/i.test(t)&&L.unshift("headless")),"Opera"==G&&(C=/\bzbov|zvav$/.exec(Q))?(G+=" ",L.unshift("desktop mode"),"zvav"==C?(G+="Mini",B=null):G+="Mobile",Q=Q.replace(RegExp(" *"+C+"$"),"")):"Safari"==G&&/\bChrome\b/.exec(W&&W[1])?(L.unshift("desktop mode"),G="Chrome Mobile",B=null,/\bOS X\b/.test(Q)?(V="Apple",Q="iOS 4.3+"):Q=null):/\bSRWare Iron\b/.test(G)&&!B&&(B=m("Chrome")),B&&0==B.indexOf(C=/[\d.]+$/.exec(Q))&&t.indexOf("/"+C+"-")>-1&&(Q=c(Q.replace(C,""))),Q&&-1!=Q.indexOf(G)&&!RegExp(G+" OS").test(Q)&&(Q=Q.replace(RegExp(" *"+a(G)+" *"),"")),W&&!/\b(?:Avant|Nook)\b/.test(G)&&(/Browser|Lunascape|Maxthon/.test(G)||"Safari"!=G&&/^iOS/.test(Q)&&/\bSafari\b/.test(W[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(G)&&W[1])&&(C=W[W.length-1])&&L.push(C),L.length&&(L=["("+L.join("; ")+")"]),V&&U&&U.indexOf(V)<0&&L.push("on "+V),U&&L.push((/^on /.test(L[L.length-1])?"":"on ")+U),Q&&(C=/ ([\d.+]+)$/.exec(Q),k=C&&"/"==Q.charAt(Q.length-C[0].length-1),Q={architecture:32,family:C&&!k?Q.replace(C[0],""):Q,version:C?C[1]:null,toString:function(){var t=this.version;return this.family+(t&&!k?" "+t:"")+(64==this.architecture?" 64-bit":"")}}),(C=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(q))&&!/\bi686\b/i.test(q)?(Q&&(Q.architecture=64,Q.family=Q.family.replace(RegExp(" *"+C),"")),G&&(/\bWOW64\b/i.test(t)||H&&/\w(?:86|32)$/.test(x.cpuClass||x.platform)&&!/\bWin64; x64\b/i.test(t))&&L.unshift("32-bit")):Q&&/^OS X/.test(Q.family)&&"Chrome"==G&&parseFloat(B)>=39&&(Q.architecture=64),t||(t=null);var Y={};return Y.description=t,Y.layout=W&&W[0],Y.manufacturer=V,Y.name=G,Y.prerelease=z,Y.product=U,Y.ua=t,Y.version=G&&B,Y.os=Q||{architecture:null,family:null,version:null,toString:function(){return"null"}},Y.parse=u,Y.toString=y,Y.version&&L.unshift(B),Y.name&&L.unshift(G),Q&&G&&(Q!=String(Q).split(" ")[0]||Q!=G.split(" ")[0]&&!U)&&L.push(U?"("+Q+")":"on "+Q),L.length&&(Y.description=L.join(" ")),Y}var d={function:!0,object:!0},h=d[typeof window]&&window||this,p=d[typeof exports]&&exports,f=d[typeof module]&&module&&!module.nodeType&&module,g=p&&f&&"object"==typeof global&&global;!g||g.global!==g&&g.window!==g&&g.self!==g||(h=g);var m=Math.pow(2,53)-1,v=/\bOpera/,y=Object.prototype,b=y.hasOwnProperty,_=y.toString,w=u();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(h.platform=w,define((function(){return w}))):p&&f?r(w,(function(t,e){p[e]=t})):h.platform=w}.call(this),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Stimulus={})}(this,(function(t){"use strict";function e(t){if("immediatePropagationStopped"in t)return t;var e=t.stopImmediatePropagation;return Object.assign(t,{immediatePropagationStopped:!1,stopImmediatePropagation:function(){this.immediatePropagationStopped=!0,e.call(this)}})}function i(t){var e=t.trim().match(G)||[];return{eventTarget:n(e[4]),eventName:e[2],eventOptions:e[9]?r(e[9]):{},identifier:e[5],methodName:e[7]}}function n(t){return"window"==t?window:"document"==t?document:void 0}function r(t){return t.split(":").reduce((function(t,e){var i;return Object.assign(t,((i={})[e.replace(/^!/,"")]=!/^!/.test(e),i))}),{})}function o(t){return t==window?"window":t==document?"document":void 0}function s(t){var e=t.tagName.toLowerCase();if(e in V)return V[e](t)}function a(t){throw new Error(t)}function l(t,e,i){u(t,e).add(i)}function c(t,e,i){u(t,e).delete(i),d(t,e)}function u(t,e){var i=t.get(e);return i||(i=new Set,t.set(e,i)),i}function d(t,e){var i=t.get(e);null!=i&&0==i.size&&t.delete(e)}function h(t,e,i){return t.trim().split(/\s+/).filter((function(t){return t.length})).map((function(t,n){return{element:e,attributeName:i,content:t,index:n}}))}function p(t,e){var i=Math.max(t.length,e.length);return Array.from({length:i},(function(i,n){return[t[n],e[n]]}))}function f(t,e){return t&&e&&t.index==e.index&&t.content==e.content}function g(t,e){var i=v(t);return Array.from(i.reduce((function(t,i){return y(i,e).forEach((function(e){return t.add(e)})),t}),new Set))}function m(t,e){return v(t).reduce((function(t,i){return t.push.apply(t,b(i,e)),t}),[])}function v(t){for(var e=[];t;)e.push(t),t=Object.getPrototypeOf(t);return e.reverse()}function y(t,e){var i=t[e];return Array.isArray(i)?i:[]}function b(t,e){var i=t[e];return i?Object.keys(i).map((function(t){return[t,i[t]]})):[]}function _(t){return w(t,x(t))}function w(t,e){var i=lt(t),n=$(t.prototype,e);return Object.defineProperties(i.prototype,n),i}function x(t){return g(t,"blessings").reduce((function(e,i){var n=i(t);for(var r in n){var o=e[r]||{};e[r]=Object.assign(o,n[r])}return e}),{})}function $(t,e){return at(e).reduce((function(i,n){var r,o=C(t,e,n);return o&&Object.assign(i,((r={})[n]=o,r)),i}),{})}function C(t,e,i){var n=Object.getOwnPropertyDescriptor(t,i);if(!(n&&"value"in n)){var r=Object.getOwnPropertyDescriptor(e,i).value;return n&&(r.get=n.get||r.get,r.set=n.set||r.set),r}}function k(t){return{identifier:t.identifier,controllerConstructor:_(t.controllerConstructor)}}function S(t){return t.replace(/(?:[_-])([a-z0-9])/g,(function(t,e){return e.toUpperCase()}))}function j(t){return t.charAt(0).toUpperCase()+t.slice(1)}function T(t){return t.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()}))}function A(t,e){return"["+t+'~="'+e+'"]'}function D(){return new Promise((function(t){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",t):t()}))}function I(t){return g(t,"classes").reduce((function(t,e){return Object.assign(t,E(e))}),{})}function E(t){var e,i=t+"Class";return(e={})[i]={get:function(){var e=this.classes;if(e.has(t))return e.get(t);var i=e.getAttributeName(t);throw new Error('Missing attribute "'+i+'"')}},e["has"+j(i)]={get:function(){return this.classes.has(t)}},e}function P(t){return g(t,"targets").reduce((function(t,e){return Object.assign(t,O(e))}),{})}function O(t){var e;return(e={})[t+"Target"]={get:function(){var e=this.targets.find(t);if(e)return e;throw new Error('Missing target element "'+this.identifier+"."+t+'"')}},e[t+"Targets"]={get:function(){return this.targets.findAll(t)}},e["has"+j(t)+"Target"]={get:function(){return this.targets.has(t)}},e}function F(t){var e=m(t,"values"),i={valueDescriptorMap:{get:function(){var t=this;return e.reduce((function(e,i){var n,r=R(i),o=t.data.getAttributeNameForKey(r.key);return Object.assign(e,((n={})[o]=r,n))}),{})}}};return e.reduce((function(t,e){return Object.assign(t,M(e))}),i)}function M(t){var e,i=R(t),n=i.type,r=i.key,o=i.name,s=kt[n],a=St[n]||St.default;return(e={})[o]={get:function(){var t=this.data.get(r);return null!==t?s(t):i.defaultValue},set:function(t){void 0===t?this.data.delete(r):this.data.set(r,a(t))}},e["has"+j(o)]={get:function(){return this.data.has(r)}},e}function R(t){return q(t[0],N(t[1]))}function N(t){switch(t){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}throw new Error('Unknown value type constant "'+t+'"')}function q(t,e){var i=T(t)+"-value";return{type:e,key:i,name:S(i),get defaultValue(){return Ct[e]}}}function L(t){return JSON.stringify(t)}function z(t){return""+t}var H,B=function(){function t(t,e,i){this.eventTarget=t,this.eventName=e,this.eventOptions=i,this.unorderedBindings=new Set}return t.prototype.connect=function(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)},t.prototype.disconnect=function(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)},t.prototype.bindingConnected=function(t){this.unorderedBindings.add(t)},t.prototype.bindingDisconnected=function(t){this.unorderedBindings.delete(t)},t.prototype.handleEvent=function(t){for(var i=e(t),n=0,r=this.bindings;n<r.length;n++){var o=r[n];if(i.immediatePropagationStopped)break;o.handleEvent(i)}},Object.defineProperty(t.prototype,"bindings",{get:function(){return Array.from(this.unorderedBindings).sort((function(t,e){var i=t.index,n=e.index;return i<n?-1:i>n?1:0}))},enumerable:!1,configurable:!0}),t}(),W=function(){function t(t){this.application=t,this.eventListenerMaps=new Map,this.started=!1}return t.prototype.start=function(){this.started||(this.started=!0,this.eventListeners.forEach((function(t){return t.connect()})))},t.prototype.stop=function(){this.started&&(this.started=!1,this.eventListeners.forEach((function(t){return t.disconnect()})))},Object.defineProperty(t.prototype,"eventListeners",{get:function(){return Array.from(this.eventListenerMaps.values()).reduce((function(t,e){return t.concat(Array.from(e.values()))}),[])},enumerable:!1,configurable:!0}),t.prototype.bindingConnected=function(t){this.fetchEventListenerForBinding(t).bindingConnected(t)},t.prototype.bindingDisconnected=function(t){this.fetchEventListenerForBinding(t).bindingDisconnected(t)},t.prototype.handleError=function(t,e,i){void 0===i&&(i={}),this.application.handleError(t,"Error "+e,i)},t.prototype.fetchEventListenerForBinding=function(t){var e=t.eventTarget,i=t.eventName,n=t.eventOptions;return this.fetchEventListener(e,i,n)},t.prototype.fetchEventListener=function(t,e,i){var n=this.fetchEventListenerMapForEventTarget(t),r=this.cacheKey(e,i),o=n.get(r);return o||(o=this.createEventListener(t,e,i),n.set(r,o)),o},t.prototype.createEventListener=function(t,e,i){var n=new B(t,e,i);return this.started&&n.connect(),n},t.prototype.fetchEventListenerMapForEventTarget=function(t){var e=this.eventListenerMaps.get(t);return e||(e=new Map,this.eventListenerMaps.set(t,e)),e},t.prototype.cacheKey=function(t,e){var i=[t];return Object.keys(e).sort().forEach((function(t){i.push((e[t]?"":"!")+t)})),i.join(":")},t}(),G=/^((.+?)(@(window|document))?->)?(.+?)(#([^:]+?))(:(.+))?$/,U=function(){function t(t,e,i){this.element=t,this.index=e,this.eventTarget=i.eventTarget||t,this.eventName=i.eventName||s(t)||a("missing event name"),this.eventOptions=i.eventOptions||{},this.identifier=i.identifier||a("missing identifier"),this.methodName=i.methodName||a("missing method name")}return t.forToken=function(t){return new this(t.element,t.index,i(t.content))},t.prototype.toString=function(){var t=this.eventTargetName?"@"+this.eventTargetName:"";return""+this.eventName+t+"->"+this.identifier+"#"+this.methodName},Object.defineProperty(t.prototype,"eventTargetName",{get:function(){return o(this.eventTarget)},enumerable:!1,configurable:!0}),t}(),V={a:function(){return"click"},button:function(){return"click"},form:function(){return"submit"},input:function(t){return"submit"==t.getAttribute("type")?"click":"input"},select:function(){return"change"},textarea:function(){return"input"}},Q=function(){function t(t,e){this.context=t,this.action=e}return Object.defineProperty(t.prototype,"index",{get:function(){return this.action.index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventTarget",{get:function(){return this.action.eventTarget},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventOptions",{get:function(){return this.action.eventOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.context.identifier},enumerable:!1,configurable:!0}),t.prototype.handleEvent=function(t){this.willBeInvokedByEvent(t)&&this.invokeWithEvent(t)},Object.defineProperty(t.prototype,"eventName",{get:function(){return this.action.eventName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"method",{get:function(){var t=this.controller[this.methodName];if("function"==typeof t)return t;throw new Error('Action "'+this.action+'" references undefined method "'+this.methodName+'"')},enumerable:!1,configurable:!0}),t.prototype.invokeWithEvent=function(t){try{this.method.call(this.controller,t)}catch(n){var e=this,i={identifier:e.identifier,controller:e.controller,element:e.element,index:e.index,event:t};this.context.handleError(n,'invoking action "'+this.action+'"',i)}},t.prototype.willBeInvokedByEvent=function(t){var e=t.target;return this.element===e||(e instanceof Element&&this.element.contains(e)?this.scope.containsElement(e):this.scope.containsElement(this.action.element))},Object.defineProperty(t.prototype,"controller",{get:function(){return this.context.controller},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"methodName",{get:function(){return this.action.methodName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scope",{get:function(){return this.context.scope},enumerable:!1,configurable:!0}),t}(),Y=function(){function t(t,e){var i=this;this.element=t,this.started=!1,this.delegate=e,this.elements=new Set,this.mutationObserver=new MutationObserver((function(t){return i.processMutations(t)}))}return t.prototype.start=function(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,childList:!0,subtree:!0}),this.refresh())},t.prototype.stop=function(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)},t.prototype.refresh=function(){if(this.started){for(var t=new Set(this.matchElementsInTree()),e=0,i=Array.from(this.elements);e<i.length;e++){var n=i[e];t.has(n)||this.removeElement(n)}for(var r=0,o=Array.from(t);r<o.length;r++){n=o[r];this.addElement(n)}}},t.prototype.processMutations=function(t){if(this.started)for(var e=0,i=t;e<i.length;e++){var n=i[e];this.processMutation(n)}},t.prototype.processMutation=function(t){"attributes"==t.type?this.processAttributeChange(t.target,t.attributeName):"childList"==t.type&&(this.processRemovedNodes(t.removedNodes),this.processAddedNodes(t.addedNodes))},t.prototype.processAttributeChange=function(t,e){var i=t
;this.elements.has(i)?this.delegate.elementAttributeChanged&&this.matchElement(i)?this.delegate.elementAttributeChanged(i,e):this.removeElement(i):this.matchElement(i)&&this.addElement(i)},t.prototype.processRemovedNodes=function(t){for(var e=0,i=Array.from(t);e<i.length;e++){var n=i[e],r=this.elementFromNode(n);r&&this.processTree(r,this.removeElement)}},t.prototype.processAddedNodes=function(t){for(var e=0,i=Array.from(t);e<i.length;e++){var n=i[e],r=this.elementFromNode(n);r&&this.elementIsActive(r)&&this.processTree(r,this.addElement)}},t.prototype.matchElement=function(t){return this.delegate.matchElement(t)},t.prototype.matchElementsInTree=function(t){return void 0===t&&(t=this.element),this.delegate.matchElementsInTree(t)},t.prototype.processTree=function(t,e){for(var i=0,n=this.matchElementsInTree(t);i<n.length;i++){var r=n[i];e.call(this,r)}},t.prototype.elementFromNode=function(t){if(t.nodeType==Node.ELEMENT_NODE)return t},t.prototype.elementIsActive=function(t){return t.isConnected==this.element.isConnected&&this.element.contains(t)},t.prototype.addElement=function(t){this.elements.has(t)||this.elementIsActive(t)&&(this.elements.add(t),this.delegate.elementMatched&&this.delegate.elementMatched(t))},t.prototype.removeElement=function(t){this.elements.has(t)&&(this.elements.delete(t),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(t))},t}(),X=function(){function t(t,e,i){this.attributeName=e,this.delegate=i,this.elementObserver=new Y(t,this)}return Object.defineProperty(t.prototype,"element",{get:function(){return this.elementObserver.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selector",{get:function(){return"["+this.attributeName+"]"},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.elementObserver.start()},t.prototype.stop=function(){this.elementObserver.stop()},t.prototype.refresh=function(){this.elementObserver.refresh()},Object.defineProperty(t.prototype,"started",{get:function(){return this.elementObserver.started},enumerable:!1,configurable:!0}),t.prototype.matchElement=function(t){return t.hasAttribute(this.attributeName)},t.prototype.matchElementsInTree=function(t){var e=this.matchElement(t)?[t]:[],i=Array.from(t.querySelectorAll(this.selector));return e.concat(i)},t.prototype.elementMatched=function(t){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(t,this.attributeName)},t.prototype.elementUnmatched=function(t){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(t,this.attributeName)},t.prototype.elementAttributeChanged=function(t,e){this.delegate.elementAttributeValueChanged&&this.attributeName==e&&this.delegate.elementAttributeValueChanged(t,e)},t}(),K=function(){function t(t,e){var i=this;this.element=t,this.delegate=e,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver((function(t){return i.processMutations(t)}))}return t.prototype.start=function(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0}),this.refresh())},t.prototype.stop=function(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)},t.prototype.refresh=function(){if(this.started)for(var t=0,e=this.knownAttributeNames;t<e.length;t++){var i=e[t];this.refreshAttribute(i)}},t.prototype.processMutations=function(t){if(this.started)for(var e=0,i=t;e<i.length;e++){var n=i[e];this.processMutation(n)}},t.prototype.processMutation=function(t){var e=t.attributeName;e&&this.refreshAttribute(e)},t.prototype.refreshAttribute=function(t){var e=this.delegate.getStringMapKeyForAttribute(t);if(null!=e){this.stringMap.has(t)||this.stringMapKeyAdded(e,t);var i=this.element.getAttribute(t);this.stringMap.get(t)!=i&&this.stringMapValueChanged(i,e),null==i?(this.stringMap.delete(t),this.stringMapKeyRemoved(e,t)):this.stringMap.set(t,i)}},t.prototype.stringMapKeyAdded=function(t,e){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(t,e)},t.prototype.stringMapValueChanged=function(t,e){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(t,e)},t.prototype.stringMapKeyRemoved=function(t,e){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(t,e)},Object.defineProperty(t.prototype,"knownAttributeNames",{get:function(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentAttributeNames",{get:function(){return Array.from(this.element.attributes).map((function(t){return t.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"recordedAttributeNames",{get:function(){return Array.from(this.stringMap.keys())},enumerable:!1,configurable:!0}),t}(),J=function(){function t(){this.valuesByKey=new Map}return Object.defineProperty(t.prototype,"values",{get:function(){return Array.from(this.valuesByKey.values()).reduce((function(t,e){return t.concat(Array.from(e))}),[])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return Array.from(this.valuesByKey.values()).reduce((function(t,e){return t+e.size}),0)},enumerable:!1,configurable:!0}),t.prototype.add=function(t,e){l(this.valuesByKey,t,e)},t.prototype.delete=function(t,e){c(this.valuesByKey,t,e)},t.prototype.has=function(t,e){var i=this.valuesByKey.get(t);return null!=i&&i.has(e)},t.prototype.hasKey=function(t){return this.valuesByKey.has(t)},t.prototype.hasValue=function(t){return Array.from(this.valuesByKey.values()).some((function(e){return e.has(t)}))},t.prototype.getValuesForKey=function(t){var e=this.valuesByKey.get(t);return e?Array.from(e):[]},t.prototype.getKeysForValue=function(t){return Array.from(this.valuesByKey).filter((function(e){e[0];return e[1].has(t)})).map((function(t){var e=t[0];t[1];return e}))},t}(),Z=window&&window.__extends||(H=function(t,e){return H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},H(t,e)},function(t,e){function i(){this.constructor=t}H(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),tt=(function(t){function e(){var e=t.call(this)||this;return e.keysByValue=new Map,e}Z(e,t),Object.defineProperty(e.prototype,"values",{get:function(){return Array.from(this.keysByValue.keys())},enumerable:!1,configurable:!0}),e.prototype.add=function(e,i){t.prototype.add.call(this,e,i),l(this.keysByValue,i,e)},e.prototype.delete=function(e,i){t.prototype.delete.call(this,e,i),c(this.keysByValue,i,e)},e.prototype.hasValue=function(t){return this.keysByValue.has(t)},e.prototype.getKeysForValue=function(t){var e=this.keysByValue.get(t);return e?Array.from(e):[]}}(J),function(){function t(t,e,i){this.attributeObserver=new X(t,e,this),this.delegate=i,this.tokensByElement=new J}return Object.defineProperty(t.prototype,"started",{get:function(){return this.attributeObserver.started},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.attributeObserver.start()},t.prototype.stop=function(){this.attributeObserver.stop()},t.prototype.refresh=function(){this.attributeObserver.refresh()},Object.defineProperty(t.prototype,"element",{get:function(){return this.attributeObserver.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributeName",{get:function(){return this.attributeObserver.attributeName},enumerable:!1,configurable:!0}),t.prototype.elementMatchedAttribute=function(t){this.tokensMatched(this.readTokensForElement(t))},t.prototype.elementAttributeValueChanged=function(t){var e=this.refreshTokensForElement(t),i=e[0],n=e[1];this.tokensUnmatched(i),this.tokensMatched(n)},t.prototype.elementUnmatchedAttribute=function(t){this.tokensUnmatched(this.tokensByElement.getValuesForKey(t))},t.prototype.tokensMatched=function(t){var e=this;t.forEach((function(t){return e.tokenMatched(t)}))},t.prototype.tokensUnmatched=function(t){var e=this;t.forEach((function(t){return e.tokenUnmatched(t)}))},t.prototype.tokenMatched=function(t){this.delegate.tokenMatched(t),this.tokensByElement.add(t.element,t)},t.prototype.tokenUnmatched=function(t){this.delegate.tokenUnmatched(t),this.tokensByElement.delete(t.element,t)},t.prototype.refreshTokensForElement=function(t){var e=this.tokensByElement.getValuesForKey(t),i=this.readTokensForElement(t),n=p(e,i).findIndex((function(t){return!f(t[0],t[1])}));return-1==n?[[],[]]:[e.slice(n),i.slice(n)]},t.prototype.readTokensForElement=function(t){var e=this.attributeName;return h(t.getAttribute(e)||"",t,e)},t}()),et=function(){function t(t,e,i){this.tokenListObserver=new tt(t,e,this),this.delegate=i,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}return Object.defineProperty(t.prototype,"started",{get:function(){return this.tokenListObserver.started},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.tokenListObserver.start()},t.prototype.stop=function(){this.tokenListObserver.stop()},t.prototype.refresh=function(){this.tokenListObserver.refresh()},Object.defineProperty(t.prototype,"element",{get:function(){return this.tokenListObserver.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributeName",{get:function(){return this.tokenListObserver.attributeName},enumerable:!1,configurable:!0}),t.prototype.tokenMatched=function(t){var e=t.element,i=this.fetchParseResultForToken(t).value;i&&(this.fetchValuesByTokenForElement(e).set(t,i),this.delegate.elementMatchedValue(e,i))},t.prototype.tokenUnmatched=function(t){var e=t.element,i=this.fetchParseResultForToken(t).value;i&&(this.fetchValuesByTokenForElement(e).delete(t),this.delegate.elementUnmatchedValue(e,i))},t.prototype.fetchParseResultForToken=function(t){var e=this.parseResultsByToken.get(t);return e||(e=this.parseToken(t),this.parseResultsByToken.set(t,e)),e},t.prototype.fetchValuesByTokenForElement=function(t){var e=this.valuesByTokenByElement.get(t);return e||(e=new Map,this.valuesByTokenByElement.set(t,e)),e},t.prototype.parseToken=function(t){try{return{value:this.delegate.parseValueForToken(t)}}catch(t){return{error:t}}},t}(),it=function(){function t(t,e){this.context=t,this.delegate=e,this.bindingsByAction=new Map}return t.prototype.start=function(){this.valueListObserver||(this.valueListObserver=new et(this.element,this.actionAttribute,this),this.valueListObserver.start())},t.prototype.stop=function(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())},Object.defineProperty(t.prototype,"element",{get:function(){return this.context.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.context.identifier},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actionAttribute",{get:function(){return this.schema.actionAttribute},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.context.schema},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bindings",{get:function(){return Array.from(this.bindingsByAction.values())},enumerable:!1,configurable:!0}),t.prototype.connectAction=function(t){var e=new Q(this.context,t);this.bindingsByAction.set(t,e),this.delegate.bindingConnected(e)},t.prototype.disconnectAction=function(t){var e=this.bindingsByAction.get(t);e&&(this.bindingsByAction.delete(t),this.delegate.bindingDisconnected(e))},t.prototype.disconnectAllActions=function(){var t=this;this.bindings.forEach((function(e){return t.delegate.bindingDisconnected(e)})),this.bindingsByAction.clear()},t.prototype.parseValueForToken=function(t){var e=U.forToken(t);if(e.identifier==this.identifier)return e},t.prototype.elementMatchedValue=function(t,e){this.connectAction(e)},t.prototype.elementUnmatchedValue=function(t,e){this.disconnectAction(e)},t}(),nt=function(){function t(t,e){this.context=t,this.receiver=e,this.stringMapObserver=new K(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap,this.invokeChangedCallbacksForDefaultValues()}return t.prototype.start=function(){this.stringMapObserver.start()},t.prototype.stop=function(){this.stringMapObserver.stop()},Object.defineProperty(t.prototype,"element",{get:function(){return this.context.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"controller",{get:function(){return this.context.controller},enumerable:!1,configurable:!0}),t.prototype.getStringMapKeyForAttribute=function(t){if(t in this.valueDescriptorMap)return this.valueDescriptorMap[t].name},t.prototype.stringMapValueChanged=function(t,e){this.invokeChangedCallbackForValue(e)},t.prototype.invokeChangedCallbacksForDefaultValues=function(){for(var t=0,e=this.valueDescriptors;t<e.length;t++){var i=e[t],n=i.key,r=i.name;null==i.defaultValue||this.controller.data.has(n)||this.invokeChangedCallbackForValue(r)}},t.prototype.invokeChangedCallbackForValue=function(t){var e=t+"Changed",i=this.receiver[e];if("function"==typeof i){var n=this.receiver[t];i.call(this.receiver,n)}},Object.defineProperty(t.prototype,"valueDescriptors",{get:function(){var t=this.valueDescriptorMap;return Object.keys(t).map((function(e){return t[e]}))},enumerable:!1,configurable:!0}),t}(),rt=function(){function t(t,e){this.module=t,this.scope=e,this.controller=new t.controllerConstructor(this),this.bindingObserver=new it(this,this.dispatcher),this.valueObserver=new nt(this,this.controller);try{this.controller.initialize()}catch(t){this.handleError(t,"initializing controller")}}return t.prototype.connect=function(){this.bindingObserver.start(),this.valueObserver.start();try{this.controller.connect()}catch(t){this.handleError(t,"connecting controller")}},t.prototype.disconnect=function(){try{this.controller.disconnect()}catch(t){this.handleError(t,"disconnecting controller")}this.valueObserver.stop(),this.bindingObserver.stop()},Object.defineProperty(t.prototype,"application",{get:function(){return this.module.application},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.module.identifier},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.application.schema},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dispatcher",{get:function(){return this.application.dispatcher},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentElement",{get:function(){return this.element.parentElement},enumerable:!1,configurable:!0}),t.prototype.handleError=function(t,e,i){void 0===i&&(i={});var n=this,r=n.identifier,o=n.controller,s=n.element;i=Object.assign({identifier:r,controller:o,element:s},i),this.application.handleError(t,"Error "+e,i)},t}(),ot=window&&window.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),st=window&&window.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)n[r]=o[s];return n},at="function"==typeof Object.getOwnPropertySymbols?function(t){return st(Object.getOwnPropertyNames(t),Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,lt=function(){function t(t){function e(){var i=this&&this instanceof e?this.constructor:void 0;return Reflect.construct(t,arguments,i)}return e.prototype=Object.create(t.prototype,{constructor:{value:e}}),Reflect.setPrototypeOf(e,t),e}function e(){var e=t((function(){this.a.call(this)}));return e.prototype.a=function(){},new e}try{return e(),t}catch(t){return function(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ot(e,t),e}(t)}}}(),ct=function(){function t(t,e){this.application=t,this.definition=k(e),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}return Object.defineProperty(t.prototype,"identifier",{get:function(){return this.definition.identifier},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"controllerConstructor",{get:function(){return this.definition.controllerConstructor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contexts",{get:function(){return Array.from(this.connectedContexts)},enumerable:!1,configurable:!0}),t.prototype.connectContextForScope=function(t){var e=this.fetchContextForScope(t);this.connectedContexts.add(e),e.connect()},t.prototype.disconnectContextForScope=function(t){var e=this.contextsByScope.get(t);e&&(this.connectedContexts.delete(e),e.disconnect())},t.prototype.fetchContextForScope=function(t){var e=this.contextsByScope.get(t);return e||(e=new rt(this,t),this.contextsByScope.set(t,e)),e},t}(),ut=function(){function t(t){this.scope=t}return t.prototype.has=function(t){return this.data.has(this.getDataKey(t))},t.prototype.get=function(t){return this.data.get(this.getDataKey(t))},t.prototype.getAttributeName=function(t){return this.data.getAttributeNameForKey(this.getDataKey(t))},t.prototype.getDataKey=function(t){return t+"-class"},Object.defineProperty(t.prototype,"data",{get:function(){return this.scope.data},enumerable:!1,configurable:!0}),t}(),dt=function(){function t(t){this.scope=t}return Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=this.getAttributeNameForKey(t);return this.element.getAttribute(e)},t.prototype.set=function(t,e){var i=this.getAttributeNameForKey(t);return this.element.setAttribute(i,e),this.get(t)},t.prototype.has=function(t){var e=this.getAttributeNameForKey(t);return this.element.hasAttribute(e)},t.prototype.delete=function(t){if(this.has(t)){var e=this.getAttributeNameForKey(t);return this.element.removeAttribute(e),!0}return!1},t.prototype.getAttributeNameForKey=function(t){return"data-"+this.identifier+"-"+T(t)},t}(),ht=function(){function t(t){this.warnedKeysByObject=new WeakMap,this.logger=t}return t.prototype.warn=function(t,e,i){var n=this.warnedKeysByObject.get(t);n||(n=new Set,this.warnedKeysByObject.set(t,n)),n.has(e)||(n.add(e),this.logger.warn(i,t))},t}(),pt=window&&window.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)n[r]=o[s];return n},ft=function(){function t(t){this.scope=t}return Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.scope.schema},enumerable:!1,configurable:!0}),t.prototype.has=function(t){return null!=this.find(t)},t.prototype.find=function(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return e.reduce((function(e,i){return e||t.findTarget(i)||t.findLegacyTarget(i)}),void 0)},t.prototype.findAll=function(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return e.reduce((function(e,i){return pt(e,t.findAllTargets(i),t.findAllLegacyTargets(i))}),[])},t.prototype.findTarget=function(t){var e=this.getSelectorForTargetName(t);return this.scope.findElement(e)},t.prototype.findAllTargets=function(t){var e=this.getSelectorForTargetName(t);return this.scope.findAllElements(e)},t.prototype.getSelectorForTargetName=function(t){return A("data-"+this.identifier+"-target",t)},t.prototype.findLegacyTarget=function(t){var e=this.getLegacySelectorForTargetName(t);return this.deprecate(this.scope.findElement(e),t)},t.prototype.findAllLegacyTargets=function(t){var e=this,i=this.getLegacySelectorForTargetName(t);return this.scope.findAllElements(i).map((function(i){return e.deprecate(i,t)}))},t.prototype.getLegacySelectorForTargetName=function(t){var e=this.identifier+"."+t;return A(this.schema.targetAttribute,e)},t.prototype.deprecate=function(t,e){if(t){var i=this.identifier,n=this.schema.targetAttribute;this.guide.warn(t,"target:"+e,"Please replace "+n+'="'+i+"."+e+'" with data-'+i+'-target="'+e+'". The '+n+" attribute is deprecated and will be removed in a future version of Stimulus.")}return t},Object.defineProperty(t.prototype,"guide",{get:function(){return this.scope.guide},enumerable:!1,configurable:!0}),t}(),gt=window&&window.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)n[r]=o[s];return n},mt=function(){function t(t,e,i,n){var r=this;this.targets=new ft(this),this.classes=new ut(this),this.data=new dt(this),this.containsElement=function(t){return t.closest(r.controllerSelector)===r.element},this.schema=t,this.element=e,this.identifier=i,this.guide=new ht(n)}return t.prototype.findElement=function(t){return this.element.matches(t)?this.element:this.queryElements(t).find(this.containsElement)},t.prototype.findAllElements=function(t){return gt(this.element.matches(t)?[this.element]:[],this.queryElements(t).filter(this.containsElement))},t.prototype.queryElements=function(t){return Array.from(this.element.querySelectorAll(t))},Object.defineProperty(t.prototype,"controllerSelector",{get:function(){return A(this.schema.controllerAttribute,this.identifier)},enumerable:!1,configurable:!0}),t}(),vt=function(){function t(t,e,i){this.element=t,this.schema=e,this.delegate=i,this.valueListObserver=new et(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}return t.prototype.start=function(){this.valueListObserver.start()},t.prototype.stop=function(){this.valueListObserver.stop()},Object.defineProperty(t.prototype,"controllerAttribute",{get:function(){return this.schema.controllerAttribute},enumerable:!1,configurable:!0}),t.prototype.parseValueForToken=function(t){var e=t.element,i=t.content,n=this.fetchScopesByIdentifierForElement(e),r=n.get(i);return r||(r=this.delegate.createScopeForElementAndIdentifier(e,i),n.set(i,r)),r},t.prototype.elementMatchedValue=function(t,e){var i=(this.scopeReferenceCounts.get(e)||0)+1;this.scopeReferenceCounts.set(e,i),1==i&&this.delegate.scopeConnected(e)},t.prototype.elementUnmatchedValue=function(t,e){var i=this.scopeReferenceCounts.get(e);i&&(this.scopeReferenceCounts.set(e,i-1),1==i&&this.delegate.scopeDisconnected(e))},t.prototype.fetchScopesByIdentifierForElement=function(t){var e=this.scopesByIdentifierByElement.get(t);return e||(e=new Map,this.scopesByIdentifierByElement.set(t,e)),e},t}(),yt=function(){function t(t){this.application=t,this.scopeObserver=new vt(this.element,this.schema,this),this.scopesByIdentifier=new J,this.modulesByIdentifier=new Map}return Object.defineProperty(t.prototype,"element",{get:function(){return this.application.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.application.schema},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logger",{get:function(){return this.application.logger},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"controllerAttribute",{get:function(){return this.schema.controllerAttribute},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modules",{get:function(){return Array.from(this.modulesByIdentifier.values())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contexts",{get:function(){return this.modules.reduce((function(t,e){return t.concat(e.contexts)}),[])},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.scopeObserver.start()},t.prototype.stop=function(){this.scopeObserver.stop()},t.prototype.loadDefinition=function(t){this.unloadIdentifier(t.identifier);var e=new ct(this.application,t);this.connectModule(e)},t.prototype.unloadIdentifier=function(t){var e=this.modulesByIdentifier.get(t);e&&this.disconnectModule(e)},t.prototype.getContextForElementAndIdentifier=function(t,e){var i=this.modulesByIdentifier.get(e);if(i)return i.contexts.find((function(e){return e.element==t}))},t.prototype.handleError=function(t,e,i){this.application.handleError(t,e,i)},t.prototype.createScopeForElementAndIdentifier=function(t,e){return new mt(this.schema,t,e,this.logger)},t.prototype.scopeConnected=function(t){this.scopesByIdentifier.add(t.identifier,t);var e=this.modulesByIdentifier.get(t.identifier);e&&e.connectContextForScope(t)},t.prototype.scopeDisconnected=function(t){this.scopesByIdentifier.delete(t.identifier,t);var e=this.modulesByIdentifier.get(t.identifier);e&&e.disconnectContextForScope(t)},t.prototype.connectModule=function(t){this.modulesByIdentifier.set(t.identifier,t),this.scopesByIdentifier.getValuesForKey(t.identifier).forEach((function(e){return t.connectContextForScope(e)}))},t.prototype.disconnectModule=function(t){this.modulesByIdentifier.delete(t.identifier),this.scopesByIdentifier.getValuesForKey(t.identifier).forEach((function(e){return t.disconnectContextForScope(e)}))},t}(),bt={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target"},_t=window&&window.__awaiter||function(t,e,i,n){function r(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){t.done?i(t.value):r(t.value).then(s,a)}l((n=n.apply(t,e||[])).next())}))},wt=window&&window.__generator||function(t,e){function i(t){return function(e){return n([t,e])}}function n(i){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,o&&(s=2&i[0]?o.return:i[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,i[1])).done)return s;switch(o=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,o=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(s=l.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){l.label=i[1];break}if(6===i[0]&&l.label<s[1]){l.label=s[1],s=i;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(i);break}s[2]&&l.ops.pop(),l.trys.pop();continue}i=e.call(t,l)}catch(t){i=[6,t],o=0}finally{r=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var r,o,s,a,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},xt=window&&window.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)n[r]=o[s];return n},$t=function(){function t(t,e){void 0===t&&(t=document.documentElement),void 0===e&&(e=bt),this.logger=console,this.element=t,this.schema=e,this.dispatcher=new W(this),this.router=new yt(this)}return t.start=function(e,i){var n=new t(e,i);return n.start(),n},t.prototype.start=function(){return _t(this,void 0,void 0,(function(){return wt(this,(function(t){switch(t.label){case 0:return[4,D()];case 1:return t.sent(),this.dispatcher.start(),this.router.start(),[2]}}))}))},t.prototype.stop=function(){this.dispatcher.stop(),this.router.stop()},t.prototype.register=function(t,e){this.load({identifier:t,controllerConstructor:e})},t.prototype.load=function(t){for(var e=this,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];(Array.isArray(t)?t:xt([t],i)).forEach((function(t){return e.router.loadDefinition(t)}))},t.prototype.unload=function(t){for(var e=this,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];(Array.isArray(t)?t:xt([t],i)).forEach((function(t){return e.router.unloadIdentifier(t)}))},Object.defineProperty(t.prototype,"controllers",{get:function(){return this.router.contexts.map((function(t){return t.controller}))},enumerable:!1,configurable:!0}),t.prototype.getControllerForElementAndIdentifier=function(t,e){var i=this.router.getContextForElementAndIdentifier(t,e);return i?i.controller:null},t.prototype.handleError=function(t,e,i){this.logger.error("%s\n\n%o\n\n%o",e,t,i)},t}(),Ct={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},kt={array:function(t){var e=JSON.parse(t);if(!Array.isArray(e))throw new TypeError("Expected array");return e},boolean:function(t){return!("0"==t||"false"==t)},number:function(t){return parseFloat(t)},object:function(t){var e=JSON.parse(t);if(null===e||"object"!=typeof e||Array.isArray(e))throw new TypeError("Expected object");return e},string:function(t){return t}},St={default:z,array:L,object:L},jt=function(){function t(t){this.context=t}return Object.defineProperty(t.prototype,"application",{get:function(){return this.context.application},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scope",{get:function(){return this.context.scope},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"targets",{get:function(){return this.scope.targets},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"classes",{get:function(){return this.scope.classes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.scope.data},enumerable:!1,configurable:!0}),t.prototype.initialize=function(){},t.prototype.connect=function(){},t.prototype.disconnect=function(){},t.blessings=[I,P,F],t.targets=[],t.values={},t}();t.Application=$t,t.Context=rt,t.Controller=jt,t.defaultSchema=bt,Object.defineProperty(t,"__esModule",{value:!0})})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Tribute=e()}(this,(function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}function n(t,e){return r(t)||o(t,e)||s(t,e)||l()}function r(t){if(Array.isArray(t))return t}function o(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return i}}function s(t,e){if(t){if("string"==typeof t)return a(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}if(Array.prototype.find||(Array.prototype.find=function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,i=Object(this),n=i.length>>>0,r=arguments[1],o=0;o<n;o++)if(e=i[o],t.call(r,e,o,i))return e}),window&&"function"!=typeof window.CustomEvent){var c=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i};void 0!==window.Event&&(c.prototype=window.Event.prototype),window.CustomEvent=c}var u=function(){function e(i){t(this,e),this.tribute=i,this.tribute.events=this}return i(e,[{key:"bind",value:function(t){t.boundKeydown=this.keydown.bind(t,this),t.boundKeyup=this.keyup.bind(t,this),t.boundInput=this.input.bind(t,this),
t.addEventListener("keydown",t.boundKeydown,!1),t.addEventListener("keyup",t.boundKeyup,!1),t.addEventListener("input",t.boundInput,!1)}},{key:"unbind",value:function(t){t.removeEventListener("keydown",t.boundKeydown,!1),t.removeEventListener("keyup",t.boundKeyup,!1),t.removeEventListener("input",t.boundInput,!1),delete t.boundKeydown,delete t.boundKeyup,delete t.boundInput}},{key:"keydown",value:function(t,i){t.shouldDeactivate(i)&&(t.tribute.isActive=!1,t.tribute.hideMenu());var n=this;t.commandEvent=!1,e.keys().forEach((function(e){e.key===i.keyCode&&(t.commandEvent=!0,t.callbacks()[e.value.toLowerCase()](i,n))}))}},{key:"input",value:function(t,e){t.inputEvent=!0,t.keyup.call(this,t,e)}},{key:"click",value:function(t,e){var i=t.tribute;if(i.menu&&i.menu.contains(e.target)){var n=e.target;for(e.preventDefault(),e.stopPropagation();"li"!==n.nodeName.toLowerCase();)if(!(n=n.parentNode)||n===i.menu)throw new Error("cannot find the <li> container for the click");i.selectItemAtIndex(n.getAttribute("data-index"),e),i.hideMenu()}else i.current.element&&!i.current.externalTrigger&&(i.current.externalTrigger=!1,setTimeout((function(){return i.hideMenu()})))}},{key:"keyup",value:function(t,e){if(t.inputEvent&&(t.inputEvent=!1),t.updateSelection(this),27!==e.keyCode){if(!t.tribute.allowSpaces&&t.tribute.hasTrailingSpace)return t.tribute.hasTrailingSpace=!1,t.commandEvent=!0,void t.callbacks().space(e,this);if(!t.tribute.isActive)if(t.tribute.autocompleteMode)t.callbacks().triggerChar(e,this,"");else{var i=t.getKeyCode(t,this,e);if(isNaN(i)||!i)return;var n=t.tribute.triggers().find((function(t){return t.charCodeAt(0)===i}));void 0!==n&&t.callbacks().triggerChar(e,this,n)}t.tribute.current.mentionText.length<t.tribute.current.collection.menuShowMinLength||((t.tribute.current.trigger||t.tribute.autocompleteMode)&&!1===t.commandEvent||t.tribute.isActive&&8===e.keyCode)&&t.tribute.showMenuFor(this,!0)}}},{key:"shouldDeactivate",value:function(t){if(!this.tribute.isActive)return!1;if(0===this.tribute.current.mentionText.length){var i=!1;return e.keys().forEach((function(e){t.keyCode===e.key&&(i=!0)})),!i}return!1}},{key:"getKeyCode",value:function(t){var e=t.tribute,i=e.range.getTriggerInfo(!1,e.hasTrailingSpace,!0,e.allowSpaces,e.autocompleteMode);return!!i&&i.mentionTriggerChar.charCodeAt(0)}},{key:"updateSelection",value:function(t){this.tribute.current.element=t;var e=this.tribute.range.getTriggerInfo(!1,this.tribute.hasTrailingSpace,!0,this.tribute.allowSpaces,this.tribute.autocompleteMode);e&&(this.tribute.current.selectedPath=e.mentionSelectedPath,this.tribute.current.mentionText=e.mentionText,this.tribute.current.selectedOffset=e.mentionSelectedOffset)}},{key:"callbacks",value:function(){var t=this;return{triggerChar:function(e,i,n){var r=t.tribute;r.current.trigger=n;var o=r.collection.find((function(t){return t.trigger===n}));r.current.collection=o,r.current.mentionText.length>=r.current.collection.menuShowMinLength&&r.inputEvent&&r.showMenuFor(i,!0)},enter:function(e){t.tribute.isActive&&t.tribute.current.filteredItems&&(e.preventDefault(),e.stopPropagation(),setTimeout((function(){t.tribute.selectItemAtIndex(t.tribute.menuSelected,e),t.tribute.hideMenu()}),0))},escape:function(e){t.tribute.isActive&&(e.preventDefault(),e.stopPropagation(),t.tribute.isActive=!1,t.tribute.hideMenu())},tab:function(e,i){t.callbacks().enter(e,i)},space:function(e,i){t.tribute.isActive&&(t.tribute.spaceSelectsMatch?t.callbacks().enter(e,i):t.tribute.allowSpaces||(e.stopPropagation(),setTimeout((function(){t.tribute.hideMenu(),t.tribute.isActive=!1}),0)))},up:function(e){if(t.tribute.isActive&&t.tribute.current.filteredItems){e.preventDefault(),e.stopPropagation();var i=t.tribute.current.filteredItems.length,n=t.tribute.menuSelected;i>n&&n>0?(t.tribute.menuSelected--,t.setActiveLi()):0===n&&(t.tribute.menuSelected=i-1,t.setActiveLi(),t.tribute.menu.scrollTop=t.tribute.menu.scrollHeight)}},down:function(e){if(t.tribute.isActive&&t.tribute.current.filteredItems){e.preventDefault(),e.stopPropagation();var i=t.tribute.current.filteredItems.length-1,n=t.tribute.menuSelected;i>n?(t.tribute.menuSelected++,t.setActiveLi()):i===n&&(t.tribute.menuSelected=0,t.setActiveLi(),t.tribute.menu.scrollTop=0)}},delete:function(e,i){t.tribute.isActive&&t.tribute.current.mentionText.length<1?t.tribute.hideMenu():t.tribute.isActive&&t.tribute.showMenuFor(i)}}}},{key:"setActiveLi",value:function(t){var e=this.tribute.menu.querySelectorAll("li"),i=e.length>>>0;t&&(this.tribute.menuSelected=parseInt(t));for(var n=0;n<i;n++){var r=e[n];if(n===this.tribute.menuSelected){r.classList.add(this.tribute.current.collection.selectClass);var o=r.getBoundingClientRect(),s=this.tribute.menu.getBoundingClientRect();if(o.bottom>s.bottom){var a=o.bottom-s.bottom;this.tribute.menu.scrollTop+=a}else if(o.top<s.top){var l=s.top-o.top;this.tribute.menu.scrollTop-=l}}else r.classList.remove(this.tribute.current.collection.selectClass)}}},{key:"getFullHeight",value:function(t,e){var i=t.getBoundingClientRect().height;if(e){var n=t.currentStyle||window.getComputedStyle(t);return i+parseFloat(n.marginTop)+parseFloat(n.marginBottom)}return i}}],[{key:"keys",value:function(){return[{key:9,value:"TAB"},{key:8,value:"DELETE"},{key:13,value:"ENTER"},{key:27,value:"ESCAPE"},{key:32,value:"SPACE"},{key:38,value:"UP"},{key:40,value:"DOWN"}]}}]),e}(),d=function(){function e(i){t(this,e),this.tribute=i,this.tribute.menuEvents=this,this.menu=this.tribute.menu}return i(e,[{key:"bind",value:function(){var t=this;this.menuClickEvent=this.tribute.events.click.bind(null,this),this.menuContainerScrollEvent=this.debounce((function(){t.tribute.isActive&&t.tribute.showMenuFor(t.tribute.current.element,!1)}),300,!1),this.windowResizeEvent=this.debounce((function(){t.tribute.isActive&&t.tribute.range.positionMenuAtCaret(!0)}),300,!1),this.tribute.range.getDocument().addEventListener("MSPointerDown",this.menuClickEvent,!1),this.tribute.range.getDocument().addEventListener("mousedown",this.menuClickEvent,!1),window.addEventListener("resize",this.windowResizeEvent),this.menuContainer?this.menuContainer.addEventListener("scroll",this.menuContainerScrollEvent,!1):window.addEventListener("scroll",this.menuContainerScrollEvent)}},{key:"unbind",value:function(){this.tribute.range.getDocument().removeEventListener("mousedown",this.menuClickEvent,!1),this.tribute.range.getDocument().removeEventListener("MSPointerDown",this.menuClickEvent,!1),window.removeEventListener("resize",this.windowResizeEvent),this.menuContainer?this.menuContainer.removeEventListener("scroll",this.menuContainerScrollEvent,!1):window.removeEventListener("scroll",this.menuContainerScrollEvent)}},{key:"debounce",value:function(t,e,i){var n,r=arguments,o=this;return function(){var s=o,a=r,l=function(){n=null,i||t.apply(s,a)},c=i&&!n;clearTimeout(n),n=setTimeout(l,e),c&&t.apply(s,a)}}}]),e}(),h=function(){function e(i){t(this,e),this.tribute=i,this.tribute.range=this}return i(e,[{key:"getDocument",value:function(){var t;return this.tribute.current.collection&&(t=this.tribute.current.collection.iframe),t?t.contentWindow.document:document}},{key:"positionMenuAtCaret",value:function(t){var e,i=this,n=this.tribute.current,r=this.getTriggerInfo(!1,this.tribute.hasTrailingSpace,!0,this.tribute.allowSpaces,this.tribute.autocompleteMode);if(void 0!==r){if(!this.tribute.positionMenu)return void(this.tribute.menu.style.cssText="display: block;");e=this.isContentEditable(n.element)?this.getContentEditableCaretPosition(r.mentionPosition):this.getTextAreaOrInputUnderlinePosition(this.tribute.current.element,r.mentionPosition),this.tribute.menu.style.cssText="top: ".concat(e.top,"px;\n                                     left: ").concat(e.left,"px;\n                                     right: ").concat(e.right,"px;\n                                     bottom: ").concat(e.bottom,"px;\n                                     position: absolute;\n                                     display: block;"),"auto"===e.left&&(this.tribute.menu.style.left="auto"),"auto"===e.top&&(this.tribute.menu.style.top="auto"),t&&this.scrollIntoView(),window.setTimeout((function(){var n={width:i.tribute.menu.offsetWidth,height:i.tribute.menu.offsetHeight},r=i.isMenuOffScreen(e,n),o=window.innerWidth>n.width&&(r.left||r.right),s=window.innerHeight>n.height&&(r.top||r.bottom);(o||s)&&(i.tribute.menu.style.cssText="display: none",i.positionMenuAtCaret(t))}),0)}else this.tribute.menu.style.cssText="display: none"}},{key:"selectElement",value:function(t,e,i){var n,r=t;if(e)for(var o=0;o<e.length;o++){if(void 0===(r=r.childNodes[e[o]]))return;for(;r.length<i;)i-=r.length,r=r.nextSibling;0!==r.childNodes.length||r.length||(r=r.previousSibling)}var s=this.getWindowSelection();(n=this.getDocument().createRange()).setStart(r,i),n.setEnd(r,i),n.collapse(!0);try{s.removeAllRanges()}catch(t){}s.addRange(n),t.focus()}},{key:"replaceTriggerText",value:function(t,e,i,n,r){var o=this.getTriggerInfo(!0,i,e,this.tribute.allowSpaces,this.tribute.autocompleteMode);if(void 0!==o){var s=this.tribute.current,a=new CustomEvent("tribute-replaced",{detail:{item:r,instance:s,context:o,event:n}});if(this.isContentEditable(s.element)){t+="string"==typeof this.tribute.replaceTextSuffix?this.tribute.replaceTextSuffix:"\xa0";var l=o.mentionPosition+o.mentionText.length;this.tribute.autocompleteMode||(l+=o.mentionTriggerChar.length),this.pasteHtml(t,o.mentionPosition,l)}else{var c=this.tribute.current.element,u="string"==typeof this.tribute.replaceTextSuffix?this.tribute.replaceTextSuffix:" ";t+=u;var d=o.mentionPosition,h=o.mentionPosition+o.mentionText.length+u.length;this.tribute.autocompleteMode||(h+=o.mentionTriggerChar.length-1),c.value=c.value.substring(0,d)+t+c.value.substring(h,c.value.length),c.selectionStart=d+t.length,c.selectionEnd=d+t.length}s.element.dispatchEvent(new CustomEvent("input",{bubbles:!0})),s.element.dispatchEvent(a)}}},{key:"pasteHtml",value:function(t,e,i){var n,r;r=this.getWindowSelection(),(n=this.getDocument().createRange()).setStart(r.anchorNode,e),n.setEnd(r.anchorNode,i),n.deleteContents();var o=this.getDocument().createElement("div");o.innerHTML=t;for(var s,a,l=this.getDocument().createDocumentFragment();s=o.firstChild;)a=l.appendChild(s);n.insertNode(l),a&&((n=n.cloneRange()).setStartAfter(a),n.collapse(!0),r.removeAllRanges(),r.addRange(n))}},{key:"getWindowSelection",value:function(){return this.tribute.collection.iframe?this.tribute.collection.iframe.contentWindow.getSelection():window.getSelection()}},{key:"getNodePositionInParent",value:function(t){if(null===t.parentNode)return 0;for(var e=0;e<t.parentNode.childNodes.length;e++){if(t.parentNode.childNodes[e]===t)return e}}},{key:"getContentEditableSelectedPath",value:function(){var t=this.getWindowSelection(),e=t.anchorNode,i=[];if(null!=e){for(var n,r=e.contentEditable;null!==e&&"true"!==r;)n=this.getNodePositionInParent(e),i.push(n),null!==(e=e.parentNode)&&(r=e.contentEditable);return i.reverse(),{selected:e,path:i,offset:t.getRangeAt(0).startOffset}}}},{key:"getTextPrecedingCurrentSelection",value:function(){var t=this.tribute.current,e="";if(this.isContentEditable(t.element)){var i=this.getWindowSelection().anchorNode;if(null!=i){var n=i.textContent,r=this.getWindowSelection().getRangeAt(0).startOffset;n&&r>=0&&(e=n.substring(0,r))}}else{var o=this.tribute.current.element;if(o){var s=o.selectionStart;o.value&&s>=0&&(e=o.value.substring(0,s))}}return e}},{key:"getLastWordInText",value:function(t){var e;return t=t.replace(/\u00A0/g," "),(e=this.tribute.autocompleteSeparator?t.split(this.tribute.autocompleteSeparator):t.split(/\s+/))[e.length-1].trim()}},{key:"getTriggerInfo",value:function(t,e,i,n,r){var o,s,a,l=this,c=this.tribute.current;if(this.isContentEditable(c.element)){var u=this.getContentEditableSelectedPath(c);u&&(o=u.selected,s=u.path,a=u.offset)}else o=this.tribute.current.element;var d=this.getTextPrecedingCurrentSelection(),h=this.getLastWordInText(d);if(r)return{mentionPosition:d.length-h.length,mentionText:h,mentionSelectedElement:o,mentionSelectedPath:s,mentionSelectedOffset:a};if(null!=d){var p,f=-1;if(this.tribute.collection.forEach((function(t){var e=t.trigger,n=t.requireLeadingSpace?l.lastIndexWithLeadingSpace(d,e):d.lastIndexOf(e);n>f&&(f=n,p=e,i=t.requireLeadingSpace)})),f>=0&&(0===f||!i||/[\xA0\s]/g.test(d.substring(f-1,f)))){var g=d.substring(f+p.length,d.length);p=d.substring(f,f+p.length);var m=g.substring(0,1),v=g.length>0&&(" "===m||"\xa0"===m);e&&(g=g.trim());var y=n?/[^\S ]/g:/[\xA0\s]/g;if(this.tribute.hasTrailingSpace=y.test(g),!v&&(t||!y.test(g)))return{mentionPosition:f,mentionText:g,mentionSelectedElement:o,mentionSelectedPath:s,mentionSelectedOffset:a,mentionTriggerChar:p}}}}},{key:"lastIndexWithLeadingSpace",value:function(t,e){for(var i=t.split("").reverse().join(""),n=-1,r=0,o=t.length;r<o;r++){for(var s=r===t.length-1,a=/\s/.test(i[r+1]),l=!0,c=e.length-1;c>=0;c--)if(e[c]!==i[r-c]){l=!1;break}if(l&&(s||a)){n=t.length-1-r;break}}return n}},{key:"isContentEditable",value:function(t){return"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName}},{key:"isMenuOffScreen",value:function(t,e){var i=window.innerWidth,n=window.innerHeight,r=document.documentElement,o=(window.pageXOffset||r.scrollLeft)-(r.clientLeft||0),s=(window.pageYOffset||r.scrollTop)-(r.clientTop||0),a="number"==typeof t.top?t.top:s+n-t.bottom-e.height,l="number"==typeof t.right?t.right:t.left+e.width,c="number"==typeof t.bottom?t.bottom:t.top+e.height,u="number"==typeof t.left?t.left:o+i-t.right-e.width;return{top:a<Math.floor(s),right:l>Math.ceil(o+i),bottom:c>Math.ceil(s+n),left:u<Math.floor(o)}}},{key:"getMenuDimensions",value:function(){var t={width:null,height:null};return this.tribute.menu.style.cssText="top: 0px;\n                                 left: 0px;\n                                 position: fixed;\n                                 display: block;\n                                 visibility; hidden;",t.width=this.tribute.menu.offsetWidth,t.height=this.tribute.menu.offsetHeight,this.tribute.menu.style.cssText="display: none;",t}},{key:"getTextAreaOrInputUnderlinePosition",value:function(t,e){var i=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"],n=null!==window.mozInnerScreenX,r=this.getDocument().createElement("div");r.id="input-textarea-caret-position-mirror-div",this.getDocument().body.appendChild(r);var o=r.style,s=window.getComputedStyle?getComputedStyle(t):t.currentStyle;o.whiteSpace="pre-wrap","INPUT"!==t.nodeName&&(o.wordWrap="break-word"),o.position="absolute",o.visibility="hidden",i.forEach((function(t){o[t]=s[t]})),n?(o.width="".concat(parseInt(s.width)-2,"px"),t.scrollHeight>parseInt(s.height)&&(o.overflowY="scroll")):o.overflow="hidden",r.textContent=t.value.substring(0,e),"INPUT"===t.nodeName&&(r.textContent=r.textContent.replace(/\s/g,"\xa0"));var a=this.getDocument().createElement("span");a.textContent=t.value.substring(e)||".",r.appendChild(a);var l=t.getBoundingClientRect(),c=document.documentElement,u=(window.pageXOffset||c.scrollLeft)-(c.clientLeft||0),d=(window.pageYOffset||c.scrollTop)-(c.clientTop||0),h=0,p=0;this.menuContainerIsBody&&(h=l.top,p=l.left);var f={top:h+d+a.offsetTop+parseInt(s.borderTopWidth)+parseInt(s.fontSize)-t.scrollTop,left:p+u+a.offsetLeft+parseInt(s.borderLeftWidth)},g=window.innerWidth,m=window.innerHeight,v=this.getMenuDimensions(),y=this.isMenuOffScreen(f,v);y.right&&(f.right=g-f.left,f.left="auto");var b=this.tribute.menuContainer?this.tribute.menuContainer.offsetHeight:this.getDocument().body.offsetHeight;if(y.bottom){var _=b-(m-(this.tribute.menuContainer?this.tribute.menuContainer.getBoundingClientRect():this.getDocument().body.getBoundingClientRect()).top);f.bottom=_+(m-l.top-a.offsetTop),f.top="auto"}return(y=this.isMenuOffScreen(f,v)).left&&(f.left=g>v.width?u+g-v.width:u,delete f.right),y.top&&(f.top=m>v.height?d+m-v.height:d,delete f.bottom),this.getDocument().body.removeChild(r),f}},{key:"getContentEditableCaretPosition",value:function(t){var e,i=this.getWindowSelection();(e=this.getDocument().createRange()).setStart(i.anchorNode,t),e.setEnd(i.anchorNode,t),e.collapse(!1);var n=e.getBoundingClientRect(),r=document.documentElement,o=(window.pageXOffset||r.scrollLeft)-(r.clientLeft||0),s=(window.pageYOffset||r.scrollTop)-(r.clientTop||0),a={left:n.left+o,top:n.top+n.height+s},l=window.innerWidth,c=window.innerHeight,u=this.getMenuDimensions(),d=this.isMenuOffScreen(a,u);d.right&&(a.left="auto",a.right=l-n.left-o);var h=this.tribute.menuContainer?this.tribute.menuContainer.offsetHeight:this.getDocument().body.offsetHeight;if(d.bottom){var p=h-(c-(this.tribute.menuContainer?this.tribute.menuContainer.getBoundingClientRect():this.getDocument().body.getBoundingClientRect()).top);a.top="auto",a.bottom=p+(c-n.top)}return(d=this.isMenuOffScreen(a,u)).left&&(a.left=l>u.width?o+l-u.width:o,delete a.right),d.top&&(a.top=c>u.height?s+c-u.height:s,delete a.bottom),this.menuContainerIsBody||(a.left=a.left?a.left-this.tribute.menuContainer.offsetLeft:a.left,a.top=a.top?a.top-this.tribute.menuContainer.offsetTop:a.top),a}},{key:"scrollIntoView",value:function(){var t,e=20,i=100,n=this.menu;if(void 0!==n){for(;void 0===t||0===t.height;)if(0===(t=n.getBoundingClientRect()).height&&(void 0===(n=n.childNodes[0])||!n.getBoundingClientRect))return;var r=t.top,o=r+t.height;if(r<0)window.scrollTo(0,window.pageYOffset+t.top-e);else if(o>window.innerHeight){var s=window.pageYOffset+t.top-e;s-window.pageYOffset>i&&(s=window.pageYOffset+i);var a=window.pageYOffset-(window.innerHeight-o);a>s&&(a=s),window.scrollTo(0,a)}}}},{key:"menuContainerIsBody",get:function(){return this.tribute.menuContainer===document.body||!this.tribute.menuContainer}}]),e}(),p=function(){function e(i){t(this,e),this.tribute=i,this.tribute.search=this}return i(e,[{key:"simpleFilter",value:function(t,e){var i=this;return e.filter((function(e){return i.test(t,e)}))}},{key:"test",value:function(t,e){return null!==this.match(t,e)}},{key:"match",value:function(t,e,i){i=i||{};e.length;var n=i.pre||"",r=i.post||"",o=i.caseSensitive&&e||e.toLowerCase();if(i.skip)return{rendered:e,score:0};t=i.caseSensitive&&t||t.toLowerCase();var s=this.traverse(o,t,0,0,[]);return s?{rendered:this.render(e,s.cache,n,r),score:s.score}:null}},{key:"traverse",value:function(t,e,i,n,r){if(this.tribute.autocompleteSeparator&&(e=e.split(this.tribute.autocompleteSeparator).splice(-1)[0]),e.length===n)return{score:this.calculateScore(r),cache:r.slice()};if(!(t.length===i||e.length-n>t.length-i)){for(var o,s,a=e[n],l=t.indexOf(a,i);l>-1;){if(r.push(l),s=this.traverse(t,e,l+1,n+1,r),r.pop(),!s)return o;(!o||o.score<s.score)&&(o=s),l=t.indexOf(a,l+1)}return o}}},{key:"calculateScore",value:function(t){var e=0,i=1;return t.forEach((function(n,r){r>0&&(t[r-1]+1===n?i+=i+1:i=1),e+=i})),e}},{key:"render",value:function(t,e,i,n){var r=t.substring(0,e[0]);return e.forEach((function(o,s){r+=i+t[o]+n+t.substring(o+1,e[s+1]?e[s+1]:t.length)})),r}},{key:"filter",value:function(t,e,i){var n=this;return i=i||{},e.reduce((function(e,r,o){var s=r;i.extract&&((s=i.extract(r))||(s=""));var a=n.match(t,s,i);return null!=a&&(e[e.length]={string:a.rendered,score:a.score,index:o,original:r}),e}),[]).sort((function(t,e){var i=e.score-t.score;return i||t.index-e.index}))}}]),e}();return function(){function e(i){var n,r=this,o=i.values,s=void 0===o?null:o,a=i.loadingItemTemplate,l=void 0===a?null:a,c=i.iframe,f=void 0===c?null:c,g=i.selectClass,m=void 0===g?"highlight":g,v=i.containerClass,y=void 0===v?"tribute-container":v,b=i.itemClass,_=void 0===b?"":b,w=i.trigger,x=void 0===w?"@":w,$=i.autocompleteMode,C=void 0!==$&&$,k=i.autocompleteSeparator,S=void 0===k?null:k,j=i.selectTemplate,T=void 0===j?null:j,A=i.menuItemTemplate,D=void 0===A?null:A,I=i.lookup,E=void 0===I?"key":I,P=i.fillAttr,O=void 0===P?"value":P,F=i.collection,M=void 0===F?null:F,R=i.menuContainer,N=void 0===R?null:R,q=i.noMatchTemplate,L=void 0===q?null:q,z=i.requireLeadingSpace,H=void 0===z||z,B=i.allowSpaces,W=void 0!==B&&B,G=i.replaceTextSuffix,U=void 0===G?null:G,V=i.positionMenu,Q=void 0===V||V,Y=i.spaceSelectsMatch,X=void 0!==Y&&Y,K=i.searchOpts,J=void 0===K?{}:K,Z=i.menuItemLimit,tt=void 0===Z?null:Z,et=i.menuShowMinLength,it=void 0===et?0:et;if(t(this,e),this.autocompleteMode=C,this.autocompleteSeparator=S,this.menuSelected=0,this.current={},this.inputEvent=!1,this.isActive=!1,this.menuContainer=N,this.allowSpaces=W,this.replaceTextSuffix=U,this.positionMenu=Q,this.hasTrailingSpace=!1,this.spaceSelectsMatch=X,this.autocompleteMode&&(x="",W=!1),s)this.collection=[{trigger:x,iframe:f,selectClass:m,containerClass:y,itemClass:_,selectTemplate:(T||e.defaultSelectTemplate).bind(this),menuItemTemplate:(D||e.defaultMenuItemTemplate).bind(this),noMatchTemplate:(n=L,"string"==typeof n?""===n.trim()?null:n:"function"==typeof n?n.bind(r):L||function(){return"<li>No Match Found!</li>"}.bind(r)),lookup:E,fillAttr:O,values:s,loadingItemTemplate:l,requireLeadingSpace:H,searchOpts:J,menuItemLimit:tt,menuShowMinLength:it}];else{if(!M)throw new Error("[Tribute] No collection specified.");this.autocompleteMode&&console.warn("Tribute in autocomplete mode does not work for collections"),this.collection=M.map((function(t){return{trigger:t.trigger||x,iframe:t.iframe||f,selectClass:t.selectClass||m,containerClass:t.containerClass||y,itemClass:t.itemClass||_,selectTemplate:(t.selectTemplate||e.defaultSelectTemplate).bind(r),menuItemTemplate:(t.menuItemTemplate||e.defaultMenuItemTemplate).bind(r),noMatchTemplate:function(t){return"string"==typeof t?""===t.trim()?null:t:"function"==typeof t?t.bind(r):L||function(){return"<li>No Match Found!</li>"}.bind(r)}(L),lookup:t.lookup||E,fillAttr:t.fillAttr||O,values:t.values,loadingItemTemplate:t.loadingItemTemplate,requireLeadingSpace:t.requireLeadingSpace,searchOpts:t.searchOpts||J,menuItemLimit:t.menuItemLimit||tt,menuShowMinLength:t.menuShowMinLength||it}}))}new h(this),new u(this),new d(this),new p(this)}return i(e,[{key:"triggers",value:function(){return this.collection.map((function(t){return t.trigger}))}},{key:"attach",value:function(t){if(!t)throw new Error("[Tribute] Must pass in a DOM node or NodeList.");if("undefined"!=typeof jQuery&&t instanceof jQuery&&(t=t.get()),t.constructor===NodeList||t.constructor===HTMLCollection||t.constructor===Array)for(var e=t.length,i=0;i<e;++i)this._attach(t[i]);else this._attach(t)}},{key:"_attach",value:function(t){t.hasAttribute("data-tribute")&&console.warn("Tribute was already bound to "+t.nodeName),this.ensureEditable(t),this.events.bind(t),t.setAttribute("data-tribute",!0)}},{key:"ensureEditable",value:function(t){if(-1===e.inputTypes().indexOf(t.nodeName)){if(!t.contentEditable)throw new Error("[Tribute] Cannot bind to "+t.nodeName);t.contentEditable=!0}}},{key:"createMenu",value:function(t){var e=this.range.getDocument().createElement("div"),i=this.range.getDocument().createElement("ul");return e.className=t,e.appendChild(i),this.menuContainer?this.menuContainer.appendChild(e):this.range.getDocument().body.appendChild(e)}},{key:"showMenuFor",value:function(t,e){var i=this;if(!this.isActive||this.current.element!==t||this.current.mentionText!==this.currentMentionTextSnapshot){this.currentMentionTextSnapshot=this.current.mentionText,this.menu||(this.menu=this.createMenu(this.current.collection.containerClass),t.tributeMenu=this.menu,this.menuEvents.bind(this.menu)),this.isActive=!0,this.menuSelected=0,this.current.mentionText||(this.current.mentionText="");var r=function(t){if(i.isActive){var r=i.search.filter(i.current.mentionText,t,{pre:i.current.collection.searchOpts.pre||"<span>",post:i.current.collection.searchOpts.post||"</span>",skip:i.current.collection.searchOpts.skip,extract:function(t){if("string"==typeof i.current.collection.lookup)return t[i.current.collection.lookup];if("function"==typeof i.current.collection.lookup)return i.current.collection.lookup(t,i.current.mentionText);throw new Error("Invalid lookup attribute, lookup must be string or function.")}});i.current.collection.menuItemLimit&&(r=r.slice(0,i.current.collection.menuItemLimit)),i.current.filteredItems=r;var o=i.menu.querySelector("ul");if(i.range.positionMenuAtCaret(e),!r.length){var s=new CustomEvent("tribute-no-match",{detail:i.menu});return i.current.element.dispatchEvent(s),void("function"==typeof i.current.collection.noMatchTemplate&&!i.current.collection.noMatchTemplate()||!i.current.collection.noMatchTemplate?i.hideMenu():"function"==typeof i.current.collection.noMatchTemplate?o.innerHTML=i.current.collection.noMatchTemplate():o.innerHTML=i.current.collection.noMatchTemplate)}o.innerHTML="";var a=i.range.getDocument().createDocumentFragment();r.forEach((function(t,e){var r=i.range.getDocument().createElement("li");r.setAttribute("data-index",e),r.className=i.current.collection.itemClass,r.addEventListener("mousemove",(function(t){var e=n(i._findLiTarget(t.target),2),r=(e[0],e[1]);0!==t.movementY&&i.events.setActiveLi(r)})),i.menuSelected===e&&r.classList.add(i.current.collection.selectClass),r.innerHTML=i.current.collection.menuItemTemplate(t),a.appendChild(r)})),o.appendChild(a)}};"function"==typeof this.current.collection.values?(this.current.collection.loadingItemTemplate&&(this.menu.querySelector("ul").innerHTML=this.current.collection.loadingItemTemplate,this.range.positionMenuAtCaret(e)),this.current.collection.values(this.current.mentionText,r)):r(this.current.collection.values)}}},{key:"_findLiTarget",value:function(t){if(!t)return[];var e=t.getAttribute("data-index");return e?[t,e]:this._findLiTarget(t.parentNode)}},{key:"showMenuForCollection",value:function(t,e){t!==document.activeElement&&this.placeCaretAtEnd(t),this.current.collection=this.collection[e||0],this.current.externalTrigger=!0,this.current.element=t,t.isContentEditable?this.insertTextAtCursor(this.current.collection.trigger):this.insertAtCaret(t,this.current.collection.trigger),this.showMenuFor(t)}},{key:"placeCaretAtEnd",value:function(t){if(t.focus(),void 0!==window.getSelection&&void 0!==document.createRange){var e=document.createRange();e.selectNodeContents(t),e.collapse(!1);var i=window.getSelection();i.removeAllRanges(),i.addRange(e)}else if(void 0!==document.body.createTextRange){var n=document.body.createTextRange();n.moveToElementText(t),n.collapse(!1),n.select()}}},{key:"insertTextAtCursor",value:function(t){var e,i;(i=(e=window.getSelection()).getRangeAt(0)).deleteContents();var n=document.createTextNode(t);i.insertNode(n),i.selectNodeContents(n),i.collapse(!1),e.removeAllRanges(),e.addRange(i)}},{key:"insertAtCaret",value:function(t,e){var i=t.scrollTop,n=t.selectionStart,r=t.value.substring(0,n),o=t.value.substring(t.selectionEnd,t.value.length);t.value=r+e+o,n+=e.length,t.selectionStart=n,t.selectionEnd=n,t.focus(),t.scrollTop=i}},{key:"hideMenu",value:function(){this.menu&&(this.menu.style.cssText="display: none;",this.isActive=!1,this.menuSelected=0,this.current={})}},{key:"selectItemAtIndex",value:function(t,e){if("number"==typeof(t=parseInt(t))&&!isNaN(t)){var i=this.current.filteredItems[t],n=this.current.collection.selectTemplate(i);null!==n&&this.replaceText(n,e,i)}}},{key:"replaceText",value:function(t,e,i){this.range.replaceTriggerText(t,!0,!0,e,i)}},{key:"_append",value:function(t,e,i){if("function"==typeof t.values)throw new Error("Unable to append to values, as it is a function.");t.values=i?e:t.values.concat(e)}},{key:"append",value:function(t,e,i){var n=parseInt(t);if("number"!=typeof n)throw new Error("please provide an index for the collection to update.");var r=this.collection[n];this._append(r,e,i)}},{key:"appendCurrent",value:function(t,e){if(!this.isActive)throw new Error("No active state. Please use append instead and pass an index.");this._append(this.current.collection,t,e)}},{key:"detach",value:function(t){if(!t)throw new Error("[Tribute] Must pass in a DOM node or NodeList.");if("undefined"!=typeof jQuery&&t instanceof jQuery&&(t=t.get()),t.constructor===NodeList||t.constructor===HTMLCollection||t.constructor===Array)for(var e=t.length,i=0;i<e;++i)this._detach(t[i]);else this._detach(t)}},{key:"_detach",value:function(t){var e=this;this.events.unbind(t),t.tributeMenu&&this.menuEvents.unbind(t.tributeMenu),setTimeout((function(){t.removeAttribute("data-tribute"),e.isActive=!1,t.tributeMenu&&t.tributeMenu.remove()}))}},{key:"isActive",get:function(){return this._isActive},set:function(t){if(this._isActive!=t&&(this._isActive=t,this.current.element)){var e=new CustomEvent("tribute-active-".concat(t));this.current.element.dispatchEvent(e)}}}],[{key:"defaultSelectTemplate",value:function(t){return void 0===t?"".concat(this.current.collection.trigger).concat(this.current.mentionText):this.range.isContentEditable(this.current.element)?'<span class="tribute-mention">'+(this.current.collection.trigger+t.original[this.current.collection.fillAttr])+"</span>":this.current.collection.trigger+t.original[this.current.collection.fillAttr]}},{key:"defaultMenuItemTemplate",value:function(t){return t.string}},{key:"inputTypes",value:function(){return["TEXTAREA","INPUT"]}}]),e}()})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Mark=e()}(this,(function(){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r=function(){function t(i){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;e(this,t),this.ctx=i,this.iframes=n,this.exclude=r,this.iframesTimeout=o}return i(t,[{key:"getContexts",value:function(){var t=[];return(void 0!==this.ctx&&this.ctx?NodeList.prototype.isPrototypeOf(this.ctx)?Array.prototype.slice.call(this.ctx):Array.isArray(this.ctx)?this.ctx:"string"==typeof this.ctx?Array.prototype.slice.call(document.querySelectorAll(this.ctx)):[this.ctx]:[]).forEach((function(e){var i=t.filter((function(t){return t.contains(e)})).length>0;-1!==t.indexOf(e)||i||t.push(e)})),t}},{key:"getIframeContents",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=void 0;try{var r=t.contentWindow;if(n=r.document,!r||!n)throw new Error("iframe inaccessible")}catch(t){i()}n&&e(n)}},{key:"isIframeBlank",value:function(t){var e=t.getAttribute("src").trim();return"about:blank"===t.contentWindow.location.href&&"about:blank"!==e&&e}},{key:"observeIframeLoad",value:function(t,e,i){var n=this,r=!1,o=null,s=function s(){if(!r){r=!0,clearTimeout(o);try{n.isIframeBlank(t)||(t.removeEventListener("load",s),n.getIframeContents(t,e,i))}catch(t){i()}}};t.addEventListener("load",s),o=setTimeout(s,this.iframesTimeout)}},{key:"onIframeReady",value:function(t,e,i){try{"complete"===t.contentWindow.document.readyState?this.isIframeBlank(t)?this.observeIframeLoad(t,e,i):this.getIframeContents(t,e,i):this.observeIframeLoad(t,e,i)}catch(t){i()}}},{key:"waitForIframes",value:function(t,e){var i=this,n=0;this.forEachIframe(t,(function(){return!0}),(function(t){n++,i.waitForIframes(t.querySelector("html"),(function(){--n||e()}))}),(function(t){t||e()}))}},{key:"forEachIframe",value:function(e,i,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},s=e.querySelectorAll("iframe"),a=s.length,l=0;s=Array.prototype.slice.call(s);var c=function(){--a<=0&&o(l)};a||c(),s.forEach((function(e){t.matches(e,r.exclude)?c():r.onIframeReady(e,(function(t){i(e)&&(l++,n(t)),c()}),c)}))}},{key:"createIterator",value:function(t,e,i){return document.createNodeIterator(t,e,i,!1)}},{key:"createInstanceOnIframe",value:function(e){return new t(e.querySelector("html"),this.iframes)}},{key:"compareNodeIframe",value:function(t,e,i){
if(t.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_PRECEDING){if(null===e)return!0;if(e.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_FOLLOWING)return!0}return!1}},{key:"getIteratorNode",value:function(t){var e=t.previousNode();return{prevNode:e,node:(null===e||t.nextNode())&&t.nextNode()}}},{key:"checkIframeFilter",value:function(t,e,i,n){var r=!1,o=!1;return n.forEach((function(t,e){t.val===i&&(r=e,o=t.handled)})),this.compareNodeIframe(t,e,i)?(!1!==r||o?!1===r||o||(n[r].handled=!0):n.push({val:i,handled:!0}),!0):(!1===r&&n.push({val:i,handled:!1}),!1)}},{key:"handleOpenIframes",value:function(t,e,i,n){var r=this;t.forEach((function(t){t.handled||r.getIframeContents(t.val,(function(t){r.createInstanceOnIframe(t).forEachNode(e,i,n)}))}))}},{key:"iterateThroughNodes",value:function(t,e,i,n,r){for(var o,s=this,a=this.createIterator(e,t,n),l=[],c=[],u=void 0,d=void 0;o=s.getIteratorNode(a),d=o.prevNode,u=o.node;)this.iframes&&this.forEachIframe(e,(function(t){return s.checkIframeFilter(u,d,t,l)}),(function(e){s.createInstanceOnIframe(e).forEachNode(t,(function(t){return c.push(t)}),n)})),c.push(u);c.forEach((function(t){i(t)})),this.iframes&&this.handleOpenIframes(l,t,i,n),r()}},{key:"forEachNode",value:function(t,e,i){var n=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o=this.getContexts(),s=o.length;s||r(),o.forEach((function(o){var a=function(){n.iterateThroughNodes(t,o,e,i,(function(){--s<=0&&r()}))};n.iframes?n.waitForIframes(o,a):a()}))}}],[{key:"matches",value:function(t,e){var i="string"==typeof e?[e]:e,n=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;if(n){var r=!1;return i.every((function(e){return!n.call(t,e)||(r=!0,!1)})),r}return!1}}]),t}(),o=function(){function o(t){e(this,o),this.ctx=t,this.ie=!1;var i=window.navigator.userAgent;(i.indexOf("MSIE")>-1||i.indexOf("Trident")>-1)&&(this.ie=!0)}return i(o,[{key:"log",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"debug",n=this.opt.log;this.opt.debug&&"object"===(void 0===n?"undefined":t(n))&&"function"==typeof n[i]&&n[i]("mark.js: "+e)}},{key:"escapeStr",value:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"createRegExp",value:function(t){return"disabled"!==this.opt.wildcards&&(t=this.setupWildcardsRegExp(t)),t=this.escapeStr(t),Object.keys(this.opt.synonyms).length&&(t=this.createSynonymsRegExp(t)),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.setupIgnoreJoinersRegExp(t)),this.opt.diacritics&&(t=this.createDiacriticsRegExp(t)),t=this.createMergedBlanksRegExp(t),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.createJoinersRegExp(t)),"disabled"!==this.opt.wildcards&&(t=this.createWildcardsRegExp(t)),this.createAccuracyRegExp(t)}},{key:"createSynonymsRegExp",value:function(t){var e=this.opt.synonyms,i=this.opt.caseSensitive?"":"i",n=this.opt.ignoreJoiners||this.opt.ignorePunctuation.length?"\0":"";for(var r in e)if(e.hasOwnProperty(r)){var o=e[r],s="disabled"!==this.opt.wildcards?this.setupWildcardsRegExp(r):this.escapeStr(r),a="disabled"!==this.opt.wildcards?this.setupWildcardsRegExp(o):this.escapeStr(o);""!==s&&""!==a&&(t=t.replace(new RegExp("("+this.escapeStr(s)+"|"+this.escapeStr(a)+")","gm"+i),n+"("+this.processSynomyms(s)+"|"+this.processSynomyms(a)+")"+n))}return t}},{key:"processSynomyms",value:function(t){return(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.setupIgnoreJoinersRegExp(t)),t}},{key:"setupWildcardsRegExp",value:function(t){return(t=t.replace(/(?:\\)*\?/g,(function(t){return"\\"===t.charAt(0)?"?":"\x01"}))).replace(/(?:\\)*\*/g,(function(t){return"\\"===t.charAt(0)?"*":"\x02"}))}},{key:"createWildcardsRegExp",value:function(t){var e="withSpaces"===this.opt.wildcards;return t.replace(/\u0001/g,e?"[\\S\\s]?":"\\S?").replace(/\u0002/g,e?"[\\S\\s]*?":"\\S*")}},{key:"setupIgnoreJoinersRegExp",value:function(t){return t.replace(/[^(|)\\]/g,(function(t,e,i){var n=i.charAt(e+1);return/[(|)\\]/.test(n)||""===n?t:t+"\0"}))}},{key:"createJoinersRegExp",value:function(t){var e=[],i=this.opt.ignorePunctuation;return Array.isArray(i)&&i.length&&e.push(this.escapeStr(i.join(""))),this.opt.ignoreJoiners&&e.push("\\u00ad\\u200b\\u200c\\u200d"),e.length?t.split(/\u0000+/).join("["+e.join("")+"]*"):t}},{key:"createDiacriticsRegExp",value:function(t){var e=this.opt.caseSensitive?"":"i",i=this.opt.caseSensitive?["a\xe0\xe1\u1ea3\xe3\u1ea1\u0103\u1eb1\u1eaf\u1eb3\u1eb5\u1eb7\xe2\u1ea7\u1ea5\u1ea9\u1eab\u1ead\xe4\xe5\u0101\u0105","A\xc0\xc1\u1ea2\xc3\u1ea0\u0102\u1eb0\u1eae\u1eb2\u1eb4\u1eb6\xc2\u1ea6\u1ea4\u1ea8\u1eaa\u1eac\xc4\xc5\u0100\u0104","c\xe7\u0107\u010d","C\xc7\u0106\u010c","d\u0111\u010f","D\u0110\u010e","e\xe8\xe9\u1ebb\u1ebd\u1eb9\xea\u1ec1\u1ebf\u1ec3\u1ec5\u1ec7\xeb\u011b\u0113\u0119","E\xc8\xc9\u1eba\u1ebc\u1eb8\xca\u1ec0\u1ebe\u1ec2\u1ec4\u1ec6\xcb\u011a\u0112\u0118","i\xec\xed\u1ec9\u0129\u1ecb\xee\xef\u012b","I\xcc\xcd\u1ec8\u0128\u1eca\xce\xcf\u012a","l\u0142","L\u0141","n\xf1\u0148\u0144","N\xd1\u0147\u0143","o\xf2\xf3\u1ecf\xf5\u1ecd\xf4\u1ed3\u1ed1\u1ed5\u1ed7\u1ed9\u01a1\u1edf\u1ee1\u1edb\u1edd\u1ee3\xf6\xf8\u014d","O\xd2\xd3\u1ece\xd5\u1ecc\xd4\u1ed2\u1ed0\u1ed4\u1ed6\u1ed8\u01a0\u1ede\u1ee0\u1eda\u1edc\u1ee2\xd6\xd8\u014c","r\u0159","R\u0158","s\u0161\u015b\u0219\u015f","S\u0160\u015a\u0218\u015e","t\u0165\u021b\u0163","T\u0164\u021a\u0162","u\xf9\xfa\u1ee7\u0169\u1ee5\u01b0\u1eeb\u1ee9\u1eed\u1eef\u1ef1\xfb\xfc\u016f\u016b","U\xd9\xda\u1ee6\u0168\u1ee4\u01af\u1eea\u1ee8\u1eec\u1eee\u1ef0\xdb\xdc\u016e\u016a","y\xfd\u1ef3\u1ef7\u1ef9\u1ef5\xff","Y\xdd\u1ef2\u1ef6\u1ef8\u1ef4\u0178","z\u017e\u017c\u017a","Z\u017d\u017b\u0179"]:["a\xe0\xe1\u1ea3\xe3\u1ea1\u0103\u1eb1\u1eaf\u1eb3\u1eb5\u1eb7\xe2\u1ea7\u1ea5\u1ea9\u1eab\u1ead\xe4\xe5\u0101\u0105A\xc0\xc1\u1ea2\xc3\u1ea0\u0102\u1eb0\u1eae\u1eb2\u1eb4\u1eb6\xc2\u1ea6\u1ea4\u1ea8\u1eaa\u1eac\xc4\xc5\u0100\u0104","c\xe7\u0107\u010dC\xc7\u0106\u010c","d\u0111\u010fD\u0110\u010e","e\xe8\xe9\u1ebb\u1ebd\u1eb9\xea\u1ec1\u1ebf\u1ec3\u1ec5\u1ec7\xeb\u011b\u0113\u0119E\xc8\xc9\u1eba\u1ebc\u1eb8\xca\u1ec0\u1ebe\u1ec2\u1ec4\u1ec6\xcb\u011a\u0112\u0118","i\xec\xed\u1ec9\u0129\u1ecb\xee\xef\u012bI\xcc\xcd\u1ec8\u0128\u1eca\xce\xcf\u012a","l\u0142L\u0141","n\xf1\u0148\u0144N\xd1\u0147\u0143","o\xf2\xf3\u1ecf\xf5\u1ecd\xf4\u1ed3\u1ed1\u1ed5\u1ed7\u1ed9\u01a1\u1edf\u1ee1\u1edb\u1edd\u1ee3\xf6\xf8\u014dO\xd2\xd3\u1ece\xd5\u1ecc\xd4\u1ed2\u1ed0\u1ed4\u1ed6\u1ed8\u01a0\u1ede\u1ee0\u1eda\u1edc\u1ee2\xd6\xd8\u014c","r\u0159R\u0158","s\u0161\u015b\u0219\u015fS\u0160\u015a\u0218\u015e","t\u0165\u021b\u0163T\u0164\u021a\u0162","u\xf9\xfa\u1ee7\u0169\u1ee5\u01b0\u1eeb\u1ee9\u1eed\u1eef\u1ef1\xfb\xfc\u016f\u016bU\xd9\xda\u1ee6\u0168\u1ee4\u01af\u1eea\u1ee8\u1eec\u1eee\u1ef0\xdb\xdc\u016e\u016a","y\xfd\u1ef3\u1ef7\u1ef9\u1ef5\xffY\xdd\u1ef2\u1ef6\u1ef8\u1ef4\u0178","z\u017e\u017c\u017aZ\u017d\u017b\u0179"],n=[];return t.split("").forEach((function(r){i.every((function(i){if(-1!==i.indexOf(r)){if(n.indexOf(i)>-1)return!1;t=t.replace(new RegExp("["+i+"]","gm"+e),"["+i+"]"),n.push(i)}return!0}))})),t}},{key:"createMergedBlanksRegExp",value:function(t){return t.replace(/[\s]+/gim,"[\\s]+")}},{key:"createAccuracyRegExp",value:function(t){var e=this,i=this.opt.accuracy,n="string"==typeof i?i:i.value,r="";switch(("string"==typeof i?[]:i.limiters).forEach((function(t){r+="|"+e.escapeStr(t)})),n){case"partially":default:return"()("+t+")";case"complementary":return"()([^"+(r="\\s"+(r||this.escapeStr("!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~\xa1\xbf")))+"]*"+t+"[^"+r+"]*)";case"exactly":return"(^|\\s"+r+")("+t+")(?=$|\\s"+r+")"}}},{key:"getSeparatedKeywords",value:function(t){var e=this,i=[];return t.forEach((function(t){e.opt.separateWordSearch?t.split(" ").forEach((function(t){t.trim()&&-1===i.indexOf(t)&&i.push(t)})):t.trim()&&-1===i.indexOf(t)&&i.push(t)})),{keywords:i.sort((function(t,e){return e.length-t.length})),length:i.length}}},{key:"isNumeric",value:function(t){return Number(parseFloat(t))==t}},{key:"checkRanges",value:function(t){var e=this;if(!Array.isArray(t)||"[object Object]"!==Object.prototype.toString.call(t[0]))return this.log("markRanges() will only accept an array of objects"),this.opt.noMatch(t),[];var i=[],n=0;return t.sort((function(t,e){return t.start-e.start})).forEach((function(t){var r=e.callNoMatchOnInvalidRanges(t,n),o=r.start,s=r.end;r.valid&&(t.start=o,t.length=s-o,i.push(t),n=s)})),i}},{key:"callNoMatchOnInvalidRanges",value:function(t,e){var i=void 0,n=void 0,r=!1;return t&&void 0!==t.start?(n=(i=parseInt(t.start,10))+parseInt(t.length,10),this.isNumeric(t.start)&&this.isNumeric(t.length)&&n-e>0&&n-i>0?r=!0:(this.log("Ignoring invalid or overlapping range: "+JSON.stringify(t)),this.opt.noMatch(t))):(this.log("Ignoring invalid range: "+JSON.stringify(t)),this.opt.noMatch(t)),{start:i,end:n,valid:r}}},{key:"checkWhitespaceRanges",value:function(t,e,i){var n=void 0,r=!0,o=i.length,s=e-o,a=parseInt(t.start,10)-s;return(n=(a=a>o?o:a)+parseInt(t.length,10))>o&&(n=o,this.log("End range automatically set to the max value of "+o)),a<0||n-a<0||a>o||n>o?(r=!1,this.log("Invalid range: "+JSON.stringify(t)),this.opt.noMatch(t)):""===i.substring(a,n).replace(/\s+/g,"")&&(r=!1,this.log("Skipping whitespace only range: "+JSON.stringify(t)),this.opt.noMatch(t)),{start:a,end:n,valid:r}}},{key:"getTextNodes",value:function(t){var e=this,i="",n=[];this.iterator.forEachNode(NodeFilter.SHOW_TEXT,(function(t){n.push({start:i.length,end:(i+=t.textContent).length,node:t})}),(function(t){return e.matchesExclude(t.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}),(function(){t({value:i,nodes:n})}))}},{key:"matchesExclude",value:function(t){return r.matches(t,this.opt.exclude.concat(["script","style","title","head","html"]))}},{key:"wrapRangeInTextNode",value:function(t,e,i){var n=this.opt.element?this.opt.element:"mark",r=t.splitText(e),o=r.splitText(i-e),s=document.createElement(n);return s.setAttribute("data-markjs","true"),this.opt.className&&s.setAttribute("class",this.opt.className),s.textContent=r.textContent,r.parentNode.replaceChild(s,r),o}},{key:"wrapRangeInMappedTextNode",value:function(t,e,i,n,r){var o=this;t.nodes.every((function(s,a){var l=t.nodes[a+1];if(void 0===l||l.start>e){if(!n(s.node))return!1;var c=e-s.start,u=(i>s.end?s.end:i)-s.start,d=t.value.substr(0,s.start),h=t.value.substr(u+s.start);if(s.node=o.wrapRangeInTextNode(s.node,c,u),t.value=d+h,t.nodes.forEach((function(e,i){i>=a&&(t.nodes[i].start>0&&i!==a&&(t.nodes[i].start-=u),t.nodes[i].end-=u)})),i-=u,r(s.node.previousSibling,s.start),!(i>s.end))return!1;e=s.end}return!0}))}},{key:"wrapMatches",value:function(t,e,i,n,r){var o=this,s=0===e?0:e+1;this.getTextNodes((function(e){e.nodes.forEach((function(e){e=e.node;for(var r=void 0;null!==(r=t.exec(e.textContent))&&""!==r[s];)if(i(r[s],e)){var a=r.index;if(0!==s)for(var l=1;l<s;l++)a+=r[l].length;e=o.wrapRangeInTextNode(e,a,a+r[s].length),n(e.previousSibling),t.lastIndex=0}})),r()}))}},{key:"wrapMatchesAcrossElements",value:function(t,e,i,n,r){var o=this,s=0===e?0:e+1;this.getTextNodes((function(e){for(var a=void 0;null!==(a=t.exec(e.value))&&""!==a[s];){var l=a.index;if(0!==s)for(var c=1;c<s;c++)l+=a[c].length;var u=l+a[s].length;o.wrapRangeInMappedTextNode(e,l,u,(function(t){return i(a[s],t)}),(function(e,i){t.lastIndex=i,n(e)}))}r()}))}},{key:"wrapRangeFromIndex",value:function(t,e,i,n){var r=this;this.getTextNodes((function(o){var s=o.value.length;t.forEach((function(t,n){var a=r.checkWhitespaceRanges(t,s,o.value),l=a.start,c=a.end;a.valid&&r.wrapRangeInMappedTextNode(o,l,c,(function(i){return e(i,t,o.value.substring(l,c),n)}),(function(e){i(e,t)}))})),n()}))}},{key:"unwrapMatches",value:function(t){for(var e=t.parentNode,i=document.createDocumentFragment();t.firstChild;)i.appendChild(t.removeChild(t.firstChild));e.replaceChild(i,t),this.ie?this.normalizeTextNode(e):e.normalize()}},{key:"normalizeTextNode",value:function(t){if(t){if(3===t.nodeType)for(;t.nextSibling&&3===t.nextSibling.nodeType;)t.nodeValue+=t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);else this.normalizeTextNode(t.firstChild);this.normalizeTextNode(t.nextSibling)}}},{key:"markRegExp",value:function(t,e){var i=this;this.opt=e,this.log('Searching with expression "'+t+'"');var n=0,r="wrapMatches";this.opt.acrossElements&&(r="wrapMatchesAcrossElements"),this[r](t,this.opt.ignoreGroups,(function(t,e){return i.opt.filter(e,t,n)}),(function(t){n++,i.opt.each(t)}),(function(){0===n&&i.opt.noMatch(t),i.opt.done(n)}))}},{key:"mark",value:function(t,e){var i=this;this.opt=e;var n=0,r="wrapMatches",o=this.getSeparatedKeywords("string"==typeof t?[t]:t),s=o.keywords,a=o.length,l=this.opt.caseSensitive?"":"i";this.opt.acrossElements&&(r="wrapMatchesAcrossElements"),0===a?this.opt.done(n):function t(e){var o=new RegExp(i.createRegExp(e),"gm"+l),c=0;i.log('Searching with expression "'+o+'"'),i[r](o,1,(function(t,r){return i.opt.filter(r,e,n,c)}),(function(t){c++,n++,i.opt.each(t)}),(function(){0===c&&i.opt.noMatch(e),s[a-1]===e?i.opt.done(n):t(s[s.indexOf(e)+1])}))}(s[0])}},{key:"markRanges",value:function(t,e){var i=this;this.opt=e;var n=0,r=this.checkRanges(t);r&&r.length?(this.log("Starting to mark with the following ranges: "+JSON.stringify(r)),this.wrapRangeFromIndex(r,(function(t,e,n,r){return i.opt.filter(t,e,n,r)}),(function(t,e){n++,i.opt.each(t,e)}),(function(){i.opt.done(n)}))):this.opt.done(n)}},{key:"unmark",value:function(t){var e=this;this.opt=t;var i=this.opt.element?this.opt.element:"*";i+="[data-markjs]",this.opt.className&&(i+="."+this.opt.className),this.log('Removal selector "'+i+'"'),this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT,(function(t){e.unwrapMatches(t)}),(function(t){var n=r.matches(t,i),o=e.matchesExclude(t);return!n||o?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}),this.opt.done)}},{key:"opt",set:function(t){this._opt=n({},{element:"",className:"",exclude:[],iframes:!1,iframesTimeout:5e3,separateWordSearch:!0,diacritics:!0,synonyms:{},accuracy:"partially",acrossElements:!1,caseSensitive:!1,ignoreJoiners:!1,ignoreGroups:0,ignorePunctuation:[],wildcards:"disabled",each:function(){},noMatch:function(){},filter:function(){return!0},done:function(){},debug:!1,log:window.console},t)},get:function(){return this._opt}},{key:"iterator",get:function(){return new r(this.ctx,this.opt.iframes,this.opt.exclude,this.opt.iframesTimeout)}}]),o}();return function(t){var e=this,i=new o(t);return this.mark=function(t,n){return i.mark(t,n),e},this.markRegExp=function(t,n){return i.markRegExp(t,n),e},this.markRanges=function(t,n){return i.markRanges(t,n),e},this.unmark=function(t){return i.unmark(t),e},this}})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).SimpleBar=e()}(this,(function(){"use strict";function t(t,e){return t(e={exports:{}},e.exports),e.exports}function e(t,e,r){function o(e){var i=d,n=h;return d=h=void 0,v=e,f=t.apply(n,i)}function s(t){return v=t,g=setTimeout(l,e),y?o(t):f}function a(t){var i=t-m;return void 0===m||i>=e||i<0||b&&t-v>=p}function l(){var t=ho();if(a(t))return c(t);g=setTimeout(l,function(t){var i=e-(t-m);return b?uo(i,p-(t-v)):i}(t))}function c(t){return g=void 0,_&&d?o(t):(d=h=void 0,f)}function u(){var t=ho(),i=a(t);if(d=arguments,h=this,m=t,i){if(void 0===g)return s(m);if(b)return g=setTimeout(l,e),o(m)}return void 0===g&&(g=setTimeout(l,e)),f}var d,h,p,f,g,m,v=0,y=!1,b=!1,_=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return e=n(e)||0,i(r)&&(y=!!r.leading,p=(b="maxWait"in r)?co(n(r.maxWait)||0,e):p,_="trailing"in r?!!r.trailing:_),u.cancel=function(){void 0!==g&&clearTimeout(g),v=0,d=m=h=g=void 0},u.flush=function(){return void 0===g?f:c(ho())},u}function i(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function n(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==lo.call(t)}(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(to,"");var n=io.test(t);return n||no.test(t)?ro(t.slice(2),n?2:8):eo.test(t)?NaN:+t}function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function o(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==xo.call(t)}(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(fo,"");var i=mo.test(t);return i||vo.test(t)?yo(t.slice(2),i?2:8):go.test(t)?NaN:+t}function s(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function a(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function l(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function c(t,e){for(var i,n,r=t.length;r--;)if((i=t[r][0])===(n=e)||i!=i&&n!=n)return r;return-1}function u(t){return!(!f(t)||(e=t,Fo&&Fo in e))&&(function(t){var e=f(t)?No.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?qo:jo).test(function(t){if(null!=t){try{return Mo.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e}function d(t,e){var i,n,r=t.__data__;return("string"==(n=typeof(i=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?r["string"==typeof e?"string":"hash"]:r.map}function h(t,e){var i=function(t,e){return null==t?void 0:t[e]}(t,e);return u(i)?i:void 0}function p(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var i=function(){var n=arguments,r=e?e.apply(this,n):n[0],o=i.cache;if(o.has(r))return o.get(r);var s=t.apply(this,n);return i.cache=o.set(r,s),s};return i.cache=new(p.Cache||l),i}function f(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function g(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window}function m(t){return t&&t.ownerDocument?t.ownerDocument:document}function v(t){if(null===qa){var e=m(t);if(void 0===e)return qa=0;var i=e.body,n=e.createElement("div");n.classList.add("simplebar-hide-scrollbar"),i.appendChild(n);var r=n.getBoundingClientRect().right;i.removeChild(n),qa=r}return qa}var y,b,_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},w=function(t){return t&&t.Math==Math&&t},x=w("object"==typeof globalThis&&globalThis)||w("object"==typeof window&&window)||w("object"==typeof self&&self)||w("object"==typeof _&&_)||function(){return this}()||Function("return this")(),$=Object.defineProperty,C=function(t,e){try{$(x,t,{value:e,configurable:!0,writable:!0})}catch(i){x[t]=e}return e},k=x["__core-js_shared__"]||C("__core-js_shared__",{}),S=t((function(t){(t.exports=function(t,e){return k[t]||(k[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.22.6",mode:"global",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.6/LICENSE",source:"https://github.com/zloirock/core-js"})})),j=function(t){try{return!!t()}catch(t){return!0}},T=!j((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),A=Function.prototype,D=A.bind,I=A.call,E=T&&D.bind(I,I),P=T?function(t){return t&&E(t)}:function(t){return t&&function(){return I.apply(t,arguments)}},O=x.TypeError,F=function(t){if(null==t)throw O("Can't call method on "+t);return t},M=x.Object,R=function(t){return M(F(t))},N=P({}.hasOwnProperty),q=Object.hasOwn||function(t,e){return N(R(t),e)},L=0,z=Math.random(),H=P(1..toString),B=function(t){return"Symbol("+(void 0===t?"":t)+")_"+H(++L+z,36)},W=function(t){return"function"==typeof t},G=function(t){return W(t)?t:void 0},U=function(t,e){return arguments.length<2?G(x[t]):x[t]&&x[t][e]},V=U("navigator","userAgent")||"",Q=x.process,Y=x.Deno,X=Q&&Q.versions||Y&&Y.version,K=X&&X.v8;K&&(b=(y=K.split("."))[0]>0&&y[0]<4?1:+(y[0]+y[1])),!b&&V&&(!(y=V.match(/Edge\/(\d+)/))||y[1]>=74)&&(y=V.match(/Chrome\/(\d+)/))&&(b=+y[1]);var J=b,Z=!!Object.getOwnPropertySymbols&&!j((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&J&&J<41})),tt=Z&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,et=S("wks"),it=x.Symbol,nt=it&&it.for,rt=tt?it:it&&it.withoutSetter||B,ot=function(t){if(!q(et,t)||!Z&&"string"!=typeof et[t]){var e="Symbol."+t;Z&&q(it,t)?et[t]=it[t]:et[t]=tt&&nt?nt(e):rt(e)}return et[t]},st={};st[ot("toStringTag")]="z";var at="[object z]"===String(st),lt=!j((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),ct=function(t){return"object"==typeof t?null!==t:W(t)},ut=x.document,dt=ct(ut)&&ct(ut.createElement),ht=function(t){return dt?ut.createElement(t):{}},pt=!lt&&!j((function(){return 7!=Object.defineProperty(ht("div"),"a",{get:function(){return 7}}).a})),ft=lt&&j((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),gt=x.String,mt=x.TypeError,vt=function(t){if(ct(t))return t;throw mt(gt(t)+" is not an object")},yt=Function.prototype.call,bt=T?yt.bind(yt):function(){return yt.apply(yt,arguments)},_t=P({}.isPrototypeOf),wt=x.Object,xt=tt?function(t){return"symbol"==typeof t}:function(t){var e=U("Symbol");return W(e)&&_t(e.prototype,wt(t))},$t=x.String,Ct=function(t){try{return $t(t)}catch(t){return"Object"}},kt=x.TypeError,St=function(t){if(W(t))return t;throw kt(Ct(t)+" is not a function")},jt=function(t,e){var i=t[e];return null==i?void 0:St(i)},Tt=x.TypeError,At=x.TypeError,Dt=ot("toPrimitive"),It=function(t,e){if(!ct(t)||xt(t))return t;var i,n=jt(t,Dt);if(n){if(void 0===e&&(e="default"),i=bt(n,t,e),!ct(i)||xt(i))return i;throw At("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var i,n;if("string"===e&&W(i=t.toString)&&!ct(n=bt(i,t)))return n;if(W(i=t.valueOf)&&!ct(n=bt(i,t)))return n;if("string"!==e&&W(i=t.toString)&&!ct(n=bt(i,t)))return n;throw Tt("Can't convert object to primitive value")}(t,e)},Et=function(t){var e=It(t,"string");return xt(e)?e:e+""},Pt=x.TypeError,Ot=Object.defineProperty,Ft=Object.getOwnPropertyDescriptor,Mt={f:lt?ft?function(t,e,i){if(vt(t),e=Et(e),vt(i),"function"==typeof t&&"prototype"===e&&"value"in i&&"writable"in i&&!i.writable){var n=Ft(t,e);n&&n.writable&&(t[e]=i.value,i={configurable:"configurable"in i?i.configurable:n.configurable,enumerable:"enumerable"in i?i.enumerable:n.enumerable,writable:!1})}return Ot(t,e,i)}:Ot:function(t,e,i){if(vt(t),e=Et(e),vt(i),pt)try{return Ot(t,e,i)}catch(t){}if("get"in i||"set"in i)throw Pt("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},Rt=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Nt=lt?function(t,e,i){return Mt.f(t,e,Rt(1,i))}:function(t,e,i){return t[e]=i,t},qt=Function.prototype,Lt=lt&&Object.getOwnPropertyDescriptor,zt=q(qt,"name"),Ht={EXISTS:zt,PROPER:zt&&"something"===function(){}.name,CONFIGURABLE:zt&&(!lt||lt&&Lt(qt,"name").configurable)},Bt=P(Function.toString);W(k.inspectSource)||(k.inspectSource=function(t){return Bt(t)});var Wt,Gt,Ut,Vt=k.inspectSource,Qt=x.WeakMap,Yt=W(Qt)&&/native code/.test(Vt(Qt)),Xt=S("keys"),Kt=function(t){return Xt[t]||(Xt[t]=B(t))},Jt={},Zt=x.TypeError,te=x.WeakMap;if(Yt||k.state){var ee=k.state||(k.state=new te),ie=P(ee.get),ne=P(ee.has),re=P(ee.set);Wt=function(t,e){if(ne(ee,t))throw new Zt("Object already initialized");return e.facade=t,re(ee,t,e),e},Gt=function(t){return ie(ee,t)||{}},Ut=function(t){return ne(ee,t)}}else{var oe=Kt("state");Jt[oe]=!0,Wt=function(t,e){if(q(t,oe))throw new Zt("Object already initialized");return e.facade=t,Nt(t,oe,e),e},Gt=function(t){return q(t,oe)?t[oe]:{}},Ut=function(t){return q(t,oe)}}var se={set:Wt,get:Gt,has:Ut,enforce:function(t){return Ut(t)?Gt(t):Wt(t,{})},getterFor:function(t){return function(e){var i;if(!ct(e)||(i=Gt(e)).type!==t)throw Zt("Incompatible receiver, "+t+" required");return i}}},ae=t((function(t){var e=Ht.CONFIGURABLE,i=se.enforce,n=se.get,r=Object.defineProperty,o=lt&&!j((function(){return 8!==r((function(){}),"length",{value:8}).length})),s=String(String).split("String"),a=t.exports=function(t,n,a){if("Symbol("===String(n).slice(0,7)&&(n="["+String(n).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),a&&a.getter&&(n="get "+n),a&&a.setter&&(n="set "+n),(!q(t,"name")||e&&t.name!==n)&&r(t,"name",{value:n,configurable:!0}),o&&a&&q(a,"arity")&&t.length!==a.arity&&r(t,"length",{value:a.arity}),a&&q(a,"constructor")&&a.constructor){if(lt)try{r(t,"prototype",{writable:!1})}catch(t){}}else t.prototype=void 0;var l=i(t);return q(l,"source")||(l.source=s.join("string"==typeof n?n:"")),t};Function.prototype.toString=a((function(){return W(this)&&n(this).source||Vt(this)}),"toString")})),le=function(t,e,i,n){n||(n={});var r=n.enumerable,o=void 0!==n.name?n.name:e;return W(i)&&ae(i,o,n),n.global?r?t[e]=i:C(e,i):(n.unsafe?t[e]&&(r=!0):delete t[e],r?t[e]=i:Nt(t,e,i)),t},ce=P({}.toString),ue=P("".slice),de=function(t){return ue(ce(t),8,-1)},he=ot("toStringTag"),pe=x.Object,fe="Arguments"==de(function(){return arguments}()),ge=at?de:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=pe(t),he))?i:fe?de(e):"Object"==(n=de(e))&&W(e.callee)?"Arguments":n},me=at?{}.toString:function(){return"[object "+ge(this)+"]"};at||le(Object.prototype,"toString",me,{unsafe:!0});var ve={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},ye=ht("span").classList,be=ye&&ye.constructor&&ye.constructor.prototype,_e=be===Object.prototype?void 0:be,we=P(P.bind),xe=function(t,e){return St(t),void 0===e?t:T?we(t,e):function(){return t.apply(e,arguments)}},$e=x.Object,Ce=P("".split),ke=j((function(){return!$e("z").propertyIsEnumerable(0)}))?function(t){return"String"==de(t)?Ce(t,""):$e(t)}:$e,Se=Math.ceil,je=Math.floor,Te=Math.trunc||function(t){var e=+t;return(e>0?je:Se)(e)},Ae=function(t){var e=+t;return e!=e||0===e?0:Te(e)},De=Math.min,Ie=function(t){return t>0?De(Ae(t),9007199254740991):0},Ee=function(t){return Ie(t.length)},Pe=Array.isArray||function(t){return"Array"==de(t)},Oe=function(){},Fe=[],Me=U("Reflect","construct"),Re=/^\s*(?:class|function)\b/,Ne=P(Re.exec),qe=!Re.exec(Oe),Le=function(t){if(!W(t))return!1;try{return Me(Oe,Fe,t),!0}catch(t){return!1}},ze=function(t){if(!W(t))return!1;switch(ge(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return qe||!!Ne(Re,Vt(t))}catch(t){return!0}};ze.sham=!0;var He=!Me||j((function(){var t;return Le(Le.call)||!Le(Object)||!Le((function(){t=!0}))||t}))?ze:Le,Be=ot("species"),We=x.Array,Ge=function(t,e){return new(function(t){var e;return Pe(t)&&(e=t.constructor,(He(e)&&(e===We||Pe(e.prototype))||ct(e)&&null===(e=e[Be]))&&(e=void 0)),void 0===e?We:e}(t))(0===e?0:e)},Ue=P([].push),Ve=function(t){var e=1==t,i=2==t,n=3==t,r=4==t,o=6==t,s=7==t,a=5==t||o;return function(l,c,u,d){for(var h,p,f=R(l),g=ke(f),m=xe(c,u),v=Ee(g),y=0,b=d||Ge,_=e?b(l,v):i||s?b(l,0):void 0;v>y;y++)if((a||y in g)&&(p=m(h=g[y],y,f),t))if(e)_[y]=p;else if(p)switch(t){case 3:return!0;case 5:return h;case 6:return y;case 2:Ue(_,h)}else switch(t){case 4:return!1;case 7:Ue(_,h)}return o?-1:n||r?r:_}},Qe={forEach:Ve(0),map:Ve(1),filter:Ve(2),some:Ve(3),every:Ve(4),find:Ve(5),findIndex:Ve(6),filterReject:Ve(7)},Ye=function(t,e){var i=[][t];return!!i&&j((function(){i.call(null,e||function(){return 1},1)}))},Xe=Qe.forEach,Ke=Ye("forEach")?[].forEach:function(t){return Xe(this,t,arguments.length>1?arguments[1]:void 0)},Je=function(t){if(t&&t.forEach!==Ke)try{Nt(t,"forEach",Ke)}catch(e){t.forEach=Ke}};for(var Ze in ve)ve[Ze]&&Je(x[Ze]&&x[Ze].prototype);Je(_e);var ti=!("undefined"==typeof window||!window.document||!window.document.createElement),ei={}.propertyIsEnumerable,ii=Object.getOwnPropertyDescriptor,ni={f:ii&&!ei.call({1:2},1)?function(t){var e=ii(this,t);return!!e&&e.enumerable}:ei},ri=function(t){return ke(F(t))},oi=Object.getOwnPropertyDescriptor,si={f:lt?oi:function(t,e){if(t=ri(t),e=Et(e),pt)try{return oi(t,e)}catch(t){}if(q(t,e))return Rt(!bt(ni.f,t,e),t[e])}},ai=Math.max,li=Math.min,ci=function(t,e){var i=Ae(t);return i<0?ai(i+e,0):li(i,e)},ui=function(t){return function(e,i,n){var r,o=ri(e),s=Ee(o),a=ci(n,s);if(t&&i!=i){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===i)return t||a||0;return!t&&-1}},di=(ui(!0),ui(!1)),hi=P([].push),pi=function(t,e){var i,n=ri(t),r=0,o=[];for(i in n)!q(Jt,i)&&q(n,i)&&hi(o,i);for(;e.length>r;)q(n,i=e[r++])&&(~di(o,i)||hi(o,i));return o},fi=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],gi=fi.concat("length","prototype"),mi={f:Object.getOwnPropertyNames||function(t){return pi(t,gi)}},vi={f:Object.getOwnPropertySymbols},yi=P([].concat),bi=U("Reflect","ownKeys")||function(t){var e=mi.f(vt(t)),i=vi.f;return i?yi(e,i(t)):e},_i=function(t,e,i){for(var n=bi(e),r=Mt.f,o=si.f,s=0;s<n.length;s++){var a=n[s];q(t,a)||i&&q(i,a)||r(t,a,o(e,a))}},wi=/#|\.prototype\./,xi=function(t,e){var i=Ci[$i(t)];return i==Si||i!=ki&&(W(e)?j(e):!!e)},$i=xi.normalize=function(t){return String(t).replace(wi,".").toLowerCase()},Ci=xi.data={},ki=xi.NATIVE="N",Si=xi.POLYFILL="P",ji=xi,Ti=si.f,Ai=function(t,e){var i,n,r,o,s,a=t.target,l=t.global,c=t.stat;if(i=l?x:c?x[a]||C(a,{}):(x[a]||{}).prototype)for(n in e){if(o=e[n],r=t.dontCallGetSet?(s=Ti(i,n))&&s.value:i[n],!ji(l?n:a+(c?".":"#")+n,t.forced)&&void 0!==r){if(typeof o==typeof r)continue;_i(o,r)}(t.sham||r&&r.sham)&&Nt(o,"sham",!0),le(i,n,o,t)}},Di=x.String,Ii=function(t){if("Symbol"===ge(t))throw TypeError("Cannot convert a Symbol value to a string");return Di(t)},Ei="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",Pi=P("".replace),Oi="["+Ei+"]",Fi=RegExp("^"+Oi+Oi+"*"),Mi=RegExp(Oi+Oi+"*$"),Ri=function(t){return function(e){var i=Ii(F(e));return 1&t&&(i=Pi(i,Fi,"")),2&t&&(i=Pi(i,Mi,"")),i}},Ni=(Ri(1),Ri(2),Ri(3)),qi=x.parseInt,Li=x.Symbol,zi=Li&&Li.iterator,Hi=/^[+-]?0x/i,Bi=P(Hi.exec),Wi=8!==qi(Ei+"08")||22!==qi(Ei+"0x16")||zi&&!j((function(){qi(Object(zi))}))?function(t,e){var i=Ni(Ii(t));return qi(i,e>>>0||(Bi(Hi,i)?16:10))}:qi;Ai({global:!0,forced:parseInt!=Wi},{parseInt:Wi});var Gi=Object.keys||function(t){return pi(t,fi)},Ui=Object.assign,Vi=Object.defineProperty,Qi=P([].concat),Yi=!Ui||j((function(){if(lt&&1!==Ui({b:1},Ui(Vi({},"a",{enumerable:!0,get:function(){Vi(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},i=Symbol();return t[i]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=Ui({},t)[i]||"abcdefghijklmnopqrst"!=Gi(Ui({},e)).join("")}))?function(t){for(var e=R(t),i=arguments.length,n=1,r=vi.f,o=ni.f;i>n;)for(var s,a=ke(arguments[n++]),l=r?Qi(Gi(a),r(a)):Gi(a),c=l.length,u=0;c>u;)s=l[u++],lt&&!bt(o,a,s)||(e[s]=a[s]);return e}:Ui;Ai({target:"Object",stat:!0,arity:2,forced:Object.assign!==Yi},{assign:Yi});var Xi,Ki=ot("species"),Ji=Qe.filter,Zi=(Xi="filter",J>=51||!j((function(){var t=[];return(t.constructor={})[Ki]=function(){return{foo:1}},1!==t[Xi](Boolean).foo})));Ai({target:"Array",proto:!0,forced:!Zi},{filter:function(t){return Ji(this,t,arguments.length>1?arguments[1]:void 0)}});var tn,en={f:lt&&!ft?Object.defineProperties:function(t,e){vt(t);for(var i,n=ri(e),r=Gi(e),o=r.length,s=0;o>s;)Mt.f(t,i=r[s++],n[i]);return t}},nn=U("document","documentElement"),rn=Kt("IE_PROTO"),on=function(){},sn=function(t){return"<script>"+t+"</script>"},an=function(t){t.write(sn("")),t.close();var e=t.parentWindow.Object;return t=null,e},ln=function(){try{tn=new ActiveXObject("htmlfile")}catch(t){}var t,e;ln="undefined"!=typeof document?document.domain&&tn?an(tn):((e=ht("iframe")).style.display="none",nn.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(sn("document.F=Object")),t.close(),t.F):an(tn);for(var i=fi.length;i--;)delete ln.prototype[fi[i]]
;return ln()};Jt[rn]=!0;var cn=Object.create||function(t,e){var i;return null!==t?(on.prototype=vt(t),i=new on,on.prototype=null,i[rn]=t):i=ln(),void 0===e?i:en.f(i,e)},un=Mt.f,dn=ot("unscopables"),hn=Array.prototype;null==hn[dn]&&un(hn,dn,{configurable:!0,value:cn(null)});var pn,fn,gn,mn=function(t){hn[dn][t]=!0},vn={},yn=!j((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),bn=Kt("IE_PROTO"),_n=x.Object,wn=_n.prototype,xn=yn?_n.getPrototypeOf:function(t){var e=R(t);if(q(e,bn))return e[bn];var i=e.constructor;return W(i)&&e instanceof i?i.prototype:e instanceof _n?wn:null},$n=ot("iterator"),Cn=!1;[].keys&&("next"in(gn=[].keys())?(fn=xn(xn(gn)))!==Object.prototype&&(pn=fn):Cn=!0),(null==pn||j((function(){var t={};return pn[$n].call(t)!==t})))&&(pn={}),W(pn[$n])||le(pn,$n,(function(){return this}));var kn={IteratorPrototype:pn,BUGGY_SAFARI_ITERATORS:Cn},Sn=Mt.f,jn=ot("toStringTag"),Tn=function(t,e,i){t&&!i&&(t=t.prototype),t&&!q(t,jn)&&Sn(t,jn,{configurable:!0,value:e})},An=kn.IteratorPrototype,Dn=function(){return this},In=x.String,En=x.TypeError,Pn=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=P(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(i,[]),e=i instanceof Array}catch(t){}return function(i,n){return vt(i),function(t){if("object"==typeof t||W(t))return t;throw En("Can't set "+In(t)+" as a prototype")}(n),e?t(i,n):i.__proto__=n,i}}():void 0),On=Ht.PROPER,Fn=Ht.CONFIGURABLE,Mn=kn.IteratorPrototype,Rn=kn.BUGGY_SAFARI_ITERATORS,Nn=ot("iterator"),qn=function(){return this},Ln=function(t,e,i,n,r,o,s){!function(t,e,i,n){var r=e+" Iterator";t.prototype=cn(An,{next:Rt(+!n,i)}),Tn(t,r,!1),vn[r]=Dn}(i,e,n);var a,l,c,u=function(t){if(t===r&&g)return g;if(!Rn&&t in p)return p[t];switch(t){case"keys":case"values":case"entries":return function(){return new i(this,t)}}return function(){return new i(this)}},d=e+" Iterator",h=!1,p=t.prototype,f=p[Nn]||p["@@iterator"]||r&&p[r],g=!Rn&&f||u(r),m="Array"==e&&p.entries||f;if(m&&(a=xn(m.call(new t)))!==Object.prototype&&a.next&&(xn(a)!==Mn&&(Pn?Pn(a,Mn):W(a[Nn])||le(a,Nn,qn)),Tn(a,d,!0)),On&&"values"==r&&f&&"values"!==f.name&&(Fn?Nt(p,"name","values"):(h=!0,g=function(){return bt(f,this)})),r)if(l={values:u("values"),keys:o?g:u("keys"),entries:u("entries")},s)for(c in l)(Rn||h||!(c in p))&&le(p,c,l[c]);else Ai({target:e,proto:!0,forced:Rn||h},l);return p[Nn]!==g&&le(p,Nn,g,{name:r}),vn[e]=g,l},zn=Mt.f,Hn=se.set,Bn=se.getterFor("Array Iterator"),Wn=Ln(Array,"Array",(function(t,e){Hn(this,{type:"Array Iterator",target:ri(t),index:0,kind:e})}),(function(){var t=Bn(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),Gn=vn.Arguments=vn.Array;if(mn("keys"),mn("values"),mn("entries"),lt&&"values"!==Gn.name)try{zn(Gn,"name",{value:"values"})}catch(_){}var Un=P("".charAt),Vn=P("".charCodeAt),Qn=P("".slice),Yn=function(t){return function(e,i){var n,r,o=Ii(F(e)),s=Ae(i),a=o.length;return s<0||s>=a?t?"":void 0:(n=Vn(o,s))<55296||n>56319||s+1===a||(r=Vn(o,s+1))<56320||r>57343?t?Un(o,s):n:t?Qn(o,s,s+2):r-56320+(n-55296<<10)+65536}},Xn={codeAt:Yn(!1),charAt:Yn(!0)},Kn=Xn.charAt,Jn=se.set,Zn=se.getterFor("String Iterator");Ln(String,"String",(function(t){Jn(this,{type:"String Iterator",string:Ii(t),index:0})}),(function(){var t,e=Zn(this),i=e.string,n=e.index;return n>=i.length?{value:void 0,done:!0}:(t=Kn(i,n),e.index+=t.length,{value:t,done:!1})}));var tr=function(t,e,i){for(var n in e)le(t,n,e[n],i);return t},er=x.Array,ir=Math.max,nr=mi.f,rr="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],or=function(t){try{return nr(t)}catch(t){return function(t,e,i){for(var n,r,o,s,a=Ee(t),l=ci(e,a),c=ci(void 0===i?a:i,a),u=er(ir(c-l,0)),d=0;l<c;l++,d++)n=u,r=d,o=t[l],s=void 0,(s=Et(r))in n?Mt.f(n,s,Rt(0,o)):n[s]=o;return u.length=d,u}(rr)}},sr={f:function(t){return rr&&"Window"==de(t)?or(t):nr(ri(t))}},ar=j((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),lr=Object.isExtensible,cr=j((function(){lr(1)}))||ar?function(t){return!!ct(t)&&(!ar||"ArrayBuffer"!=de(t))&&(!lr||lr(t))}:lr,ur=!j((function(){return Object.isExtensible(Object.preventExtensions({}))})),dr=t((function(t){var e=Mt.f,i=!1,n=B("meta"),r=0,o=function(t){e(t,n,{value:{objectID:"O"+r++,weakData:{}}})},s=t.exports={enable:function(){s.enable=function(){},i=!0;var t=mi.f,e=P([].splice),r={};r[n]=1,t(r).length&&(mi.f=function(i){for(var r=t(i),o=0,s=r.length;o<s;o++)if(r[o]===n){e(r,o,1);break}return r},Ai({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:sr.f}))},fastKey:function(t,e){if(!ct(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!q(t,n)){if(!cr(t))return"F";if(!e)return"E";o(t)}return t[n].objectID},getWeakData:function(t,e){if(!q(t,n)){if(!cr(t))return!0;if(!e)return!1;o(t)}return t[n].weakData},onFreeze:function(t){return ur&&i&&cr(t)&&!q(t,n)&&o(t),t}};Jt[n]=!0})),hr=(dr.enable,dr.fastKey,dr.getWeakData,dr.onFreeze,ot("iterator")),pr=Array.prototype,fr=ot("iterator"),gr=function(t){if(null!=t)return jt(t,fr)||jt(t,"@@iterator")||vn[ge(t)]},mr=x.TypeError,vr=function(t,e,i){var n,r;vt(t);try{if(!(n=jt(t,"return"))){if("throw"===e)throw i;return i}n=bt(n,t)}catch(t){r=!0,n=t}if("throw"===e)throw i;if(r)throw n;return vt(n),i},yr=x.TypeError,br=function(t,e){this.stopped=t,this.result=e},_r=br.prototype,wr=function(t,e,i){var n,r,o,s,a,l,c,u,d=i&&i.that,h=!(!i||!i.AS_ENTRIES),p=!(!i||!i.IS_ITERATOR),f=!(!i||!i.INTERRUPTED),g=xe(e,d),m=function(t){return n&&vr(n,"normal",t),new br(!0,t)},v=function(t){return h?(vt(t),f?g(t[0],t[1],m):g(t[0],t[1])):f?g(t,m):g(t)};if(p)n=t;else{if(!(r=gr(t)))throw yr(Ct(t)+" is not iterable");if(void 0!==(u=r)&&(vn.Array===u||pr[hr]===u)){for(o=0,s=Ee(t);s>o;o++)if((a=v(t[o]))&&_t(_r,a))return a;return new br(!1)}n=function(t,e){var i=arguments.length<2?gr(t):e;if(St(i))return vt(bt(i,t));throw mr(Ct(t)+" is not iterable")}(t,r)}for(l=n.next;!(c=bt(l,n)).done;){try{a=v(c.value)}catch(t){vr(n,"throw",t)}if("object"==typeof a&&a&&_t(_r,a))return a}return new br(!1)},xr=x.TypeError,$r=function(t,e){if(_t(e,t))return t;throw xr("Incorrect invocation")},Cr=ot("iterator"),kr=!1;try{var Sr=0,jr={next:function(){return{done:!!Sr++}},return:function(){kr=!0}};jr[Cr]=function(){return this},Array.from(jr,(function(){throw 2}))}catch(_){}var Tr=dr.getWeakData,Ar=se.set,Dr=se.getterFor,Ir=Qe.find,Er=Qe.findIndex,Pr=P([].splice),Or=0,Fr=function(t){return t.frozen||(t.frozen=new Mr)},Mr=function(){this.entries=[]},Rr=function(t,e){return Ir(t.entries,(function(t){return t[0]===e}))};Mr.prototype={get:function(t){var e=Rr(this,t);if(e)return e[1]},has:function(t){return!!Rr(this,t)},set:function(t,e){var i=Rr(this,t);i?i[1]=e:this.entries.push([t,e])},delete:function(t){var e=Er(this.entries,(function(e){return e[0]===t}));return~e&&Pr(this.entries,e,1),!!~e}};var Nr,qr={getConstructor:function(t,e,i,n){var r=t((function(t,r){$r(t,o),Ar(t,{type:e,id:Or++,frozen:void 0}),null!=r&&wr(r,t[n],{that:t,AS_ENTRIES:i})})),o=r.prototype,s=Dr(e),a=function(t,e,i){var n=s(t),r=Tr(vt(e),!0);return!0===r?Fr(n).set(e,i):r[n.id]=i,t};return tr(o,{delete:function(t){var e=s(this);if(!ct(t))return!1;var i=Tr(t);return!0===i?Fr(e).delete(t):i&&q(i,e.id)&&delete i[e.id]},has:function(t){var e=s(this);if(!ct(t))return!1;var i=Tr(t);return!0===i?Fr(e).has(t):i&&q(i,e.id)}}),tr(o,i?{get:function(t){var e=s(this);if(ct(t)){var i=Tr(t);return!0===i?Fr(e).get(t):i?i[e.id]:void 0}},set:function(t,e){return a(this,t,e)}}:{add:function(t){return a(this,t,!0)}}),r}},Lr=se.enforce,zr=!x.ActiveXObject&&"ActiveXObject"in x,Hr=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Br=function(t,e,i){var n=-1!==t.indexOf("Map"),r=-1!==t.indexOf("Weak"),o=n?"set":"add",s=x[t],a=s&&s.prototype,l=s,c={},u=function(t){var e=P(a[t]);le(a,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(r&&!ct(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return r&&!ct(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(r&&!ct(t))&&e(this,0===t?0:t)}:function(t,i){return e(this,0===t?0:t,i),this})};if(ji(t,!W(s)||!(r||a.forEach&&!j((function(){(new s).entries().next()})))))l=i.getConstructor(e,t,n,o),dr.enable();else if(ji(t,!0)){var d=new l,h=d[o](r?{}:-0,1)!=d,p=j((function(){d.has(1)})),f=function(t){if(!void 0&&!kr)return!1;var e=!1;try{var i={};i[Cr]=function(){return{next:function(){return{done:e=!0}}}},t(i)}catch(t){}return e}((function(t){new s(t)})),g=!r&&j((function(){for(var t=new s,e=5;e--;)t[o](e,e);return!t.has(-0)}));f||((l=e((function(t,e){$r(t,a);var i=function(t,e,i){var n,r;return Pn&&W(n=e.constructor)&&n!==i&&ct(r=n.prototype)&&r!==i.prototype&&Pn(t,r),t}(new s,t,l);return null!=e&&wr(e,i[o],{that:i,AS_ENTRIES:n}),i}))).prototype=a,a.constructor=l),(p||g)&&(u("delete"),u("has"),n&&u("get")),(g||h)&&u(o),r&&a.clear&&delete a.clear}return c[t]=l,Ai({global:!0,constructor:!0,forced:l!=s},c),Tn(l,t),r||i.setStrong(l,t,n),l}("WeakMap",Hr,qr);if(Yt&&zr){Nr=qr.getConstructor(Hr,"WeakMap",!0),dr.enable();var Wr=Br.prototype,Gr=P(Wr.delete),Ur=P(Wr.has),Vr=P(Wr.get),Qr=P(Wr.set);tr(Wr,{delete:function(t){if(ct(t)&&!cr(t)){var e=Lr(this);return e.frozen||(e.frozen=new Nr),Gr(this,t)||e.frozen.delete(t)}return Gr(this,t)},has:function(t){if(ct(t)&&!cr(t)){var e=Lr(this);return e.frozen||(e.frozen=new Nr),Ur(this,t)||e.frozen.has(t)}return Ur(this,t)},get:function(t){if(ct(t)&&!cr(t)){var e=Lr(this);return e.frozen||(e.frozen=new Nr),Ur(this,t)?Vr(this,t):e.frozen.get(t)}return Vr(this,t)},set:function(t,e){if(ct(t)&&!cr(t)){var i=Lr(this);i.frozen||(i.frozen=new Nr),Ur(this,t)?Qr(this,t,e):i.frozen.set(t,e)}else Qr(this,t,e);return this}})}var Yr=ot("iterator"),Xr=ot("toStringTag"),Kr=Wn.values,Jr=function(t,e){if(t){if(t[Yr]!==Kr)try{Nt(t,Yr,Kr)}catch(e){t[Yr]=Kr}if(t[Xr]||Nt(t,Xr,e),ve[e])for(var i in Wn)if(t[i]!==Wn[i])try{Nt(t,i,Wn[i])}catch(e){t[i]=Wn[i]}}};for(var Zr in ve)Jr(x[Zr]&&x[Zr].prototype,Zr);Jr(_e,"DOMTokenList");var to=/^\s+|\s+$/g,eo=/^[-+]0x[0-9a-f]+$/i,io=/^0b[01]+$/i,no=/^0o[0-7]+$/i,ro=parseInt,oo="object"==typeof _&&_&&_.Object===Object&&_,so="object"==typeof self&&self&&self.Object===Object&&self,ao=oo||so||Function("return this")(),lo=Object.prototype.toString,co=Math.max,uo=Math.min,ho=function(){return ao.Date.now()},po=function(t,n,r){var o=!0,s=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return i(r)&&(o="leading"in r?!!r.leading:o,s="trailing"in r?!!r.trailing:s),e(t,n,{leading:o,maxWait:n,trailing:s})},fo=/^\s+|\s+$/g,go=/^[-+]0x[0-9a-f]+$/i,mo=/^0b[01]+$/i,vo=/^0o[0-7]+$/i,yo=parseInt,bo="object"==typeof _&&_&&_.Object===Object&&_,_o="object"==typeof self&&self&&self.Object===Object&&self,wo=bo||_o||Function("return this")(),xo=Object.prototype.toString,$o=Math.max,Co=Math.min,ko=function(){return wo.Date.now()},So=function(t,e,i){function n(e){var i=d,n=h;return d=h=void 0,v=e,f=t.apply(n,i)}function s(t){return v=t,g=setTimeout(l,e),y?n(t):f}function a(t){var i=t-m;return void 0===m||i>=e||i<0||b&&t-v>=p}function l(){var t=ko();if(a(t))return c(t);g=setTimeout(l,function(t){var i=e-(t-m);return b?Co(i,p-(t-v)):i}(t))}function c(t){return g=void 0,_&&d?n(t):(d=h=void 0,f)}function u(){var t=ko(),i=a(t);if(d=arguments,h=this,m=t,i){if(void 0===g)return s(m);if(b)return g=setTimeout(l,e),n(m)}return void 0===g&&(g=setTimeout(l,e)),f}var d,h,p,f,g,m,v=0,y=!1,b=!1,_=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return e=o(e)||0,r(i)&&(y=!!i.leading,p=(b="maxWait"in i)?$o(o(i.maxWait)||0,e):p,_="trailing"in i?!!i.trailing:_),u.cancel=function(){void 0!==g&&clearTimeout(g),v=0,d=m=h=g=void 0},u.flush=function(){return void 0===g?f:c(ko())},u},jo=/^\[object .+?Constructor\]$/,To="object"==typeof _&&_&&_.Object===Object&&_,Ao="object"==typeof self&&self&&self.Object===Object&&self,Do=To||Ao||Function("return this")(),Io=Array.prototype,Eo=Function.prototype,Po=Object.prototype,Oo=Do["__core-js_shared__"],Fo=function(){var t=/[^.]+$/.exec(Oo&&Oo.keys&&Oo.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Mo=Eo.toString,Ro=Po.hasOwnProperty,No=Po.toString,qo=RegExp("^"+Mo.call(Ro).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Lo=Io.splice,zo=h(Do,"Map"),Ho=h(Object,"create");s.prototype.clear=function(){this.__data__=Ho?Ho(null):{}},s.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},s.prototype.get=function(t){var e=this.__data__;if(Ho){var i=e[t];return"__lodash_hash_undefined__"===i?void 0:i}return Ro.call(e,t)?e[t]:void 0},s.prototype.has=function(t){var e=this.__data__;return Ho?void 0!==e[t]:Ro.call(e,t)},s.prototype.set=function(t,e){return this.__data__[t]=Ho&&void 0===e?"__lodash_hash_undefined__":e,this},a.prototype.clear=function(){this.__data__=[]},a.prototype.delete=function(t){var e=this.__data__,i=c(e,t);return!(i<0||(i==e.length-1?e.pop():Lo.call(e,i,1),0))},a.prototype.get=function(t){var e=this.__data__,i=c(e,t);return i<0?void 0:e[i][1]},a.prototype.has=function(t){return c(this.__data__,t)>-1},a.prototype.set=function(t,e){var i=this.__data__,n=c(i,t);return n<0?i.push([t,e]):i[n][1]=e,this},l.prototype.clear=function(){this.__data__={hash:new s,map:new(zo||a),string:new s}},l.prototype.delete=function(t){return d(this,t).delete(t)},l.prototype.get=function(t){return d(this,t).get(t)},l.prototype.has=function(t){return d(this,t).has(t)},l.prototype.set=function(t,e){return d(this,t).set(t,e),this},p.Cache=l;var Bo,Wo=p,Go=[],Uo="ResizeObserver loop completed with undelivered notifications.";!function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(Bo||(Bo={}));var Vo,Qo=function(t){return Object.freeze(t)},Yo=function(t,e){this.inlineSize=t,this.blockSize=e,Qo(this)},Xo=function(){function t(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Qo(this)}return t.prototype.toJSON=function(){var t=this;return{x:t.x,y:t.y,top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),Ko=function(t){return t instanceof SVGElement&&"getBBox"in t},Jo=function(t){if(Ko(t)){var e=t.getBBox(),i=e.width,n=e.height;return!i&&!n}var r=t,o=r.offsetWidth,s=r.offsetHeight;return!(o||s||t.getClientRects().length)},Zo=function(t){var e,i;if(t instanceof Element)return!0;var n=null===(i=null===(e=t)||void 0===e?void 0:e.ownerDocument)||void 0===i?void 0:i.defaultView;return!!(n&&t instanceof n.Element)},ts="undefined"!=typeof window?window:{},es=new WeakMap,is=/auto|scroll/,ns=/^tb|vertical/,rs=/msie|trident/i.test(ts.navigator&&ts.navigator.userAgent),os=function(t){return parseFloat(t||"0")},ss=function(t,e,i){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=!1),new Yo((i?e:t)||0,(i?t:e)||0)},as=Qo({devicePixelContentBoxSize:ss(),borderBoxSize:ss(),contentBoxSize:ss(),contentRect:new Xo(0,0,0,0)}),ls=function(t,e){if(void 0===e&&(e=!1),es.has(t)&&!e)return es.get(t);if(Jo(t))return es.set(t,as),as;var i=getComputedStyle(t),n=Ko(t)&&t.ownerSVGElement&&t.getBBox(),r=!rs&&"border-box"===i.boxSizing,o=ns.test(i.writingMode||""),s=!n&&is.test(i.overflowY||""),a=!n&&is.test(i.overflowX||""),l=n?0:os(i.paddingTop),c=n?0:os(i.paddingRight),u=n?0:os(i.paddingBottom),d=n?0:os(i.paddingLeft),h=n?0:os(i.borderTopWidth),p=n?0:os(i.borderRightWidth),f=n?0:os(i.borderBottomWidth),g=d+c,m=l+u,v=(n?0:os(i.borderLeftWidth))+p,y=h+f,b=a?t.offsetHeight-y-t.clientHeight:0,_=s?t.offsetWidth-v-t.clientWidth:0,w=r?g+v:0,x=r?m+y:0,$=n?n.width:os(i.width)-w-_,C=n?n.height:os(i.height)-x-b,k=$+g+_+v,S=C+m+b+y,j=Qo({devicePixelContentBoxSize:ss(Math.round($*devicePixelRatio),Math.round(C*devicePixelRatio),o),borderBoxSize:ss(k,S,o),contentBoxSize:ss($,C,o),contentRect:new Xo(d,l,$,C)});return es.set(t,j),j},cs=function(t,e,i){var n=ls(t,i),r=n.borderBoxSize,o=n.contentBoxSize,s=n.devicePixelContentBoxSize;switch(e){case Bo.DEVICE_PIXEL_CONTENT_BOX:return s;case Bo.BORDER_BOX:return r;default:return o}},us=function(t){var e=ls(t);this.target=t,this.contentRect=e.contentRect,this.borderBoxSize=Qo([e.borderBoxSize]),this.contentBoxSize=Qo([e.contentBoxSize]),this.devicePixelContentBoxSize=Qo([e.devicePixelContentBoxSize])},ds=function(t){if(Jo(t))return 1/0;for(var e=0,i=t.parentNode;i;)e+=1,i=i.parentNode;return e},hs=function(){var t=1/0,e=[];Go.forEach((function(i){if(0!==i.activeTargets.length){var n=[];i.activeTargets.forEach((function(e){var i=new us(e.target),r=ds(e.target);n.push(i),e.lastReportedSize=cs(e.target,e.observedBox),r<t&&(t=r)})),e.push((function(){i.callback.call(i.observer,n,i.observer)})),i.activeTargets.splice(0,i.activeTargets.length)}}));for(var i=0,n=e;i<n.length;i++)(0,n[i])();return t},ps=function(t){Go.forEach((function(e){e.activeTargets.splice(0,e.activeTargets.length),e.skippedTargets.splice(0,e.skippedTargets.length),e.observationTargets.forEach((function(i){i.isActive()&&(ds(i.target)>t?e.activeTargets.push(i):e.skippedTargets.push(i))}))}))},fs=function(){var t,e=0;for(ps(e);Go.some((function(t){return t.activeTargets.length>0}));)e=hs(),ps(e);return Go.some((function(t){return t.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?t=new ErrorEvent("error",{message:Uo}):((t=document.createEvent("Event")).initEvent("error",!1,!1),t.message=Uo),window.dispatchEvent(t)),e>0},gs=[],ms=function(t){if(!Vo){var e=0,i=document.createTextNode("");new MutationObserver((function(){return gs.splice(0).forEach((function(t){return t()}))})).observe(i,{characterData:!0}),Vo=function(){i.textContent=""+(e?e--:e++)}}gs.push(t),Vo()},vs=0,ys={attributes:!0,characterData:!0,childList:!0,subtree:!0},bs=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],_s=function(t){return void 0===t&&(t=0),Date.now()+t},ws=!1,xs=new(function(){function t(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return t.prototype.run=function(t){var e=this;if(void 0===t&&(t=250),!ws){ws=!0;var i,n=_s(t);i=function(){var i=!1;try{i=fs()}finally{if(ws=!1,t=n-_s(),!vs)return;i?e.run(1e3):t>0?e.run(t):e.start()}},ms((function(){requestAnimationFrame(i)}))}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var t=this,e=function(){return t.observer&&t.observer.observe(document.body,ys)};document.body?e():ts.addEventListener("DOMContentLoaded",e)},t.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),bs.forEach((function(e){return ts.addEventListener(e,t.listener,!0)})))},t.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),bs.forEach((function(e){return ts.removeEventListener(e,t.listener,!0)})),this.stopped=!0)},t}()),$s=function(t){!vs&&t>0&&xs.start(),!(vs+=t)&&xs.stop()},Cs=function(){function t(t,e){this.target=t,this.observedBox=e||Bo.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var t,e=cs(this.target,this.observedBox,!0);return t=this.target,Ko(t)||function(t){switch(t.tagName){case"INPUT":if("image"!==t.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(t)||"inline"!==getComputedStyle(t).display||(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),ks=function(t,e){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=e},Ss=new WeakMap,js=function(t,e){for(var i=0;i<t.length;i+=1)if(t[i].target===e)return i;return-1},Ts=function(){function t(){}return t.connect=function(t,e){var i=new ks(t,e);Ss.set(t,i)},t.observe=function(t,e,i){var n=Ss.get(t),r=0===n.observationTargets.length;js(n.observationTargets,e)<0&&(r&&Go.push(n),n.observationTargets.push(new Cs(e,i&&i.box)),$s(1),xs.schedule())},t.unobserve=function(t,e){var i=Ss.get(t),n=js(i.observationTargets,e),r=1===i.observationTargets.length;n>=0&&(r&&Go.splice(Go.indexOf(i),1),i.observationTargets.splice(n,1),$s(-1))},t.disconnect=function(t){var e=this,i=Ss.get(t);i.observationTargets.slice().forEach((function(i){return e.unobserve(t,i.target)})),i.activeTargets.splice(0,i.activeTargets.length)},t}(),As=function(){function t(t){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof t)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Ts.connect(this,t)}return t.prototype.observe=function(t,e){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Zo(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Ts.observe(this,t,e)},t.prototype.unobserve=function(t){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Zo(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Ts.unobserve(this,t)},t.prototype.disconnect=function(){Ts.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}(),Ds=x.TypeError,Is=function(t){return function(e,i,n,r){St(i);var o=R(e),s=ke(o),a=Ee(o),l=t?a-1:0,c=t?-1:1;if(n<2)for(;;){if(l in s){r=s[l],l+=c;break}if(l+=c,t?l<0:a<=l)throw Ds("Reduce of empty array with no initial value")}for(;t?l>=0:a>l;l+=c)l in s&&(r=i(r,s[l],l,o));return r}},Es={left:Is(!1),right:Is(!0)},Ps="process"==de(x.process),Os=Es.left,Fs=Ye("reduce");Ai({target:"Array",proto:!0,forced:!Fs||!Ps&&J>79&&J<83},{reduce:function(t){var e=arguments.length;return Os(this,t,e,e>1?arguments[1]:void 0)}});var Ms,Rs,Ns=function(){var t=vt(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},qs=x.RegExp,Ls=j((function(){var t=qs("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),zs=Ls||j((function(){return!qs("a","y").sticky})),Hs={BROKEN_CARET:Ls||j((function(){var t=qs("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),MISSED_STICKY:zs,UNSUPPORTED_Y:Ls},Bs=x.RegExp,Ws=j((function(){var t=Bs(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),Gs=x.RegExp,Us=j((function(){var t=Gs("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),Vs=se.get,Qs=S("native-string-replace",String.prototype.replace),Ys=RegExp.prototype.exec,Xs=Ys,Ks=P("".charAt),Js=P("".indexOf),Zs=P("".replace),ta=P("".slice),ea=(Rs=/b*/g,bt(Ys,Ms=/a/,"a"),bt(Ys,Rs,"a"),0!==Ms.lastIndex||0!==Rs.lastIndex),ia=Hs.BROKEN_CARET,na=void 0!==/()??/.exec("")[1];(ea||na||ia||Ws||Us)&&(Xs=function(t){var e,i,n,r,o,s,a,l=this,c=Vs(l),u=Ii(t),d=c.raw;if(d)return d.lastIndex=l.lastIndex,e=bt(Xs,d,u),l.lastIndex=d.lastIndex,e;var h=c.groups,p=ia&&l.sticky,f=bt(Ns,l),g=l.source,m=0,v=u;if(p&&(f=Zs(f,"y",""),-1===Js(f,"g")&&(f+="g"),v=ta(u,l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==Ks(u,l.lastIndex-1))&&(g="(?: "+g+")",v=" "+v,m++),i=new RegExp("^(?:"+g+")",f)),na&&(i=new RegExp("^"+g+"$(?!\\s)",f)),ea&&(n=l.lastIndex),r=bt(Ys,p?i:l,v),p?r?(r.input=ta(r.input,m),r[0]=ta(r[0],m),r.index=l.lastIndex,l.lastIndex+=r[0].length):l.lastIndex=0:ea&&r&&(l.lastIndex=l.global?r.index+r[0].length:n),na&&r&&r.length>1&&bt(Qs,r[0],i,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r&&h)for(r.groups=s=cn(null),o=0;o<h.length;o++)s[(a=h[o])[0]]=r[a[1]];return r});var ra=Xs;Ai({target:"RegExp",proto:!0,forced:/./.exec!==ra},{exec:ra});var oa=ot("species"),sa=RegExp.prototype,aa=function(t,e,i,n){var r=ot(t),o=!j((function(){var e={};return e[r]=function(){return 7},7!=""[t](e)})),s=o&&!j((function(){var e=!1,i=/a/;return"split"===t&&((i={}).constructor={},i.constructor[oa]=function(){return i},i.flags="",i[r]=/./[r]),i.exec=function(){return e=!0,null},i[r](""),!e}));if(!o||!s||i){var a=P(/./[r]),l=e(r,""[t],(function(t,e,i,n,r){var s=P(t),l=e.exec;return l===ra||l===sa.exec?o&&!r?{done:!0,value:a(e,i,n)}:{done:!0,value:s(i,e,n)}:{done:!1}}));le(String.prototype,t,l[0]),le(sa,r,l[1])}n&&Nt(sa[r],"sham",!0)},la=Xn.charAt,ca=function(t,e,i){return e+(i?la(t,e).length:1)},ua=x.TypeError,da=function(t,e){var i=t.exec;if(W(i)){var n=bt(i,t,e);return null!==n&&vt(n),n}if("RegExp"===de(t))return bt(ra,t,e);throw ua("RegExp#exec called on incompatible receiver")};aa("match",(function(t,e,i){return[function(e){var i=F(this),n=null==e?void 0:jt(e,t);return n?bt(n,e,i):new RegExp(e)[t](Ii(i))},function(t){var n=vt(this),r=Ii(t),o=i(e,n,r);if(o.done)return o.value;if(!n.global)return da(n,r);var s=n.unicode;n.lastIndex=0;for(var a,l=[],c=0;null!==(a=da(n,r));){var u=Ii(a[0]);l[c]=u,""===u&&(n.lastIndex=ca(r,Ie(n.lastIndex),s)),c++}return 0===c?null:l}]}));var ha=Ht.EXISTS,pa=Mt.f,fa=Function.prototype,ga=P(fa.toString),ma=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,va=P(ma.exec);lt&&!ha&&pa(fa,"name",{configurable:!0,get:function(){try{return va(ma,ga(this))[1]}catch(t){return""}}});var ya=Function.prototype,ba=ya.apply,_a=ya.call,wa="object"==typeof Reflect&&Reflect.apply||(T?_a.bind(ba):function(){return _a.apply(ba,arguments)}),xa=Math.floor,$a=P("".charAt),Ca=P("".replace),ka=P("".slice),Sa=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,ja=/\$([$&'`]|\d{1,2})/g,Ta=function(t,e,i,n,r,o){var s=i+t.length,a=n.length,l=ja;return void 0!==r&&(r=R(r),l=Sa),Ca(o,l,(function(o,l){var c;switch($a(l,0)){case"$":return"$";case"&":return t;case"`":return ka(e,0,i);case"'":return ka(e,s);case"<":c=r[ka(l,1,-1)];break;default:var u=+l;if(0===u)return o;if(u>a){var d=xa(u/10);return 0===d?o:d<=a?void 0===n[d-1]?$a(l,1):n[d-1]+$a(l,1):o}c=n[u-1]}return void 0===c?"":c}))},Aa=ot("replace"),Da=Math.max,Ia=Math.min,Ea=P([].concat),Pa=P([].push),Oa=P("".indexOf),Fa=P("".slice),Ma="$0"==="a".replace(/./,"$0"),Ra=!!/./[Aa]&&""===/./[Aa]("a","$0");aa("replace",(function(t,e,i){var n=Ra?"$":"$0";return[function(t,i){var n=F(this),r=null==t?void 0:jt(t,Aa);return r?bt(r,t,n,i):bt(e,Ii(n),t,i)},function(t,r){var o=vt(this),s=Ii(t);if("string"==typeof r&&-1===Oa(r,n)&&-1===Oa(r,"$<")){var a=i(e,o,s,r);if(a.done)return a.value}var l=W(r);l||(r=Ii(r));var c=o.global;if(c){var u=o.unicode;o.lastIndex=0}for(var d=[];;){var h=da(o,s);if(null===h)break;if(Pa(d,h),!c)break;""===Ii(h[0])&&(o.lastIndex=ca(s,Ie(o.lastIndex),u))}for(var p,f="",g=0,m=0;m<d.length;m++){for(var v=Ii((h=d[m])[0]),y=Da(Ia(Ae(h.index),s.length),0),b=[],_=1;_<h.length;_++)Pa(b,void 0===(p=h[_])?p:String(p));var w=h.groups;if(l){var x=Ea([v],b,y,s);void 0!==w&&Pa(x,w);var $=Ii(wa(r,void 0,x))}else $=Ta(v,s,y,b,w,r);y>=g&&(f+=Fa(s,g,y)+$,g=y+v.length)}return f+Fa(s,g)}]}),!!j((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!Ma||Ra);var Na=function(t){return Array.prototype.reduce.call(t,(function(t,e){var i=e.name.match(/data-simplebar-(.+)/);if(i){var n=i[1].replace(/\W+(.)/g,(function(t,e){return e.toUpperCase()}));switch(e.value){case"true":t[n]=!0;break;case"false":t[n]=!1;break;case void 0:t[n]=!0;break;default:t[n]=e.value}}return t}),{})},qa=null,La=null;ti&&window.addEventListener("resize",(function(){La!==window.devicePixelRatio&&(La=window.devicePixelRatio,qa=null)}));var za=function(){function t(e,i){var n=this;this.onScroll=function(){var t=g(n.el);n.scrollXTicking||(t.requestAnimationFrame(n.scrollX),n.scrollXTicking=!0),n.scrollYTicking||(t.requestAnimationFrame(n.scrollY),n.scrollYTicking=!0)},this.scrollX=function(){n.axis.x.isOverflowing&&(n.showScrollbar("x"),n.positionScrollbar("x")),n.scrollXTicking=!1},this.scrollY=function(){n.axis.y.isOverflowing&&(n.showScrollbar("y"),n.positionScrollbar("y")),n.scrollYTicking=!1},this.onMouseEnter=function(){n.showScrollbar("x"),n.showScrollbar("y")},this.onMouseMove=function(t){n.mouseX=t.clientX,n.mouseY=t.clientY,(n.axis.x.isOverflowing||n.axis.x.forceVisible)&&n.onMouseMoveForAxis("x"),(n.axis.y.isOverflowing||n.axis.y.forceVisible)&&n.onMouseMoveForAxis("y")},this.onMouseLeave=function(){n.onMouseMove.cancel(),(n.axis.x.isOverflowing||n.axis.x.forceVisible)&&n.onMouseLeaveForAxis("x"),(n.axis.y.isOverflowing||n.axis.y.forceVisible)&&n.onMouseLeaveForAxis("y"),n.mouseX=-1,n.mouseY=-1},this.onWindowResize=function(){n.scrollbarWidth=n.getScrollbarWidth(),n.hideNativeScrollbar()},this.hideScrollbars=function(){n.axis.x.track.rect=n.axis.x.track.el.getBoundingClientRect(),n.axis.y.track.rect=n.axis.y.track.el.getBoundingClientRect(),n.isWithinBounds(n.axis.y.track.rect)||(n.axis.y.scrollbar.el.classList.remove(n.classNames.visible),n.axis.y.isVisible=!1),n.isWithinBounds(n.axis.x.track.rect)||(n.axis.x.scrollbar.el.classList.remove(n.classNames.visible),n.axis.x.isVisible=!1)},this.onPointerEvent=function(t){var e,i;n.axis.x.track.rect=n.axis.x.track.el.getBoundingClientRect(),n.axis.y.track.rect=n.axis.y.track.el.getBoundingClientRect(),(n.axis.x.isOverflowing||n.axis.x.forceVisible)&&(e=n.isWithinBounds(n.axis.x.track.rect)),(n.axis.y.isOverflowing||n.axis.y.forceVisible)&&(i=n.isWithinBounds(n.axis.y.track.rect)),(e||i)&&(t.preventDefault(),t.stopPropagation(),"mousedown"===t.type&&(e&&(n.axis.x.scrollbar.rect=n.axis.x.scrollbar.el.getBoundingClientRect(),n.isWithinBounds(n.axis.x.scrollbar.rect)?n.onDragStart(t,"x"):n.onTrackClick(t,"x")),i&&(n.axis.y.scrollbar.rect=n.axis.y.scrollbar.el.getBoundingClientRect(),n.isWithinBounds(n.axis.y.scrollbar.rect)?n.onDragStart(t,"y"):n.onTrackClick(t,"y"))))},this.drag=function(e){var i=n.axis[n.draggedAxis].track,r=i.rect[n.axis[n.draggedAxis].sizeAttr],o=n.axis[n.draggedAxis].scrollbar,s=n.contentWrapperEl[n.axis[n.draggedAxis].scrollSizeAttr],a=parseInt(n.elStyles[n.axis[n.draggedAxis].sizeAttr],10);e.preventDefault(),e.stopPropagation();var l=(("y"===n.draggedAxis?e.pageY:e.pageX)-i.rect[n.axis[n.draggedAxis].offsetAttr]-n.axis[n.draggedAxis].dragOffset)/(r-o.size)*(s-a);"x"===n.draggedAxis&&(l=n.isRtl&&t.getRtlHelpers().isRtlScrollbarInverted?l-(r+o.size):l,l=n.isRtl&&t.getRtlHelpers().isRtlScrollingInverted?-l:l),n.contentWrapperEl[n.axis[n.draggedAxis].scrollOffsetAttr]=l},this.onEndDrag=function(t){var e=m(n.el),i=g(n.el);t.preventDefault(),t.stopPropagation(),n.el.classList.remove(n.classNames.dragging),e.removeEventListener("mousemove",n.drag,!0),e.removeEventListener("mouseup",n.onEndDrag,!0),n.removePreventClickId=i.setTimeout((function(){e.removeEventListener("click",n.preventClick,!0),e.removeEventListener("dblclick",n.preventClick,!0),n.removePreventClickId=null}))},this.preventClick=function(t){t.preventDefault(),t.stopPropagation()},this.el=e,this.minScrollbarWidth=20,this.options=Object.assign({},t.defaultOptions,i),this.classNames=Object.assign({},t.defaultOptions.classNames,this.options.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}}},this.removePreventClickId=null,t.instances.has(this.el)||(this.recalculate=po(this.recalculate.bind(this),64),this.onMouseMove=po(this.onMouseMove.bind(this),64),this.hideScrollbars=So(this.hideScrollbars.bind(this),this.options.timeout),this.onWindowResize=So(this.onWindowResize.bind(this),64,{leading:!0}),t.getRtlHelpers=Wo(t.getRtlHelpers),this.init())}t.getRtlHelpers=function(){var e=document.createElement("div");e.innerHTML='<div class="hs-dummy-scrollbar-size"><div style="height: 200%; width: 200%; margin: 10px 0;"></div></div>';var i=e.firstElementChild;document.body.appendChild(i);var n=i.firstElementChild;i.scrollLeft=0;var r=t.getOffset(i),o=t.getOffset(n);i.scrollLeft=999;var s=t.getOffset(n);return{
isRtlScrollingInverted:r.left!==o.left&&o.left-s.left!=0,isRtlScrollbarInverted:r.left!==o.left}},t.getOffset=function(t){var e=t.getBoundingClientRect(),i=m(t),n=g(t);return{top:e.top+(n.pageYOffset||i.documentElement.scrollTop),left:e.left+(n.pageXOffset||i.documentElement.scrollLeft)}};var e=t.prototype;return e.init=function(){t.instances.set(this.el,this),ti&&(this.initDOM(),this.setAccessibilityAttributes(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},e.initDOM=function(){var t=this;if(Array.prototype.filter.call(this.el.children,(function(e){return e.classList.contains(t.classNames.wrapper)})).length)this.wrapperEl=this.el.querySelector("."+this.classNames.wrapper),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector("."+this.classNames.contentWrapper),this.contentEl=this.options.contentNode||this.el.querySelector("."+this.classNames.contentEl),this.offsetEl=this.el.querySelector("."+this.classNames.offset),this.maskEl=this.el.querySelector("."+this.classNames.mask),this.placeholderEl=this.findChild(this.wrapperEl,"."+this.classNames.placeholder),this.heightAutoObserverWrapperEl=this.el.querySelector("."+this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl=this.el.querySelector("."+this.classNames.heightAutoObserverEl),this.axis.x.track.el=this.findChild(this.el,"."+this.classNames.track+"."+this.classNames.horizontal),this.axis.y.track.el=this.findChild(this.el,"."+this.classNames.track+"."+this.classNames.vertical);else{for(this.wrapperEl=document.createElement("div"),this.contentWrapperEl=document.createElement("div"),this.offsetEl=document.createElement("div"),this.maskEl=document.createElement("div"),this.contentEl=document.createElement("div"),this.placeholderEl=document.createElement("div"),this.heightAutoObserverWrapperEl=document.createElement("div"),this.heightAutoObserverEl=document.createElement("div"),this.wrapperEl.classList.add(this.classNames.wrapper),this.contentWrapperEl.classList.add(this.classNames.contentWrapper),this.offsetEl.classList.add(this.classNames.offset),this.maskEl.classList.add(this.classNames.mask),this.contentEl.classList.add(this.classNames.contentEl),this.placeholderEl.classList.add(this.classNames.placeholder),this.heightAutoObserverWrapperEl.classList.add(this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl.classList.add(this.classNames.heightAutoObserverEl);this.el.firstChild;)this.contentEl.appendChild(this.el.firstChild);this.contentWrapperEl.appendChild(this.contentEl),this.offsetEl.appendChild(this.contentWrapperEl),this.maskEl.appendChild(this.offsetEl),this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl),this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl),this.wrapperEl.appendChild(this.maskEl),this.wrapperEl.appendChild(this.placeholderEl),this.el.appendChild(this.wrapperEl)}if(!this.axis.x.track.el||!this.axis.y.track.el){var e=document.createElement("div"),i=document.createElement("div");e.classList.add(this.classNames.track),i.classList.add(this.classNames.scrollbar),e.appendChild(i),this.axis.x.track.el=e.cloneNode(!0),this.axis.x.track.el.classList.add(this.classNames.horizontal),this.axis.y.track.el=e.cloneNode(!0),this.axis.y.track.el.classList.add(this.classNames.vertical),this.el.appendChild(this.axis.x.track.el),this.el.appendChild(this.axis.y.track.el)}this.axis.x.scrollbar.el=this.axis.x.track.el.querySelector("."+this.classNames.scrollbar),this.axis.y.scrollbar.el=this.axis.y.track.el.querySelector("."+this.classNames.scrollbar),this.options.autoHide||(this.axis.x.scrollbar.el.classList.add(this.classNames.visible),this.axis.y.scrollbar.el.classList.add(this.classNames.visible)),this.el.setAttribute("data-simplebar","init")},e.setAccessibilityAttributes=function(){var t=this.options.ariaLabel||"scrollable content";this.contentWrapperEl.setAttribute("tabindex","0"),this.contentWrapperEl.setAttribute("role","region"),this.contentWrapperEl.setAttribute("aria-label",t)},e.initListeners=function(){var t=this,e=g(this.el);this.options.autoHide&&this.el.addEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach((function(e){t.el.addEventListener(e,t.onPointerEvent,!0)})),["touchstart","touchend","touchmove"].forEach((function(e){t.el.addEventListener(e,t.onPointerEvent,{capture:!0,passive:!0})})),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl.addEventListener("scroll",this.onScroll),e.addEventListener("resize",this.onWindowResize);var i=!1,n=e.ResizeObserver||As;this.resizeObserver=new n((function(){i&&t.recalculate()})),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),e.requestAnimationFrame((function(){i=!0})),this.mutationObserver=new e.MutationObserver(this.recalculate),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})},e.recalculate=function(){var t=g(this.el);this.elStyles=t.getComputedStyle(this.el),this.isRtl="rtl"===this.elStyles.direction;var e=this.heightAutoObserverEl.offsetHeight<=1,i=this.heightAutoObserverEl.offsetWidth<=1,n=this.contentEl.offsetWidth,r=this.contentWrapperEl.offsetWidth,o=this.elStyles.overflowX,s=this.elStyles.overflowY;this.contentEl.style.padding=this.elStyles.paddingTop+" "+this.elStyles.paddingRight+" "+this.elStyles.paddingBottom+" "+this.elStyles.paddingLeft,this.wrapperEl.style.margin="-"+this.elStyles.paddingTop+" -"+this.elStyles.paddingRight+" -"+this.elStyles.paddingBottom+" -"+this.elStyles.paddingLeft;var a=this.contentEl.scrollHeight,l=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=e?"auto":"100%",this.placeholderEl.style.width=i?n+"px":"auto",this.placeholderEl.style.height=a+"px";var c=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=l>n,this.axis.y.isOverflowing=a>c,this.axis.x.isOverflowing="hidden"!==o&&this.axis.x.isOverflowing,this.axis.y.isOverflowing="hidden"!==s&&this.axis.y.isOverflowing,this.axis.x.forceVisible="x"===this.options.forceVisible||!0===this.options.forceVisible,this.axis.y.forceVisible="y"===this.options.forceVisible||!0===this.options.forceVisible,this.hideNativeScrollbar();var u=this.axis.x.isOverflowing?this.scrollbarWidth:0,d=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&l>r-d,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&a>c-u,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el.style.width=this.axis.x.scrollbar.size+"px",this.axis.y.scrollbar.el.style.height=this.axis.y.scrollbar.size+"px",this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")},e.getScrollbarSize=function(t){if(void 0===t&&(t="y"),!this.axis[t].isOverflowing)return 0;var e,i=this.contentEl[this.axis[t].scrollSizeAttr],n=this.axis[t].track.el[this.axis[t].offsetSizeAttr],r=n/i;return e=Math.max(~~(r*n),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(e=Math.min(e,this.options.scrollbarMaxSize)),e},e.positionScrollbar=function(e){if(void 0===e&&(e="y"),this.axis[e].isOverflowing){var i=this.contentWrapperEl[this.axis[e].scrollSizeAttr],n=this.axis[e].track.el[this.axis[e].offsetSizeAttr],r=parseInt(this.elStyles[this.axis[e].sizeAttr],10),o=this.axis[e].scrollbar,s=this.contentWrapperEl[this.axis[e].scrollOffsetAttr],a=(s="x"===e&&this.isRtl&&t.getRtlHelpers().isRtlScrollingInverted?-s:s)/(i-r),l=~~((n-o.size)*a);l="x"===e&&this.isRtl&&t.getRtlHelpers().isRtlScrollbarInverted?l+(n-o.size):l,o.el.style.transform="x"===e?"translate3d("+l+"px, 0, 0)":"translate3d(0, "+l+"px, 0)"}},e.toggleTrackVisibility=function(t){void 0===t&&(t="y");var e=this.axis[t].track.el,i=this.axis[t].scrollbar.el;this.axis[t].isOverflowing||this.axis[t].forceVisible?(e.style.visibility="visible",this.contentWrapperEl.style[this.axis[t].overflowAttr]="scroll"):(e.style.visibility="hidden",this.contentWrapperEl.style[this.axis[t].overflowAttr]="hidden"),this.axis[t].isOverflowing?i.style.display="block":i.style.display="none"},e.hideNativeScrollbar=function(){this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-"+this.scrollbarWidth+"px":0,this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-"+this.scrollbarWidth+"px":0},e.onMouseMoveForAxis=function(t){void 0===t&&(t="y"),this.axis[t].track.rect=this.axis[t].track.el.getBoundingClientRect(),this.axis[t].scrollbar.rect=this.axis[t].scrollbar.el.getBoundingClientRect(),this.isWithinBounds(this.axis[t].scrollbar.rect)?this.axis[t].scrollbar.el.classList.add(this.classNames.hover):this.axis[t].scrollbar.el.classList.remove(this.classNames.hover),this.isWithinBounds(this.axis[t].track.rect)?(this.showScrollbar(t),this.axis[t].track.el.classList.add(this.classNames.hover)):this.axis[t].track.el.classList.remove(this.classNames.hover)},e.onMouseLeaveForAxis=function(t){void 0===t&&(t="y"),this.axis[t].track.el.classList.remove(this.classNames.hover),this.axis[t].scrollbar.el.classList.remove(this.classNames.hover)},e.showScrollbar=function(t){void 0===t&&(t="y");var e=this.axis[t].scrollbar.el;this.axis[t].isVisible||(e.classList.add(this.classNames.visible),this.axis[t].isVisible=!0),this.options.autoHide&&this.hideScrollbars()},e.onDragStart=function(t,e){void 0===e&&(e="y");var i=m(this.el),n=g(this.el),r=this.axis[e].scrollbar,o="y"===e?t.pageY:t.pageX;this.axis[e].dragOffset=o-r.rect[this.axis[e].offsetAttr],this.draggedAxis=e,this.el.classList.add(this.classNames.dragging),i.addEventListener("mousemove",this.drag,!0),i.addEventListener("mouseup",this.onEndDrag,!0),null===this.removePreventClickId?(i.addEventListener("click",this.preventClick,!0),i.addEventListener("dblclick",this.preventClick,!0)):(n.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},e.onTrackClick=function(t,e){var i=this;if(void 0===e&&(e="y"),this.options.clickOnTrack){var n=g(this.el);this.axis[e].scrollbar.rect=this.axis[e].scrollbar.el.getBoundingClientRect();var r=this.axis[e].scrollbar.rect[this.axis[e].offsetAttr],o=parseInt(this.elStyles[this.axis[e].sizeAttr],10),s=this.contentWrapperEl[this.axis[e].scrollOffsetAttr],a=("y"===e?this.mouseY-r:this.mouseX-r)<0?-1:1,l=-1===a?s-o:s+o;!function t(){var r,o;-1===a?s>l&&(s-=i.options.clickOnTrackSpeed,i.contentWrapperEl.scrollTo(((r={})[i.axis[e].offsetAttr]=s,r)),n.requestAnimationFrame(t)):s<l&&(s+=i.options.clickOnTrackSpeed,i.contentWrapperEl.scrollTo(((o={})[i.axis[e].offsetAttr]=s,o)),n.requestAnimationFrame(t))}()}},e.getContentElement=function(){return this.contentEl},e.getScrollElement=function(){return this.contentWrapperEl},e.getScrollbarWidth=function(){try{return"none"===getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:v(this.el)}catch(t){return v(this.el)}},e.removeListeners=function(){var t=this,e=g(this.el);this.options.autoHide&&this.el.removeEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach((function(e){t.el.removeEventListener(e,t.onPointerEvent,!0)})),["touchstart","touchend","touchmove"].forEach((function(e){t.el.removeEventListener(e,t.onPointerEvent,{capture:!0,passive:!0})})),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.recalculate.cancel(),this.onMouseMove.cancel(),this.hideScrollbars.cancel(),this.onWindowResize.cancel()},e.unMount=function(){this.removeListeners(),t.instances.delete(this.el)},e.isWithinBounds=function(t){return this.mouseX>=t.left&&this.mouseX<=t.left+t.width&&this.mouseY>=t.top&&this.mouseY<=t.top+t.height},e.findChild=function(t,e){var i=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;return Array.prototype.filter.call(t.children,(function(t){return i.call(t,e)}))[0]},t}();return za.defaultOptions={autoHide:!0,forceVisible:!1,clickOnTrack:!0,clickOnTrackSpeed:40,classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging"},scrollbarMinSize:25,scrollbarMaxSize:0,timeout:1e3},za.instances=new WeakMap,za.initDOMLoadedElements=function(){document.removeEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.removeEventListener("load",this.initDOMLoadedElements),Array.prototype.forEach.call(document.querySelectorAll("[data-simplebar]"),(function(t){"init"===t.getAttribute("data-simplebar")||za.instances.has(t)||new za(t,Na(t.attributes))}))},za.removeObserver=function(){this.globalObserver.disconnect()},za.initHtmlApi=function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),"undefined"!=typeof MutationObserver&&(this.globalObserver=new MutationObserver(za.handleMutations),this.globalObserver.observe(document,{childList:!0,subtree:!0})),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(this.initDOMLoadedElements):(document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.addEventListener("load",this.initDOMLoadedElements))},za.handleMutations=function(t){t.forEach((function(t){Array.prototype.forEach.call(t.addedNodes,(function(t){1===t.nodeType&&(t.hasAttribute("data-simplebar")?!za.instances.has(t)&&document.documentElement.contains(t)&&new za(t,Na(t.attributes)):Array.prototype.forEach.call(t.querySelectorAll("[data-simplebar]"),(function(t){"init"!==t.getAttribute("data-simplebar")&&!za.instances.has(t)&&document.documentElement.contains(t)&&new za(t,Na(t.attributes))})))})),Array.prototype.forEach.call(t.removedNodes,(function(t){1===t.nodeType&&("init"===t.getAttribute("data-simplebar")?za.instances.has(t)&&!document.documentElement.contains(t)&&za.instances.get(t).unMount():Array.prototype.forEach.call(t.querySelectorAll('[data-simplebar="init"]'),(function(t){za.instances.has(t)&&!document.documentElement.contains(t)&&za.instances.get(t).unMount()})))}))}))},za.getOptions=Na,ti&&za.initHtmlApi(),za})),function(){function t(t){var r=document.getElementById("divAuthorizeNetPopup"),o=document.getElementById("divAuthorizeNetPopupScreen"),s=document.getElementById("iframeAuthorizeNet"),a=document.forms.formAuthorizeNetPopup;switch(t.action){case"addPayment":s.style.width="435px",s.style.height=AuthorizeNetPopup.options.eCheckEnabled?"508px":"479px";break;case"editPayment":s.style.width="435px",s.style.height="479px";break;case"addShipping":case"editShipping":s.style.width="385px",s.style.height="359px";break;case"manage":s.style.width="442px",s.style.height="578px"}if(!AuthorizeNetPopup.options.skipZIndexCheck){var l=n();r.style.zIndex=l+2,o.style.zIndex=l+1}AuthorizeNetPopup.options.useTestEnvironment?a.action="https://test.authorize.net/profile/"+t.action:a.action="https://secure.authorize.net/profile/"+t.action,a.elements.PaymentProfileId&&(a.elements.PaymentProfileId.value=t.paymentProfileId?t.paymentProfileId:""),a.elements.ShippingAddressId&&(a.elements.ShippingAddressId.value=t.shippingAddressId?t.shippingAddressId:""),a.submit(),r.style.display="",o.style.display="",e(),i()}function e(){var t=document.getElementById("divAuthorizeNetPopup");t.style.left="50%",t.style.top="50%";var e=-Math.floor(t.clientWidth/2),i=-Math.floor(t.clientHeight/2);t.style.marginLeft=e.toString()+"px",t.style.marginTop=i.toString()+"px",t.offsetLeft<16&&(t.style.left="16px",t.style.marginLeft="0px"),t.offsetTop<16&&(t.style.top="16px",t.style.marginTop="0px")}function i(){var t=document.getElementById("divAuthorizeNetPopupScreen");t.currentStyle&&"absolute"==t.currentStyle.position&&(t.clientHeight<document.documentElement.scrollHeight&&(t.style.height=document.documentElement.scrollHeight.toString()+"px"),t.clientWidth<document.documentElement.scrollWidth&&(t.style.width=document.documentElement.scrollWidth.toString()+"px"))}function n(){for(var t=0,e=0,i=document.getElementsByTagName("*"),n=0;n<i.length;n++){if(e=0,i[n].currentStyle)"none"!=(r=i[n].currentStyle).display&&(e=parseFloat(r.zIndex));else if(window.getComputedStyle){var r;"none"!=(r=window.getComputedStyle(i[n],null)).getPropertyValue("display")&&(e=parseFloat(r.getPropertyValue("z-index")))}!isNaN(e)&&e>t&&(t=e)}return Math.ceil(t)}function r(t){for(var e,i=[],n=t.split("&"),r=0;r<n.length;r++)e=n[r].split("="),i.push(e[0]),i[e[0]]=unescape(e[1]);return i}window.AuthorizeNetPopup||(window.AuthorizeNetPopup={}),AuthorizeNetPopup.options||(AuthorizeNetPopup.options={onPopupClosed:null,eCheckEnabled:!1,skipZIndexCheck:!1,useTestEnvironment:!1}),AuthorizeNetPopup.closePopup=function(t){document.getElementById("divAuthorizeNetPopupScreen").style.display="none",document.getElementById("divAuthorizeNetPopup").style.display="none",document.getElementById("iframeAuthorizeNet").src="/authorize_net/empty",AuthorizeNetPopup.options.onPopupClosed&&AuthorizeNetPopup.options.onPopupClosed(t)},AuthorizeNetPopup.openManagePopup=function(){t({action:"manage"})},AuthorizeNetPopup.openAddPaymentPopup=function(){t({action:"addPayment",paymentProfileId:"new"})},AuthorizeNetPopup.openEditPaymentPopup=function(e){t({action:"editPayment",paymentProfileId:e})},AuthorizeNetPopup.openAddShippingPopup=function(){t({action:"addShipping",shippingAddressId:"new"})},AuthorizeNetPopup.openEditShippingPopup=function(e){t({action:"editShipping",shippingAddressId:e})},AuthorizeNetPopup.onReceiveCommunication=function(t){var n=r(t);switch(n.action){case"successfulSave":AuthorizeNetPopup.closePopup("Save");break;case"cancel":AuthorizeNetPopup.closePopup("Cancel");break;case"resizeWindow":var o=parseInt(n.width),s=parseInt(n.height),a=document.getElementById("iframeAuthorizeNet");a.style.width=o.toString()+"px",a.style.height=s.toString()+"px",e(),i()}}}(),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","../grid.base"],t):t(jQuery)}((function(t){t.jgrid=t.jgrid||{},t.jgrid.hasOwnProperty("regional")||(t.jgrid.regional=[]),t.jgrid.regional.en={defaults:{recordtext:"View {0} - {1} of {2}",emptyrecords:"No records to view",loadtext:"Loading...",savetext:"Saving...",pgtext:"Page {0} of {1}",pgfirst:"First Page",pglast:"Last Page",pgnext:"Next Page",pgprev:"Previous Page",pgrecs:"Records per Page",showhide:"Toggle Expand Collapse Grid",pagerCaption:"Grid::Page Settings",pageText:"Page:",recordPage:"Records per Page",nomorerecs:"No more records...",scrollPullup:"Pull up to load more...",scrollPulldown:"Pull down to refresh...",scrollRefresh:"Release to refresh..."},search:{caption:"Search...",Find:"Find",Reset:"Reset",odata:[{oper:"eq",text:"equal"},{oper:"ne",text:"not equal"},{oper:"lt",text:"less"},{oper:"le",text:"less or equal"},{oper:"gt",text:"greater"},{oper:"ge",text:"greater or equal"},{oper:"bw",text:"begins with"},{oper:"bn",text:"does not begin with"},{oper:"in",text:"is in"},{oper:"ni",text:"is not in"},{oper:"ew",text:"ends with"},{oper:"en",text:"does not end with"},{oper:"cn",text:"contains"},{oper:"nc",text:"does not contain"},{oper:"nu",text:"is null"},{oper:"nn",text:"is not null"},{oper:"bt",text:"between"}],groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}],operandTitle:"Click to select search operation.",resetTitle:"Reset Search Value",addsubgrup:"Add subgroup",addrule:"Add rule",delgroup:"Delete group",delrule:"Delete rule"},edit:{addCaption:"Add Record",editCaption:"Edit Record",bSubmit:"Submit",bCancel:"Cancel",bClose:"Close",saveData:"Data has been changed! Save changes?",bYes:"Yes",bNo:"No",bExit:"Cancel",msg:{required:"Field is required",number:"Please, enter valid number",minValue:"value must be greater than or equal to ",maxValue:"value must be less than or equal to",email:"is not a valid e-mail",integer:"Please, enter valid integer value",date:"Please, enter valid date value",url:"is not a valid URL. Prefix required ('http://' or 'https://')",nodefined:" is not defined!",novalue:" return value is required!",customarray:"Custom function should return array!",customfcheck:"Custom function should be present in case of custom checking!"}},view:{caption:"View Record",bClose:"Close"},del:{caption:"Delete",msg:"Delete selected record(s)?",bSubmit:"Delete",bCancel:"Cancel"},nav:{edittext:"",edittitle:"Edit selected row",addtext:"",addtitle:"Add new row",deltext:"",deltitle:"Delete selected row",searchtext:"",searchtitle:"Find records",refreshtext:"",refreshtitle:"Reload Grid",alertcap:"Warning",alerttext:"Please, select row",viewtext:"",viewtitle:"View selected row",savetext:"",savetitle:"Save row",canceltext:"",canceltitle:"Cancel row editing",selectcaption:"Actions..."},col:{caption:"Select columns",bSubmit:"Ok",bCancel:"Cancel"},errors:{errcap:"Error",nourl:"No url is set",norecords:"No records to process",model:"Length of colNames <> colModel!"},formatter:{integer:{thousandsSeparator:",",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:["Sun","Mon","Tue","Wed","Thr","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],AmPm:["am","pm","AM","PM"],S:function(t){return t<11||t>13?["st","nd","rd","th"][Math.min((t-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"n/j/Y",parseRe:/[#%\\\/:_;.,\t\s-]/,masks:{ISO8601Long:"Y-m-d H:i:s",ISO8601Short:"Y-m-d",ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",SortableDateTime:"Y-m-d\\TH:i:s",UniversalSortableDateTime:"Y-m-d H:i:sO",YearMonth:"F, Y"},reformatAfterEdit:!1,userLocalTime:!1},baseLinkUrl:"",showAction:"",target:"",checkbox:{disabled:!0},idName:"id"},colmenu:{sortasc:"Sort Ascending",sortdesc:"Sort Descending",columns:"Columns",filter:"Filter",grouping:"Group By",ungrouping:"Ungroup",searchTitle:"Get items with value that:",freeze:"Freeze",unfreeze:"Unfreeze",reorder:"Move to reorder"}}})),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}((function($){"use strict";function _pivotfilter(t,e){var i,n,r,o=[];if(!this||"function"!=typeof t||t instanceof RegExp)throw new TypeError;for(r=this.length,i=0;i<r;i++)if(this.hasOwnProperty(i)&&(n=this[i],t.call(e,n,i,this))){o.push(n);break}return o}$.jgrid=$.jgrid||{},$.jgrid.hasOwnProperty("defaults")||($.jgrid.defaults={}),$.extend($.jgrid,{version:"5.3.2",htmlDecode:function(t){return t&&("&nbsp;"===t||"&#160;"===t||1===t.length&&160===t.charCodeAt(0))?"":t?String(t).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):t},htmlEncode:function(t){return t?String(t).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},template:function(t){var e,i=$.makeArray(arguments).slice(1),n=i.length;return null==t&&(t=""),t.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,(function(t,r){if(!isNaN(parseInt(r,10)))return i[parseInt(r,10)];for(e=0;e<n;e++)if($.isArray(i[e]))for(var o=i[e],s=o.length;s--;)if(r===o[s].nm)return o[s].v}))},msie:function(){return $.jgrid.msiever()>0},msiever:function(){var t=0,e=window.navigator.userAgent,i=e.indexOf("MSIE");return i>0?t=parseInt(e.substring(i+5,e.indexOf(".",i))):navigator.userAgent.match(/Trident\/7\./)&&(t=11),t},getCellIndex:function(t){var e=$(t);return e.is("tr")?-1:(e=(e.is("td")||e.is("th")?e:e.closest("td,th"))[0],$.jgrid.msie()?$.inArray(e,e.parentNode.cells):e.cellIndex)},stripHtml:function(t){var e=/<("[^"]*"|'[^']*'|[^'">])*>/gi;return(t=String(t))?(t=t.replace(e,""))&&"&nbsp;"!==t&&"&#160;"!==t?t.replace(/\"/g,"'"):"":t},stripPref:function(t,e){var i=$.type(t);return"string"!==i&&"number"!==i||(e=""!==(t=String(t))?String(e).replace(String(t),""):e),e},useJSON:!0,parse:function(jsonString){var js=jsonString;return"while(1);"===js.substr(0,9)&&(js=js.substr(9)),"/*"===js.substr(0,2)&&(js=js.substr(2,js.length-4)),js||(js="{}"),!0===$.jgrid.useJSON&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(js):eval("("+js+")")},parseDate:function(t,e,i,n){var r,o,s,a=/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,l=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,c=/[^-+\dA-Z]/g,u=new RegExp("^/Date\\((([-+])?[0-9]+)(([-+])([0-9]{2})([0-9]{2}))?\\)/$"),d="string"==typeof e?e.match(u):null,h=function(t,e){for(t=String(t),e=parseInt(e,10)||2;t.length<e;)t="0"+t;return t},p={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},f=0,g=function(t,e){return 0===t?12===e&&(e=0):12!==e&&(e+=12),e},m=0;if(void 0===n&&(n=$.jgrid.getRegional(this,"formatter.date")),void 0===n.parseRe&&(n.parseRe=/[#%\\\/:_;.,\t\s-]/),n.masks.hasOwnProperty(t)&&(t=n.masks[t]),e&&null!=e)if(isNaN(e-0)||"u"!==String(t).toLowerCase())if(e.constructor===Date)f=e;else if(null!==d)f=new Date(parseInt(d[1],10)),d[3]&&(m=60*Number(d[5])+Number(d[6]),m*="-"===d[4]?1:-1,m-=f.getTimezoneOffset(),f.setTime(Number(Number(f)+60*m*1e3)));else{for("ISO8601Long"===n.srcformat&&"Z"===e.charAt(e.length-1)&&(m-=(new Date).getTimezoneOffset()),e=String(e).replace(/\T/g,"#").replace(/\t/,"%").split(n.parseRe),o=0,s=(t=t.replace(/\T/g,"#").replace(/\t/,"%").split(n.parseRe)).length;o<s;o++){switch(t[o]){case"M":-1!==(r=$.inArray(e[o],n.monthNames))&&r<12&&(e[o]=r+1,p.m=e[o]);break;case"F":-1!==(r=$.inArray(e[o],n.monthNames,12))&&r>11&&(e[o]=r+1-12,p.m=e[o]);break;case"n":t[o]="m";break;case"j":t[o]="d";break;case"a":-1!==(r=$.inArray(e[o],n.AmPm))&&r<2&&e[o]===n.AmPm[r]&&(e[o]=r,p.h=g(e[o],p.h));break;case"A":-1!==(r=$.inArray(e[o],n.AmPm))&&r>1&&e[o]===n.AmPm[r]&&(e[o]=r-2,p.h=g(e[o],p.h));break;case"g":p.h=parseInt(e[o],10)}void 0!==e[o]&&(p[t[o].toLowerCase()]=parseInt(e[o],10))}if(p.f&&(p.m=p.f),0===p.m&&0===p.y&&0===p.d)return"&#160;";p.m=parseInt(p.m,10)-1;var v=p.y;v>=70&&v<=99?p.y=1900+p.y:v>=0&&v<=69&&(p.y=2e3+p.y),f=new Date(p.y,p.m,p.d,p.h,p.i,p.s,p.u),0!==m&&f.setTime(Number(Number(f)+60*m*1e3))}else f=new Date(1e3*parseFloat(e));else f=new Date(p.y,p.m,p.d,p.h,p.i,p.s,p.u);if(n.userLocalTime&&0===m&&0!=(m-=(new Date).getTimezoneOffset())&&f.setTime(Number(Number(f)+60*m*1e3)),void 0===i)return f;n.masks.hasOwnProperty(i)?i=n.masks[i]:i||(i="Y-m-d");var y=f.getHours(),b=f.getMinutes(),_=f.getDate(),w=f.getMonth()+1,x=f.getTimezoneOffset(),C=f.getSeconds(),k=f.getMilliseconds(),S=f.getDay(),j=f.getFullYear(),T=(S+6)%7+1,A=(new Date(j,w-1,_)-new Date(j,0,1))/864e5,D={d:h(_),D:n.dayNames[S],j:_,l:n.dayNames[S+7],N:T,S:n.S(_),w:S,z:A,W:T<5?Math.floor((A+T-1)/7)+1:Math.floor((A+T-1)/7)||((new Date(j-1,0,1).getDay()+6)%7<4?53:52),F:n.monthNames[w-1+12],m:h(w),M:n.monthNames[w-1],n:w,t:"?",L:"?",o:"?",Y:j,y:String(j).substring(2),a:y<12?n.AmPm[0]:n.AmPm[1],A:y<12?n.AmPm[2]:n.AmPm[3],B:"?",g:y%12||12,G:y,h:h(y%12||12),H:h(y),i:h(b),s:h(C),u:k,e:"?",I:"?",O:(x>0?"-":"+")+h(100*Math.floor(Math.abs(x)/60)+Math.abs(x)%60,4),P:"?",T:(String(f).match(l)||[""]).pop().replace(c,""),Z:"?",c:"?",r:"?",U:Math.floor(f/1e3)};return i.replace(a,(function(t){return D.hasOwnProperty(t)?D[t]:t.substring(1)}))},jqID:function(t){return String(t).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},guid:1,uidPref:"jqg",randId:function(t){return(t||$.jgrid.uidPref)+$.jgrid.guid++},getAccessor:function(t,e){var i,n,r=[];if("function"==typeof e)return e(t);if(void 0===(i=t[e]))try{if("string"==typeof e&&(r=e.split(".")),n=r.length)for(i=t;i&&n--;)i=i[r.shift()]}catch(t){}return i},getXmlData:function(t,e,i){var n,r="string"==typeof e?e.match(/^(.*)\[(\w+)\]$/):null;return"function"==typeof e?e(t):r&&r[2]?r[1]?$(r[1],t).attr(r[2]):$(t).attr(r[2]):(n=$(e,t),i?n:n.length>0?$(n).text():void 0)},cellWidth:function(){var t=$("<div class='ui-jqgrid' style='left:10000px'><table class='ui-jqgrid-btable ui-common-table' style='width:5px;'><tr class='jqgrow'><td style='width:5px;display:block;'></td></tr></table></div>"),e=t.appendTo("body").find("td").width();return t.remove(),Math.abs(e-5)>.1},isLocalStorage:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){return!1}},getRegional:function(t,e,i){var n;return void 0!==i?i:(t.p&&t.p.regional&&$.jgrid.regional&&(n=$.jgrid.getAccessor($.jgrid.regional[t.p.regional]||{},e)),void 0===n&&(n=$.jgrid.getAccessor($.jgrid,e)),n)},isMobile:function(){try{return!!/Android|webOS|iPhone|iPad|iPod|pocket|psp|kindle|avantgo|blazer|midori|Tablet|Palm|maemo|plucker|phone|BlackBerry|symbian|IEMobile|mobile|ZuneWP7|Windows Phone|Opera Mini/i.test(navigator.userAgent)}catch(t){return!1}},cell_width:!0,scrollbarWidth:function(){var t=$('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div>');$("body").append(t);var e=$("div",t).innerWidth();t.css("overflow-y","scroll");var i=$("div",t).innerWidth();return $(t).remove(),e-i<0?18:e-i},ajaxOptions:{},from:function(source){var $t=this,QueryObject=function(d,q){"string"==typeof d&&(d=$.data(d));var self=this,_data=d,_usecase=!0,_trim=!1,_query=q,_stripNum=/[\$,%]/g,_lastCommand=null,_lastField=null,_orDepth=0,_negate=!1,_queuedOperator="",_sorting=[],_useProperties=!0;if("object"!=typeof d||!d.push)throw"data provides is not an array";return d.length>0&&(_useProperties="object"==typeof d[0]),this._hasData=function(){return null!==_data&&0!==_data.length},this._getStr=function(t){var e=[];return _trim&&e.push("jQuery.trim("),e.push("String("+t+")"),_trim&&e.push(")"),_usecase||e.push(".toLowerCase()"),e.join("")},this._strComp=function(t){return"string"==typeof t?".toString()":""},this._group=function(t,e){return{field:t.toString(),unique:e,items:[]}},this._toStr=function(t){return _trim&&(t=$.trim(t)),t=t.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"'),_usecase?t:t.toLowerCase()},this._funcLoop=function(t){var e=[];return $.each(_data,(function(i,n){e.push(t(n))})),e},this._append=function(t){var e;for(null===_query?_query="":_query+=""===_queuedOperator?" && ":_queuedOperator,e=0;e<_orDepth;e++)_query+="(";_negate&&(_query+="!"),_query+="("+t+")",_negate=!1,_queuedOperator="",_orDepth=0},this._setCommand=function(t,e){_lastCommand=t,_lastField=e},this._resetNegate=function(){_negate=!1},this._repeatCommand=function(t,e){return null===_lastCommand?self:null!==t&&null!==e?_lastCommand(t,e):null===_lastField?_lastCommand(t):_useProperties?_lastCommand(_lastField,t):_lastCommand(t)},this._equals=function(t,e){return 0===self._compare(t,e,1)},this._compare=function(t,e,i){var n=Object.prototype.toString;return void 0===i&&(i=1),void 0===t&&(t=null),void 0===e&&(e=null),null===t&&null===e?0:null===t&&null!==e?1:null!==t&&null===e?-1:("[object Date]"===n.call(t)&&"[object Date]"===n.call(e)||_usecase||"number"==typeof t||"number"==typeof e||(t=String(t),e=String(e)),t<e?-i:t>e?i:0)},this._performSort=function(){0!==_sorting.length&&(_data=self._doSort(_data,0))},this._doSort=function(t,e){var i=_sorting[e].by,n=_sorting[e].dir,r=_sorting[e].type,o=_sorting[e].datefmt,s=_sorting[e].sfunc;if(e===_sorting.length-1)return self._getOrder(t,i,n,r,o,s);e++;var a,l,c,u=self._getGroup(t,i,n,r,o),d=[];for(a=0;a<u.length;a++)for(c=self._doSort(u[a].items,e),l=0;l<c.length;l++)d.push(c[l]);return d},this._getOrder=function(t,e,i,n,r,o){var s,a,l,c,u=[],d=[],h="a"===i?1:-1;void 0===n&&(n="text"),c="float"===n||"number"===n||"currency"===n||"numeric"===n?function(t){var e=parseFloat(String(t).replace(_stripNum,""));return isNaN(e)?Number.NEGATIVE_INFINITY:e}:"int"===n||"integer"===n?function(t){return t?parseFloat(String(t).replace(_stripNum,"")):Number.NEGATIVE_INFINITY}:"date"===n||"datetime"===n?function(t){return $.jgrid.parseDate.call($t,r,t).getTime()
}:$.isFunction(n)?n:function(t){return t=t?$.trim(String(t)):"",_usecase?t:t.toLowerCase()},$.each(t,(function(t,i){void 0===(a=""!==e?$.jgrid.getAccessor(i,e):i)&&(a=""),a=c(a,i),d.push({vSort:a,index:t})})),$.isFunction(o)?d.sort((function(t,e){return o.call(this,t.vSort,e.vSort,h,t,e)})):d.sort((function(t,e){return self._compare(t.vSort,e.vSort,h)})),l=0;for(var p=t.length;l<p;)s=d[l].index,u.push(t[s]),l++;return u},this._getGroup=function(t,e,i,n,r){var o,s=[],a=null,l=null;return $.each(self._getOrder(t,e,i,n,r),(function(t,i){null==(o=$.jgrid.getAccessor(i,e))&&(o=""),self._equals(l,o)||(l=o,null!==a&&s.push(a),a=self._group(e,o)),a.items.push(i)})),null!==a&&s.push(a),s},this.ignoreCase=function(){return _usecase=!1,self},this.useCase=function(){return _usecase=!0,self},this.trim=function(){return _trim=!0,self},this.noTrim=function(){return _trim=!1,self},this.execute=function(){var match=_query,results=[];return null===match||($.each(_data,(function(){eval(match)&&results.push(this)})),_data=results),self},this.data=function(){return _data},this.select=function(t){if(self._performSort(),!self._hasData())return[];if(self.execute(),$.isFunction(t)){var e=[];return $.each(_data,(function(i,n){e.push(t(n))})),e}return _data},this.hasMatch=function(){return!!self._hasData()&&(self.execute(),_data.length>0)},this.andNot=function(t,e,i){return _negate=!_negate,self.and(t,e,i)},this.orNot=function(t,e,i){return _negate=!_negate,self.or(t,e,i)},this.not=function(t,e,i){return self.andNot(t,e,i)},this.and=function(t,e,i){return _queuedOperator=" && ",void 0===t?self:self._repeatCommand(t,e,i)},this.or=function(t,e,i){return _queuedOperator=" || ",void 0===t?self:self._repeatCommand(t,e,i)},this.orBegin=function(){return _orDepth++,self},this.orEnd=function(){return null!==_query&&(_query+=")"),self},this.isNot=function(t){return _negate=!_negate,self.is(t)},this.is=function(t){return self._append("this."+t),self._resetNegate(),self},this._compareValues=function(t,e,i,n,r){var o;o=_useProperties?"jQuery.jgrid.getAccessor(this,'"+e+"')":"this",void 0===i&&(i=null);var s=i,a=void 0===r.stype?"text":r.stype;if(null!==i)switch(a){case"int":case"integer":o="parseInt("+o+",10)",s="parseInt("+(s=isNaN(Number(s))||""===s?"0":s)+",10)";break;case"float":case"number":case"numeric":s=String(s).replace(_stripNum,""),o="parseFloat("+o+")",s="parseFloat("+(s=isNaN(Number(s))||""===s?"0":Number(s))+")";break;case"date":case"datetime":s=String($.jgrid.parseDate.call($t,r.srcfmt||"Y-m-d",s).getTime()),o='jQuery.jgrid.parseDate.call(jQuery("#'+$.jgrid.jqID($t.p.id)+'")[0],"'+r.srcfmt+'",'+o+").getTime()";break;default:o=self._getStr(o),s=self._getStr('"'+self._toStr(s)+'"')}return self._append(o+" "+n+" "+s),self._setCommand(t,e),self._resetNegate(),self},this.equals=function(t,e,i){return self._compareValues(self.equals,t,e,"==",i)},this.notEquals=function(t,e,i){return self._compareValues(self.equals,t,e,"!==",i)},this.isNull=function(t,e,i){return self._compareValues(self.equals,t,null,"===",i)},this.greater=function(t,e,i){return self._compareValues(self.greater,t,e,">",i)},this.less=function(t,e,i){return self._compareValues(self.less,t,e,"<",i)},this.greaterOrEquals=function(t,e,i){return self._compareValues(self.greaterOrEquals,t,e,">=",i)},this.lessOrEquals=function(t,e,i){return self._compareValues(self.lessOrEquals,t,e,"<=",i)},this.startsWith=function(t,e){var i=null==e?t:e,n=_trim?$.trim(i.toString()).length:i.toString().length;return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+t+"')")+".substr(0,"+n+") == "+self._getStr('"'+self._toStr(e)+'"')):(null!=e&&(n=_trim?$.trim(e.toString()).length:e.toString().length),self._append(self._getStr("this")+".substr(0,"+n+") == "+self._getStr('"'+self._toStr(t)+'"'))),self._setCommand(self.startsWith,t),self._resetNegate(),self},this.endsWith=function(t,e){var i=null==e?t:e,n=_trim?$.trim(i.toString()).length:i.toString().length;return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+t+"')")+".substr("+self._getStr("jQuery.jgrid.getAccessor(this,'"+t+"')")+".length-"+n+","+n+') == "'+self._toStr(e)+'"'):self._append(self._getStr("this")+".substr("+self._getStr("this")+'.length-"'+self._toStr(t)+'".length,"'+self._toStr(t)+'".length) == "'+self._toStr(t)+'"'),self._setCommand(self.endsWith,t),self._resetNegate(),self},this.contains=function(t,e){return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+t+"')")+'.indexOf("'+self._toStr(e)+'",0) > -1'):self._append(self._getStr("this")+'.indexOf("'+self._toStr(t)+'",0) > -1'),self._setCommand(self.contains,t),self._resetNegate(),self},this.groupBy=function(t,e,i,n){return self._hasData()?self._getGroup(_data,t,e,i,n):null},this.orderBy=function(t,e,i,n,r){return null==i&&(i="text"),null==n&&(n="Y-m-d"),null==r&&(r=!1),"desc"!==(e=null==e?"a":$.trim(e.toString().toLowerCase()))&&"descending"!==e||(e="d"),"asc"!==e&&"ascending"!==e||(e="a"),_sorting.push({by:t,dir:e,type:i,datefmt:n,sfunc:r}),self},self};return new QueryObject(source,null)},getMethod:function(t){return this.getAccessor($.fn.jqGrid,t)},extend:function(t){$.extend($.fn.jqGrid,t),this.no_legacy_api||$.fn.extend(t)},clearBeforeUnload:function(t){var e,i=$("#"+$.jgrid.jqID(t))[0];if(i.grid){e=i.grid,$.isFunction(e.emptyRows)&&e.emptyRows.call(i,!0,!0),$(document).off("mouseup.jqGrid"+i.p.id),$(e.hDiv).off("mousemove"),$(i).off();var n,r=e.headers.length,o=["formatCol","sortData","updatepager","refreshIndex","setHeadCheckBox","constructTr","formatter","addXmlData","addJSONData","grid","p","addLocalData"];for(n=0;n<r;n++)e.headers[n].el=null;for(n in e)e.hasOwnProperty(n)&&(e[n]=null);for(n in i.p)i.p.hasOwnProperty(n)&&(i.p[n]=$.isArray(i.p[n])?[]:null);for(r=o.length,n=0;n<r;n++)i.hasOwnProperty(o[n])&&(i[o[n]]=null,delete i[o[n]])}},gridUnload:function(t){if(t){0===(t=$.trim(t)).indexOf("#")&&(t=t.substring(1));var e=$("#"+$.jgrid.jqID(t))[0];if(e.grid){var i={id:$(e).attr("id"),cl:$(e).attr("class")};e.p.pager&&$(e.p.pager).off().empty().removeClass("ui-state-default ui-jqgrid-pager ui-corner-bottom");var n=document.createElement("table");n.className=i.cl;var r=$.jgrid.jqID(e.id);$(n).removeClass("ui-jqgrid-btable ui-common-table").insertBefore("#gbox_"+r),1===$(e.p.pager).parents("#gbox_"+r).length&&$(e.p.pager).insertBefore("#gbox_"+r),$.jgrid.clearBeforeUnload(t),$("#gbox_"+r).remove(),$(n).attr({id:i.id}),$("#alertmod_"+$.jgrid.jqID(t)).remove()}}},gridDestroy:function(t){if(t){0===(t=$.trim(t)).indexOf("#")&&(t=t.substring(1));var e=$("#"+$.jgrid.jqID(t))[0];if(e.grid){e.p.pager&&$(e.p.pager).remove();try{$.jgrid.clearBeforeUnload(t),$("#gbox_"+$.jgrid.jqID(t)).remove()}catch(t){}}}},isElementInViewport:function(t){var e=t.getBoundingClientRect();return e.left>=0&&e.right<=(window.innerWidth||document.documentElement.clientWidth)},styleUI:{jQueryUI:{common:{disabled:"ui-state-disabled",highlight:"ui-state-highlight",hover:"ui-state-hover",cornerall:"ui-corner-all",cornertop:"ui-corner-top",cornerbottom:"ui-corner-bottom",hidden:"ui-helper-hidden",icon_base:"ui-icon",overlay:"ui-widget-overlay",active:"ui-state-active",error:"ui-state-error",button:"ui-state-default ui-corner-all",content:"ui-widget-content"},base:{entrieBox:"ui-widget ui-widget-content ui-corner-all",viewBox:"",headerTable:"",headerBox:"ui-state-default",rowTable:"",rowBox:"ui-widget-content",stripedTable:"ui-jqgrid-table-striped",footerTable:"",footerBox:"ui-widget-content",headerDiv:"ui-state-default",gridtitleBox:"ui-widget-header ui-corner-top ui-helper-clearfix",customtoolbarBox:"ui-state-default",loadingBox:"ui-state-default ui-state-active",rownumBox:"ui-state-default",scrollBox:"ui-widget-content",multiBox:"",pagerBox:"ui-state-default ui-corner-bottom",pagerTable:"",toppagerBox:"ui-state-default",pgInput:"ui-corner-all",pgSelectBox:"ui-widget-content ui-corner-all",pgButtonBox:"ui-corner-all",icon_first:"ui-icon-seek-first",icon_prev:"ui-icon-seek-prev",icon_next:"ui-icon-seek-next",icon_end:"ui-icon-seek-end",icon_asc:"ui-icon-triangle-1-n",icon_desc:"ui-icon-triangle-1-s",icon_caption_open:"ui-icon-circle-triangle-n",icon_caption_close:"ui-icon-circle-triangle-s"},modal:{modal:"ui-widget ui-widget-content ui-corner-all ui-dialog",header:"ui-widget-header ui-corner-all ui-helper-clearfix",content:"ui-widget-content",resizable:"ui-resizable-handle ui-resizable-se",icon_close:"ui-icon-closethick",icon_resizable:"ui-icon-gripsmall-diagonal-se"},celledit:{inputClass:"ui-widget-content ui-corner-all"},inlinedit:{inputClass:"ui-widget-content ui-corner-all",icon_edit_nav:"ui-icon-pencil",icon_add_nav:"ui-icon-plus",icon_save_nav:"ui-icon-disk",icon_cancel_nav:"ui-icon-cancel"},formedit:{inputClass:"ui-widget-content ui-corner-all",icon_prev:"ui-icon-triangle-1-w",icon_next:"ui-icon-triangle-1-e",icon_save:"ui-icon-disk",icon_close:"ui-icon-close",icon_del:"ui-icon-scissors",icon_cancel:"ui-icon-cancel"},navigator:{icon_edit_nav:"ui-icon-pencil",icon_add_nav:"ui-icon-plus",icon_del_nav:"ui-icon-trash",icon_search_nav:"ui-icon-search",icon_refresh_nav:"ui-icon-refresh",icon_view_nav:"ui-icon-document",icon_newbutton_nav:"ui-icon-newwin"},grouping:{icon_plus:"ui-icon-circlesmall-plus",icon_minus:"ui-icon-circlesmall-minus"},filter:{table_widget:"ui-widget ui-widget-content",srSelect:"ui-widget-content ui-corner-all",srInput:"ui-widget-content ui-corner-all",menu_widget:"ui-widget ui-widget-content ui-corner-all",icon_search:"ui-icon-search",icon_reset:"ui-icon-arrowreturnthick-1-w",icon_query:"ui-icon-comment"},subgrid:{icon_plus:"ui-icon-plus",icon_minus:"ui-icon-minus",icon_open:"ui-icon-carat-1-sw"},treegrid:{icon_plus:"ui-icon-triangle-1-",icon_minus:"ui-icon-triangle-1-s",icon_leaf:"ui-icon-radio-off"},fmatter:{icon_edit:"ui-icon-pencil",icon_add:"ui-icon-plus",icon_save:"ui-icon-disk",icon_cancel:"ui-icon-cancel",icon_del:"ui-icon-trash"},colmenu:{menu_widget:"ui-widget ui-widget-content ui-corner-all",input_checkbox:"ui-widget ui-widget-content",filter_select:"ui-widget-content ui-corner-all",filter_input:"ui-widget-content ui-corner-all",icon_menu:"ui-icon-comment",icon_sort_asc:"ui-icon-arrow-1-n",icon_sort_desc:"ui-icon-arrow-1-s",icon_columns:"ui-icon-extlink",icon_filter:"ui-icon-calculator",icon_group:"ui-icon-grip-solid-horizontal",icon_freeze:"ui-icon-grip-solid-vertical",icon_move:"ui-icon-arrow-4",icon_new_item:"ui-icon-newwin",icon_toolbar_menu:"ui-icon-document"}},Bootstrap:{common:{disabled:"ui-disabled",highlight:"success",hover:"active",cornerall:"",cornertop:"",cornerbottom:"",hidden:"",icon_base:"glyphicon",overlay:"ui-overlay",active:"active",error:"bg-danger",button:"btn btn-default",content:""},base:{entrieBox:"",viewBox:"table-responsive",headerTable:"table table-bordered",headerBox:"",rowTable:"table table-bordered",rowBox:"",stripedTable:"table-striped",footerTable:"table table-bordered",footerBox:"",headerDiv:"",gridtitleBox:"",customtoolbarBox:"",loadingBox:"row",rownumBox:"active",scrollBox:"",multiBox:"checkbox",pagerBox:"",pagerTable:"table",toppagerBox:"",pgInput:"form-control",pgSelectBox:"form-control",pgButtonBox:"",icon_first:"glyphicon-step-backward",icon_prev:"glyphicon-backward",icon_next:"glyphicon-forward",icon_end:"glyphicon-step-forward",icon_asc:"glyphicon-triangle-top",icon_desc:"glyphicon-triangle-bottom",icon_caption_open:"glyphicon-circle-arrow-up",icon_caption_close:"glyphicon-circle-arrow-down"},modal:{modal:"modal-content",header:"modal-header",title:"modal-title",content:"modal-body",resizable:"ui-resizable-handle ui-resizable-se",icon_close:"glyphicon-remove-circle",icon_resizable:"glyphicon-import"},celledit:{inputClass:"form-control"},inlinedit:{inputClass:"form-control",icon_edit_nav:"glyphicon-edit",icon_add_nav:"glyphicon-plus",icon_save_nav:"glyphicon-save",icon_cancel_nav:"glyphicon-remove-circle"},formedit:{inputClass:"form-control",icon_prev:"glyphicon-step-backward",icon_next:"glyphicon-step-forward",icon_save:"glyphicon-save",icon_close:"glyphicon-remove-circle",icon_del:"glyphicon-trash",icon_cancel:"glyphicon-remove-circle"},navigator:{icon_edit_nav:"glyphicon-edit",icon_add_nav:"glyphicon-plus",icon_del_nav:"glyphicon-trash",icon_search_nav:"glyphicon-search",icon_refresh_nav:"glyphicon-refresh",icon_view_nav:"glyphicon-info-sign",icon_newbutton_nav:"glyphicon-new-window"},grouping:{icon_plus:"glyphicon-triangle-right",icon_minus:"glyphicon-triangle-bottom"},filter:{table_widget:"table table-condensed",srSelect:"form-control",srInput:"form-control",menu_widget:"",icon_search:"glyphicon-search",icon_reset:"glyphicon-refresh",icon_query:"glyphicon-comment"},subgrid:{icon_plus:"glyphicon-triangle-right",icon_minus:"glyphicon-triangle-bottom",icon_open:"glyphicon-indent-left"},treegrid:{icon_plus:"glyphicon-triangle-right",icon_minus:"glyphicon-triangle-bottom",icon_leaf:"glyphicon-unchecked"},fmatter:{icon_edit:"glyphicon-edit",icon_add:"glyphicon-plus",icon_save:"glyphicon-save",icon_cancel:"glyphicon-remove-circle",icon_del:"glyphicon-trash"},colmenu:{menu_widget:"",input_checkbox:"",filter_select:"form-control",filter_input:"form-control",icon_menu:"glyphicon-menu-hamburger",icon_sort_asc:"glyphicon-sort-by-alphabet",icon_sort_desc:"glyphicon-sort-by-alphabet-alt",icon_columns:"glyphicon-list-alt",icon_filter:"glyphicon-filter",icon_group:"glyphicon-align-left",icon_freeze:"glyphicon-object-align-horizontal",icon_move:"glyphicon-move",icon_new_item:"glyphicon-new-window",icon_toolbar_menu:"glyphicon-menu-hamburger"}},Bootstrap4:{common:{disabled:"ui-disabled",highlight:"table-success",hover:"table-active",cornerall:"",cornertop:"",cornerbottom:"",hidden:"",overlay:"ui-overlay",active:"active",error:"alert-danger",button:"btn btn-light",content:""},base:{entrieBox:"",viewBox:"table-responsive",headerTable:"table table-bordered",headerBox:"",rowTable:"table table-bordered",rowBox:"",stripedTable:"table-striped",footerTable:"table table-bordered",footerBox:"",headerDiv:"",gridtitleBox:"",customtoolbarBox:"",loadingBox:"row",rownumBox:"active",scrollBox:"",multiBox:"checkbox",pagerBox:"",pagerTable:"table",toppagerBox:"",pgInput:"form-control",pgSelectBox:"form-control",pgButtonBox:""},modal:{modal:"modal-content",header:"modal-header",title:"modal-title",content:"modal-body",resizable:"ui-resizable-handle ui-resizable-se",icon_close:"oi-circle-x",icon_resizable:"oi-circle-x"},celledit:{inputClass:"form-control"},inlinedit:{inputClass:"form-control"},formedit:{inputClass:"form-control"},navigator:{},grouping:{},filter:{table_widget:"table table-condensed",srSelect:"form-control",srInput:"form-control",menu_widget:""},subgrid:{},treegrid:{},fmatter:{},colmenu:{menu_widget:"",input_checkbox:"",filter_select:"form-control",filter_input:"form-control"}}},iconSet:{Iconic:{common:{icon_base:"oi"},base:{icon_first:"oi-media-step-backward",icon_prev:"oi-caret-left",icon_next:"oi-caret-right",icon_end:"oi-media-step-forward",icon_asc:"oi-caret-top",icon_desc:"oi-caret-bottom",icon_caption_open:"oi-collapse-up",icon_caption_close:"oi-expand-down"},modal:{icon_close:"oi-circle-x",icon_resizable:"oi-plus"},inlinedit:{icon_edit_nav:"oi-pencil",icon_add_nav:"oi-plus",icon_save_nav:"oi-check",icon_cancel_nav:"oi-action-undo"},formedit:{icon_prev:"oi-chevron-left",icon_next:"oi-chevron-right",icon_save:"oi-check",icon_close:"oi-ban",icon_del:"oi-delete",icon_cancel:"oi-ban"},navigator:{icon_edit_nav:"oi-pencil",icon_add_nav:"oi-plus",icon_del_nav:"oi-trash",icon_search_nav:"oi-zoom-in",icon_refresh_nav:"oi-reload",icon_view_nav:"oi-browser",icon_newbutton_nav:"oi-book"},grouping:{icon_plus:"oi-caret-right",icon_minus:"oi-caret-bottom"},filter:{icon_search:"oi-magnifying-glass",icon_reset:"oi-reload",icon_query:"oi-comment-square"},subgrid:{icon_plus:"oi-chevron-right",icon_minus:"oi-chevron-bottom",icon_open:"oi-expand-left"},treegrid:{icon_plus:"oi-plus",icon_minus:"oi-minus",icon_leaf:"oi-media-record"},fmatter:{icon_edit:"oi-pencil",icon_add:"oi-plus",icon_save:"oi-check",icon_cancel:"oi-action-undo",icon_del:"oi-trash"},colmenu:{icon_menu:"oi-list",icon_sort_asc:"oi-sort-ascending",icon_sort_desc:"oi-sort-descending",icon_columns:"oi-project",icon_filter:"oi-magnifying-glass",icon_group:"oi-list-rich",icon_freeze:"oi-spreadsheet",icon_move:"oi-move",icon_new_item:"oi-external-link",icon_toolbar_menu:"oi-menu"}},Octicons:{common:{icon_base:"octicon"},base:{icon_first:"octicon-triangle-left",icon_prev:"octicon-chevron-left",icon_next:"octicon-chevron-right",icon_end:"octicon-triangle-right",icon_asc:"octicon-triangle-up",icon_desc:"octicon-triangle-down",icon_caption_open:"octicon-triangle-up",icon_caption_close:"octicon-triangle-down"},modal:{icon_close:"octicon-x",icon_resizable:"octicon-plus"},inlinedit:{icon_edit_nav:"octicon-pencil",icon_add_nav:"octicon-plus",icon_save_nav:"octicon-check",icon_cancel_nav:"octicon-circle-slash"},formedit:{icon_prev:"octicon-chevron-left",icon_next:"octicon-chevron-right",icon_save:"octicon-check",icon_close:"octicon-x",icon_del:"octicon-trashcan",icon_cancel:"octicon-circle-slash"},navigator:{icon_edit_nav:"octicon-pencil",icon_add_nav:"octicon-plus",icon_del_nav:"octicon-trashcan",icon_search_nav:"octicon-search",icon_refresh_nav:"octicon-sync",icon_view_nav:"octicon-file",icon_newbutton_nav:"octicon-link-external"},grouping:{icon_plus:"octicon-triangle-right",icon_minus:"octicon-triangle-down"},filter:{icon_search:"octicon-search",icon_reset:"octicon-sync",icon_query:"octicon-file-code"},subgrid:{icon_plus:"octicon-triangle-right",icon_minus:"octicon-triangle-down",icon_open:"octicon-git-merge"},treegrid:{icon_plus:"octicon-triangle-right",icon_minus:"octicon-triangle-down",icon_leaf:"octicon-primitive-dot"},fmatter:{icon_edit:"octicon-pencil",icon_add:"octicon-plus",icon_save:"octicon-check",icon_cancel:"octicon-circle-slash",icon_del:"octicon-trashcan"},colmenu:{icon_menu:"octicon-grabber",icon_sort_asc:"octicon-arrow-down",icon_sort_desc:"octicon-arrow-up",icon_columns:"octicon-repo",icon_filter:"octicon-search",icon_group:"octicon-list-unordered",icon_freeze:"octicon-repo",icon_move:"octicon-git-compare",icon_new_item:"octicon-link-external",icon_toolbar_menu:"octicon-three-bars"}},fontAwesome:{common:{icon_base:"fas"},base:{icon_first:"fa-step-backward",icon_prev:"fa-backward",icon_next:"fa-forward",icon_end:"fa-step-forward",icon_asc:"fa-caret-up",icon_desc:"fa-caret-down",icon_caption_open:"fa-caret-square-up",icon_caption_close:"fa-caret-square-down "},modal:{icon_close:"fa-window-close",icon_resizable:"fa-plus"},inlinedit:{icon_edit_nav:"fa-edit",icon_add_nav:"fa-plus",icon_save_nav:"fa-save",icon_cancel_nav:"fa-replay"},formedit:{icon_prev:"fa-chevron-left",icon_next:"fa-chevron-right",icon_save:"fa-save",icon_close:"fa-window-close",icon_del:"fa-trash",icon_cancel:"fa-times"},navigator:{icon_edit_nav:"fa-edit",icon_add_nav:"fa-plus",icon_del_nav:"fa-trash",icon_search_nav:"fa-search",icon_refresh_nav:"fa-sync",icon_view_nav:"fa-sticky-note",icon_newbutton_nav:"fa-external-link-alt"},grouping:{icon_plus:"fa-caret-right",icon_minus:"fa-caret-down"},filter:{icon_search:"fa-search",icon_reset:"fa-reply",icon_query:"fa-pen-square "},subgrid:{icon_plus:"fa-arrow-circle-right",icon_minus:"fa-arrow-circle-down",icon_open:"fa-ellipsis-v"},treegrid:{icon_plus:"fa-plus",icon_minus:"fa-minus",icon_leaf:"fa-circle"},fmatter:{icon_edit:"fa-edit",icon_add:"fa-plus",icon_save:"fa-save",icon_cancel:"fa-undo",icon_del:"fa-trash"},colmenu:{icon_menu:"fa-ellipsis-v",icon_sort_asc:"fa-sort-amount-down",icon_sort_desc:"fa-sort-amount-up",icon_columns:"fa-columns",icon_filter:"fa-filter",icon_group:"fa-object-group",icon_freeze:"fa-snowflake",icon_move:"fa-expand-arrows-alt",icon_new_item:"fa-external-link-alt",icon_toolbar_menu:"fa-list"}}}}),$.fn.jqGrid=function(t){if("string"==typeof t){var e=$.jgrid.getMethod(t);if(!e)throw"jqGrid - No such method: "+t;var i=$.makeArray(arguments).slice(1);return e.apply(this,i)}return this.each((function(){function e(t,e,i,n){if(r.p.multiselect&&r.p.multiboxonly||r.p.multimail)if(e)$(r).jqGrid("setSelection",t,n,i);else if(r.p.multiboxonly&&r.p.multimail)$(r).triggerHandler("jqGridSelectRow",[t,!1,i]),r.p.onSelectRow&&r.p.onSelectRow.call(r,t,!1,i);else{var o=r.p.frozenColumns?r.p.id+"_frozen":"";$(r.p.selarrrow).each((function(t,e){var i=$(r).jqGrid("getGridRowById",e);i&&$(i).removeClass(g),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(e))[r.p.useProp?"prop":"attr"]("checked",!1),o&&($("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(o)).removeClass(g),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(o))[r.p.useProp?"prop":"attr"]("checked",!1))})),r.p.selarrrow=[],$(r).jqGrid("setSelection",t,n,i)}else $(r).jqGrid("setSelection",t,n,i)}if(!this.grid){var i;null!=t&&void 0!==t.data&&(i=t.data,t.data=[]);var n=$.extend(!0,{url:"",height:150,page:1,rowNum:20,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],rowList:[],colNames:[],sortorder:"asc",sortname:"",datatype:"xml",mtype:"GET",altRows:!1,selarrrow:[],preserveSelection:!1,savedRow:[],shrinkToFit:!0,xmlReader:{},jsonReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:null,loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,multiselect:!1,multikey:!1,multiboxonly:!1,multimail:!1,multiselectWidth:30,editurl:null,search:!1,caption:"",hidegrid:!0,hiddengrid:!1,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,cellsubmit:"remote",nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,deselectAfterSort:!0,scrollrows:!1,autowidth:!1,scrollOffset:$.jgrid.scrollbarWidth()+3,cellLayout:5,subGridWidth:20,gridview:!0,rownumWidth:35,rownumbers:!1,pagerpos:"center",recordpos:"right",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!1,remapColumns:[],ajaxGridOptions:{},direction:"ltr",toppager:!1,headertitles:!1,scrollTimeout:40,data:[],_index:{},grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,sortitems:[],sortnames:[],summary:[],summaryval:[],plusicon:"",minusicon:"",displayField:[],groupSummaryPos:[],formatDisplayField:[],_locgr:!1},ignoreCase:!0,cmTemplate:{},idPrefix:"",multiSort:!1,minColWidth:33,scrollPopUp:!1,scrollTopOffset:0,scrollLeftOffset:"100%",scrollMaxBuffer:0,storeNavOptions:!1,regional:"en",styleUI:"jQueryUI",iconSet:"Iconic",responsive:!1,restoreCellonFail:!0,editNextRowCell:!1,colFilters:{},colMenu:!1,colMenuCustom:{},colMenuColumnDone:null,treeGrid_bigData:!1,treeGrid_rootParams:{otherData:{}},treeGrid_beforeRequest:null,treeGrid_afterLoadComplete:null,useNameForSearch:!1},$.jgrid.defaults,t);void 0!==i&&(n.data=i,t.data=i);var r=this,o={headers:[],cols:[],footers:[],dragStart:function(t,e,i){var o=$(this.bDiv).offset().left,s=parseInt(n.colModel[t].minResizeWidth?n.colModel[t].minResizeWidth:n.minColWidth,10);isNaN(s)&&(s=33),this.resizing={idx:t,startX:e.pageX,sOL:e.pageX-o,minW:s},this.hDiv.style.cursor="col-resize",this.curGbox=$("#rs_m"+$.jgrid.jqID(n.id),"#gbox_"+$.jgrid.jqID(n.id)),this.curGbox.css({display:"block",left:e.pageX-o,top:i[1],height:i[2]}),$(r).triggerHandler("jqGridResizeStart",[e,t]),$.isFunction(n.resizeStart)&&n.resizeStart.call(r,e,t),document.onselectstart=function(){return!1}},dragMove:function(t){if(this.resizing){var e,i,r=t.pageX-this.resizing.startX,o=this.headers[this.resizing.idx],s="ltr"===n.direction?o.width+r:o.width-r;s>this.resizing.minW&&(this.curGbox.css({left:this.resizing.sOL+r}),!0===n.forceFit?(e=this.headers[this.resizing.idx+n.nv],(i="ltr"===n.direction?e.width-r:e.width+r)>this.resizing.minW&&(o.newWidth=s,e.newWidth=i)):(this.newWidth="ltr"===n.direction?n.tblwidth+r:n.tblwidth-r,o.newWidth=s))}},dragEnd:function(t){if(this.hDiv.style.cursor="default",this.resizing){var e=this.resizing.idx,i=this.headers[e].newWidth||this.headers[e].width;i=parseInt(i,10),this.resizing=!1,$("#rs_m"+$.jgrid.jqID(n.id)).css("display","none"),n.colModel[e].width=i,this.headers[e].width=i,this.headers[e].el.style.width=i+"px",this.cols[e].style.width=i+"px",this.footers.length>0&&(this.footers[e].style.width=i+"px"),!0===n.forceFit?(i=this.headers[e+n.nv].newWidth||this.headers[e+n.nv].width,this.headers[e+n.nv].width=i,this.headers[e+n.nv].el.style.width=i+"px",this.cols[e+n.nv].style.width=i+"px",this.footers.length>0&&(this.footers[e+n.nv].style.width=i+"px"),n.colModel[e+n.nv].width=i):(n.tblwidth=this.newWidth||n.tblwidth,$("table:first",this.bDiv).css("width",n.tblwidth+"px"),$("table:first",this.hDiv).css("width",n.tblwidth+"px"),this.hDiv.scrollLeft=this.bDiv.scrollLeft,n.footerrow&&($("table:first",this.sDiv).css("width",n.tblwidth+"px"),this.sDiv.scrollLeft=this.bDiv.scrollLeft)),t&&($(r).triggerHandler("jqGridResizeStop",[i,e]),$.isFunction(n.resizeStop)&&n.resizeStop.call(r,i,e))}this.curGbox=null,document.onselectstart=function(){return!0}},populateVisible:function(){o.timer&&clearTimeout(o.timer),o.timer=null;var t=$(o.bDiv).height();if(t){var e,i,s=$("table:first",o.bDiv);if(s[0].rows.length)try{i=(e=s[0].rows[1])&&$(e).outerHeight()||o.prevRowHeight}catch(t){i=o.prevRowHeight}if(i){o.prevRowHeight=i;var a,l,c,u=n.rowNum,d=o.scrollTop=o.bDiv.scrollTop,h=Math.round(s.position().top)-d,p=h+s.height(),f=i*u;if(p<t&&h<=0&&(void 0===n.lastpage||(parseInt((p+d+f-1)/f,10)||0)<=n.lastpage)&&(l=parseInt((t-p+f-1)/f,10)||1,p>=0||l<2||!0===n.scroll?(a=(Math.round((p+d)/f)||0)+1,h=-1):h=1),h>0&&(a=(parseInt(d/f,10)||0)+1,l=(parseInt((d+t)/f,10)||0)+2-a,c=!0),l){if(n.lastpage&&(a>n.lastpage||1===n.lastpage||a===n.page&&a===n.lastpage))return;o.hDiv.loading?o.timer=setTimeout(o.populateVisible,n.scrollTimeout):(n.page=a,n.scrollMaxBuffer>0&&(u>0&&n.scrollMaxBuffer<u&&(n.scrollMaxBuffer=u+1),n.reccount>n.scrollMaxBuffer-(u>0?u:0)&&(c=!0)),c&&(o.selectionPreserver(s[0]),o.emptyRows.call(s[0],!1,!1)),o.populate(l)),n.scrollPopUp&&null!=n.lastpage&&($("#scroll_g"+n.id).show().html($.jgrid.template($.jgrid.getRegional(r,"defaults.pgtext",n.pgtext),n.page,n.lastpage)).css({top:n.scrollTopOffset+d*((parseInt(n.height,10)-45)/(parseInt(i,10)*parseInt(n.records,10)))+"px",left:n.scrollLeftOffset}),$(this).mouseout((function(){$("#scroll_g"+n.id).hide()})))}}}},scrollGrid:function(t){if(n.scroll){var e=o.bDiv.scrollTop;void 0===o.scrollTop&&(o.scrollTop=0),e!==o.scrollTop&&(o.scrollTop=e,o.timer&&clearTimeout(o.timer),o.timer=setTimeout(o.populateVisible,n.scrollTimeout))}o.hDiv.scrollLeft=o.bDiv.scrollLeft,n.footerrow&&(o.sDiv.scrollLeft=o.bDiv.scrollLeft),n.frozenColumns&&$(o.fbDiv).scrollTop(o.bDiv.scrollTop);try{$("#column_menu").remove()}catch(t){}t&&t.stopPropagation()},selectionPreserver:function(t){var e=t.p,i=e.selrow,n=e.selarrrow?$.makeArray(e.selarrrow):null,r=t.grid.bDiv.scrollLeft,o=function(){var s;if(e.multiselect&&n&&n.length>0)for(s=0;s<n.length;s++)n[s]&&$(t).jqGrid("setSelection",n[s],!1,"_sp_");!e.multiselect&&i&&$(t).jqGrid("setSelection",i,!1,null),t.grid.bDiv.scrollLeft=r,$(t).off(".selectionPreserver",o)};$(t).on("jqGridGridComplete.selectionPreserver",o)}};if("TABLE"!==this.tagName.toUpperCase()||null==this.id)return void alert("Element is not a table or has no id!");if(void 0!==document.documentMode&&document.documentMode<=5)return void alert("Grid can not be used in this ('quirks') mode!");var s,a,l,c,u=0;for(a in $.jgrid.regional)$.jgrid.regional.hasOwnProperty(a)&&(0===u&&(s=a),u++);if(1===u&&s!==n.regional&&(n.regional=s),$(this).empty().attr("tabindex","0"),this.p=n,this.p.useProp=!!$.fn.prop,0===this.p.colNames.length)for(u=0;u<this.p.colModel.length;u++)this.p.colNames[u]=this.p.colModel[u].label||this.p.colModel[u].name;if(this.p.colNames.length!==this.p.colModel.length)return void alert($.jgrid.getRegional(this,"errors.model"));"Bootstrap4"===r.p.styleUI&&$.jgrid.iconSet.hasOwnProperty(r.p.iconSet)&&$.extend(!0,$.jgrid.styleUI.Bootstrap4,$.jgrid.iconSet[r.p.iconSet]);var d,h=$.jgrid.getMethod("getStyleUI"),p=r.p.styleUI+".common",f=h(p,"disabled",!0),g=h(p,"highlight",!0),m=h(p,"hover",!0),v=h(p,"cornerall",!0),y=h(p,"icon_base",!0),b=$.jgrid.styleUI[r.p.styleUI||"jQueryUI"].colmenu,_=$.jgrid.msie(),w=[],x=[],C=[];p=r.p.styleUI+".base",d=$("<div "+h(p,"viewBox",!1,"ui-jqgrid-view")+" role='grid'></div>"),r.p.direction=$.trim(r.p.direction.toLowerCase()),r.p._ald=!1,-1===$.inArray(r.p.direction,["ltr","rtl"])&&(r.p.direction="ltr"),l=r.p.direction,$(d).insertBefore(this),$(this).appendTo(d);var k=$("<div "+h(p,"entrieBox",!1,"ui-jqgrid")+"></div>");$(k).attr({id:"gbox_"+this.id,dir:l}).insertBefore(d),$(d).attr("id","gview_"+this.id).appendTo(k),$("<div "+h(r.p.styleUI+".common","overlay",!1,"jqgrid-overlay")+" id='lui_"+this.id+"'></div>").insertBefore(d),$("<div "+h(p,"loadingBox",!1,"loading")+" id='load_"+this.id+"'>"+$.jgrid.getRegional(r,"defaults.loadtext",this.p.loadtext)+"</div>").insertBefore(d),$(this).attr({role:"presentation","aria-multiselectable":!!this.p.multiselect,"aria-labelledby":"gbox_"+this.id});var S,j=["shiftKey","altKey","ctrlKey"],T=function(t,e){return t=parseInt(t,10),isNaN(t)?e||0:t},A=function(t,e,i,n,s,a){var l,c=r.p.colModel[t],u=c.align,d='style="',h=c.classes,p=c.name,f=[];return u&&(d+="text-align:"+u+";"),!0===c.hidden&&(d+="display:none;"),0===e?d+="width: "+o.headers[t].width+"px;":($.isFunction(c.cellattr)||"string"==typeof c.cellattr&&null!=$.jgrid.cellattr&&$.isFunction($.jgrid.cellattr[c.cellattr]))&&((l=($.isFunction(c.cellattr)?c.cellattr:$.jgrid.cellattr[c.cellattr]).call(r,s,i,n,c,a))&&"string"==typeof l&&(l.indexOf("title")>-1&&(c.title=!1),l.indexOf("class")>-1&&(h=void 0),2===(f=(l=String(l).replace(/\s+\=/g,"=")).split("style=")).length?(f[1]=$.trim(f[1]),0!==f[1].indexOf("'")&&0!==f[1].indexOf('"')||(f[1]=f[1].substring(1)),d+=f[1].replace(/'/gi,'"')):d+='"')),f.length?f.length>2&&(f[0]=""):(f[0]="",d+='"'),d+=(void 0!==h?' class="'+h+'"':"")+(c.title&&i?' title="'+$.jgrid.stripHtml(i)+'"':""),(d+=' aria-describedby="'+r.p.id+"_"+p+'"')+f[0]},D=function(t){return null==t||""===t?"&#160;":r.p.autoencode?$.jgrid.htmlEncode(t):String(t)},I=function(t,e,i,n,o){var s,a=r.p.colModel[i];if(void 0!==a.formatter){var l={rowId:t=""!==String(r.p.idPrefix)?$.jgrid.stripPref(r.p.idPrefix,t):t,colModel:a,gid:r.p.id,pos:i,styleUI:r.p.styleUI};s=$.isFunction(a.formatter)?a.formatter.call(r,e,l,n,o):$.fmatter?$.fn.fmatter.call(r,a.formatter,e,l,n,o):D(e)}else s=D(e);return s},E=function(t,e,i,n,r,o){var s;return s=I(t,e,i,r,"add"),'<td role="gridcell" '+A(i,n,s,r,t,o)+">"+s+"</td>"},P=function(t,e,i,n,o){var s='<input role="checkbox" type="checkbox" id="jqg_'+r.p.id+"_"+t+'" '+o+' name="jqg_'+r.p.id+"_"+t+'"'+(n?'checked="checked"':"")+"/>";return'<td role="gridcell" '+A(e,i,"",null,t,!0)+">"+s+"</td>"},O=function(t,e,i,n,r){var o=(parseInt(i,10)-1)*parseInt(n,10)+1+e;return'<td role="gridcell" '+r+" "+A(t,e,o,null,e,!0)+">"+o+"</td>"},F=function(t){var e,i,n=[],o=0;for(i=0;i<r.p.colModel.length;i++)"cb"!==(e=r.p.colModel[i]).name&&"subgrid"!==e.name&&"rn"!==e.name&&(n[o]="local"===t?e.name:"xml"===t||"xmlstring"===t?e.xmlmap||e.name:e.jsonmap||e.name,!1!==r.p.keyName&&!0===e.key&&(r.p.keyName=n[o],r.p.keyIndex=o),o++);return n},M=function(t){var e=r.p.remapColumns;return e&&e.length||(e=$.map(r.p.colModel,(function(t,e){return e}))),t&&(e=$.map(e,(function(e){return e<t?null:e-t}))),e},R=function(t,e){var i;this.p.deepempty?$(this.rows).slice(1).remove():(i=this.rows.length>0?this.rows[0]:null,$(this.firstChild).empty().append(i)),t&&this.p.scroll&&($(this.grid.bDiv.firstChild).css({height:"auto"}),$(this.grid.bDiv.firstChild.firstChild).css({height:"0px",display:"none"}),0!==this.grid.bDiv.scrollTop&&(this.grid.bDiv.scrollTop=0)),!0===e&&this.p.treeGrid&&!this.p.loadonce&&(this.p.data=[],this.p._index={})},N=function(){var t,e,i,n,o,s,a,l,c,u,d,h=r.p,p=h.data,f=p.length,g=h.localReader,m=h.colModel,v=g.cell,y=(!0===h.multiselect?1:0)+(!0===h.subGrid?1:0)+(!0===h.rownumbers?1:0),b=h.scroll?$.jgrid.randId():1;if("local"===h.datatype&&!0===g.repeatitems)for(c=M(y),u=F("local"),n=!1===h.keyName?$.isFunction(g.id)?g.id.call(r,p):g.id:h.keyName,t=0;t<f;t++){for(i=p[t],
void 0===(o=$.jgrid.getAccessor(i,n))&&("number"==typeof n&&null!=m[n+y]&&(o=$.jgrid.getAccessor(i,m[n+y].name)),void 0===o&&(o=b+t,v&&(o=null!=(s=$.jgrid.getAccessor(i,v)||i)&&void 0!==s[n]?s[n]:o,s=null))),(l={})[g.id]=o,v&&(i=$.jgrid.getAccessor(i,v)||i),d=$.isArray(i)?c:u,e=0;e<d.length;e++)a=$.jgrid.getAccessor(i,d[e]),l[m[e+y].name]=a;p[t]=l}},q=function(){var t,e,i,n=r.p.data.length;for(t=!1===r.p.keyName||!0===r.p.loadonce?r.p.localReader.id:r.p.keyName,r.p._index=[],e=0;e<n;e++)void 0===(i=$.jgrid.getAccessor(r.p.data[e],t))&&(i=String(e+1)),r.p._index[i]=e},L=function(t,e,i,n,o){var s,a="-1",l="",c=e?"display:none;":"",u=$(r).triggerHandler("jqGridRowAttr",[n,o,t]);if("object"!=typeof u&&(u=$.isFunction(r.p.rowattr)?r.p.rowattr.call(r,n,o,t):"string"==typeof r.p.rowattr&&null!=$.jgrid.rowattr&&$.isFunction($.jgrid.rowattr[r.p.rowattr])?$.jgrid.rowattr[r.p.rowattr].call(r,n,o,t):{}),!$.isEmptyObject(u)){u.hasOwnProperty("id")&&(t=u.id,delete u.id),u.hasOwnProperty("tabindex")&&(a=u.tabindex,delete u.tabindex),u.hasOwnProperty("style")&&(c+=u.style,delete u.style),u.hasOwnProperty("class")&&(i+=" "+u.class,delete u.class);try{delete u.role}catch(t){}for(s in u)u.hasOwnProperty(s)&&(l+=" "+s+"="+u[s])}return'<tr role="row" id="'+t+'" tabindex="'+a+'" class="'+i+'"'+(""===c?"":' style="'+c+'"')+l+">"},z=function(){r.p.treeGrid&&r.p.treeGrid_bigData&&void 0!==r.p.postData.nodeid&&"string"==typeof r.p.postData.nodeid&&(""!==r.p.postData.nodeid||parseInt(r.p.postData.nodeid,10)>0)&&(r.p.postData.rows=1e4,r.p.postData.page=1,r.p.treeGrid_rootParams.otherData.nodeid=r.p.postData.nodeid)},H=function(){r.p.treeGrid&&r.p.treeGrid_bigData&&(void 0!==r.p.treeGrid_rootParams.otherData.nodeid&&"string"==typeof r.p.treeGrid_rootParams.otherData.nodeid&&(""!==r.p.treeGrid_rootParams.otherData.nodeid||parseInt(r.p.treeGrid_rootParams.otherData.nodeid,10)>0)?void 0!==r.p.treeGrid_rootParams&&null!=r.p.treeGrid_rootParams&&(r.p.page=r.p.treeGrid_rootParams.page,r.p.lastpage=r.p.treeGrid_rootParams.lastpage,r.p.postData.rows=r.p.treeGrid_rootParams.postData.rows,r.p.postData.totalrows=r.p.treeGrid_rootParams.postData.totalrows,r.p.treeGrid_rootParams.otherData.nodeid="",r.updatepager(!1,!0)):r.p.treeGrid_rootParams={page:r.p.page,lastpage:r.p.lastpage,postData:{rows:r.p.postData.rows,totalrows:r.p.postData.totalrows},rowNum:r.p.rowNum,rowTotal:r.p.rowTotal,otherData:{nodeid:""}})},B=function(t,e,i,n){var o=new Date,s="local"!==r.p.datatype&&r.p.loadonce||"xmlstring"===r.p.datatype,a="_id_",l=r.p.xmlReader,u="local"===r.p.datatype?"local":"xml";if(s&&(r.p.data=[],r.p._index={},r.p.localReader.id=a),r.p.reccount=0,$.isXMLDoc(t)){-1!==r.p.treeANode||r.p.scroll?e=e>1?e:1:(R.call(r,!1,!0),e=1);var d,f,g,m,v,y,b,_,w,x=$(r),C=0,k=!0===r.p.multiselect?1:0,S=0,j=!0===r.p.rownumbers?1:0,A=[],D={},I=[],N=h(p,"rowBox",!0,"jqgrow ui-row-"+r.p.direction);!0===r.p.subGrid&&(S=1,m=$.jgrid.getMethod("addSubGridCell")),l.repeatitems||(A=F(u)),v=!1===r.p.keyName?$.isFunction(l.id)?l.id.call(r,t):l.id:r.p.keyName,l.repeatitems&&r.p.keyName&&isNaN(v)&&(v=r.p.keyIndex),y=-1===String(v).indexOf("[")?A.length?function(t,e){return $(v,t).text()||e}:function(t,e){return $(l.cell,t).eq(v).text()||e}:function(t,e){return t.getAttribute(v.replace(/[\[\]]/g,""))||e},r.p.userData={},r.p.page=T($.jgrid.getXmlData(t,l.page),r.p.page),r.p.lastpage=T($.jgrid.getXmlData(t,l.total),1),r.p.records=T($.jgrid.getXmlData(t,l.records)),$.isFunction(l.userdata)?r.p.userData=l.userdata.call(r,t)||{}:$.jgrid.getXmlData(t,l.userdata,!0).each((function(){r.p.userData[this.getAttribute("name")]=$(this).text()}));var q=$.jgrid.getXmlData(t,l.root,!0);(q=$.jgrid.getXmlData(q,l.row,!0))||(q=[]);var z,H,B=q.length,W=0,G=[],U=parseInt(r.p.rowNum,10),V=r.p.scroll?$.jgrid.randId():1,Q=$(r).find("tbody:first"),Y=!1;if(r.p.grouping&&(Y=!0===r.p.groupingView.groupCollapse,z=$.jgrid.getMethod("groupingPrepare")),B>0&&r.p.page<=0&&(r.p.page=1),q&&B){n&&(U*=n+1);for(var X=$.isFunction(r.p.afterInsertRow),K=j?h(p,"rownumBox",!1,"jqgrid-rownum"):"",Z=k?h(p,"multiBox",!1,"cbox"):"";W<B;){_=q[W],w=y(_,V+W),w=r.p.idPrefix+w,r.p.preserveSelection&&(r.p.multiselect?(H=-1!==r.p.selarrrow.indexOf(w),c=H?c+1:c):H=w===r.p.selrow);var tt=I.length;if(I.push(""),j&&I.push(O(0,W,r.p.page,r.p.rowNum,K)),k&&I.push(P(w,j,W,H,Z)),S&&I.push(m.call(x,k+j,W+e)),l.repeatitems){b||(b=M(k+S+j));var et=$.jgrid.getXmlData(_,l.cell,!0);$.each(b,(function(t){var i=et[this];if(!i)return!1;g=i.textContent||i.text||"",D[r.p.colModel[t+k+S+j].name]=g,I.push(E(w,g,t+k+S+j,W+e,_,D))}))}else for(d=0;d<A.length;d++)g=$.jgrid.getXmlData(_,A[d]),D[r.p.colModel[d+k+S+j].name]=g,I.push(E(w,g,d+k+S+j,W+e,_,D));if(I[tt]=L(w,Y,N,D,_),I.push("</tr>"),r.p.grouping&&(G.push(I),r.p.groupingView._locgr||z.call(x,D,W),I=[]),(s||!0===r.p.treeGrid&&!r.p._ald)&&(D[a]=$.jgrid.stripPref(r.p.idPrefix,w),r.p.data.push(D),r.p._index[D[a]]=r.p.data.length-1),!1===r.p.gridview&&(Q.append(I.join("")),x.triggerHandler("jqGridAfterInsertRow",[w,D,_]),X&&r.p.afterInsertRow.call(r,w,D,_),I=[]),D={},C++,W++,C===U)break}}if(c=r.p.multiselect&&r.p.preserveSelection&&C===c,!0===r.p.gridview&&(f=r.p.treeANode>-1?r.p.treeANode:0,r.p.grouping?s||(x.jqGrid("groupingRender",G,r.p.colModel.length,r.p.page,U),G=null):!0===r.p.treeGrid&&f>0?$(r.rows[f]).after(I.join("")):(Q.append(I.join("")),r.grid.cols=r.rows[0].cells)),r.p.totaltime=new Date-o,I=null,C>0&&0===r.p.records&&(r.p.records=B),!0===r.p.treeGrid)try{x.jqGrid("setTreeNode",f+1,C+f+1)}catch(t){}if(r.p.reccount=C,r.p.treeANode=-1,r.p.userDataOnFooter&&x.jqGrid("footerData","set",r.p.userData,!0),s&&(r.p.records=B,r.p.lastpage=Math.ceil(B/U)),i||r.updatepager(!1,!0),c&&J(!0),s){for(;C<B;){if(_=q[C],w=y(_,C+V),w=r.p.idPrefix+w,l.repeatitems){b||(b=M(k+S+j));var it=$.jgrid.getXmlData(_,l.cell,!0);$.each(b,(function(t){var e=it[this];if(!e)return!1;g=e.textContent||e.text||"",D[r.p.colModel[t+k+S+j].name]=g}))}else for(d=0;d<A.length;d++)g=$.jgrid.getXmlData(_,A[d]),D[r.p.colModel[d+k+S+j].name]=g;D[a]=$.jgrid.stripPref(r.p.idPrefix,w),r.p.grouping&&z.call(x,D,C),r.p.data.push(D),r.p._index[D[a]]=r.p.data.length-1,D={},C++}r.p.grouping&&(r.p.groupingView._locgr=!0,x.jqGrid("groupingRender",G,r.p.colModel.length,r.p.page,U),G=null)}if(!0===r.p.subGrid)try{x.jqGrid("addSubGrid",k+j)}catch(t){}}},W=function(t,e,i,n){var o=new Date;if(t){var s,a;-1!==r.p.treeANode||r.p.scroll?e=e>1?e:1:(R.call(r,!1,!0),e=1),"local"===r.p.datatype?(s=r.p.localReader,a="local"):(s=r.p.jsonReader,a="json");var l,u,d,f,m,v,y,b,_,w,x,C,k,S="_id_",j="local"!==r.p.datatype&&r.p.loadonce||"jsonstring"===r.p.datatype,A=$(r),D=0,I=[],N=r.p.multiselect?1:0,q=!0===r.p.subGrid?1:0,z=!0===r.p.rownumbers?1:0,H=r.p.scroll&&"local"!==r.p.datatype?$.jgrid.randId():1,B=parseInt(r.p.rowNum,10),W=!1,G=M(N+q+z),U=F(a),V={},Q=[],Y=h(p,"rowBox",!0,"jqgrow ui-row-"+r.p.direction),X=$.isFunction(r.p.afterInsertRow),K=[],Z=!1,tt=$(r).find("tbody:first"),et=z?h(p,"rownumBox",!1,"jqgrid-rownum"):"",it=N?h(p,"multiBox",!1,"cbox"):"";for(j&&(r.p.data=[],r.p._index={},r.p.localReader.id=S),r.p.reccount=0,r.p.page=T($.jgrid.getAccessor(t,s.page),r.p.page),r.p.lastpage=T($.jgrid.getAccessor(t,s.total),1),r.p.records=T($.jgrid.getAccessor(t,s.records)),r.p.userData=$.jgrid.getAccessor(t,s.userdata)||{},q&&(m=$.jgrid.getMethod("addSubGridCell")),w=!1===r.p.keyName?$.isFunction(s.id)?s.id.call(r,t):s.id:r.p.keyName,s.repeatitems&&r.p.keyName&&isNaN(w)&&(w=r.p.keyIndex),null==(_=$.jgrid.getAccessor(t,s.root))&&$.isArray(t)&&(_=t),_||(_=[]),u=0,(b=_.length)>0&&r.p.page<=0&&(r.p.page=1),n&&(B*=n+1),"local"!==r.p.datatype||r.p.deselectAfterSort||(W=!0),r.p.grouping&&(Z=!0===r.p.groupingView.groupCollapse,k=$.jgrid.getMethod("groupingPrepare"));u<b;){if(f=_[u],void 0===(C=$.jgrid.getAccessor(f,w))&&("number"==typeof w&&null!=r.p.colModel[w+N+q+z]&&(C=$.jgrid.getAccessor(f,r.p.colModel[w+N+q+z].name)),void 0===C&&(C=H+u,0===I.length&&s.cell))){var nt=$.jgrid.getAccessor(f,s.cell)||f;C=null!=nt&&void 0!==nt[w]?nt[w]:C,nt=null}C=r.p.idPrefix+C,(W||r.p.preserveSelection)&&(r.p.multiselect?(v=-1!==r.p.selarrrow.indexOf(C),c=v?c+1:c):v=C===r.p.selrow);var rt=Q.length;for(Q.push(""),z&&Q.push(O(0,u,r.p.page,r.p.rowNum,et)),N&&Q.push(P(C,z,u,v,it)),q&&Q.push(m.call(A,N+z,u+e)),y=U,s.repeatitems&&(s.cell&&(f=$.jgrid.getAccessor(f,s.cell)||f),$.isArray(f)&&(y=G)),d=0;d<y.length;d++)l=$.jgrid.getAccessor(f,y[d]),V[r.p.colModel[d+N+q+z].name]=l,Q.push(E(C,l,d+N+q+z,u+e,f,V));if(Q[rt]=L(C,Z,v?Y+" "+g:Y,V,f),Q.push("</tr>"),r.p.grouping&&(K.push(Q),r.p.groupingView._locgr||k.call(A,V,u),Q=[]),(j||!0===r.p.treeGrid&&!r.p._ald)&&(V[S]=$.jgrid.stripPref(r.p.idPrefix,C),r.p.data.push(V),r.p._index[V[S]]=r.p.data.length-1),!1===r.p.gridview&&(tt.append(Q.join("")),A.triggerHandler("jqGridAfterInsertRow",[C,V,f]),X&&r.p.afterInsertRow.call(r,C,V,f),Q=[]),V={},u++,++D===B)break}if(c=r.p.multiselect&&(r.p.preserveSelection||W)&&D===c,!0===r.p.gridview&&(x=r.p.treeANode>-1?r.p.treeANode:0,r.p.grouping?j||(A.jqGrid("groupingRender",K,r.p.colModel.length,r.p.page,B),K=null):!0===r.p.treeGrid&&x>0?$(r.rows[x]).after(Q.join("")):(tt.append(Q.join("")),r.grid.cols=r.rows[0].cells)),r.p.totaltime=new Date-o,Q=null,D>0&&0===r.p.records&&(r.p.records=b),!0===r.p.treeGrid)try{A.jqGrid("setTreeNode",x+1,D+x+1)}catch(t){}if(r.p.reccount=D,r.p.treeANode=-1,r.p.userDataOnFooter&&A.jqGrid("footerData","set",r.p.userData,!0),j&&(r.p.records=b,r.p.lastpage=Math.ceil(b/B)),i||r.updatepager(!1,!0),c&&J(!0),j){for(;D<b&&_[D];){if(f=_[D],void 0===(C=$.jgrid.getAccessor(f,w))&&("number"==typeof w&&null!=r.p.colModel[w+N+q+z]&&(C=$.jgrid.getAccessor(f,r.p.colModel[w+N+q+z].name)),void 0===C&&(C=H+D,0===I.length&&s.cell))){var ot=$.jgrid.getAccessor(f,s.cell)||f;C=null!=ot&&void 0!==ot[w]?ot[w]:C,ot=null}if(f){for(C=r.p.idPrefix+C,y=U,s.repeatitems&&(s.cell&&(f=$.jgrid.getAccessor(f,s.cell)||f),$.isArray(f)&&(y=G)),d=0;d<y.length;d++)V[r.p.colModel[d+N+q+z].name]=$.jgrid.getAccessor(f,y[d]);V[S]=$.jgrid.stripPref(r.p.idPrefix,C),r.p.grouping&&k.call(A,V,D),r.p.data.push(V),r.p._index[V[S]]=r.p.data.length-1,V={}}D++}r.p.grouping&&(r.p.groupingView._locgr=!0,A.jqGrid("groupingRender",K,r.p.colModel.length,r.p.page,B),K=null)}if(!0===r.p.subGrid)try{A.jqGrid("addSubGrid",N+z)}catch(t){}}},G=function(t){function e(t){var i,n,o,s,a,l,c=0;if(null!=t.groups){for((n=t.groups.length&&"OR"===t.groupOp.toString().toUpperCase())&&y.orBegin(),i=0;i<t.groups.length;i++){c>0&&n&&y.or();try{e(t.groups[i])}catch(t){alert(t)}c++}n&&y.orEnd()}if(null!=t.rules)try{var d;for((o=t.rules.length&&"OR"===t.groupOp.toString().toUpperCase())&&y.orBegin(),i=0;i<t.rules.length;i++){if(a=t.rules[i],s=t.groupOp.toString().toUpperCase(),v[a.op]&&a.field){c>0&&s&&"OR"===s&&(y=y.or()),d=a.field,r.p.useNameForSearch&&u.hasOwnProperty(a.field)&&(d=u[a.field].name);try{"date"===(l=u[a.field]).stype&&l.srcfmt&&l.newfmt&&l.srcfmt!==l.newfmt&&(a.data=$.jgrid.parseDate.call(r,l.newfmt,a.data,l.srcfmt)),y=v[a.op](y,s)(d,a.data,l)}catch(t){}}c++}o&&y.orEnd()}catch(t){alert(t)}}var i,n,o,s,a=r.p.multiSort?[]:"",l=[],c=!1,u={},d=[],h=[];if($.isArray(r.p.data)){var p,f,g,m=!!r.p.grouping&&r.p.groupingView;if($.each(r.p.colModel,(function(){if("cb"===this.name||"subgrid"===this.name||"rn"===this.name)return!0;if(n=this.sorttype||"text",g=this.index||this.name,"date"===n||"datetime"===n?(this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?(i=this.formatoptions&&this.formatoptions.srcformat?this.formatoptions.srcformat:$.jgrid.getRegional(r,"formatter.date.srcformat"),o=this.formatoptions&&this.formatoptions.newformat?this.formatoptions.newformat:$.jgrid.getRegional(r,"formatter.date.newformat")):i=o=this.datefmt||"Y-m-d",u[g]={stype:n,srcfmt:i,newfmt:o,sfunc:this.sortfunc||null,name:this.name}):u[g]={stype:n,srcfmt:"",newfmt:"",sfunc:this.sortfunc||null,name:this.name},r.p.grouping)for(f=0,p=m.groupField.length;f<p;f++)this.name===m.groupField[f]&&(d[f]=u[g],h[f]=g);r.p.multiSort||c||g!==r.p.sortname||(a=g,c=!0)})),r.p.multiSort&&(a=w,l=x),r.p.treeGrid&&r.p._sort)return void $(r).jqGrid("SortTree",a,r.p.sortorder,u[a].stype||"text",u[a].srcfmt||"");var v={eq:function(t){return t.equals},ne:function(t){return t.notEquals},lt:function(t){return t.less},le:function(t){return t.lessOrEquals},gt:function(t){return t.greater},ge:function(t){return t.greaterOrEquals},cn:function(t){return t.contains},nc:function(t,e){return"OR"===e?t.orNot().contains:t.andNot().contains},bw:function(t){return t.startsWith},bn:function(t,e){return"OR"===e?t.orNot().startsWith:t.andNot().startsWith},en:function(t,e){return"OR"===e?t.orNot().endsWith:t.andNot().endsWith},ew:function(t){return t.endsWith},ni:function(t,e){return"OR"===e?t.orNot().equals:t.andNot().equals},in:function(t){return t.equals},nu:function(t){return t.isNull},nn:function(t,e){return"OR"===e?t.orNot().isNull:t.andNot().isNull}},y=$.jgrid.from.call(r,r.p.data);if(r.p.ignoreCase&&(y=y.ignoreCase()),!0===r.p.search){var b=r.p.postData.filters;if(b)"string"==typeof b&&(b=$.jgrid.parse(b)),e(b);else try{"date"===(s=u[r.p.postData.searchField]).stype&&s.srcfmt&&s.newfmt&&s.srcfmt!==s.newfmt&&(r.p.postData.searchString=$.jgrid.parseDate.call(r,s.newfmt,r.p.postData.searchString,s.srcfmt)),y=v[r.p.postData.searchOper](y)(r.p.postData.searchField,r.p.postData.searchString,u[r.p.postData.searchField])}catch(t){}}else r.p.treeGrid&&"nested"===r.p.treeGridModel&&y.orderBy(r.p.treeReader.left_field,"asc","integer","",null);if(r.p.treeGrid&&"adjacency"===r.p.treeGridModel&&(p=0,a=null),r.p.grouping)for(f=0;f<p;f++)y.orderBy(h[f],m.groupOrder[f],d[f].stype,d[f].srcfmt);r.p.multiSort?$.each(a,(function(t){y.orderBy(this,l[t],u[this].stype,u[this].srcfmt,u[this].sfunc)})):a&&r.p.sortorder&&c&&("DESC"===r.p.sortorder.toUpperCase()?y.orderBy(r.p.sortname,"d",u[a].stype,u[a].srcfmt,u[a].sfunc):y.orderBy(r.p.sortname,"a",u[a].stype,u[a].srcfmt,u[a].sfunc));var _=y.select(),C=parseInt(r.p.rowNum,10),k=_.length,S=parseInt(r.p.page,10),j=Math.ceil(k/C),T={};if((r.p.search||r.p.resetsearch)&&r.p.grouping&&r.p.groupingView._locgr){r.p.groupingView.groups=[];var A,D,I,E=$.jgrid.getMethod("groupingPrepare");if(r.p.footerrow&&r.p.userDataOnFooter){for(D in r.p.userData)r.p.userData.hasOwnProperty(D)&&(r.p.userData[D]=0);I=!0}for(A=0;A<k;A++){if(I)for(D in r.p.userData)r.p.userData.hasOwnProperty(D)&&(r.p.userData[D]+=parseFloat(_[A][D]||0));E.call($(r),_[A],A,C)}}return t?_:(_=r.p.treeGrid&&r.p.search?$(r).jqGrid("searchTree",_):_.slice((S-1)*C,S*C),y=null,u=null,T[r.p.localReader.total]=j,T[r.p.localReader.page]=S,T[r.p.localReader.records]=k,T[r.p.localReader.root]=_,T[r.p.localReader.userdata]=r.p.userData,_=null,T)}},U=function(t,e){var i,n,o,s,a,l,c,u,d="",g=r.p.pager?$.jgrid.jqID(r.p.pager.substr(1)):"",v=g?"_"+g:"",y=r.p.toppager?"_"+r.p.toppager.substr(1):"";if((o=parseInt(r.p.page,10)-1)<0&&(o=0),a=(o*=parseInt(r.p.rowNum,10))+r.p.reccount,r.p.scroll){var b=$("tbody:first > tr:gt(0)",r.grid.bDiv);a>r.p.records&&(a=r.p.records),o=a-b.length,r.p.reccount=b.length;var _=b.outerHeight()||r.grid.prevRowHeight;if(_){var w=o*_,x=parseInt(r.p.records,10)*_;$(">div:first",r.grid.bDiv).css({height:x}).children("div:first").css({height:w,display:w?"":"none"}),0===r.grid.bDiv.scrollTop&&r.p.page>1&&(r.grid.bDiv.scrollTop=r.p.rowNum*(r.p.page-1)*_)}r.grid.bDiv.scrollLeft=r.grid.hDiv.scrollLeft}if(d=r.p.pager||"",d+=r.p.toppager?d?","+r.p.toppager:r.p.toppager:""){if(c=$.jgrid.getRegional(r,"formatter.integer"),i=T(r.p.page),n=T(r.p.lastpage),$(".selbox",d)[this.p.useProp?"prop":"attr"]("disabled",!1),!0===r.p.pginput&&($("#input"+v).html($.jgrid.template($.jgrid.getRegional(r,"defaults.pgtext",r.p.pgtext)||"","<input "+h(p,"pgInput",!1,"ui-pg-input")+" type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(g)+"'></span>")),r.p.toppager&&$("#input_t"+y).html($.jgrid.template($.jgrid.getRegional(r,"defaults.pgtext",r.p.pgtext)||"","<input "+h(p,"pgInput",!1,"ui-pg-input")+" type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(g)+"_toppager'></span>")),$(".ui-pg-input",d).val(r.p.page),u=r.p.toppager?"#sp_1"+v+",#sp_1"+v+"_toppager":"#sp_1"+v,$(u).html($.fmatter?$.fmatter.util.NumberFormat(r.p.lastpage,c):r.p.lastpage)),r.p.viewrecords)if(0===r.p.reccount)$(".ui-paging-info",d).html($.jgrid.getRegional(r,"defaults.emptyrecords",r.p.emptyrecords));else{s=o+1,l=r.p.records,$.fmatter&&(s=$.fmatter.util.NumberFormat(s,c),a=$.fmatter.util.NumberFormat(a,c),l=$.fmatter.util.NumberFormat(l,c));var C=$.jgrid.getRegional(r,"defaults.recordtext",r.p.recordtext);$(".ui-paging-info",d).html($.jgrid.template(C,s,a,l))}!0===r.p.pgbuttons&&(i<=0&&(i=n=0),1===i||0===i?($("#first"+v+", #prev"+v).addClass(f).removeClass(m),r.p.toppager&&$("#first_t"+y+", #prev_t"+y).addClass(f).removeClass(m)):($("#first"+v+", #prev"+v).removeClass(f),r.p.toppager&&$("#first_t"+y+", #prev_t"+y).removeClass(f)),i===n||0===i?($("#next"+v+", #last"+v).addClass(f).removeClass(m),r.p.toppager&&$("#next_t"+y+", #last_t"+y).addClass(f).removeClass(m)):($("#next"+v+", #last"+v).removeClass(f),r.p.toppager&&$("#next_t"+y+", #last_t"+y).removeClass(f)))}!0===t&&!0===r.p.rownumbers&&$(">td.jqgrid-rownum",r.rows).each((function(t){$(this).html(o+1+t)})),e&&r.p.jqgdnd&&$(r).jqGrid("gridDnD","updateDnD"),$(r).triggerHandler("jqGridGridComplete"),$.isFunction(r.p.gridComplete)&&r.p.gridComplete.call(r),$(r).triggerHandler("jqGridAfterGridComplete")},V=function(){r.grid.hDiv.loading=!0,r.p.hiddengrid||$(r).jqGrid("progressBar",{method:"show",loadtype:r.p.loadui,htmlcontent:$.jgrid.getRegional(r,"defaults.loadtext",r.p.loadtext)})},Q=function(){r.grid.hDiv.loading=!1,$(r).jqGrid("progressBar",{method:"hide",loadtype:r.p.loadui})},Y=function(t,e,i){var n=$(r).triggerHandler("jqGridBeforeProcessing",[t,e,i]);return n=void 0===n||"boolean"!=typeof n||n,$.isFunction(r.p.beforeProcessing)&&!1===r.p.beforeProcessing.call(r,t,e,i)&&(n=!1),n},X=function(t,e){$(r).triggerHandler("jqGridLoadComplete",[t]),e&&r.p.loadComplete.call(r,t),$(r).triggerHandler("jqGridAfterLoadComplete",[t]),r.p.datatype="local",r.p.datastr=null,Q()},K=function(t){if(!r.grid.hDiv.loading){var e,i,n=r.p.scroll&&!1===t,o={},s=r.p.prmNames;c=0,r.p.page<=0&&(r.p.page=Math.min(1,r.p.lastpage)),null!==s.search&&(o[s.search]=r.p.search),null!==s.nd&&(o[s.nd]=(new Date).getTime()),null!==s.rows&&(o[s.rows]=r.p.rowNum),null!==s.page&&(o[s.page]=r.p.page),null!==s.sort&&(o[s.sort]=r.p.sortname),null!==s.order&&(o[s.order]=r.p.sortorder),null!==r.p.rowTotal&&null!==s.totalrows&&(o[s.totalrows]=r.p.rowTotal);var a=$.isFunction(r.p.loadComplete),l=a?r.p.loadComplete:null,u=0;if((t=t||1)>1?null!==s.npage?(o[s.npage]=t,u=t-1,t=1):l=function(e){r.p.page++,r.grid.hDiv.loading=!1,a&&r.p.loadComplete.call(r,e),K(t-1)}:null!==s.npage&&delete r.p.postData[s.npage],r.p.grouping){$(r).jqGrid("groupingSetup");var d,h=r.p.groupingView,p="";for(d=0;d<h.groupField.length;d++){var f=h.groupField[d];$.each(r.p.colModel,(function(t,e){e.name===f&&e.index&&(f=e.index)})),p+=f+" "+h.groupOrder[d]+", "}o[s.sort]=p+o[s.sort]}$.extend(r.p.postData,o);var g=r.p.scroll?r.rows.length-1:1;if($.isFunction(r.p.datatype))return void r.p.datatype.call(r,r.p.postData,"load_"+r.p.id,g,t,u);var m=$(r).triggerHandler("jqGridBeforeRequest");if(!1===m||"stop"===m)return;if($.isFunction(r.p.beforeRequest)&&(!1===(m=r.p.beforeRequest.call(r))||"stop"===m))return;switch($.isFunction(r.treeGrid_beforeRequest)&&r.treeGrid_beforeRequest.call(r),e=r.p.datatype.toLowerCase()){case"json":case"jsonp":case"xml":case"script":$.ajax($.extend({url:r.p.url,type:r.p.mtype,dataType:e,data:$.isFunction(r.p.serializeGridData)?r.p.serializeGridData.call(r,r.p.postData):r.p.postData,success:function(i,o,s){Y(i,o,s)?("xml"===e?B(i,g,t>1,u):W(i,g,t>1,u),$(r).triggerHandler("jqGridLoadComplete",[i]),l&&l.call(r,i),$(r).triggerHandler("jqGridAfterLoadComplete",[i]),n&&r.grid.populateVisible(),r.p.treeGrid_bigData?r.p.loadonce&&(r.p.datatype="local"):(r.p.loadonce||r.p.treeGrid)&&(r.p.datatype="local"),i=null,1===t&&Q(),$.isFunction(r.treeGrid_afterLoadComplete)&&r.treeGrid_afterLoadComplete.call(r)):Q()},error:function(e,i,n){$(r).triggerHandler("jqGridLoadError",[e,i,n]),$.isFunction(r.p.loadError)&&r.p.loadError.call(r,e,i,n),1===t&&Q(),e=null},beforeSend:function(t,e){var i=!0;if(i=$(r).triggerHandler("jqGridLoadBeforeSend",[t,e]),$.isFunction(r.p.loadBeforeSend)&&(i=r.p.loadBeforeSend.call(r,t,e)),void 0===i&&(i=!0),!1===i)return!1;V()}},$.jgrid.ajaxOptions,r.p.ajaxGridOptions));break;case"xmlstring":if(V(),i="string"!=typeof r.p.datastr?r.p.datastr:$.parseXML(r.p.datastr),!Y(i,200,null))return void Q();B(i),X(i,a);break;case"jsonstring":if(V(),i="string"==typeof r.p.datastr?$.jgrid.parse(r.p.datastr):r.p.datastr,!Y(i,200,null))return void Q();W(i),X(i,a);break;case"local":case"clientside":V(),r.p.datatype="local",r.p._ald=!0;var v=G(!1);if(!Y(v,200,null))return void Q();W(v,g,t>1,u),$(r).triggerHandler("jqGridLoadComplete",[v]),l&&l.call(r,v),$(r).triggerHandler("jqGridAfterLoadComplete",[v]),n&&r.grid.populateVisible(),Q(),r.p._ald=!1}r.p._sort=!1}},J=function(t){$("#cb_"+$.jgrid.jqID(r.p.id),r.grid.hDiv)[r.p.useProp?"prop":"attr"]("checked",t),r.p.frozenColumns&&(r.p.id,1)&&$("#cb_"+$.jgrid.jqID(r.p.id),r.grid.fhDiv)[r.p.useProp?"prop":"attr"]("checked",t)},Z=function(t,e){var i,n,o,s,a,c,u,d="<td class='ui-pg-button "+f+"'><span class='ui-separator'></span></td>",g="",v="<table class='ui-pg-table ui-common-table ui-paging-pager'><tbody><tr>",b="",_=function(t,e){var i;return"stop"!==(i=$(r).triggerHandler("jqGridPaging",[t,e]))&&($.isFunction(r.p.onPaging)&&(i=r.p.onPaging.call(r,t,e)),"stop"!==i&&(r.p.selrow=null,r.p.multiselect&&(r.p.preserveSelection||(r.p.selarrrow=[]),J(!1)),r.p.savedRow=[],!0))};if(t=t.substr(1),e+="_"+t,i="pg_"+t,n=t+"_left",o=t+"_center",s=t+"_right",$("#"+$.jgrid.jqID(t)).append("<div id='"+i+"' class='ui-pager-control' role='group'><table "+h(p,"pagerTable",!1,"ui-pg-table ui-common-table ui-pager-table")+"><tbody><tr><td id='"+n+"' align='left'></td><td id='"+o+"' align='center' style='white-space:pre;'></td><td id='"+s+"' align='right'></td></tr></tbody></table></div>").attr("dir","ltr"),r.p.rowList.length>0){var w;for(b='<td dir="'+l+'">',b+="<select "+h(p,"pgSelectBox",!1,"ui-pg-selbox")+' size="1" role="listbox" title="'+($.jgrid.getRegional(r,"defaults.pgrecs",r.p.pgrecs)||"")+'">',u=0;u<r.p.rowList.length;u++)1===(w=r.p.rowList[u].toString().split(":")).length&&(w[1]=w[0]),b+='<option role="option" value="'+w[0]+'"'+(T(r.p.rowNum,0)===T(w[0],0)?' selected="selected"':"")+">"+w[1]+"</option>";b+="</select></td>"}if("rtl"===l&&(v+=b),!0===r.p.pginput&&(g="<td id='input"+e+"' dir='"+l+"'>"+$.jgrid.template($.jgrid.getRegional(r,"defaults.pgtext",r.p.pgtext)||"","<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(t)+"'></span>")+"</td>"),!0===r.p.pgbuttons){var x=["first"+e,"prev"+e,"next"+e,"last"+e],C=h(p,"pgButtonBox",!0,"ui-pg-button"),k=[$.jgrid.getRegional(r,"defaults.pgfirst",r.p.pgfirst)||"",$.jgrid.getRegional(r,"defaults.pgprev",r.p.pgprev)||"",$.jgrid.getRegional(r,"defaults.pgnext",r.p.pgnext)||"",$.jgrid.getRegional(r,"defaults.pglast",r.p.pglast)||""];"rtl"===l&&(x.reverse(),k.reverse()),v+="<td id='"+x[0]+"' class='"+C+"' title='"+k[0]+"'><span "+h(p,"icon_first",!1,y)+"></span></td>",v+="<td id='"+x[1]+"' class='"+C+"'  title='"+k[1]+"'><span "+h(p,"icon_prev",!1,y)+"></span></td>",v+=""!==g?d+g+d:"",v+="<td id='"+x[2]+"' class='"+C+"' title='"+k[2]+"'><span "+h(p,"icon_next",!1,y)+"></span></td>",v+="<td id='"+x[3]+"' class='"+C+"' title='"+k[3]+"'><span "+h(p,"icon_end",!1,y)+"></span></td>"}else""!==g&&(v+=g);"ltr"===l&&(v+=b),v+="</tr></tbody></table>",!0===r.p.viewrecords&&$("td#"+t+"_"+r.p.recordpos,"#"+i).append("<div dir='"+l+"' style='text-align:"+r.p.recordpos+"' class='ui-paging-info'></div>"),$("td#"+t+"_"+r.p.pagerpos,"#"+i).append(v),c=$("#gbox_"+$.jgrid.jqID(r.p.id)).css("font-size")||"11px",$("#gbox_"+$.jgrid.jqID(r.p.id)).append("<div id='testpg' "+h(p,"entrieBox",!1,"ui-jqgrid")+" style='font-size:"+c+";visibility:hidden;' ></div>"),a=$(v).clone().appendTo("#testpg").width(),$("#testpg").remove(),a>0&&(""!==g&&(a+=50),$("td#"+t+"_"+r.p.pagerpos,"#"+i).width(a)),r.p._nvtd=[],r.p._nvtd[0]=a?Math.floor((r.p.width-a)/2):Math.floor(r.p.width/3),r.p._nvtd[1]=0,v=null,$(".ui-pg-selbox","#"+i).on("change",(function(){return!!_("records",this)&&(r.p.page=Math.round(r.p.rowNum*(r.p.page-1)/this.value-.5)+1,r.p.rowNum=this.value,r.p.pager&&$(".ui-pg-selbox",r.p.pager).val(this.value),r.p.toppager&&$(".ui-pg-selbox",r.p.toppager).val(this.value),K(),!1)})),!0===r.p.pgbuttons&&($(".ui-pg-button","#"+i).hover((function(){$(this).hasClass(f)?this.style.cursor="default":($(this).addClass(m),this.style.cursor="pointer")}),(function(){$(this).hasClass(f)||($(this).removeClass(m),this.style.cursor="default")})),$("#first"+$.jgrid.jqID(e)+", #prev"+$.jgrid.jqID(e)+", #next"+$.jgrid.jqID(e)+", #last"+$.jgrid.jqID(e)).click((function(){if($(this).hasClass(f))return!1;var t=T(r.p.page,1),i=T(r.p.lastpage,1),n=!1,o=!0,s=!0,a=!0,l=!0;return 0===i||1===i?(o=!1,s=!1,a=!1,l=!1):i>1&&t>=1?1===t?(o=!1,s=!1):t===i&&(a=!1,l=!1):i>1&&0===t&&(a=!1,l=!1,t=i-1),!!_(this.id.split("_")[0],this)&&(this.id==="first"+e&&o&&(r.p.page=1,n=!0),this.id==="prev"+e&&s&&(r.p.page=t-1,n=!0),this.id==="next"+e&&a&&(r.p.page=t+1,n=!0),this.id==="last"+e&&l&&(r.p.page=i,n=!0),n&&K(),!1)}))),!0===r.p.pginput&&$("#"+i).on("keypress","input.ui-pg-input",(function(t){return 13===(t.charCode||t.keyCode||0)?!!_("user",this)&&($(this).val(T($(this).val(),1)),r.p.page=$(this).val()>0?$(this).val():r.p.page,K(),!1):this}))},tt=function(t,e,i){var n,o=r.p.colModel,s=r.p.frozenColumns?e:r.grid.headers[t].el,a="";$("span.ui-grid-ico-sort",s).addClass(f),$(s).attr("aria-selected","false"),n=o[t].index||o[t].name,void 0===i?o[t].lso?"asc"===o[t].lso?(o[t].lso+="-desc",a="desc"):"desc"===o[t].lso?(o[t].lso+="-asc",a="asc"):"asc-desc"!==o[t].lso&&"desc-asc"!==o[t].lso||(o[t].lso=""):o[t].lso=a=o[t].firstsortorder||"asc":o[t].lso=a=i,a?($("span.s-ico",s).show(),$("span.ui-icon-"+a,s).removeClass(f),$(s).attr("aria-selected","true")):r.p.viewsortcols[0]||$("span.s-ico",s).hide();var l=w.indexOf(n);-1===l?(w.push(n),x.push(a)):a?x[l]=a:(x.splice(l,1),w.splice(l,1)),r.p.sortorder="",r.p.sortname="";for(var c=0,u=w.length;c<u;c++)c>0&&(r.p.sortname+=", "),r.p.sortname+=w[c],c!==u-1&&(r.p.sortname+=" "+x[c]);r.p.sortorder=x[u-1]},et=function(t,e,i,n,o){if(r.p.colModel[e].sortable&&!(r.p.savedRow.length>0)){if(i||(r.p.lastsort===e&&""!==r.p.sortname?"asc"===r.p.sortorder?r.p.sortorder="desc":"desc"===r.p.sortorder&&(r.p.sortorder="asc"):r.p.sortorder=r.p.colModel[e].firstsortorder||"asc",r.p.page=1),r.p.multiSort)tt(e,o,n);else{if(n){if(r.p.lastsort===e&&r.p.sortorder===n&&!i)return;r.p.sortorder=n}var s,a=r.grid.headers[r.p.lastsort]?r.grid.headers[r.p.lastsort].el:null,l=r.p.frozenColumns?o:r.grid.headers[e].el,c="single"===r.p.viewsortcols[1];(s=$(a).find("span.ui-grid-ico-sort")).addClass(f),c&&$(s).css("display","none"),$(a).attr("aria-selected","false"),r.p.frozenColumns&&((s=r.grid.fhDiv.find("span.ui-grid-ico-sort")).addClass(f),c&&s.css("display","none"),r.grid.fhDiv.find("th").attr("aria-selected","false")),(s=$(l).find("span.ui-icon-"+r.p.sortorder)).removeClass(f),c&&s.css("display",""),$(l).attr("aria-selected","true"),r.p.viewsortcols[0]||(r.p.lastsort!==e?(r.p.frozenColumns&&r.grid.fhDiv.find("span.s-ico").hide(),$("span.s-ico",a).hide(),$("span.s-ico",l).show()):""===r.p.sortname&&$("span.s-ico",l).show()),t=t.substring(5+r.p.id.length+1),r.p.sortname=r.p.colModel[e].index||t}if("stop"===$(r).triggerHandler("jqGridSortCol",[r.p.sortname,e,r.p.sortorder]))return void(r.p.lastsort=e);if($.isFunction(r.p.onSortCol)&&"stop"===r.p.onSortCol.call(r,r.p.sortname,e,r.p.sortorder))return void(r.p.lastsort=e);if(J(!1),"local"===r.p.datatype?r.p.deselectAfterSort&&!r.p.preserveSelection&&$(r).jqGrid("resetSelection"):(r.p.selrow=null,r.p.multiselect&&(r.p.preserveSelection||(r.p.selarrrow=[])),r.p.savedRow=[]),r.p.scroll){var u=r.grid.bDiv.scrollLeft;R.call(r,!0,!1),r.grid.hDiv.scrollLeft=u}r.p.subGrid&&"local"===r.p.datatype&&$("td.sgexpanded","#"+$.jgrid.jqID(r.p.id)).each((function(){$(this).trigger("click")})),r.p._sort=!0,K(),r.p.lastsort=e,r.p.sortname!==t&&e&&(r.p.lastsort=e)}},it=function(){var t,e,i,n,s=0,a=$.jgrid.cell_width?0:T(r.p.cellLayout,0),l=0,c=T(r.p.scrollOffset,0),u=!1,d=0;$.each(r.p.colModel,(function(){if(void 0===this.hidden&&(this.hidden=!1),r.p.grouping&&r.p.autowidth){var t=$.inArray(this.name,r.p.groupingView.groupField);t>=0&&r.p.groupingView.groupColumnShow.length>t&&(this.hidden=!r.p.groupingView.groupColumnShow[t])}this.widthOrg=e=T(this.width,0),!1===this.hidden&&(s+=e+a,this.fixed?d+=e+a:l++)})),isNaN(r.p.width)&&(r.p.width=s+(!1!==r.p.shrinkToFit||isNaN(r.p.height)?0:c)),o.width=parseInt(r.p.width,10),r.p.tblwidth=s,!1===r.p.shrinkToFit&&!0===r.p.forceFit&&(r.p.forceFit=!1),!0===r.p.shrinkToFit&&l>0&&(i=o.width-a*l-d,isNaN(r.p.height)||(i-=c,u=!0),s=0,$.each(r.p.colModel,(function(n){!1!==this.hidden||this.fixed||(e=Math.round(i*this.width/(r.p.tblwidth-a*l-d)),this.width=e,s+=e,t=n)})),n=0,u?o.width-d-(s+a*l)!==c&&(n=o.width-d-(s+a*l)-c):u||0===Math.abs(o.width-d-(s+a*l))||(n=o.width-d-(s+a*l)-Dt),r.p.colModel[t].width+=n,r.p.tblwidth=s+n+a*l+d,r.p.tblwidth>r.p.width&&(r.p.colModel[t].width-=r.p.tblwidth-parseInt(r.p.width,10),r.p.tblwidth=r.p.width))},nt=function(t){var e,i=t,n=t;for(e=t+1;e<r.p.colModel.length;e++)if(!0!==r.p.colModel[e].hidden){n=e;break}return n-i},rt=function(t){var e=$(r.grid.headers[t].el),i=[e.position().left+e.outerWidth()];return"rtl"===r.p.direction&&(i[0]=r.p.width-i[0]),i[0]-=r.grid.bDiv.scrollLeft,i.push($(r.grid.hDiv).position().top),i.push($(r.grid.bDiv).offset().top-$(r.grid.hDiv).offset().top+$(r.grid.bDiv).height()),i},ot=function(t){var e,i=r.grid.headers,n=$.jgrid.getCellIndex(t);for(e=0;e<i.length;e++)if(t===i[e].el){n=e;break}return n},st=function(t,e,i){var n,o=r.p.colModel,s=o.length,a=[],l=$.jgrid.getRegional(r,"colmenu"),c='<ul id="col_menu" class="ui-search-menu  ui-col-menu modal-content" role="menu" tabindex="0" style="left:'+e+'px;">';for(n=0;n<s;n++){var u=o[n].hidden?"":"checked",d=o[n].name,h=r.p.colNames[n];c+="<li "+("cb"===d||"subgrid"===d||"rn"===d||o[n].hidedlg?"style='display:none'":"")+' class="ui-menu-item" role="presentation" draggable="true"><a class="g-menu-item" tabindex="0" role="menuitem" ><table class="ui-common-table" ><tr><td class="menu_icon" title="'+l.reorder+'"><span class="'+y+" "+b.icon_move+' notclick"></span></td><td class="menu_icon"><input class="'+b.input_checkbox+'" type="checkbox" name="'+d+'" '+u+'></td><td class="menu_text">'+h+"</td></tr></table></a></li>",a.push(n)}c+="</ul>",$(i).append(c),$("#col_menu").addClass("ui-menu "+b.menu_widget),$.jgrid.isElementInViewport($("#col_menu")[0])||$("#col_menu").css("left",-parseInt($("#column_menu").innerWidth(),10)+"px"),$.fn.html5sortable()&&$("#col_menu").html5sortable({handle:"span",forcePlaceholderSize:!0}).on("sortupdate",(function(t,e){for(a.splice(e.startindex,1),a.splice(e.endindex,0,e.startindex),$(r).jqGrid("destroyFrozenColumns"),$(r).jqGrid("remapColumns",a,!0),$(r).triggerHandler("jqGridColMenuColumnDone",[a,null,null]),$.isFunction(r.p.colMenuColumnDone)&&r.p.colMenuColumnDone.call(r,a,null,null),$(r).jqGrid("setFrozenColumns"),n=0;n<s;n++)a[n]=n})),$("#col_menu > li > a").on("click",(function(t){var e,i;$(t.target).hasClass("notclick")||($(t.target).is(":input")?e=$(t.target).is(":checked"):(e=!$("input",this).is(":checked"),$("input",this).prop("checked",e)),i=$("input",this).attr("name"),$(r).triggerHandler("jqGridColMenuColumnDone",[a,i,e]),$.isFunction(r.p.colMenuColumnDone)&&r.p.colMenuColumnDone.call(r,a,i,e),e?($(r).jqGrid("showCol",i),$(this).parent().attr("draggable","true")):($(r).jqGrid("hideCol",i),$(this).parent().attr("draggable","false")))})).hover((function(){$(this).addClass(m)}),(function(){$(this).removeClass(m)}))},at=function(t,e,i,n){var o,s,a,l,c,u=r.p.colModel[t],d="",h="",p="",f="",g="",v="",y=["eq","ne","lt","le","gt","ge","nu","nn","in","ni"],_=["eq","ne","bw","bn","ew","en","cn","nc","nu","nn","in","ni"],w=$.jgrid.getRegional(r,"search"),x=$.jgrid.styleUI[r.p.styleUI||"jQueryUI"].common;if(u){(o=!(!r.p.colFilters||!r.p.colFilters[u.name])&&r.p.colFilters[u.name])&&!$.isEmptyObject(o)&&(d=o.oper1,h=o.value1,p=o.rule,f=o.oper2,g=o.value2),u.searchoptions||(u.searchoptions={}),s=u.searchoptions.sopt?u.searchoptions.sopt:"text"===u.sorttype?_:y,
a=u.searchoptions.groupOps?u.searchoptions.groupOps:w.groupOps,c=$("<form></form>");var C="<div>"+$.jgrid.getRegional(r,"colmenu.searchTitle")+"</div>";C+='<div><select size="1" id="oper1" class="'+b.filter_select+'">',$.each(w.odata,(function(t,e){l=e.oper===d?'selected="selected"':"",-1!==$.inArray(e.oper,s)&&(v+='<option value="'+e.oper+'" '+l+">"+e.text+"</option>")})),C+=v,C+="</select></div>",c.append(C);var k="";u.searchoptions.defaultValue&&(k=$.isFunction(u.searchoptions.defaultValue)?u.searchoptions.defaultValue.call(r):u.searchoptions.defaultValue),h&&(k=h);var S=$.extend(u.searchoptions,{name:u.index||u.name,id:"sval1_"+r.p.idPrefix+u.name,oper:"search"}),j=$.jgrid.createEl.call(r,u.stype,S,k,!1,$.extend({},$.jgrid.ajaxOptions,r.p.ajaxSelectOptions||{}));$(j).addClass(b.filter_input),C=$("<div></div>").append(j),c.append(C),C='<div><select size="1" id="operand" class="'+b.filter_select+'">',$.each(a,(function(t,e){l=e.op===p?'selected="selected"':"",C+="<option value='"+e.op+"' "+l+">"+e.text+"</option>"})),C+="</select></div>",c.append(C),v="",$.each(w.odata,(function(t,e){l=e.oper===f?'selected="selected"':"",-1!==$.inArray(e.oper,s)&&(v+='<option value="'+e.oper+'" '+l+">"+e.text+"</option>")})),C='<div><select size="1" id="oper2" class="'+b.filter_select+'">'+v+"</select></div>",c.append(C),k=g||"",S=$.extend(u.searchoptions,{name:u.index||u.name,id:"sval2_"+r.p.idPrefix+u.name,oper:"search"}),j=$.jgrid.createEl.call(r,u.stype,S,k,!1,$.extend({},$.jgrid.ajaxOptions,r.p.ajaxSelectOptions||{})),$(j).addClass(b.filter_input),C=$("<div></div>").append(j),c.append(C),C="<div>",C+="<div class='search_buttons'><a tabindex='0' id='bs_reset' class='fm-button "+x.button+" ui-reset'>"+w.Reset+"</a></div>",C+="<div class='search_buttons'><a tabindex='0' id='bs_search' class='fm-button "+x.button+" ui-search'>"+w.Find+"</a></div>",C+="</div>",c.append(C),c=$('<li class="ui-menu-item" role="presentation"></li>').append(c),c=$('<ul id="search_menu" class="ui-search-menu modal-content" role="menu" tabindex="0" style="left:'+i+'px;"></ul>').append(c),$(n).append(c),$("#search_menu").addClass("ui-menu "+b.menu_widget),$.jgrid.isElementInViewport($("#search_menu")[0])||$("#search_menu").css("left",-parseInt($("#column_menu").innerWidth(),10)+"px"),$("#bs_reset, #bs_search","#search_menu").hover((function(){$(this).addClass(m)}),(function(){$(this).removeClass(m)})),$("#bs_reset",c).on("click",(function(){r.p.colFilters[u.name]={},r.p.postData.filters=lt(),r.p.search=!1,$(r).trigger("reloadGrid"),$("#column_menu").remove()})),$("#bs_search",c).on("click",(function(){r.p.colFilters[u.name]={oper1:$("#oper1","#search_menu").val(),value1:$("#sval1_"+r.p.idPrefix+u.name,"#search_menu").val(),rule:$("#operand","#search_menu").val(),oper2:$("#oper2","#search_menu").val(),value2:$("#sval2_"+r.p.idPrefix+u.name,"#search_menu").val()},r.p.postData.filters=lt(),r.p.search=!0,$(r).trigger("reloadGrid"),$("#column_menu").remove()}))}},lt=function(){var t='{"groupOp":"'+"AND"+'","rules":[], "groups" : [',e=0;for(var i in r.p.colFilters)if(r.p.colFilters.hasOwnProperty(i)){var n=r.p.colFilters[i];$.isEmptyObject(n)||(e>0&&(t+=","),t+='{"groupOp": "'+n.rule+'", "rules" : [',t+='{"field":"'+i+'",',t+='"op":"'+n.oper1+'",',n.value1+="",t+='"data":"'+n.value1.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',n.value2&&(t+=',{"field":"'+i+'",',t+='"op":"'+n.oper2+'",',n.value2+="",t+='"data":"'+n.value2.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}'),t+="]}",e++)}return t+"]}"},ct=function(t,e){var i=r.p.colModel[t],n=r.p.groupingView;-1!==e?n.groupField.splice(e,1):n.groupField.push(i.name),$(r).jqGrid("groupingGroupBy",n.groupField),r.p.frozenColumns&&($(r).jqGrid("destroyFrozenColumns"),$(r).jqGrid("setFrozenColumns"))},ut=function(t,e){var i,n=[],o=r.p.colModel.length,s=-1,a=r.p.colModel;for(i=0;i<o;i++)a[i].frozen&&(s=i),n.push(i);n.splice(t,1),n.splice(s+(e?1:0),0,t),a[t].frozen=e,$(r).jqGrid("destroyFrozenColumns"),$(r).jqGrid("remapColumns",n,!0),$(r).jqGrid("setFrozenColumns")},dt=function(t,e,i){var n=$(o.hDiv).height();$(".ui-search-toolbar",o.hDiv)[0]&&!isNaN($(".ui-search-toolbar",o.hDiv).height())&&(n-=$(".ui-search-toolbar",o.hDiv).height()),$(o.cDiv).is(":hidden")||(n+=$(o.cDiv).outerHeight()),r.p.toolbar[1]&&"bottom"!==r.p.toolbar[2]&&null!==$(o.uDiv)&&(n+=$(o.uDiv).outerHeight()),r.p.toppager&&(n+=$("#"+r.p.id+"_toppager").outerHeight()),e=parseInt(e,10),i=parseInt(i,10)+n;var s,a,l='<ul id="column_menu" role="menu" tabindex="0">',c="",u="</ul>",d="",h=r.p.colModel[t],p=$.extend({sorting:!0,columns:!0,filtering:!0,seraching:!0,grouping:!0,freeze:!0},h.coloptions),f=$.jgrid.getRegional(r,"colmenu"),g=r.p.colNames[t],v=[],_=$.trim(h.name);for(var w in v.push(c),p.sorting&&(c='<li class="ui-menu-item" role="presentation"><a class="g-menu-item" tabindex="0" role="menuitem" data-value="sortasc"><table class="ui-common-table"><tr><td class="menu_icon"><span class="'+y+" "+b.icon_sort_asc+'"></span></td><td class="menu_text">'+f.sortasc+"</td></tr></table></a></li>",c+='<li class="ui-menu-item" role="presentation"><a class="g-menu-item" tabindex="0" role="menuitem" data-value="sortdesc"><table class="ui-common-table"><tr><td class="menu_icon"><span class="'+y+" "+b.icon_sort_desc+'"></span></td><td class="menu_text">'+f.sortdesc+"</td></tr></table></a></li>",v.push(c)),p.columns&&(c='<li class="ui-menu-item divider" role="separator"></li>',c+='<li class="ui-menu-item" role="presentation"><a class="g-menu-item" tabindex="0" role="menuitem" data-value="columns"><table class="ui-common-table"><tr><td class="menu_icon"><span class="'+y+" "+b.icon_columns+'"></span></td><td class="menu_text">'+f.columns+"</td></tr></table></a></li>",v.push(c)),p.filtering&&(c='<li class="ui-menu-item divider" role="separator"></li>',c+='<li class="ui-menu-item" role="presentation"><a class="g-menu-item" tabindex="0" role="menuitem" data-value="filtering"><table class="ui-common-table"><tr><td class="menu_icon"><span class="'+y+" "+b.icon_filter+'"></span></td><td class="menu_text">'+f.filter+" "+g+"</td></tr></table></a></li>",v.push(c)),p.grouping&&(s=$.inArray(h.name,r.p.groupingView.groupField),c='<li class="ui-menu-item divider" role="separator"></li>',c+='<li class="ui-menu-item" role="presentation"><a class="g-menu-item" tabindex="0" role="menuitem" data-value="grouping"><table class="ui-common-table"><tr><td class="menu_icon"><span class="'+y+" "+b.icon_group+'"></span></td><td class="menu_text">'+(-1!==s?f.ungrouping:f.grouping+" "+g)+"</td></tr></table></a></li>",v.push(c)),p.freeze&&(a=!h.frozen||!r.p.frozenColumns,c='<li class="ui-menu-item divider" role="separator"></li>',c+='<li class="ui-menu-item" role="presentation"><a class="g-menu-item" tabindex="0" role="menuitem" data-value="freeze"><table class="ui-common-table"><tr><td class="menu_icon"><span class="'+y+" "+b.icon_freeze+'"></span></td><td class="menu_text">'+(a?f.freeze+" "+g:f.unfreeze)+"</td></tr></table></a></li>",v.push(c)),r.p.colMenuCustom)if(r.p.colMenuCustom.hasOwnProperty(w)){var x=r.p.colMenuCustom[w],C=x.exclude.split(",");C=$.map(C,(function(t){return $.trim(t)})),(x.colname===_||"_all_"===x.colname&&-1===$.inArray(_,C))&&(d='<li class="ui-menu-item divider" role="separator"></li>',c='<li class="ui-menu-item" role="presentation"><a class="g-menu-item" tabindex="0" role="menuitem" data-value="'+x.id+'"><table class="ui-common-table"><tr><td class="menu_icon"><span class="'+y+" "+x.icon+'"></span></td><td class="menu_text">'+x.title+"</td></tr></table></a></li>","last"===x.position?(v.push(d),v.push(c)):"first"===x.position&&(v.unshift(d),v.unshift(c)))}if(v.unshift(l),v.push(u),$("#gbox_"+r.p.id).append(v.join("")),$("#column_menu").addClass("ui-search-menu modal-content column-menu jqgrid-column-menu ui-menu "+b.menu_widget).css({left:e,top:i}),"ltr"===r.p.direction){var k=$("#column_menu").width()+26;$("#column_menu").css("left",e-k+"px")}$("#column_menu > li > a").hover((function(){var e,i;$("#col_menu").remove(),$("#search_menu").remove(),"columns"===$(this).attr("data-value")&&(e=$(this).parent().width()+8,i=$(this).parent().position().top-5,st(i,e,$(this).parent())),"filtering"===$(this).attr("data-value")&&(e=$(this).parent().width()+8,i=$(this).parent().position().top-5,at(t,i,e,$(this).parent())),$(this).addClass(m)}),(function(){$(this).removeClass(m)})).click((function(){var e=$(this).attr("data-value"),i=r.grid.headers[t].el;if("sortasc"===e?et("jqgh_"+r.p.id+"_"+h.name,t,!0,"asc",i):"sortdesc"===e?et("jqgh_"+r.p.id+"_"+h.name,t,!0,"desc",i):"grouping"===e?ct(t,s):"freeze"===e&&ut(t,a),-1===e.indexOf("sort")&&"grouping"!==e&&"freeze"!==e||$(this).remove(),r.p.colMenuCustom.hasOwnProperty(e)){var n=r.p.colMenuCustom[e];$.isFunction(n.funcname)&&(n.funcname.call(r,_),n.closeOnRun&&$(this).remove())}})),parseFloat($("#column_menu").css("left"))<0&&$("#column_menu").css("left",$(r).css("left"))};for((r.p.colMenu||r.p.menubar)&&$("body").on("click",(function(t){if(!$(t.target).closest("#column_menu").length)try{$("#column_menu").remove()}catch(t){}if(!$(t.target).closest(".ui-jqgrid-menubar").length)try{$("#"+r.p.id+"_menubar").hide()}catch(t){}})),this.p.id=this.id,-1===$.inArray(r.p.multikey,j)&&(r.p.multikey=!1),r.p.keyName=!1,u=0;u<r.p.colModel.length;u++)S="string"==typeof r.p.colModel[u].template?null!=$.jgrid.cmTemplate&&"object"==typeof $.jgrid.cmTemplate[r.p.colModel[u].template]?$.jgrid.cmTemplate[r.p.colModel[u].template]:{}:r.p.colModel[u].template,r.p.colModel[u]=$.extend(!0,{},r.p.cmTemplate,S||{},r.p.colModel[u]),!1===r.p.keyName&&!0===r.p.colModel[u].key&&(r.p.keyName=r.p.colModel[u].name,r.p.keyIndex=u);if(r.p.sortorder=r.p.sortorder.toLowerCase(),$.jgrid.cell_width=$.jgrid.cellWidth(),!0===r.p.grouping&&(r.p.scroll=!1,r.p.rownumbers=!1,r.p.treeGrid=!1,r.p.gridview=!0),!0===this.p.treeGrid){try{$(this).jqGrid("setTreeGrid")}catch(t){}"local"!==r.p.datatype&&(r.p.localReader={id:"_id_"})}if(this.p.subGrid)try{$(r).jqGrid("setSubGrid")}catch(t){}this.p.multiselect&&(this.p.colNames.unshift("<input role='checkbox' id='cb_"+this.p.id+"' class='cbox' type='checkbox'/>"),this.p.colModel.unshift({name:"cb",width:$.jgrid.cell_width?r.p.multiselectWidth+r.p.cellLayout:r.p.multiselectWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0,classes:"jqgrid-multibox"})),this.p.rownumbers&&(this.p.colNames.unshift(""),this.p.colModel.unshift({name:"rn",width:r.p.rownumWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})),r.p.xmlReader=$.extend(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},r.p.xmlReader),r.p.jsonReader=$.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},r.p.jsonReader),r.p.localReader=$.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},r.p.localReader),r.p.scroll&&(r.p.pgbuttons=!1,r.p.pginput=!1,r.p.rowList=[]),r.p.data.length&&(N(),q());var ht,pt,ft,gt,mt,vt,yt,bt,_t,wt="<thead><tr class='ui-jqgrid-labels' role='row'>",xt="",$t="",Ct="";if(!0===r.p.shrinkToFit&&!0===r.p.forceFit)for(u=r.p.colModel.length-1;u>=0;u--)if(!r.p.colModel[u].hidden){r.p.colModel[u].resizable=!1;break}if("horizontal"===r.p.viewsortcols[1]?($t=" ui-i-asc",Ct=" ui-i-desc"):"single"===r.p.viewsortcols[1]&&($t=" ui-single-sort-asc",Ct=" ui-single-sort-desc",xt=" style='display:none'",r.p.viewsortcols[0]=!1),ht=_?"class='ui-th-div-ie'":"",bt="<span class='s-ico' style='display:none'>",bt+="<span sort='asc'  class='ui-grid-ico-sort ui-icon-asc"+$t+" ui-sort-"+l+" "+f+" "+y+" "+h(p,"icon_asc",!0)+"'"+xt+"></span>",bt+="<span sort='desc' class='ui-grid-ico-sort ui-icon-desc"+Ct+" ui-sort-"+l+" "+f+" "+y+" "+h(p,"icon_desc",!0)+"'"+xt+"></span></span>",r.p.multiSort&&r.p.sortname)for(w=r.p.sortname.split(","),u=0;u<w.length;u++)C=$.trim(w[u]).split(" "),w[u]=$.trim(C[0]),x[u]=C[1]?$.trim(C[1]):r.p.sortorder||"asc";for(u=0;u<this.p.colNames.length;u++){var kt=r.p.headertitles?' title="'+(r.p.colModel[u].tooltip?r.p.colModel[u].tooltip:$.jgrid.stripHtml(r.p.colNames[u]))+'"':"";(_t=r.p.colModel[u]).hasOwnProperty("colmenu")||(_t.colmenu="rn"!==_t.name&&"cb"!==_t.name&&"subgrid"!==_t.name),wt+="<th id='"+r.p.id+"_"+_t.name+"' role='columnheader' "+h(p,"headerBox",!1,"ui-th-column ui-th-"+l+("cb"===_t.name?" jqgrid-multibox":""))+" "+kt+">",pt=_t.index||_t.name,wt+="<div class='ui-th-div' id='jqgh_"+r.p.id+"_"+_t.name+"' "+ht+">"+r.p.colNames[u],_t.width?_t.width=parseInt(_t.width,10):_t.width=150,"boolean"!=typeof _t.title&&(_t.title=!0),_t.lso="",pt===r.p.sortname&&(r.p.lastsort=u),r.p.multiSort&&-1!==(C=$.inArray(pt,w))&&(_t.lso=x[C]),wt+=bt,r.p.colMenu&&_t.colmenu&&(wt+="<a class='"+("ltr"===r.p.direction?"colmenu":"colmenu-rtl")+"'><span class='colmenuspan "+y+" "+b.icon_menu+"'></span></a>"),wt+="</div></th>"}if(wt+="</tr></thead>",bt=null,_t=null,$(this).append(wt),$("thead tr:first th",this).hover((function(){$(this).addClass(m)}),(function(){$(this).removeClass(m)})),this.p.multiselect){var St,jt=[];$("#cb_"+$.jgrid.jqID(r.p.id),this).on("click",(function(){r.p.preserveSelection||(r.p.selarrrow=[]);var t=!0===r.p.frozenColumns?r.p.id+"_frozen":"";this.checked?($(r.rows).each((function(e){e>0&&($(this).hasClass("ui-subgrid")||$(this).hasClass("jqgroup")||$(this).hasClass(f)||$(this).hasClass("jqfoot")||($("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(this.id))[r.p.useProp?"prop":"attr"]("checked",!0),$(this).addClass(g).attr("aria-selected","true"),r.p.preserveSelection?-1===r.p.selarrrow.indexOf(this.id)&&r.p.selarrrow.push(this.id):r.p.selarrrow.push(this.id),r.p.selrow=this.id,t&&($("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(this.id),r.grid.fbDiv)[r.p.useProp?"prop":"attr"]("checked",!0),$("#"+$.jgrid.jqID(this.id),r.grid.fbDiv).addClass(g))))})),St=!0,jt=[]):($(r.rows).each((function(e){if(e>0&&!($(this).hasClass("ui-subgrid")||$(this).hasClass("jqgroup")||$(this).hasClass(f)||$(this).hasClass("jqfoot"))){if($("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(this.id))[r.p.useProp?"prop":"attr"]("checked",!1),$(this).removeClass(g).attr("aria-selected","false"),jt.push(this.id),r.p.preserveSelection){var i=r.p.selarrrow.indexOf(this.id);i>-1&&r.p.selarrrow.splice(i,1)}t&&($("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(this.id),r.grid.fbDiv)[r.p.useProp?"prop":"attr"]("checked",!1),$("#"+$.jgrid.jqID(this.id),r.grid.fbDiv).removeClass(g))}})),r.p.selrow=null,St=!1),$(r).triggerHandler("jqGridSelectAll",[St?r.p.selarrrow:jt,St]),$.isFunction(r.p.onSelectAll)&&r.p.onSelectAll.call(r,St?r.p.selarrrow:jt,St)}))}if(!0===r.p.autowidth){var Tt=$(k).parent().width();_t=$(window).width(),r.p.width=_t-Tt>3?Tt:_t}var At="",Dt=-1===r.p.styleUI.search("Bootstrap")||isNaN(r.p.height)?0:2;it(),$(k).css("width",o.width+"px").append("<div class='ui-jqgrid-resize-mark' id='rs_m"+r.p.id+"'>&#160;</div>"),r.p.scrollPopUp&&$(k).append("<div "+h(p,"scrollBox",!1,"loading ui-scroll-popup")+" id='scroll_g"+r.p.id+"'></div>"),$(d).css("width",o.width+"px"),wt=$("thead:first",r).get(0),r.p.footerrow&&(At+="<table role='presentation' style='width:"+r.p.tblwidth+"px' "+h(p,"footerTable",!1,"ui-jqgrid-ftable ui-common-table")+"><tbody><tr role='row' "+h(p,"footerBox",!1,"footrow footrow-"+l)+">");var It=$("tr:first",wt),Et="<tr class='jqgfirstrow' role='row'>";if(r.p.disableClick=!1,$("th",It).each((function(t){_t=r.p.colModel[t],ft=_t.width,void 0===_t.resizable&&(_t.resizable=!0),_t.resizable?(gt=document.createElement("span"),$(gt).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+l).css("cursor","col-resize"),$(this).addClass(r.p.resizeclass)):gt="",$(this).css("width",ft+"px").prepend(gt),gt=null;var e="";_t.hidden&&($(this).css("display","none"),e="display:none;"),Et+="<td role='gridcell' style='height:0px;width:"+ft+"px;"+e+"'></td>",o.headers[t]={width:ft,el:this},"boolean"!=typeof(xt=_t.sortable)&&(_t.sortable=!0,xt=!0);var i=_t.name;"cb"!==i&&"subgrid"!==i&&"rn"!==i&&r.p.viewsortcols[2]&&$(">div",this).addClass("ui-jqgrid-sortable"),xt&&(r.p.multiSort?r.p.viewsortcols[0]?($("div span.s-ico",this).show(),_t.lso&&$("div span.ui-icon-"+_t.lso,this).removeClass(f).css("display","")):_t.lso&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+_t.lso,this).removeClass(f).css("display","")):r.p.viewsortcols[0]?($("div span.s-ico",this).show(),t===r.p.lastsort&&$("div span.ui-icon-"+r.p.sortorder,this).removeClass(f).css("display","")):t===r.p.lastsort&&""!==r.p.sortname&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+r.p.sortorder,this).removeClass(f).css("display",""))),r.p.footerrow&&(At+="<td role='gridcell' "+A(t,0,"",null,"",!1)+">&#160;</td>")})).mousedown((function(t){if(1===$(t.target).closest("th>span.ui-jqgrid-resize").length){var e=ot(this);return!0===r.p.forceFit&&(r.p.nv=nt(e)),o.dragStart(e,t,rt(e)),!1}})).click((function(t){if(r.p.disableClick)return r.p.disableClick=!1,!1;var e,i,n="th>div.ui-jqgrid-sortable";r.p.viewsortcols[2]||(n="th>div>span>span.ui-grid-ico-sort");var o=$(t.target).closest(n);if(1===o.length){var s;if(r.p.frozenColumns){var a=$(this)[0].id.substring(r.p.id.length+1);$(r.p.colModel).each((function(t){if(this.name===a)return s=t,!1}))}else s=ot(this);if($(t.target).hasClass("colmenuspan")){null!=$("#column_menu")[0]&&$("#column_menu").remove();var l=$.jgrid.getCellIndex(t.target);if(-1===l)return;var c=$(this).position(),u=c.left,d=c.top;return"ltr"===r.p.direction&&(u+=$(this).outerWidth()),dt(l,u,d,o),!0===r.p.menubar&&$("#"+r.p.id+"_menubar").hide(),void t.stopPropagation()}return r.p.viewsortcols[2]||(e=!0,i=o.attr("sort")),null!=s&&et($("div",this)[0].id,s,e,i,this),!1}})),_t=null,r.p.sortable&&$.fn.sortable)try{$(r).jqGrid("sortableColumns",It)}catch(t){}r.p.footerrow&&(At+="</tr></tbody></table>"),Et+="</tr>",yt=document.createElement("tbody"),this.appendChild(yt),$(this).addClass(h(p,"rowTable",!0,"ui-jqgrid-btable ui-common-table")).append(Et),r.p.altRows&&$(this).addClass(h(p,"stripedTable",!0,"")),Et=null;var Pt,Ot,Ft,Mt=$("<table "+h(p,"headerTable",!1,"ui-jqgrid-htable ui-common-table")+" style='width:"+r.p.tblwidth+"px' role='presentation' aria-labelledby='gbox_"+this.id+"'></table>").append(wt),Rt=!(!r.p.caption||!0!==r.p.hiddengrid),Nt=$("<div class='ui-jqgrid-hbox"+("rtl"===l?"-rtl":"")+"'></div>");wt=null,o.hDiv=document.createElement("div"),o.hDiv.style.width=o.width-Dt+"px",o.hDiv.className=h(p,"headerDiv",!0,"ui-jqgrid-hdiv"),$(o.hDiv).append(Nt),$(Nt).append(Mt),Mt=null,Rt&&$(o.hDiv).hide(),r.p.pager&&("string"==typeof r.p.pager?"#"!==r.p.pager.substr(0,1)&&(r.p.pager="#"+r.p.pager):r.p.pager="#"+$(r.p.pager).attr("id"),$(r.p.pager).css({width:o.width-Dt+"px"}).addClass(h(p,"pagerBox",!0,"ui-jqgrid-pager")).appendTo(k),Rt&&$(r.p.pager).hide(),Z(r.p.pager,"")),!1===r.p.cellEdit&&!0===r.p.hoverrows&&$(r).on({mouseover:function(t){vt=$(t.target).closest("tr.jqgrow"),"ui-subgrid"!==$(vt).attr("class")&&$(vt).addClass(m)},mouseout:function(t){vt=$(t.target).closest("tr.jqgrow"),$(vt).removeClass(m)}}),$(r).before(o.hDiv).on({click:function(t){if(mt=t.target,vt=$(mt,r.rows).closest("tr.jqgrow"),0===$(vt).length||vt[0].className.indexOf(f)>-1||($(mt,r).closest("table.ui-jqgrid-btable").attr("id")||"").replace("_frozen","")!==r.id)return this;var i=$(mt).filter(":enabled").hasClass("cbox"),n=$(r).triggerHandler("jqGridBeforeSelectRow",[vt[0].id,t]);if(n=!1!==n&&"stop"!==n,$.isFunction(r.p.beforeSelectRow)){var o=r.p.beforeSelectRow.call(r,vt[0].id,t);!1!==o&&"stop"!==o||(n=!1)}if("A"!==mt.tagName&&("INPUT"!==mt.tagName&&"TEXTAREA"!==mt.tagName&&"OPTION"!==mt.tagName&&"SELECT"!==mt.tagName||i))if(Pt=vt[0].id,(mt=$(mt).closest("tr.jqgrow>td")).length>0&&(Ot=$.jgrid.getCellIndex(mt)),!0!==r.p.cellEdit){if(mt.length>0&&(Ft=$(mt).closest("td,th").html(),$(r).triggerHandler("jqGridCellSelect",[Pt,Ot,Ft,t]),$.isFunction(r.p.onCellSelect)&&r.p.onCellSelect.call(r,Pt,Ot,Ft,t)),n)if(r.p.multimail&&r.p.multiselect){if(t.shiftKey){if(i){var s=$(r).jqGrid("getGridParam","selrow"),a=$(r).jqGrid("getInd",Pt),l=$(r).jqGrid("getInd",s),c="",u="";a>l?(c=s,u=Pt):(c=Pt,u=s);var d=!1,h=!1,p=!0;return $.inArray(Pt,r.p.selarrrow)>-1&&(p=!1),$.each($(this).getDataIDs(),(function(t,e){return(h=e===c||h)&&$(r).jqGrid("resetSelection",e),e!==u})),p&&$.each($(this).getDataIDs(),(function(t,e){return(d=e===c||d)&&$(r).jqGrid("setSelection",e,!1),e!==u})),void(r.p.selrow=a>l?u:c)}window.getSelection().removeAllRanges()}e(Pt,i,t,!1)}else r.p.multikey?t[r.p.multikey]?$(r).jqGrid("setSelection",Pt,!0,t):r.p.multiselect&&i&&(i=$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+Pt).is(":checked"),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+Pt)[r.p.useProp?"prop":"attr"]("checked",!i)):e(Pt,i,t,!0)}else if(r.p.multiselect&&i&&n)$(r).jqGrid("setSelection",Pt,!0,t);else if(mt.length>0)try{$(r).jqGrid("editCell",vt[0].rowIndex,Ot,!0,t)}catch(t){}},reloadGrid:function(t,e){if(!0===r.p.treeGrid&&(r.p.datatype=r.p.treedatatype),(e=e||{}).current&&r.grid.selectionPreserver(r),"local"===r.p.datatype?($(r).jqGrid("resetSelection"),r.p.data.length&&(N(),q())):r.p.treeGrid||(r.p.selrow=null,r.p.multiselect&&(r.p.preserveSelection||(r.p.selarrrow=[],J(!1))),r.p.savedRow=[]),r.p.scroll&&R.call(r,!0,!1),e.page){var i=e.page;i>r.p.lastpage&&(i=r.p.lastpage),i<1&&(i=1),r.p.page=i,r.grid.prevRowHeight?r.grid.bDiv.scrollTop=(i-1)*r.grid.prevRowHeight*r.p.rowNum:r.grid.bDiv.scrollTop=0}return r.grid.prevRowHeight&&r.p.scroll&&void 0===e.page?(delete r.p.lastpage,r.grid.populateVisible()):r.grid.populate(),!0===r.p.inlineNav&&$(r).jqGrid("showAddEditButtons"),!1},dblclick:function(t){if(mt=t.target,vt=$(mt,r.rows).closest("tr.jqgrow"),0!==$(vt).length){Pt=vt[0].rowIndex,Ot=$.jgrid.getCellIndex(mt);var e=$(r).triggerHandler("jqGridDblClickRow",[$(vt).attr("id"),Pt,Ot,t]);return null!=e||$.isFunction(r.p.ondblClickRow)&&null!=(e=r.p.ondblClickRow.call(r,$(vt).attr("id"),Pt,Ot,t))?e:void 0}},contextmenu:function(t){if(mt=t.target,vt=$(mt,r.rows).closest("tr.jqgrow"),0!==$(vt).length){r.p.multiselect||$(r).jqGrid("setSelection",vt[0].id,!0,t),Pt=vt[0].rowIndex,Ot=$.jgrid.getCellIndex(mt);var e=$(r).triggerHandler("jqGridRightClickRow",[$(vt).attr("id"),Pt,Ot,t]);return null!=e||$.isFunction(r.p.onRightClickRow)&&null!=(e=r.p.onRightClickRow.call(r,$(vt).attr("id"),Pt,Ot,t))?e:void 0}}}),o.bDiv=document.createElement("div"),_&&"auto"===String(r.p.height).toLowerCase()&&(r.p.height="100%"),$(o.bDiv).append($('<div style="position:relative;"></div>').append("<div></div>").append(this)).addClass("ui-jqgrid-bdiv").css({height:r.p.height+(isNaN(r.p.height)?"":"px"),width:o.width-Dt+"px"}).scroll(o.scrollGrid),$("table:first",o.bDiv).css({width:r.p.tblwidth+"px"}),$.support.tbody||2===$("tbody",this).length&&$("tbody:gt(0)",this).remove(),r.p.multikey&&($.jgrid.msie()?$(o.bDiv).on("selectstart",(function(){return!1})):$(o.bDiv).on("mousedown",(function(){return!1}))),Rt&&$(o.bDiv).hide();var qt=y+" "+h(p,"icon_caption_open",!0),Lt=y+" "+h(p,"icon_caption_close",!0);o.cDiv=document.createElement("div");var zt=!0===r.p.hidegrid?$("<a role='link' class='ui-jqgrid-titlebar-close HeaderButton "+v+"' title='"+($.jgrid.getRegional(r,"defaults.showhide",r.p.showhide)||"")+"' />").hover((function(){zt.addClass(m)}),(function(){zt.removeClass(m)})).append("<span class='ui-jqgrid-headlink "+qt+"'></span>").css("rtl"===l?"left":"right","0px"):"";if($(o.cDiv).append(zt).append("<span class='ui-jqgrid-title'>"+r.p.caption+"</span>").addClass("ui-jqgrid-titlebar ui-jqgrid-caption"+("rtl"===l?"-rtl":"")+" "+h(p,"gridtitleBox",!0)),!0===r.p.menubar){var Ht='<ul id="'+r.p.id+'_menubar" class="ui-search-menu modal-content column-menu ui-menu jqgrid-caption-menu '+b.menu_widget+'" role="menubar" tabindex="0"></ul>';$("#gbox_"+r.p.id).append(Ht),$(o.cDiv).append("<a role='link' class='ui-jqgrid-menubar menubar-"+("rtl"===l?"rtl":"ltr")+"' style=''><span class='colmenuspan "+y+" "+b.icon_toolbar_menu+"'></span></a>"),$(".ui-jqgrid-menubar",o.cDiv).hover((function(){$(this).addClass(m)}),(function(){$(this).removeClass(m)})).on("click",(function(t){var e=$(t.target).position();$("#"+r.p.id+"_menubar").show(),"rtl"===r.p.direction&&$("#"+r.p.id+"_menubar").css({left:e.left-$("#"+r.p.id+"_menubar").width()-20})}))}if($(o.cDiv).insertBefore(o.hDiv),r.p.toolbar[0]){var Bt=h(p,"customtoolbarBox",!0,"ui-userdata");o.uDiv=document.createElement("div"),"top"===r.p.toolbar[1]?$(o.uDiv).insertBefore(o.hDiv):"bottom"===r.p.toolbar[1]&&$(o.uDiv).insertAfter(o.hDiv),"both"===r.p.toolbar[1]?(o.ubDiv=document.createElement("div"),$(o.uDiv).addClass(Bt+" ui-userdata-top").attr("id","t_"+this.id).insertBefore(o.hDiv).width(o.width-Dt),$(o.ubDiv).addClass(Bt+" ui-userdata-bottom").attr("id","tb_"+this.id).insertAfter(o.hDiv).width(o.width-Dt),Rt&&$(o.ubDiv).hide()):$(o.uDiv).width(o.width-Dt).addClass(Bt+" ui-userdata-top").attr("id","t_"+this.id),Rt&&$(o.uDiv).hide()}if(r.p.toppager&&(r.p.toppager=$.jgrid.jqID(r.p.id)+"_toppager",o.topDiv=$("<div id='"+r.p.toppager+"'></div>")[0],r.p.toppager="#"+r.p.toppager,$(o.topDiv).addClass(h(p,"toppagerBox",!0,"ui-jqgrid-toppager")).width(o.width-Dt).insertBefore(o.hDiv),Z(r.p.toppager,"_t")),r.p.footerrow&&(o.sDiv=$("<div class='ui-jqgrid-sdiv'></div>")[0],Nt=$("<div class='ui-jqgrid-hbox"+("rtl"===l?"-rtl":"")+"'></div>"),$(o.sDiv).append(Nt).width(o.width-Dt).insertAfter(o.hDiv),$(Nt).append(At),o.footers=$(".ui-jqgrid-ftable",o.sDiv)[0].rows[0].cells,r.p.rownumbers&&(o.footers[0].className=h(p,"rownumBox",!0,"jqgrid-rownum")),Rt&&$(o.sDiv).hide()),Nt=null,r.p.caption){var Wt=r.p.datatype;!0===r.p.hidegrid&&($(".ui-jqgrid-titlebar-close",o.cDiv).click((function(t){var e,i=$.isFunction(r.p.onHeaderClick),n=".ui-jqgrid-bdiv, .ui-jqgrid-hdiv, .ui-jqgrid-toppager, .ui-jqgrid-pager, .ui-jqgrid-sdiv",s=this;return!0===r.p.toolbar[0]&&("both"===r.p.toolbar[1]&&(n+=", #"+$(o.ubDiv).attr("id")),n+=", #"+$(o.uDiv).attr("id")),e=$(n,"#gview_"+$.jgrid.jqID(r.p.id)).length,"visible"===r.p.gridstate?$(n,"#gbox_"+$.jgrid.jqID(r.p.id)).slideUp("fast",(function(){0==--e&&($("span",s).removeClass(qt).addClass(Lt),r.p.gridstate="hidden",$("#gbox_"+$.jgrid.jqID(r.p.id)).hasClass("ui-resizable")&&$(".ui-resizable-handle","#gbox_"+$.jgrid.jqID(r.p.id)).hide(),$(r).triggerHandler("jqGridHeaderClick",[r.p.gridstate,t]),i&&(Rt||r.p.onHeaderClick.call(r,r.p.gridstate,t)))})):"hidden"===r.p.gridstate&&$(n,"#gbox_"+$.jgrid.jqID(r.p.id)).slideDown("fast",(function(){0==--e&&($("span",s).removeClass(Lt).addClass(qt),Rt&&(r.p.datatype=Wt,K(),Rt=!1),r.p.gridstate="visible",$("#gbox_"+$.jgrid.jqID(r.p.id)).hasClass("ui-resizable")&&$(".ui-resizable-handle","#gbox_"+$.jgrid.jqID(r.p.id)).show(),$(r).triggerHandler("jqGridHeaderClick",[r.p.gridstate,t]),i&&(Rt||r.p.onHeaderClick.call(r,r.p.gridstate,t)))})),!1})),Rt&&(r.p.datatype="local",$(".ui-jqgrid-titlebar-close",o.cDiv).trigger("click")))}else $(o.cDiv).hide(),r.p.toppager||$(o.hDiv).addClass(h(r.p.styleUI+".common","cornertop",!0));if($(o.hDiv).after(o.bDiv).mousemove((function(t){if(o.resizing)return o.dragMove(t),!1})),$(".ui-jqgrid-labels",o.hDiv).on("selectstart",(function(){return!1})),$(document).on("mouseup.jqGrid"+r.p.id,(function(){return!o.resizing||(o.dragEnd(!0),!1)})),"rtl"===r.p.direction&&$(r).on("jqGridAfterGridComplete.setRTLPadding",(function(){var t=o.bDiv.offsetWidth-o.bDiv.clientWidth;r.p.scrollOffset=t,$("div:first",o.hDiv).css({paddingLeft:t+"px"}),o.hDiv.scrollLeft=o.bDiv.scrollLeft})),r.formatCol=A,r.sortData=et,r.updatepager=U,r.refreshIndex=q,r.setHeadCheckBox=J,r.constructTr=L,r.formatter=function(t,e,i,n,r){return I(t,e,i,n,r)},$.extend(o,{populate:K,emptyRows:R,beginReq:V,endReq:Q}),this.grid=o,r.addXmlData=function(t){B(t)},r.addJSONData=function(t){W(t)},r.addLocalData=function(t){return G(t)},r.treeGrid_beforeRequest=function(){z()},r.treeGrid_afterLoadComplete=function(){H()},this.grid.cols=this.rows[0].cells,$.isFunction(r.p.onInitGrid)&&r.p.onInitGrid.call(r),$(r).triggerHandler("jqGridInitGrid"),K(),r.p.hiddengrid=!1,r.p.responsive){var Gt="onorientationchange"in window?"orientationchange":"resize";$(window).on(Gt,(function(){$(r).jqGrid("resizeGrid")}))}}}))},$.jgrid.extend({getGridParam:function(t,e){var i,n=this[0];if(n&&n.grid){if(void 0===e&&"string"!=typeof e&&(e="jqGrid"),i=n.p,"jqGrid"!==e)try{i=$(n).data(e)}catch(t){i=n.p}return t?void 0!==i[t]?i[t]:null:i}},setGridParam:function(t,e){return this.each((function(){if(null==e&&(e=!1),this.grid&&"object"==typeof t)if(!0===e){var i=$.extend({},this.p,t);this.p=i}else $.extend(!0,this.p,t)}))},getGridRowById:function(t){var e;return this.each((function(){try{for(var i=this.rows.length;i--;)if(t.toString()===this.rows[i].id){e=this.rows[i];break}}catch(i){e=$(this.grid.bDiv).find("#"+$.jgrid.jqID(t))}})),e},getDataIDs:function(){var t,e=[],i=0,n=0;return this.each((function(){if((t=this.rows.length)&&t>0)for(;i<t;)$(this.rows[i]).hasClass("jqgrow")&&(e[n]=this.rows[i].id,n++),i++})),e},setSelection:function(t,e,i){return this.each((function(){function n(t){var e=$(d.grid.bDiv)[0].clientHeight,i=$(d.grid.bDiv)[0].scrollTop,n=$(d.rows[t]).position().top,r=d.rows[t].clientHeight;n+r>=e+i?$(d.grid.bDiv)[0].scrollTop=n-(e+i)+r+i:n<e+i&&n<i&&($(d.grid.bDiv)[0].scrollTop=n)}var r,o,s,a,l,c,u,d=this,h=$.jgrid.getMethod("getStyleUI"),p=h(d.p.styleUI+".common","highlight",!0),f=h(d.p.styleUI+".common","disabled",!0);void 0!==t&&(e=!1!==e,!(o=$(d).jqGrid("getGridRowById",t))||!o.className||o.className.indexOf(f)>-1||(!0===d.p.scrollrows&&(s=$(d).jqGrid("getGridRowById",t).rowIndex)>=0&&n(s),!0===d.p.frozenColumns&&(c=d.p.id+"_frozen"),d.p.multiselect?(d.setHeadCheckBox(!1),d.p.selrow=o.id,-1===(a=$.inArray(d.p.selrow,d.p.selarrrow))?("ui-subgrid"!==o.className&&$(o).addClass(p).attr("aria-selected","true"),r=!0,d.p.selarrrow.push(d.p.selrow)):-1!==a&&"_sp_"===i?("ui-subgrid"!==o.className&&$(o).addClass(p).attr("aria-selected","true"),r=!0):("ui-subgrid"!==o.className&&$(o).removeClass(p).attr("aria-selected","false"),r=!1,d.p.selarrrow.splice(a,1),l=d.p.selarrrow[0],d.p.selrow=void 0===l?null:l),$("#jqg_"+$.jgrid.jqID(d.p.id)+"_"+$.jgrid.jqID(o.id))[d.p.useProp?"prop":"attr"]("checked",r),c&&(-1===a?$("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(c)).addClass(p):$("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(c)).removeClass(p),$("#jqg_"+$.jgrid.jqID(d.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(c))[d.p.useProp?"prop":"attr"]("checked",r)),e&&($(d).triggerHandler("jqGridSelectRow",[o.id,r,i]),d.p.onSelectRow&&d.p.onSelectRow.call(d,o.id,r,i))):"ui-subgrid"!==o.className&&(d.p.selrow!==o.id?((u=$(d).jqGrid("getGridRowById",d.p.selrow))&&$(u).removeClass(p).attr({"aria-selected":"false",tabindex:"-1"}),$(o).addClass(p).attr({"aria-selected":"true",tabindex:"0"}),c&&($("#"+$.jgrid.jqID(d.p.selrow),"#"+$.jgrid.jqID(c)).removeClass(p),$("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(c)).addClass(p)),r=!0):r=!1,d.p.selrow=o.id,e&&($(d).triggerHandler("jqGridSelectRow",[o.id,r,i]),d.p.onSelectRow&&d.p.onSelectRow.call(d,o.id,r,i)))))}))},resetSelection:function(t){return this.each((function(){var e,i,n=this,r=$.jgrid.getMethod("getStyleUI"),o=r(n.p.styleUI+".common","highlight",!0),s=r(n.p.styleUI+".common","hover",!0);if(!0===n.p.frozenColumns&&(i=n.p.id+"_frozen"),void 0!==t){if(e=t===n.p.selrow?n.p.selrow:t,$("#"+$.jgrid.jqID(n.p.id)+" tbody:first tr#"+$.jgrid.jqID(e)).removeClass(o).attr("aria-selected","false"),i&&$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(i)).removeClass(o),n.p.multiselect){$("#jqg_"+$.jgrid.jqID(n.p.id)+"_"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(n.p.id))[n.p.useProp?"prop":"attr"]("checked",!1),i&&$("#jqg_"+$.jgrid.jqID(n.p.id)+"_"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(i))[n.p.useProp?"prop":"attr"]("checked",!1),n.setHeadCheckBox(!1);var a=$.inArray($.jgrid.jqID(e),n.p.selarrrow);-1!==a&&n.p.selarrrow.splice(a,1)}n.p.onUnSelectRow&&n.p.onUnSelectRow.call(n,e),e=null}else n.p.multiselect?($(n.p.selarrrow).each((function(t,e){$($(n).jqGrid("getGridRowById",e)).removeClass(o).attr("aria-selected","false"),$("#jqg_"+$.jgrid.jqID(n.p.id)+"_"+$.jgrid.jqID(e))[n.p.useProp?"prop":"attr"]("checked",!1),i&&($("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(i)).removeClass(o),$("#jqg_"+$.jgrid.jqID(n.p.id)+"_"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(i))[n.p.useProp?"prop":"attr"]("checked",!1)),n.p.onUnSelectRow&&n.p.onUnSelectRow.call(n,e)})),n.setHeadCheckBox(!1),n.p.selarrrow=[],
n.p.selrow=null):n.p.selrow&&($("#"+$.jgrid.jqID(n.p.id)+" tbody:first tr#"+$.jgrid.jqID(n.p.selrow)).removeClass(o).attr("aria-selected","false"),i&&$("#"+$.jgrid.jqID(n.p.selrow),"#"+$.jgrid.jqID(i)).removeClass(o),n.p.onUnSelectRow&&n.p.onUnSelectRow.call(n,n.p.selrow),n.p.selrow=null);!0===n.p.cellEdit&&parseInt(n.p.iCol,10)>=0&&parseInt(n.p.iRow,10)>=0&&($("td:eq("+n.p.iCol+")",n.rows[n.p.iRow]).removeClass("edit-cell "+o),$(n.rows[n.p.iRow]).removeClass("selected-row "+s)),n.p.savedRow=[]}))},getRowData:function(t,e){var i,n,r={},o=!1,s=0;return this.each((function(){var a,l,c=this;if(null==t)o=!0,i=[],n=c.rows.length;else{if(!(l=$(c).jqGrid("getGridRowById",t)))return r;n=1}for(e&&!0===e&&c.p.data.length>0||(e=!1);s<n;)o&&(l=c.rows[s]),$(l).hasClass("jqgrow")&&(e?r=c.p.data[c.p._index[l.id]]:$('td[role="gridcell"]',l).each((function(t){if("cb"!==(a=c.p.colModel[t].name)&&"subgrid"!==a&&"rn"!==a)if(!0===c.p.treeGrid&&a===c.p.ExpandColumn)r[a]=$.jgrid.htmlDecode($("span:first",this).html());else try{r[a]=$.unformat.call(c,this,{rowId:l.id,colModel:c.p.colModel[t]},t)}catch(t){r[a]=$.jgrid.htmlDecode($(this).html())}})),o&&(i.push(r),r={})),s++})),i||r},delRowData:function(t){var e,i,n,r=!1;return this.each((function(){var o=this;if(!(e=$(o).jqGrid("getGridRowById",t)))return!1;if(o.p.subGrid&&((n=$(e).next()).hasClass("ui-subgrid")&&n.remove()),$(e).remove(),o.p.records--,o.p.reccount--,o.updatepager(!0,!1),r=!0,o.p.multiselect&&-1!==(i=$.inArray(t,o.p.selarrrow))&&o.p.selarrrow.splice(i,1),o.p.multiselect&&o.p.selarrrow.length>0?o.p.selrow=o.p.selarrrow[o.p.selarrrow.length-1]:o.p.selrow===t&&(o.p.selrow=null),"local"===o.p.datatype){var s=$.jgrid.stripPref(o.p.idPrefix,t),a=o.p._index[s];void 0!==a&&(o.p.data.splice(a,1),o.refreshIndex())}})),r},setRowData:function(t,e,i){var n,r,o=!0;return this.each((function(){if(!this.grid)return!1;var s,a,l=this,c=typeof i,u={};if(!(a=$(this).jqGrid("getGridRowById",t)))return!1;if(e)try{if($(this.p.colModel).each((function(i){n=this.name;var o=$.jgrid.getAccessor(e,n);void 0!==o&&(u[n]=this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?$.unformat.date.call(l,o,this):o,s=l.formatter(t,u[n],i,e,"edit"),r=this.title?{title:$.jgrid.stripHtml(s)}:{},!0===l.p.treeGrid&&n===l.p.ExpandColumn?$("td[role='gridcell']:eq("+i+") > span:first",a).html(s).attr(r):$("td[role='gridcell']:eq("+i+")",a).html(s).attr(r))})),"local"===l.p.datatype){var d,h=$.jgrid.stripPref(l.p.idPrefix,t),p=l.p._index[h];if(l.p.treeGrid)for(d in l.p.treeReader)l.p.treeReader.hasOwnProperty(d)&&delete u[l.p.treeReader[d]];void 0!==p&&(l.p.data[p]=$.extend(!0,l.p.data[p],u)),u=null}}catch(t){o=!1}o&&("string"===c?$(a).addClass(i):null!==i&&"object"===c&&$(a).css(i),$(l).triggerHandler("jqGridAfterGridComplete"))})),o},addRowData:function(t,e,i,n){-1===$.inArray(i,["first","last","before","after"])&&(i="last");var r,o,s,a,l,c,u,d,h,p,f,g,m,v=!1,y="",b="",_="";return e&&($.isArray(e)?(h=!0,p=t):(e=[e],h=!1),this.each((function(){var w=this,x=e.length;l=!0===w.p.rownumbers?1:0,s=!0===w.p.multiselect?1:0,a=!0===w.p.subGrid?1:0,h||(void 0!==t?t=String(t):(t=$.jgrid.randId(),!1!==w.p.keyName&&(p=w.p.keyName,void 0!==e[0][p]&&(t=e[0][p]))));var C=0,k=$(w).jqGrid("getStyleUI",w.p.styleUI+".base","rowBox",!0,"jqgrow ui-row-"+w.p.direction),S={},j=!!$.isFunction(w.p.afterInsertRow);for(l&&(y=$(w).jqGrid("getStyleUI",w.p.styleUI+".base","rownumBox",!1,"jqgrid-rownum")),s&&(b=$(w).jqGrid("getStyleUI",w.p.styleUI+".base","multiBox",!1,"cbox"));C<x;){if(f=e[C],o=[],h)try{void 0===(t=f[p])&&(t=$.jgrid.randId())}catch(e){t=$.jgrid.randId()}for(m=t,t=w.p.idPrefix+t,l&&(_=w.formatCol(0,1,"",null,t,!0),o[o.length]='<td role="gridcell" '+y+" "+_+">0</td>"),s&&(d='<input role="checkbox" type="checkbox" id="jqg_'+w.p.id+"_"+t+'" '+b+"/>",_=w.formatCol(l,1,"",null,t,!0),o[o.length]='<td role="gridcell" '+_+">"+d+"</td>"),a&&(o[o.length]=$(w).jqGrid("addSubGridCell",s+l,1)),u=s+a+l;u<w.p.colModel.length;u++)g=w.p.colModel[u],S[r=g.name]=f[r],d=w.formatter(t,$.jgrid.getAccessor(f,r),u,f),_=w.formatCol(u,1,d,f,t,S),o[o.length]='<td role="gridcell" '+_+">"+d+"</td>";if(o.unshift(w.constructTr(t,!1,k,S,f)),o[o.length]="</tr>",0===w.rows.length)$("table:first",w.grid.bDiv).append(o.join(""));else switch(i){case"last":$(w.rows[w.rows.length-1]).after(o.join("")),c=w.rows.length-1;break;case"first":$(w.rows[0]).after(o.join("")),c=1;break;case"after":(c=$(w).jqGrid("getGridRowById",n))&&($(w.rows[c.rowIndex+1]).hasClass("ui-subgrid")?$(w.rows[c.rowIndex+1]).after(o):$(c).after(o.join("")),c=c.rowIndex+1);break;case"before":(c=$(w).jqGrid("getGridRowById",n))&&($(c).before(o.join("")),c=c.rowIndex-1)}!0===w.p.subGrid&&$(w).jqGrid("addSubGrid",s+l,c),w.p.records++,w.p.reccount++,$(w).triggerHandler("jqGridAfterInsertRow",[t,f,f]),j&&w.p.afterInsertRow.call(w,t,f,f),C++,"local"===w.p.datatype&&(S[w.p.localReader.id]=m,w.p._index[m]=w.p.data.length,w.p.data.push(S),S={})}w.updatepager(!0,!0),v=!0}))),v},footerData:function(t,e,i){function n(t){var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}var r,o,s=!1,a={};return void 0===t&&(t="get"),"boolean"!=typeof i&&(i=!0),t=t.toLowerCase(),this.each((function(){var l,c=this;return!(!c.grid||!c.p.footerrow)&&("set"!==t||!n(e))&&(s=!0,void $(this.p.colModel).each((function(n){r=this.name,"set"===t?void 0!==e[r]&&(l=i?c.formatter("",e[r],n,e,"edit"):e[r],o=this.title?{title:$.jgrid.stripHtml(l)}:{},$("tr.footrow td:eq("+n+")",c.grid.sDiv).html(l).attr(o),s=!0):"get"===t&&(a[r]=$("tr.footrow td:eq("+n+")",c.grid.sDiv).html())})))})),"get"===t?a:s},showHideCol:function(t,e){return this.each((function(){var i,n=this,r=!1,o=$.jgrid.cell_width?0:n.p.cellLayout;if(n.grid){"string"==typeof t&&(t=[t]);var s=""===(e="none"!==e?"":"none"),a=n.p.groupHeader&&($.isArray(n.p.groupHeader)||$.isFunction(n.p.groupHeader));if(a&&$(n).jqGrid("destroyGroupHeader",!1),$(this.p.colModel).each((function(a){if(-1!==$.inArray(this.name,t)&&this.hidden===s){if(!0===n.p.frozenColumns&&!0===this.frozen)return!0;$("tr[role=row]",n.grid.hDiv).each((function(){$(this.cells[a]).css("display",e)})),$(n.rows).each((function(){$(this).hasClass("jqgroup")||$(this.cells[a]).css("display",e)})),n.p.footerrow&&$("tr.footrow td:eq("+a+")",n.grid.sDiv).css("display",e),i=parseInt(this.width,10),"none"===e?n.p.tblwidth-=i+o:n.p.tblwidth+=i+o,this.hidden=!s,r=!0,$(n).triggerHandler("jqGridShowHideCol",[s,this.name,a])}})),!0===r&&(!0!==n.p.shrinkToFit||isNaN(n.p.height)||(n.p.tblwidth+=parseInt(n.p.scrollOffset,10)),$(n).jqGrid("setGridWidth",!0===n.p.shrinkToFit?n.p.tblwidth:n.p.width)),a){var l=$.extend([],n.p.groupHeader);n.p.groupHeader=null;for(var c=0;c<l.length;c++)$(n).jqGrid("setGroupHeaders",l[c])}}}))},hideCol:function(t){return this.each((function(){$(this).jqGrid("showHideCol",t,"none")}))},showCol:function(t){return this.each((function(){$(this).jqGrid("showHideCol",t,"")}))},remapColumns:function(t,e,i){function n(e){var i;i=e.length?$.makeArray(e):$.extend({},e),$.each(t,(function(t){e[t]=i[this]}))}function r(e,i){$(">tr"+(i||""),e).each((function(){var e=this,i=$.makeArray(e.cells);$.each(t,(function(){var t=i[this];t&&e.appendChild(t)}))}))}var o=this.get(0);n(o.p.colModel),n(o.p.colNames),n(o.grid.headers),r($("thead:first",o.grid.hDiv),i&&":not(.ui-jqgrid-labels)"),e&&r($("#"+$.jgrid.jqID(o.p.id)+" tbody:first"),".jqgfirstrow, tr.jqgrow, tr.jqfoot"),o.p.footerrow&&r($("tbody:first",o.grid.sDiv)),o.p.remapColumns&&(o.p.remapColumns.length?n(o.p.remapColumns):o.p.remapColumns=$.makeArray(t)),o.p.lastsort=$.inArray(o.p.lastsort,t),o.p.treeGrid&&(o.p.expColInd=$.inArray(o.p.expColInd,t)),$(o).triggerHandler("jqGridRemapColumns",[t,e,i])},setGridWidth:function(t,e){return this.each((function(){if(this.grid){var i,n,r,o,s=this,a=0,l=$.jgrid.cell_width?0:s.p.cellLayout,c=0,u=!1,d=s.p.scrollOffset,h=0,p=-1===s.p.styleUI.search("Bootstrap")||isNaN(s.p.height)?0:2;if("boolean"!=typeof e&&(e=s.p.shrinkToFit),!isNaN(t)){if(t=parseInt(t,10),s.grid.width=s.p.width=t,$("#gbox_"+$.jgrid.jqID(s.p.id)).css("width",t+"px"),$("#gview_"+$.jgrid.jqID(s.p.id)).css("width",t+"px"),$(s.grid.bDiv).css("width",t-p+"px"),$(s.grid.hDiv).css("width",t-p+"px"),s.p.pager&&$(s.p.pager).css("width",t-p+"px"),s.p.toppager&&$(s.p.toppager).css("width",t-p+"px"),!0===s.p.toolbar[0]&&($(s.grid.uDiv).css("width",t-p+"px"),"both"===s.p.toolbar[1]&&$(s.grid.ubDiv).css("width",t-p+"px")),s.p.footerrow&&$(s.grid.sDiv).css("width",t-p+"px"),!1===e&&!0===s.p.forceFit&&(s.p.forceFit=!1),!0===e){if($.each(s.p.colModel,(function(){!1===this.hidden&&(i=this.widthOrg,a+=i+l,this.fixed?h+=i+l:c++)})),0===c)return;s.p.tblwidth=a,r=t-l*c-h,isNaN(s.p.height)||($(s.grid.bDiv)[0].clientHeight<$(s.grid.bDiv)[0].scrollHeight||1===s.rows.length||"scroll"===$(s.grid.bDiv).css("overflow-y"))&&(u=!0,r-=d),a=0;var f=s.grid.cols.length>0;if($.each(s.p.colModel,(function(t){if(!1===this.hidden&&!this.fixed){if(i=this.widthOrg,(i=Math.round(r*i/(s.p.tblwidth-l*c-h)))<0)return;this.width=i,a+=i,s.grid.headers[t].width=i,s.grid.headers[t].el.style.width=i+"px",s.p.footerrow&&(s.grid.footers[t].style.width=i+"px"),f&&(s.grid.cols[t].style.width=i+"px"),n=t}})),!n)return;if(o=0,u?t-h-(a+l*c)!==d&&(o=t-h-(a+l*c)-d):u||0===Math.abs(t-h-(a+l*c))||(o=t-h-(a+l*c)-p),s.p.colModel[n].width+=o,s.p.tblwidth=a+o+l*c+h,s.p.tblwidth>t){var g=s.p.tblwidth-parseInt(t,10);s.p.tblwidth=t,i=s.p.colModel[n].width=s.p.colModel[n].width-g}else i=s.p.colModel[n].width;s.grid.headers[n].width=i,s.grid.headers[n].el.style.width=i+"px",f&&(s.grid.cols[n].style.width=i+"px"),s.p.footerrow&&(s.grid.footers[n].style.width=i+"px")}s.p.tblwidth&&($("table:first",s.grid.bDiv).css("width",s.p.tblwidth+"px"),$("table:first",s.grid.hDiv).css("width",s.p.tblwidth+"px"),s.grid.hDiv.scrollLeft=s.grid.bDiv.scrollLeft,s.p.footerrow&&$("table:first",s.grid.sDiv).css("width",s.p.tblwidth+"px"))}}}))},setGridHeight:function(t){return this.each((function(){var e=this;if(e.grid){var i=$(e.grid.bDiv);i.css({height:t+(isNaN(t)?"":"px")}),!0===e.p.frozenColumns&&$("#"+$.jgrid.jqID(e.p.id)+"_frozen").parent().height(i.height()-16),e.p.height=t,e.p.scroll&&e.grid.populateVisible()}}))},setCaption:function(t){return this.each((function(){var e=$(this).jqGrid("getStyleUI",this.p.styleUI+".common","cornertop",!0);this.p.caption=t,$(".ui-jqgrid-title, .ui-jqgrid-title-rtl",this.grid.cDiv).html(t),$(this.grid.cDiv).show(),$(this.grid.hDiv).removeClass(e)}))},setLabel:function(t,e,i,n){return this.each((function(){var r=this,o=-1;if(r.grid&&null!=t&&(isNaN(t)?$(r.p.colModel).each((function(e){if(this.name===t)return o=e,!1})):o=parseInt(t,10),o>=0)){var s=$("tr.ui-jqgrid-labels th:eq("+o+")",r.grid.hDiv);if(e){var a=$(".s-ico",s);$("[id^=jqgh_]",s).empty().html(e).append(a),r.p.colNames[o]=e}i&&("string"==typeof i?$(s).addClass(i):$(s).css(i)),"object"==typeof n&&$(s).attr(n)}}))},setSortIcon:function(t,e){return this.each((function(){var i=this,n=-1;if(i.grid&&null!=t&&(isNaN(t)?$(i.p.colModel).each((function(e){if(this.name===t)return n=e,!1})):n=parseInt(t,10),n>=0)){var r=$("tr.ui-jqgrid-labels th:eq("+n+")",i.grid.hDiv);"left"===e?r.find(".s-ico").css("float","left"):r.find(".s-ico").css("float","none")}}))},setCell:function(t,e,i,n,r,o){return this.each((function(){var s,a,l=this,c=-1;if(l.grid&&(isNaN(e)?$(l.p.colModel).each((function(t){if(this.name===e)return c=t,!1})):c=parseInt(e,10),c>=0)){var u=$(l).jqGrid("getGridRowById",t);if(u){var d,h=0,p=[];try{d=u.cells[c]}catch(t){}if(d){if(""!==i||!0===o){if("local"===l.p.datatype)p=$(l).jqGrid("getLocalRow",t);else if(void 0!==u.cells)for(;h<u.cells.length;)s=$.unformat.call(l,$(u.cells[h]),{rowId:u.id,colModel:l.p.colModel[h]},h),p.push(s),h++;if(s=l.formatter(t,i,c,p,"edit"),a=l.p.colModel[c].title?{title:$.jgrid.stripHtml(s)}:{},l.p.treeGrid&&$(".tree-wrap",$(d)).length>0?$("span",$(d)).html(s).attr(a):$(d).html(s).attr(a),"local"===l.p.datatype){var f,g=l.p.colModel[c];i=g.formatter&&"string"==typeof g.formatter&&"date"===g.formatter?$.unformat.date.call(l,i,g):i,void 0!==(f=l.p._index[$.jgrid.stripPref(l.p.idPrefix,t)])&&(l.p.data[f][g.name]=i)}}"string"==typeof n?$(d).addClass(n):n&&$(d).css(n),"object"==typeof r&&$(d).attr(r)}}}}))},getCell:function(t,e,i){var n,r=!1;return void 0===i&&(i=!1),this.each((function(){var o,s,a=this,l=-1;if(a.grid&&(o=e,isNaN(e)?$(a.p.colModel).each((function(t){if(this.name===e)return o=this.name,l=t,!1})):l=parseInt(e,10),l>=0&&(s=$(a).jqGrid("getGridRowById",t))))if(n=$("td:eq("+l+")",s),i)r=n;else{try{r=$.unformat.call(a,n,{rowId:s.id,colModel:a.p.colModel[l]},l)}catch(t){r=$.jgrid.htmlDecode(n.html())}a.p.treeGrid&&r&&a.p.ExpandColumn===o&&(r=$("<div>"+r+"</div>").find("span:first").html())}})),r},getCol:function(t,e,i){var n,r,o,s,a=[],l=0;return e="boolean"==typeof e&&e,void 0===i&&(i=!1),this.each((function(){var c=this,u=-1;if(c.grid&&(isNaN(t)?$(c.p.colModel).each((function(e){if(this.name===t)return u=e,!1})):u=parseInt(t,10),u>=0)){var d=c.rows.length,h=0,p=0;if(d&&d>0){for(;h<d;){if($(c.rows[h]).hasClass("jqgrow")){try{n=$.unformat.call(c,$(c.rows[h].cells[u]),{rowId:c.rows[h].id,colModel:c.p.colModel[u]},u)}catch(t){n=$.jgrid.htmlDecode(c.rows[h].cells[u].innerHTML)}i?(s=parseFloat(n),isNaN(s)||(l+=s,void 0===o&&(o=r=s),r=Math.min(r,s),o=Math.max(o,s),p++)):e?a.push({id:c.rows[h].id,value:n}):a.push(n)}h++}if(i)switch(i.toLowerCase()){case"sum":a=l;break;case"avg":a=l/p;break;case"count":a=d-1;break;case"min":a=r;break;case"max":a=o}}}})),a},clearGridData:function(t){return this.each((function(){var e=this;if(e.grid){if("boolean"!=typeof t&&(t=!1),e.p.deepempty)$("#"+$.jgrid.jqID(e.p.id)+" tbody:first tr:gt(0)").remove();else{var i=$("#"+$.jgrid.jqID(e.p.id)+" tbody:first tr:first")[0];$("#"+$.jgrid.jqID(e.p.id)+" tbody:first").empty().append(i)}e.p.footerrow&&t&&$(".ui-jqgrid-ftable td",e.grid.sDiv).html("&#160;"),e.p.selrow=null,e.p.selarrrow=[],e.p.savedRow=[],e.p.records=0,e.p.page=1,e.p.lastpage=0,e.p.reccount=0,e.p.data=[],e.p._index={},e.p.groupingView._locgr=!1,e.updatepager(!0,!1)}}))},getInd:function(t,e){var i,n=!1;return this.each((function(){(i=$(this).jqGrid("getGridRowById",t))&&(n=!0===e?i:i.rowIndex)})),n},bindKeys:function(t){var e=$.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},t||{});return this.each((function(){var t=this;$("body").is("[role]")||$("body").attr("role","application"),t.p.scrollrows=e.scrollingRows,$(t).on("keydown",(function(i){var n,r,o,s=$(t).find("tr[tabindex=0]")[0],a=t.p.treeReader.expanded_field;if(s){var l=t.p.selrow;if(o=t.p._index[$.jgrid.stripPref(t.p.idPrefix,s.id)],37===i.keyCode||38===i.keyCode||39===i.keyCode||40===i.keyCode){if(38===i.keyCode){if(n="",(r=s.previousSibling)&&$(r).hasClass("jqgrow")){if($(r).is(":hidden")){for(;r;)if(r=r.previousSibling,!$(r).is(":hidden")&&$(r).hasClass("jqgrow")){n=r.id;break}}else n=r.id;$(t).jqGrid("setSelection",n,!0,i)}$(t).triggerHandler("jqGridKeyUp",[n,l,i]),$.isFunction(e.onUpKey)&&e.onUpKey.call(t,n,l,i),i.preventDefault()}if(40===i.keyCode){if(n="",(r=s.nextSibling)&&$(r).hasClass("jqgrow")){if($(r).is(":hidden")){for(;r;)if(r=r.nextSibling,!$(r).is(":hidden")&&$(r).hasClass("jqgrow")){n=r.id;break}}else n=r.id;$(t).jqGrid("setSelection",n,!0,i)}$(t).triggerHandler("jqGridKeyDown",[n,l,i]),$.isFunction(e.onDownKey)&&e.onDownKey.call(t,n,l,i),i.preventDefault()}37===i.keyCode&&(t.p.treeGrid&&t.p.data[o][a]&&$(s).find("div.treeclick").trigger("click"),$(t).triggerHandler("jqGridKeyLeft",[t.p.selrow,i]),$.isFunction(e.onLeftKey)&&e.onLeftKey.call(t,t.p.selrow,i)),39===i.keyCode&&(t.p.treeGrid&&!t.p.data[o][a]&&$(s).find("div.treeclick").trigger("click"),$(t).triggerHandler("jqGridKeyRight",[t.p.selrow,i]),$.isFunction(e.onRightKey)&&e.onRightKey.call(t,t.p.selrow,i))}else 13===i.keyCode?($(t).triggerHandler("jqGridKeyEnter",[t.p.selrow,i]),$.isFunction(e.onEnter)&&e.onEnter.call(t,t.p.selrow,i)):32===i.keyCode&&($(t).triggerHandler("jqGridKeySpace",[t.p.selrow,i]),$.isFunction(e.onSpace)&&e.onSpace.call(t,t.p.selrow,i))}})).on("click",(function(e){$(e.target).is("input, textarea, select")||$(e.target,t.rows).closest("tr.jqgrow").focus()}))}))},unbindKeys:function(){return this.each((function(){$(this).off("keydown")}))},getLocalRow:function(t){var e,i=!1;return this.each((function(){void 0!==t&&(e=this.p._index[$.jgrid.stripPref(this.p.idPrefix,t)])>=0&&(i=this.p.data[e])})),i},progressBar:function(t){return t=$.extend({htmlcontent:"",method:"hide",loadtype:"disable"},t||{}),this.each((function(){var e,i,n="show"===t.method,r=$("#load_"+$.jgrid.jqID(this.p.id)),o=$(window).scrollTop();switch(""!==t.htmlcontent&&r.html(t.htmlcontent),t.loadtype){case"disable":break;case"enable":r.toggle(n);break;case"block":$("#lui_"+$.jgrid.jqID(this.p.id)).css(n?{top:0,left:0,height:$("#gbox_"+$.jgrid.jqID(this.p.id)).height(),width:$("#gbox_"+$.jgrid.jqID(this.p.id)).width(),"z-index":1e4,position:"absolute"}:{}).toggle(n),r.toggle(n)}r.is(":visible")&&(e=r.offsetParent(),r.css("top",""),r.offset().top<o&&(i=Math.min(10+o-e.offset().top,e.height()-r.height()),r.css("top",i+"px")))}))},getColProp:function(t){var e={},i=this[0];if(!i.grid)return!1;var n,r=i.p.colModel;for(n=0;n<r.length;n++)if(r[n].name===t){e=r[n];break}return e},setColProp:function(t,e){return this.each((function(){if(this.grid&&$.isPlainObject(e)){var i,n=this.p.colModel;for(i=0;i<n.length;i++)if(n[i].name===t){$.extend(!0,this.p.colModel[i],e);break}}}))},sortGrid:function(t,e,i){return this.each((function(){var n,r=this,o=-1,s=!1;if(r.grid){for(t||(t=r.p.sortname),n=0;n<r.p.colModel.length;n++)if(r.p.colModel[n].index===t||r.p.colModel[n].name===t){o=n,!0===r.p.frozenColumns&&!0===r.p.colModel[n].frozen&&(s=r.grid.fhDiv.find("#"+r.p.id+"_"+t));break}if(-1!==o){var a=r.p.colModel[o].sortable;s||(s=r.grid.headers[o].el),"boolean"!=typeof a&&(a=!0),"boolean"!=typeof e&&(e=!1),a&&r.sortData("jqgh_"+r.p.id+"_"+t,o,e,i,s)}}}))},setGridState:function(t){return this.each((function(){if(this.grid){var e=this,i=$(this).jqGrid("getStyleUI",this.p.styleUI+".base","icon_caption_open",!0),n=$(this).jqGrid("getStyleUI",this.p.styleUI+".base","icon_caption_close",!0);"hidden"===t?($(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+$.jgrid.jqID(e.p.id)).slideUp("fast"),e.p.pager&&$(e.p.pager).slideUp("fast"),e.p.toppager&&$(e.p.toppager).slideUp("fast"),!0===e.p.toolbar[0]&&("both"===e.p.toolbar[1]&&$(e.grid.ubDiv).slideUp("fast"),$(e.grid.uDiv).slideUp("fast")),e.p.footerrow&&$(".ui-jqgrid-sdiv","#gbox_"+$.jgrid.jqID(e.p.id)).slideUp("fast"),$(".ui-jqgrid-headlink",e.grid.cDiv).removeClass(i).addClass(n),e.p.gridstate="hidden"):"visible"===t&&($(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+$.jgrid.jqID(e.p.id)).slideDown("fast"),e.p.pager&&$(e.p.pager).slideDown("fast"),e.p.toppager&&$(e.p.toppager).slideDown("fast"),!0===e.p.toolbar[0]&&("both"===e.p.toolbar[1]&&$(e.grid.ubDiv).slideDown("fast"),$(e.grid.uDiv).slideDown("fast")),e.p.footerrow&&$(".ui-jqgrid-sdiv","#gbox_"+$.jgrid.jqID(e.p.id)).slideDown("fast"),$(".ui-jqgrid-headlink",e.grid.cDiv).removeClass(n).addClass(i),e.p.gridstate="visible")}}))},setFrozenColumns:function(){return this.each((function(){if(this.grid){var t=this,e=t.p.colModel,i=0,n=e.length,r=-1,o=!1,s=$(t).jqGrid("getStyleUI",t.p.styleUI+".base","headerDiv",!0,"ui-jqgrid-hdiv"),a=$(t).jqGrid("getStyleUI",t.p.styleUI+".common","hover",!0),l="border-box"===$("#gbox_"+$.jgrid.jqID(t.p.id)).css("box-sizing"),c=l?1:0;if(!0!==t.p.subGrid&&!0!==t.p.treeGrid&&!0!==t.p.cellEdit&&!t.p.scroll){for(;i<n&&!0===e[i].frozen;)o=!0,r=i,i++;if(r>=0&&o){var u=t.p.caption?$(t.grid.cDiv).outerHeight():0,d=parseInt($(".ui-jqgrid-htable","#gview_"+$.jgrid.jqID(t.p.id)).height(),10),h=parseInt($(".ui-jqgrid-hdiv","#gview_"+$.jgrid.jqID(t.p.id)).height(),10);t.p.toppager&&(u+=$(t.grid.topDiv).outerHeight()),!0===t.p.toolbar[0]&&"bottom"!==t.p.toolbar[1]&&(u+=$(t.grid.uDiv).outerHeight()),t.grid.fhDiv=$('<div style="position:absolute;'+("rtl"===t.p.direction?"right:0;":"left:0;")+"top:"+u+"px;height:"+(h-c)+'px;" class="frozen-div '+s+'"></div>'),t.grid.fbDiv=$('<div style="position:absolute;'+("rtl"===t.p.direction?"right:0;":"left:0;")+"top:"+(parseInt(u,10)+parseInt(h,10)+1-c)+'px;overflow-y:hidden" class="frozen-bdiv ui-jqgrid-bdiv"></div>'),$("#gview_"+$.jgrid.jqID(t.p.id)).append(t.grid.fhDiv);var p=$(".ui-jqgrid-htable","#gview_"+$.jgrid.jqID(t.p.id)).clone(!0);if(t.p.groupHeader){$("tr.jqg-first-row-header, tr.jqg-third-row-header",p).each((function(){$("th:gt("+r+")",this).remove()}));var f,g=-1,m=-1;$("tr.jqg-second-row-header th",p).each((function(){if(f=parseInt($(this).attr("colspan"),10),parseInt($(this).attr("rowspan"),10)&&(g++,m++),f&&(g+=f,m++),g===r)return m=r,!1})),g!==r&&(m=r),$("tr.jqg-second-row-header",p).each((function(){$("th:gt("+m+")",this).remove()}))}else{var v=[];$(".ui-jqgrid-htable tr","#gview_"+$.jgrid.jqID(t.p.id)).each((function(){v.push(parseInt($(this).height(),10))})),$("tr",p).each((function(){$("th:gt("+r+")",this).remove()})),$("tr",p).each((function(t){$(this).height(v[t])}))}if($(p).width(1),$.jgrid.msie()||$(p).css("height","100%"),$(t.grid.fhDiv).append(p).mousemove((function(e){if(t.grid.resizing)return t.grid.dragMove(e),!1})),t.p.footerrow){var y=$(".ui-jqgrid-bdiv","#gview_"+$.jgrid.jqID(t.p.id)).height();t.grid.fsDiv=$('<div style="position:absolute;left:0px;top:'+(parseInt(u,10)+parseInt(d,10)+parseInt(y,10)+1-c)+'px;" class="frozen-sdiv ui-jqgrid-sdiv"></div>'),$("#gview_"+$.jgrid.jqID(t.p.id)).append(t.grid.fsDiv);var b=$(".ui-jqgrid-ftable","#gview_"+$.jgrid.jqID(t.p.id)).clone(!0);$("tr",b).each((function(){$("td:gt("+r+")",this).remove()})),$(b).width(1),$(t.grid.fsDiv).append(b)}$(t).on("jqGridResizeStop.setFrozenColumns",(function(e,i,n){var r=l?"outerWidth":"width",o=$(".ui-jqgrid-htable",t.grid.fhDiv),s=$(".ui-jqgrid-btable",t.grid.fbDiv);if($("th:eq("+n+")",o)[r](i),$("tr:first td:eq("+n+")",s)[r](i),t.p.footerrow){var a=$(".ui-jqgrid-ftable",t.grid.fsDiv);$("tr:first td:eq("+n+")",a)[r](i)}})),$("#gview_"+$.jgrid.jqID(t.p.id)).append(t.grid.fbDiv),$(t.grid.fbDiv).on("mousewheel DOMMouseScroll",(function(e){var i=$(t.grid.bDiv).scrollTop();e.originalEvent.wheelDelta>0||e.originalEvent.detail<0?$(t.grid.bDiv).scrollTop(i-25):$(t.grid.bDiv).scrollTop(i+25),e.preventDefault()})),!0===t.p.hoverrows&&$("#"+$.jgrid.jqID(t.p.id)).off("mouseover mouseout"),$(t).on("jqGridAfterGridComplete.setFrozenColumns",(function(){$("#"+$.jgrid.jqID(t.p.id)+"_frozen").remove(),$(t.grid.fbDiv).height($(t.grid.bDiv)[0].clientHeight);var e=[];$("#"+$.jgrid.jqID(t.p.id)+" tr[role=row].jqgrow").each((function(){e.push($(this).outerHeight())}));var i=$("#"+$.jgrid.jqID(t.p.id)).clone(!0);$("tr[role=row]",i).each((function(){$("td[role=gridcell]:gt("+r+")",this).remove()})),$(i).width(1).attr("id",t.p.id+"_frozen"),$(t.grid.fbDiv).append(i),$("tr[role=row].jqgrow",i).each((function(t){$(this).height(e[t])})),!0===t.p.hoverrows&&($("tr.jqgrow",i).hover((function(){$(this).addClass(a),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(t.p.id)).addClass(a)}),(function(){$(this).removeClass(a),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(t.p.id)).removeClass(a)})),$("tr.jqgrow","#"+$.jgrid.jqID(t.p.id)).hover((function(){$(this).addClass(a),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(t.p.id)+"_frozen").addClass(a)}),(function(){$(this).removeClass(a),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(t.p.id)+"_frozen").removeClass(a)}))),i=null})),t.grid.hDiv.loading||$(t).triggerHandler("jqGridAfterGridComplete"),t.p.frozenColumns=!0}}}}))},destroyFrozenColumns:function(){return this.each((function(){if(this.grid&&!0===this.p.frozenColumns){var t,e=this,i=$(e).jqGrid("getStyleUI",e.p.styleUI+".common","hover",!0);if($(e.grid.fhDiv).remove(),$(e.grid.fbDiv).remove(),e.grid.fhDiv=null,e.grid.fbDiv=null,e.p.footerrow&&($(e.grid.fsDiv).remove(),e.grid.fsDiv=null),$(this).off(".setFrozenColumns"),!0===e.p.hoverrows)$("#"+$.jgrid.jqID(e.p.id)).on({mouseover:function(e){t=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(t).attr("class")&&$(t).addClass(i)},mouseout:function(e){t=$(e.target).closest("tr.jqgrow"),$(t).removeClass(i)}});this.p.frozenColumns=!1}}))},resizeColumn:function(t,e,i){return this.each((function(){var n,r,o=this.grid,s=this.p,a=s.colModel,l=a.length;if("string"==typeof t){for(n=0;n<l;n++)if(a[n].name===t){t=n;break}}else t=parseInt(t,10);if(void 0===i&&(i=!1),(a[t].resizable||i)&&(e=parseInt(e,10),!("number"!=typeof t||t<0||t>a.length-1||"number"!=typeof e||e<s.minColWidth))){if(s.forceFit)for(s.nv=0,n=t+1;n<l;n++)if(!0!==a[n].hidden){s.nv=n-t;break}if(o.resizing={idx:t},r=e-o.headers[t].width,s.forceFit){if(o.headers[t+s.nv].width-r<s.minColWidth)return;o.headers[t+s.nv].newWidth=o.headers[t+s.nv].width-r}o.newWidth=s.tblwidth+r,o.headers[t].newWidth=e,o.dragEnd(!1)}}))},getStyleUI:function(t,e,i,n){var r="",o="";try{var s=t.split(".");switch(i||(r="class=",o='"'),null==n&&(n=""),s.length){case 1:r+=o+$.trim(n+" "+$.jgrid.styleUI[s[0]][e]+o);break;case 2:r+=o+$.trim(n+" "+$.jgrid.styleUI[s[0]][s[1]][e]+o)}}catch(t){r=""}return r},resizeGrid:function(t){return this.each((function(){var e=this;void 0===t&&(t=500),setTimeout((function(){try{var t=$(window).width(),i=$("#gbox_"+$.jgrid.jqID(e.p.id)).parent().width(),n=e.p.width;n=t-i>3?i:t,$("#"+$.jgrid.jqID(e.p.id)).jqGrid("setGridWidth",n)}catch(t){}}),t)}))},colMenuAdd:function(t,e){var i=this[0].p.styleUI,n=$.jgrid.styleUI[i].colmenu;return e=$.extend({title:"Item",icon:n.icon_new_item,funcname:null,position:"last",closeOnRun:!0,exclude:"",id:null},e||{}),this.each((function(){e.colname="all"===t?"_all_":t;var i=this;e.id=null===e.id?$.jgrid.randId():e.id,i.p.colMenuCustom[e.id]=e}))},colMenuDelete:function(t){return this.each((function(){this.p.colMenuCustom.hasOwnProperty(t)&&delete this.p.colMenuCustom[t]}))},menubarAdd:function(t){var e,i,n=this[0].p.styleUI,r=$.jgrid.styleUI[n].common;return this.each((function(){var n=this;if($.isArray(t))for(var o=0;o<t.length;o++){(e=t[o]).id||(e.id=$.jgrid.randId());var s="";e.icon&&(s='<span class="'+r.icon_base+" "+e.icon+'"></span>'),e.position||(e.position="last"),e.closeoncall||(e.closeoncall=!0),e.divider?(i='<li class="ui-menu-item divider" role="separator"></li>',e.cick=null):i='<li class="ui-menu-item" role="presentation"><a id="'+e.id+'" class="g-menu-item" tabindex="0" role="menuitem" ><table class="ui-common-table"><tr><td class="menu_icon">'+s+'</td><td class="menu_text">'+e.title+"</td></tr></table></a></li>","last"===e.position?$("#"+this.p.id+"_menubar").append(i):$("#"+this.p.id+"_menubar").prepend(i)}$("li a","#"+this.p.id+"_menubar").each((function(e,i){$(t).each((function(t,e){if(e.id===i.id&&$.isFunction(e.click))return $(i).on("click",(function(t){e.click.call(n,t)})),!1})),$(this).hover((function(t){$(this).addClass(r.hover),t.stopPropagation()}),(function(){$(this).removeClass(r.hover)}))}))}))},menubarDelete:function(t){return this.each((function(){$("#"+t,"#"+this.p.id+"_menubar").remove()}))}}),$.jgrid.extend({editCell:function(t,e,i,n){return this.each((function(){var r,o,s,a,l=this,c=$(this).jqGrid("getStyleUI",l.p.styleUI+".common","highlight",!0),u=$(this).jqGrid("getStyleUI",l.p.styleUI+".common","hover",!0),d=$(this).jqGrid("getStyleUI",l.p.styleUI+".celledit","inputClass",!0);if(l.grid&&!0===l.p.cellEdit){if(e=parseInt(e,10),l.p.selrow=l.rows[t].id,l.p.knv||$(l).jqGrid("GridNav"),l.p.savedRow.length>0){if(!0===i&&t==l.p.iRow&&e==l.p.iCol)return;$(l).jqGrid("saveCell",l.p.savedRow[0].id,l.p.savedRow[0].ic)}else window.setTimeout((function(){$("#"+$.jgrid.jqID(l.p.knv)).attr("tabindex","-1").focus()}),1);if("subgrid"!==(r=(a=l.p.colModel[e]).name)&&"cb"!==r&&"rn"!==r){try{s=$(l.rows[t].cells[e])}catch(i){s=$("td:eq("+e+")",l.rows[t])}if(parseInt(l.p.iCol,10)>=0&&parseInt(l.p.iRow,10)>=0&&void 0!==l.p.iRowId){var h=$(l).jqGrid("getGridRowById",l.p.iRowId);$(h).removeClass("selected-row "+u).find("td:eq("+l.p.iCol+")").removeClass("edit-cell "+c)}if(s.addClass("edit-cell "+c),$(l.rows[t]).addClass("selected-row "+u),!0!==a.editable||!0!==i||s.hasClass("not-editable-cell")||$.isFunction(l.p.isCellEditable)&&!l.p.isCellEditable.call(l,r,t,e))o=s.html().replace(/\&#160\;/gi,""),$(l).triggerHandler("jqGridCellSelect",[l.rows[t].id,e,o,n]),$.isFunction(l.p.onCellSelect)&&l.p.onCellSelect.call(l,l.rows[t].id,e,o,n);else{try{o=$.unformat.call(l,s,{rowId:l.rows[t].id,colModel:a},e)}catch(t){o=a.edittype&&"textarea"===a.edittype?s.text():s.html()}if(l.p.autoencode&&(o=$.jgrid.htmlDecode(o)),a.edittype||(a.edittype="text"),l.p.savedRow.push({id:t,ic:e,name:r,v:o,rowId:l.rows[t].id}),("&nbsp;"===o||"&#160;"===o||1===o.length&&160===o.charCodeAt(0))&&(o=""),$.isFunction(l.p.formatCell)){var p=l.p.formatCell.call(l,l.rows[t].id,r,o,t,e);void 0!==p&&(o=p)}$(l).triggerHandler("jqGridBeforeEditCell",[l.rows[t].id,r,o,t,e]),$.isFunction(l.p.beforeEditCell)&&l.p.beforeEditCell.call(l,l.rows[t].id,r,o,t,e);var f=$.extend({},a.editoptions||{},{id:t+"_"+r,name:r,rowId:l.rows[t].id,oper:"edit"}),g=$.jgrid.createEl.call(l,a.edittype,f,o,!0,$.extend({},$.jgrid.ajaxOptions,l.p.ajaxSelectOptions||{}));$.inArray(a.edittype,["text","textarea","password","select"])>-1&&$(g).addClass(d),s.html("").append(g).attr("tabindex","0"),$.jgrid.bindEv.call(l,g,f),window.setTimeout((function(){$(g).focus()}),1),$("input, select, textarea",s).on("keydown",(function(i){if(27===i.keyCode&&($("input.hasDatepicker",s).length>0?$(".ui-datepicker").is(":hidden")?$(l).jqGrid("restoreCell",t,e):$("input.hasDatepicker",s).datepicker("hide"):$(l).jqGrid("restoreCell",t,e)),13===i.keyCode&&!i.shiftKey)return $(l).jqGrid("saveCell",t,e),!1;if(9===i.keyCode){if(l.grid.hDiv.loading)return!1;i.shiftKey?!$(l).jqGrid("prevCell",t,e,i)&&l.p.editNextRowCell&&t-1>0&&l.rows[t-1]&&(t--,$(l).jqGrid("prevCell",t,l.p.colModel.length,i)):!$(l).jqGrid("nextCell",t,e,i)&&l.p.editNextRowCell&&l.rows[t+1]&&(t++,$(l).jqGrid("nextCell",t,0,i))}i.stopPropagation()})),$(l).triggerHandler("jqGridAfterEditCell",[l.rows[t].id,r,o,t,e]),$.isFunction(l.p.afterEditCell)&&l.p.afterEditCell.call(l,l.rows[t].id,r,o,t,e)}l.p.iCol=e,l.p.iRow=t,l.p.iRowId=l.rows[t].id}}}))},saveCell:function(t,e){return this.each((function(){var i=this,n=i.p.savedRow.length>=1?0:null,r=$.jgrid.getRegional(this,"errors"),o=$.jgrid.getRegional(this,"edit");if(i.grid&&!0===i.p.cellEdit){if(null!==n){var s,a,l=$(i).jqGrid("getGridRowById",i.p.savedRow[0].rowId),c=$("td:eq("+e+")",l),u=i.p.colModel[e],d=u.name,h=$.jgrid.jqID(d),p=$(c).offset();switch(u.edittype){case"select":if(u.editoptions.multiple){var f=$("#"+t+"_"+h,l),g=[];(s=$(f).val())?s.join(","):s="",$("option:selected",f).each((function(t,e){g[t]=$(e).text()})),a=g.join(",")}else s=$("#"+t+"_"+h+" option:selected",l).val(),a=$("#"+t+"_"+h+" option:selected",l).text();u.formatter&&(a=s);break;case"checkbox":var m=["Yes","No"];u.editoptions&&u.editoptions.value&&(m=u.editoptions.value.split(":")),s=$("#"+t+"_"+h,l).is(":checked")?m[0]:m[1],a=s;break;case"password":case"text":case"textarea":case"button":s=$("#"+t+"_"+h,l).val(),a=s;break;case"custom":try{if(!u.editoptions||!$.isFunction(u.editoptions.custom_value))throw"e1";if(void 0===(s=u.editoptions.custom_value.call(i,$(".customelement",c),"get")))throw"e2";a=s}catch(t){"e1"===t?$.jgrid.info_dialog(r.errcap,"function 'custom_value' "+o.msg.nodefined,o.bClose,{styleUI:i.p.styleUI}):"e2"===t?$.jgrid.info_dialog(r.errcap,"function 'custom_value' "+o.msg.novalue,o.bClose,{styleUI:i.p.styleUI}):$.jgrid.info_dialog(r.errcap,t.message,o.bClose,{styleUI:i.p.styleUI})}}if(a!==i.p.savedRow[n].v){var v=$(i).triggerHandler("jqGridBeforeSaveCell",[i.p.savedRow[n].rowId,d,s,t,e]);if(v&&(s=v,a=v),$.isFunction(i.p.beforeSaveCell)){var y=i.p.beforeSaveCell.call(i,i.p.savedRow[n].rowId,d,s,t,e);y&&(s=y,a=y)}var b=$.jgrid.checkValues.call(i,s,e),_=!1;if(!0===b[0]){var w=$(i).triggerHandler("jqGridBeforeSubmitCell",[i.p.savedRow[n].rowId,d,s,t,e])||{};$.isFunction(i.p.beforeSubmitCell)&&((w=i.p.beforeSubmitCell.call(i,i.p.savedRow[n].rowId,d,s,t,e))||(w={}));var x=$(i).triggerHandler("jqGridOnSubmitCell",[i.p.savedRow[n].rowId,d,s,t,e]);if(void 0===x&&(x=!0),$.isFunction(i.p.onSubmitCell)&&void 0===(x=i.p.onSubmitCell(i.p.savedRow[n].rowId,d,s,t,e))&&(x=!0),!1===x)return;if($("input.hasDatepicker",c).length>0&&$("input.hasDatepicker",c).datepicker("hide"),"remote"===i.p.cellsubmit)if(i.p.cellurl){var C={};i.p.autoencode&&(s=$.jgrid.htmlEncode(s)),u.editoptions&&u.editoptions.NullIfEmpty&&""===s&&(s="null",_=!0),C[d]=s;var k=i.p.prmNames,S=k.id,j=k.oper;C[S]=$.jgrid.stripPref(i.p.idPrefix,i.p.savedRow[n].rowId),C[j]=k.editoper,C=$.extend(w,C),$(i).jqGrid("progressBar",{method:"show",loadtype:i.p.loadui,
htmlcontent:$.jgrid.getRegional(i,"defaults.savetext")}),i.grid.hDiv.loading=!0,$.ajax($.extend({url:i.p.cellurl,data:$.isFunction(i.p.serializeCellData)?i.p.serializeCellData.call(i,C,d):C,type:"POST",complete:function(u,f){if($(i).jqGrid("progressBar",{method:"hide",loadtype:i.p.loadui}),i.grid.hDiv.loading=!1,"success"===f){var g=$(i).triggerHandler("jqGridAfterSubmitCell",[i,u,C[S],d,s,t,e])||[!0,""];!0===g[0]&&$.isFunction(i.p.afterSubmitCell)&&(g=i.p.afterSubmitCell.call(i,u,C[S],d,s,t,e)),!0===g[0]?(_&&(s=""),$(c).empty(),$(i).jqGrid("setCell",i.p.savedRow[n].rowId,e,a,!1,!1,!0),$(c).addClass("dirty-cell"),$(l).addClass("edited"),$(i).triggerHandler("jqGridAfterSaveCell",[i.p.savedRow[n].rowId,d,s,t,e]),$.isFunction(i.p.afterSaveCell)&&i.p.afterSaveCell.call(i,i.p.savedRow[n].rowId,d,s,t,e),i.p.savedRow.splice(0,1)):($(i).triggerHandler("jqGridErrorCell",[u,f]),$.isFunction(i.p.errorCell)?i.p.errorCell.call(i,u,f):$.jgrid.info_dialog(r.errcap,g[1],o.bClose,{styleUI:i.p.styleUI,top:p.top+30,left:p.left,onClose:function(){i.p.restoreCellonFail||$("#"+t+"_"+h,l).focus()}}),i.p.restoreCellonFail&&$(i).jqGrid("restoreCell",t,e))}},error:function(n,s,a){$("#lui_"+$.jgrid.jqID(i.p.id)).hide(),i.grid.hDiv.loading=!1,$(i).triggerHandler("jqGridErrorCell",[n,s,a]),$.isFunction(i.p.errorCell)?i.p.errorCell.call(i,n,s,a):$.jgrid.info_dialog(r.errcap,n.status+" : "+n.statusText+"<br/>"+s,o.bClose,{styleUI:i.p.styleUI,top:p.top+30,left:p.left,onClose:function(){i.p.restoreCellonFail||$("#"+t+"_"+h,l).focus()}}),i.p.restoreCellonFail&&$(i).jqGrid("restoreCell",t,e)}},$.jgrid.ajaxOptions,i.p.ajaxCellOptions||{}))}else try{$.jgrid.info_dialog(r.errcap,r.nourl,o.bClose,{styleUI:i.p.styleUI}),i.p.restoreCellonFail&&$(i).jqGrid("restoreCell",t,e)}catch(t){}"clientArray"===i.p.cellsubmit&&($(c).empty(),$(i).jqGrid("setCell",i.p.savedRow[n].rowId,e,a,!1,!1,!0),$(c).addClass("dirty-cell"),$(l).addClass("edited"),$(i).triggerHandler("jqGridAfterSaveCell",[i.p.savedRow[n].rowId,d,s,t,e]),$.isFunction(i.p.afterSaveCell)&&i.p.afterSaveCell.call(i,i.p.savedRow[n].rowId,d,s,t,e),i.p.savedRow.splice(0,1))}else try{$.isFunction(i.p.validationCell)?i.p.validationCell.call(i,$("#"+t+"_"+h,l),b[1],t,e):(window.setTimeout((function(){$.jgrid.info_dialog(r.errcap,s+" "+b[1],o.bClose,{styleUI:i.p.styleUI,top:p.top+30,left:p.left,onClose:function(){i.p.restoreCellonFail||$("#"+t+"_"+h,l).focus()}})}),50),i.p.restoreCellonFail&&$(i).jqGrid("restoreCell",t,e))}catch(t){alert(b[1])}}else $(i).jqGrid("restoreCell",t,e)}window.setTimeout((function(){$("#"+$.jgrid.jqID(i.p.knv)).attr("tabindex","-1").focus()}),0)}}))},restoreCell:function(t,e){return this.each((function(){var i=this,n=i.p.savedRow.length>=1?0:null;if(i.grid&&!0===i.p.cellEdit){if(null!==n){var r=$(i).jqGrid("getGridRowById",i.p.savedRow[n].rowId),o=$("td:eq("+e+")",r);if($.isFunction($.fn.datepicker))try{$("input.hasDatepicker",o).datepicker("hide")}catch(t){}$(o).empty().attr("tabindex","-1"),$(i).jqGrid("setCell",i.p.savedRow[0].rowId,e,i.p.savedRow[n].v,!1,!1,!0),$(i).triggerHandler("jqGridAfterRestoreCell",[i.p.savedRow[n].rowId,i.p.savedRow[n].v,t,e]),$.isFunction(i.p.afterRestoreCell)&&i.p.afterRestoreCell.call(i,i.p.savedRow[n].rowId,i.p.savedRow[n].v,t,e),i.p.savedRow.splice(0,1)}window.setTimeout((function(){$("#"+i.p.knv).attr("tabindex","-1").focus()}),0)}}))},nextCell:function(t,e,i){var n;return this.each((function(){var r,o=this,s=!1;if(o.grid&&!0===o.p.cellEdit){for(r=e+1;r<o.p.colModel.length;r++)if(!0===o.p.colModel[r].editable&&(!$.isFunction(o.p.isCellEditable)||o.p.isCellEditable.call(o,o.p.colModel[r].name,t,r))){s=r;break}!1!==s?(n=!0,$(o).jqGrid("editCell",t,s,!0,i)):(n=!1,o.p.savedRow.length>0&&$(o).jqGrid("saveCell",t,e))}})),n},prevCell:function(t,e,i){var n;return this.each((function(){var r,o=this,s=!1;if(!o.grid||!0!==o.p.cellEdit)return!1;for(r=e-1;r>=0;r--)if(!0===o.p.colModel[r].editable&&(!$.isFunction(o.p.isCellEditable)||o.p.isCellEditable.call(o,o.p.colModel[r].name,t,r))){s=r;break}!1!==s?(n=!0,$(o).jqGrid("editCell",t,s,!0,i)):(n=!1,o.p.savedRow.length>0&&$(o).jqGrid("saveCell",t,e))})),n},GridNav:function(){return this.each((function(){function t(t,e,n){if("v"===n.substr(0,1)){var r=$(i.grid.bDiv)[0].clientHeight,o=$(i.grid.bDiv)[0].scrollTop,s=i.rows[t].offsetTop+i.rows[t].clientHeight,a=i.rows[t].offsetTop;"vd"===n&&s>=r&&($(i.grid.bDiv)[0].scrollTop=$(i.grid.bDiv)[0].scrollTop+i.rows[t].clientHeight),"vu"===n&&a<o&&($(i.grid.bDiv)[0].scrollTop=$(i.grid.bDiv)[0].scrollTop-i.rows[t].clientHeight)}if("h"===n){var l=$(i.grid.bDiv)[0].clientWidth,c=$(i.grid.bDiv)[0].scrollLeft,u=i.rows[t].cells[e].offsetLeft+i.rows[t].cells[e].clientWidth,d=i.rows[t].cells[e].offsetLeft;u>=l+parseInt(c,10)?$(i.grid.bDiv)[0].scrollLeft=$(i.grid.bDiv)[0].scrollLeft+i.rows[t].cells[e].clientWidth:d<c&&($(i.grid.bDiv)[0].scrollLeft=$(i.grid.bDiv)[0].scrollLeft-i.rows[t].cells[e].clientWidth)}}function e(t,e){var n,r;if("lft"===e)for(n=t+1,r=t;r>=0;r--)if(!0!==i.p.colModel[r].hidden){n=r;break}if("rgt"===e)for(n=t-1,r=t;r<i.p.colModel.length;r++)if(!0!==i.p.colModel[r].hidden){n=r;break}return n}var i=this;if(i.grid&&!0===i.p.cellEdit){i.p.knv=i.p.id+"_kn";var n,r,o=$("<div style='position:fixed;top:0px;width:1px;height:1px;' tabindex='0'><div tabindex='-1' style='width:1px;height:1px;' id='"+i.p.knv+"'></div></div>");$(o).insertBefore(i.grid.cDiv),$("#"+i.p.knv).focus().keydown((function(o){switch(r=o.keyCode,"rtl"===i.p.direction&&(37===r?r=39:39===r&&(r=37)),r){case 38:i.p.iRow-1>0&&(t(i.p.iRow-1,i.p.iCol,"vu"),$(i).jqGrid("editCell",i.p.iRow-1,i.p.iCol,!1,o));break;case 40:i.p.iRow+1<=i.rows.length-1&&(t(i.p.iRow+1,i.p.iCol,"vd"),$(i).jqGrid("editCell",i.p.iRow+1,i.p.iCol,!1,o));break;case 37:i.p.iCol-1>=0&&(n=e(i.p.iCol-1,"lft"),t(i.p.iRow,n,"h"),$(i).jqGrid("editCell",i.p.iRow,n,!1,o));break;case 39:i.p.iCol+1<=i.p.colModel.length-1&&(n=e(i.p.iCol+1,"rgt"),t(i.p.iRow,n,"h"),$(i).jqGrid("editCell",i.p.iRow,n,!1,o));break;case 13:parseInt(i.p.iCol,10)>=0&&parseInt(i.p.iRow,10)>=0&&$(i).jqGrid("editCell",i.p.iRow,i.p.iCol,!0,o);break;default:return!0}return!1}))}}))},getChangedCells:function(t){var e=[];return t||(t="all"),this.each((function(){var i,n=this;n.grid&&!0===n.p.cellEdit&&$(n.rows).each((function(r){var o={};$(this).hasClass("edited")&&($("td",this).each((function(e){if("cb"!==(i=n.p.colModel[e].name)&&"subgrid"!==i)if("dirty"===t){if($(this).hasClass("dirty-cell"))try{o[i]=$.unformat.call(n,this,{rowId:n.rows[r].id,colModel:n.p.colModel[e]},e)}catch(t){o[i]=$.jgrid.htmlDecode($(this).html())}}else try{o[i]=$.unformat.call(n,this,{rowId:n.rows[r].id,colModel:n.p.colModel[e]},e)}catch(t){o[i]=$.jgrid.htmlDecode($(this).html())}})),o.id=this.id,e.push(o))}))})),e}}),$.extend($.jgrid,{showModal:function(t){t.w.show()},closeModal:function(t){t.w.hide().attr("aria-hidden","true"),t.o&&t.o.remove()},hideModal:function(t,e){var i=!(!(e=$.extend({jqm:!0,gb:"",removemodal:!1,formprop:!1,form:""},e||{})).gb||"string"!=typeof e.gb||"#gbox_"!==e.gb.substr(0,6))&&$("#"+e.gb.substr(6))[0];if(e.onClose){var n=i?e.onClose.call(i,t):e.onClose(t);if("boolean"==typeof n&&!n)return}if(e.formprop&&i&&e.form){var r,o,s=$(t)[0].style.height,a=$(t)[0].style.width;s.indexOf("px")>-1&&(s=parseFloat(s)),a.indexOf("px")>-1&&(a=parseFloat(a)),"edit"===e.form?(r="#"+$.jgrid.jqID("FrmGrid_"+e.gb.substr(6)),o="formProp"):"view"===e.form&&(r="#"+$.jgrid.jqID("ViewGrid_"+e.gb.substr(6)),o="viewProp"),$(i).data(o,{top:parseFloat($(t).css("top")),left:parseFloat($(t).css("left")),width:a,height:s,dataheight:$(r).height(),datawidth:$(r).width()})}if($.fn.jqm&&!0===e.jqm)$(t).attr("aria-hidden","true").jqmHide();else{if(""!==e.gb)try{$(".jqgrid-overlay:first",e.gb).hide()}catch(t){}try{$(".jqgrid-overlay-modal").hide()}catch(t){}$(t).hide().attr("aria-hidden","true")}e.removemodal&&$(t).remove()},findPos:function(t){var e=$(t).offset();return[e.left,e.top]},createModal:function(t,e,i,n,r,o,s){i=$.extend(!0,{},$.jgrid.jqModal||{},i);var a=this,l="rtl"===$(i.gbox).attr("dir"),c=$.jgrid.styleUI[i.styleUI||"jQueryUI"].modal,u=$.jgrid.styleUI[i.styleUI||"jQueryUI"].common,d=document.createElement("div");s=$.extend({},s||{}),d.className="ui-jqdialog "+c.modal,d.id=t.themodal;var h=document.createElement("div");h.className="ui-jqdialog-titlebar "+c.header,h.id=t.modalhead,$(h).append("<span class='ui-jqdialog-title'>"+i.caption+"</span>");var p=$("<a class='ui-jqdialog-titlebar-close "+u.cornerall+"'></a>").hover((function(){p.addClass(u.hover)}),(function(){p.removeClass(u.hover)})).append("<span class='"+u.icon_base+" "+c.icon_close+"'></span>");$(h).append(p),l?(d.dir="rtl",$(".ui-jqdialog-title",h).css("float","right"),$(".ui-jqdialog-titlebar-close",h).css("left","0.3em")):(d.dir="ltr",$(".ui-jqdialog-title",h).css("float","left"),$(".ui-jqdialog-titlebar-close",h).css("right","0.3em"));var f=document.createElement("div");$(f).addClass("ui-jqdialog-content "+c.content).attr("id",t.modalcontent),$(f).append(e),d.appendChild(f),$(d).prepend(h),!0===o?$("body").append(d):"string"==typeof o?$(o).append(d):$(d).insertBefore(n),$(d).css(s),void 0===i.jqModal&&(i.jqModal=!0);var g={};if($.fn.jqm&&!0===i.jqModal){if(0===i.left&&0===i.top&&i.overlay){var m=[];m=$.jgrid.findPos(r),i.left=m[0]+4,i.top=m[1]+4}g.top=i.top+"px",g.left=i.left}else 0===i.left&&0===i.top||(g.left=i.left,g.top=i.top+"px");if($("a.ui-jqdialog-titlebar-close",h).click((function(){var e=$("#"+$.jgrid.jqID(t.themodal)).data("onClose")||i.onClose,n=$("#"+$.jgrid.jqID(t.themodal)).data("gbox")||i.gbox;return a.hideModal("#"+$.jgrid.jqID(t.themodal),{gb:n,jqm:i.jqModal,onClose:e,removemodal:i.removemodal||!1,formprop:!i.recreateForm||!1,form:i.form||""}),!1})),0!==i.width&&i.width||(i.width=300),0!==i.height&&i.height||(i.height=200),!i.zIndex){var v=$(n).parents("*[role=dialog]").filter(":first").css("z-index");i.zIndex=v?parseInt(v,10)+2:950}var y=0;if(l&&g.left&&!o&&(y=$(i.gbox).width()-(isNaN(i.width)?0:parseInt(i.width,10))-8,g.left=parseInt(g.left,10)+parseInt(y,10)),g.left&&(g.left+="px"),$(d).css($.extend({width:isNaN(i.width)?"auto":i.width+"px",height:isNaN(i.height)?"auto":i.height+"px",zIndex:i.zIndex,overflow:"hidden"},g)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":t.modalhead,"aria-hidden":"true"}),void 0===i.drag&&(i.drag=!0),void 0===i.resize&&(i.resize=!0),i.drag)if($(h).css("cursor","move"),$.fn.tinyDraggable)$(d).tinyDraggable({handle:"#"+$.jgrid.jqID(h.id)});else try{$(d).draggable({handle:$("#"+$.jgrid.jqID(h.id))})}catch(t){}if(i.resize)if($.fn.jqResize)$(d).append("<div class='jqResize "+c.resizable+" "+u.icon_base+" "+c.icon_resizable+"'></div>"),$("#"+$.jgrid.jqID(t.themodal)).jqResize(".jqResize",!!t.scrollelm&&"#"+$.jgrid.jqID(t.scrollelm));else try{$(d).resizable({handles:"se, sw",alsoResize:!!t.scrollelm&&"#"+$.jgrid.jqID(t.scrollelm)})}catch(t){}!0===i.closeOnEscape&&$(d).keydown((function(e){if(27===e.which){var n=$("#"+$.jgrid.jqID(t.themodal)).data("onClose")||i.onClose;a.hideModal("#"+$.jgrid.jqID(t.themodal),{gb:i.gbox,jqm:i.jqModal,onClose:n,removemodal:i.removemodal||!1,formprop:!i.recreateForm||!1,form:i.form||""})}}))},viewModal:function(t,e){var i="";if((e=$.extend({toTop:!0,overlay:10,modal:!1,overlayClass:"ui-widget-overlay",onShow:$.jgrid.showModal,onHide:$.jgrid.closeModal,gbox:"",jqm:!0,jqM:!0},e||{})).gbox){var n=$("#"+e.gbox.substring(6))[0];try{i=$(n).jqGrid("getStyleUI",n.p.styleUI+".common","overlay",!1,"jqgrid-overlay-modal"),e.overlayClass=$(n).jqGrid("getStyleUI",n.p.styleUI+".common","overlay",!0)}catch(t){}}if(void 0===e.focusField&&(e.focusField=0),"number"==typeof e.focusField&&e.focusField>=0?e.focusField=parseInt(e.focusField,10):"boolean"!=typeof e.focusField||e.focusField?e.focusField=0:e.focusField=!1,$.fn.jqm&&!0===e.jqm)e.jqM?$(t).attr("aria-hidden","false").jqm(e).jqmShow():$(t).attr("aria-hidden","false").jqmShow();else{if(""!==e.gbox){var r=parseInt($(t).css("z-index"))-1;e.modal?($(".jqgrid-overlay-modal")[0]||$("body").prepend("<div "+i+"></div>"),$(".jqgrid-overlay-modal").css("z-index",r).show()):($(".jqgrid-overlay:first",e.gbox).css("z-index",r).show(),$(t).data("gbox",e.gbox))}if($(t).show().attr("aria-hidden","false"),e.focusField>=0)try{$(":input:visible",t)[e.focusField].focus()}catch(t){}}},info_dialog:function(t,e,i,n){var r={width:290,height:"auto",dataheight:"auto",drag:!0,resize:!1,left:250,top:170,zIndex:1e3,jqModal:!0,modal:!1,closeOnEscape:!0,align:"center",buttonalign:"center",buttons:[]};$.extend(!0,r,$.jgrid.jqModal||{},{caption:"<b>"+t+"</b>"},n||{});var o=r.jqModal,s=this,a=$.jgrid.styleUI[r.styleUI||"jQueryUI"].modal,l=$.jgrid.styleUI[r.styleUI||"jQueryUI"].common;$.fn.jqm&&!o&&(o=!1);var c,u="";if(r.buttons.length>0)for(c=0;c<r.buttons.length;c++)void 0===r.buttons[c].id&&(r.buttons[c].id="info_button_"+c),u+="<a id='"+r.buttons[c].id+"' class='fm-button "+l.button+"'>"+r.buttons[c].text+"</a>";var d="<div id='info_id'>";d+="<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+(isNaN(r.dataheight)?r.dataheight:r.dataheight+"px")+";"+("text-align:"+r.align+";")+"'>"+e+"</div>",d+=i?"<div class='"+a.content+"' style='text-align:"+r.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'><a id='closedialog' class='fm-button "+l.button+"'>"+i+"</a>"+u+"</div>":""!==u?"<div class='"+a.content+"' style='text-align:"+r.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'>"+u+"</div>":"",d+="</div>";try{"false"===$("#info_dialog").attr("aria-hidden")&&$.jgrid.hideModal("#info_dialog",{jqm:o}),$("#info_dialog").remove()}catch(t){}var h=$(".ui-jqgrid").css("font-size")||"11px";$.jgrid.createModal({themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",scrollelm:"infocnt"},d,r,"","",!0,{"font-size":h}),u&&$.each(r.buttons,(function(t){$("#"+$.jgrid.jqID(this.id),"#info_id").on("click",(function(){return r.buttons[t].onClick.call($("#info_dialog")),!1}))})),$("#closedialog","#info_id").on("click",(function(){return s.hideModal("#info_dialog",{jqm:o,onClose:$("#info_dialog").data("onClose")||r.onClose,gb:$("#info_dialog").data("gbox")||r.gbox}),!1})),$(".fm-button","#info_dialog").hover((function(){$(this).addClass(l.hover)}),(function(){$(this).removeClass(l.hover)})),$.isFunction(r.beforeOpen)&&r.beforeOpen(),$.jgrid.viewModal("#info_dialog",{onHide:function(t){t.w.hide().remove(),t.o&&t.o.remove()},modal:r.modal,jqm:o}),$.isFunction(r.afterOpen)&&r.afterOpen();try{$("#info_dialog").focus()}catch(t){}},bindEv:function(t,e){var i=this;$.isFunction(e.dataInit)&&e.dataInit.call(i,t,e),e.dataEvents&&$.each(e.dataEvents,(function(){void 0!==this.data?$(t).on(this.type,this.data,this.fn):$(t).on(this.type,this.fn)}))},createEl:function(t,e,i,n,r){function o(t,e,i){var n=["dataInit","dataEvents","dataUrl","buildSelect","sopt","searchhidden","defaultValue","attr","custom_element","custom_value","oper"];n=n.concat(["cacheUrlData","delimiter","separator"]),void 0!==i&&$.isArray(i)&&$.merge(n,i),$.each(e,(function(e,i){-1===$.inArray(e,n)&&$(t).attr(e,i)})),e.hasOwnProperty("id")||$(t).attr("id",$.jgrid.randId())}var s="",a=this;switch(t){case"textarea":s=document.createElement("textarea"),n?e.cols||$(s).css({width:"98%"}):e.cols||(e.cols=20),e.rows||(e.rows=2),("&nbsp;"===i||"&#160;"===i||1===i.length&&160===i.charCodeAt(0))&&(i=""),s.value=i,$(s).attr({role:"textbox",multiline:"true"}),o(s,e);break;case"checkbox":if((s=document.createElement("input")).type="checkbox",e.value){var l=e.value.split(":");i===l[0]&&(s.checked=!0,s.defaultChecked=!0),s.value=l[0],$(s).attr("offval",l[1])}else{var c=(i+"").toLowerCase();c.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==c?(s.checked=!0,s.defaultChecked=!0,s.value=i):s.value="on",$(s).attr("offval","off")}$(s).attr("role","checkbox"),o(s,e,["value"]);break;case"select":(s=document.createElement("select")).setAttribute("role","select");var u,d=[];if(!0===e.multiple?(u=!0,s.multiple="multiple",$(s).attr("aria-multiselectable","true")):u=!1,null!=e.dataUrl){var h=null,p=e.postData||r.postData;try{h=e.rowId}catch(t){}a.p&&a.p.idPrefix&&(h=$.jgrid.stripPref(a.p.idPrefix,h)),$.ajax($.extend({url:$.isFunction(e.dataUrl)?e.dataUrl.call(a,h,i,String(e.name)):e.dataUrl,type:"GET",dataType:"html",data:$.isFunction(p)?p.call(a,h,i,String(e.name)):p,context:{elem:s,options:e,vl:i},success:function(t){var e,i=[],n=this.elem,r=this.vl,s=$.extend({},this.options),l=!0===s.multiple,c=!0===s.cacheUrlData,u="",d=$.isFunction(s.buildSelect)?s.buildSelect.call(a,t):t;if("string"==typeof d&&(d=$($.trim(d)).html()),d){if($(n).append(d),o(n,s,p?["postData"]:void 0),void 0===s.size&&(s.size=l?3:1),l?(i=r.split(","),i=$.map(i,(function(t){return $.trim(t)}))):i[0]=$.trim(r),$("option",n).each((function(t){e=$(this).text(),r=$(this).val(),c&&(u+=(0!==t?";":"")+r+":"+e),0===t&&n.multiple&&(this.selected=!1),$(this).attr("role","option"),($.inArray($.trim(e),i)>-1||$.inArray($.trim(r),i)>-1)&&(this.selected="selected")})),c)if("edit"===s.oper)$(a).jqGrid("setColProp",s.name,{editoptions:{buildSelect:null,dataUrl:null,value:u}});else if("search"===s.oper)$(a).jqGrid("setColProp",s.name,{searchoptions:{dataUrl:null,value:u}});else if("filter"===s.oper&&$("#fbox_"+a.p.id)[0].p){var h,f=$("#fbox_"+a.p.id)[0].p.columns;$.each(f,(function(){if(h=this.index||this.name,s.name===h)return this.searchoptions.dataUrl=null,this.searchoptions.value=u,!1}))}$(a).triggerHandler("jqGridAddEditAfterSelectUrlComplete",[n])}}},r||{}))}else if(e.value){var f;void 0===e.size&&(e.size=u?3:1),u&&(d=i.split(","),d=$.map(d,(function(t){return $.trim(t)}))),"function"==typeof e.value&&(e.value=e.value());var g,m,v,y,b,_,w=void 0===e.separator?":":e.separator,x=void 0===e.delimiter?";":e.delimiter;if("string"==typeof e.value)for(g=e.value.split(x),f=0;f<g.length;f++)(m=g[f].split(w)).length>2&&(m[1]=$.map(m,(function(t,e){if(e>0)return t})).join(w)),(v=document.createElement("option")).setAttribute("role","option"),v.value=m[0],v.innerHTML=m[1],s.appendChild(v),u||$.trim(m[0])!==$.trim(i)&&$.trim(m[1])!==$.trim(i)||(v.selected="selected"),u&&($.inArray($.trim(m[1]),d)>-1||$.inArray($.trim(m[0]),d)>-1)&&(v.selected="selected");else if("[object Array]"===Object.prototype.toString.call(e.value))for(y=e.value,f=0;f<y.length;f++)2===y[f].length&&(b=y[f][0],_=y[f][1],(v=document.createElement("option")).setAttribute("role","option"),v.value=b,v.innerHTML=_,s.appendChild(v),u||$.trim(b)!==$.trim(i)&&$.trim(_)!==$.trim(i)||(v.selected="selected"),u&&($.inArray($.trim(_),d)>-1||$.inArray($.trim(b),d)>-1)&&(v.selected="selected"));else if("object"==typeof e.value)for(b in y=e.value)y.hasOwnProperty(b)&&((v=document.createElement("option")).setAttribute("role","option"),v.value=b,v.innerHTML=y[b],s.appendChild(v),u||$.trim(b)!==$.trim(i)&&$.trim(y[b])!==$.trim(i)||(v.selected="selected"),u&&($.inArray($.trim(y[b]),d)>-1||$.inArray($.trim(b),d)>-1)&&(v.selected="selected"));o(s,e,["value"])}break;case"image":case"file":(s=document.createElement("input")).type=t,o(s,e);break;case"custom":s=document.createElement("span");try{if(!$.isFunction(e.custom_element))throw"e1";var C=e.custom_element.call(a,i,e);if(!C)throw"e2";C=$(C).addClass("customelement").attr({id:e.id,name:e.name}),$(s).empty().append(C)}catch(t){var k=$.jgrid.getRegional(a,"errors"),S=$.jgrid.getRegional(a,"edit");"e1"===t?$.jgrid.info_dialog(k.errcap,"function 'custom_element' "+S.msg.nodefined,S.bClose,{styleUI:a.p.styleUI}):"e2"===t?$.jgrid.info_dialog(k.errcap,"function 'custom_element' "+S.msg.novalue,S.bClose,{styleUI:a.p.styleUI}):$.jgrid.info_dialog(k.errcap,"string"==typeof t?t:t.message,S.bClose,{styleUI:a.p.styleUI})}break;default:var j;j="button"===t?"button":"textbox",(s=document.createElement("input")).type=t,s.value=i,"button"!==t&&(n?e.size||$(s).css({width:"96%"}):e.size||(e.size=20)),$(s).attr("role",j),o(s,e)}return s},checkDate:function(t,e){var i,n=function(t){return t%4!=0||t%100==0&&t%400!=0?28:29},r={};if(i=-1!==(t=t.toLowerCase()).indexOf("/")?"/":-1!==t.indexOf("-")?"-":-1!==t.indexOf(".")?".":"/",t=t.split(i),3!==(e=e.split(i)).length)return!1;var o,s,a=-1,l=-1,c=-1;for(s=0;s<t.length;s++){var u=isNaN(e[s])?0:parseInt(e[s],10);r[t[s]]=u,-1!==(o=t[s]).indexOf("y")&&(a=s),-1!==o.indexOf("m")&&(c=s),-1!==o.indexOf("d")&&(l=s)}o="y"===t[a]||"yyyy"===t[a]?4:"yy"===t[a]?2:-1;var d,h=[0,31,29,31,30,31,30,31,31,30,31,30,31];return-1!==a&&(d=r[t[a]].toString(),2===o&&1===d.length&&(o=1),!(d.length!==o||0===r[t[a]]&&"00"!==e[a]||-1===c||(d=r[t[c]].toString(),d.length<1||r[t[c]]<1||r[t[c]]>12||-1===l||(d=r[t[l]].toString(),d.length<1||r[t[l]]<1||r[t[l]]>31||2===r[t[c]]&&r[t[l]]>n(r[t[a]])||r[t[l]]>h[r[t[c]]]))))},isEmpty:function(t){return!(void 0!==t&&!t.match(/^\s+$/)&&""!==t)},checkTime:function(t){var e,i=/^(\d{1,2}):(\d{2})([apAP][Mm])?$/;if(!$.jgrid.isEmpty(t)){if(!(e=t.match(i)))return!1;if(e[3]){if(e[1]<1||e[1]>12)return!1}else if(e[1]>23)return!1;if(e[2]>59)return!1}return!0},checkValues:function(t,e,i,n){var r,o,s,a,l,c,u=this,d=u.p.colModel,h=$.jgrid.getRegional(this,"edit.msg"),p=function(t){var e,i;if((t=t.toString()).length>=2&&("-"===t[0]?(e=t[1],t[2]&&(i=t[2])):(e=t[0],t[1]&&(i=t[1])),"0"===e&&"."!==i))return!1;return"number"==typeof parseFloat(t)&&isFinite(t)};if(void 0===i)if("string"==typeof e){for(o=0,l=d.length;o<l;o++)if(d[o].name===e){r=d[o].editrules,e=o,null!=d[o].formoptions&&(s=d[o].formoptions.label);break}}else e>=0&&(r=d[e].editrules);else r=i,s=void 0===n?"_":n;if(r){if(s||(s=null!=u.p.colNames?u.p.colNames[e]:d[e].label),!0===r.required&&$.jgrid.isEmpty(t))return[!1,s+": "+h.required,""];var f,g=!1!==r.required;if(!0===r.number&&!(!1===g&&$.jgrid.isEmpty(t)||p(t)))return[!1,s+": "+h.number,""];if(void 0!==r.minValue&&!isNaN(r.minValue)&&parseFloat(t)<parseFloat(r.minValue))return[!1,s+": "+h.minValue+" "+r.minValue,""];if(void 0!==r.maxValue&&!isNaN(r.maxValue)&&parseFloat(t)>parseFloat(r.maxValue))return[!1,s+": "+h.maxValue+" "+r.maxValue,""];if(!0===r.email&&!(!1===g&&$.jgrid.isEmpty(t)||(f=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,f.test(t))))return[!1,s+": "+h.email,""];if(!0===r.integer&&(!1!==g||!$.jgrid.isEmpty(t))){if(!p(t))return[!1,s+": "+h.integer,""];if(t%1!=0||-1!==t.indexOf("."))return[!1,s+": "+h.integer,""]}if(!0===r.date&&!(!1===g&&$.jgrid.isEmpty(t)||(d[e].formatoptions&&d[e].formatoptions.newformat?(a=d[e].formatoptions.newformat,(c=$.jgrid.getRegional(u,"formatter.date.masks"))&&c.hasOwnProperty(a)&&(a=c[a])):a=d[e].datefmt||"Y-m-d",$.jgrid.checkDate(a,t))))return[!1,s+": "+h.date+" - "+a,""];if(!0===r.time&&!(!1===g&&$.jgrid.isEmpty(t)||$.jgrid.checkTime(t)))return[!1,s+": "+h.date+" - hh:mm (am/pm)",""];if(!0===r.url&&!(!1===g&&$.jgrid.isEmpty(t)||(f=/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i,f.test(t))))return[!1,s+": "+h.url,""];if(!0===r.custom&&(!1!==g||!$.jgrid.isEmpty(t))){if($.isFunction(r.custom_func)){var m=r.custom_func.call(u,t,s,e);return $.isArray(m)?m:[!1,h.customarray,""]}return[!1,h.customfcheck,""]}}return[!0,"",""]},validateForm:function(t){var e,i,n=!0;for(e=0;e<t.elements.length;e++)if(("INPUT"===(i=t.elements[e]).nodeName||"TEXTAREA"===i.nodeName||"SELECT"===i.nodeName)&&(void 0!==i.willValidate?("INPUT"===i.nodeName&&i.type!==i.getAttribute("type")&&i.setCustomValidity($.jgrid.LegacyValidation(i)?"":"error"),i.reportValidity()):(i.validity=i.validity||{},i.validity.valid=$.jgrid.LegacyValidation(i)),!i.validity.valid)){n=!1;break}return n},LegacyValidation:function(t){var e=!0,i=t.value,n=t.getAttribute("type"),r="checkbox"===n||"radio"===n,o=t.getAttribute("required"),s=t.getAttribute("minlength"),a=t.getAttribute("maxlength"),l=t.getAttribute("pattern");return t.disabled||(e=(e=e&&(!o||r&&t.checked||!r&&""!==i))&&(r||(!s||i.length>=s)&&(!a||i.length<=a)))&&l&&(e=(l=new RegExp(l)).test(i)),e},buildButtons:function(t,e,i){var n,r;return $.each(t,(function(t,o){o.id||(o.id=$.jgrid.randId()),o.position||(o.position="last"),o.side||(o.side="left"),n=o.icon?" fm-button-icon-"+o.side+"'><span class='"+i.icon_base+" "+o.icon+"'></span>":"'>",r="<a  data-index='"+t+"' id='"+o.id+"' class='fm-button "+i.button+n+o.text+"</a>","last"===o.position?e+=r:e=r+e})),e}}),$.fn.jqFilter=function(t){if("string"==typeof t){var e=$.fn.jqFilter[t];if(!e)throw"jqFilter - No such method: "+t;var i=$.makeArray(arguments).slice(1);return e.apply(this,i)}var n=$.extend(!0,{filter:null,columns:[],sortStrategy:null,onChange:null,afterRedraw:null,checkValues:null,error:!1,errmsg:"",errorcheck:!0,showQuery:!0,sopt:null,ops:[],operands:null,numopts:["eq","ne","lt","le","gt","ge","nu","nn","in","ni"],stropts:["eq","ne","bw","bn","ew","en","cn","nc","nu","nn","in","ni"],strarr:["text","string","blob"],groupOps:[{op:"AND",text:"AND"},{op:"OR",text:"OR"}],groupButton:!0,ruleButtons:!0,uniqueSearchFields:!1,direction:"ltr",addsubgrup:"Add subgroup",addrule:"Add rule",delgroup:"Delete group",delrule:"Delete rule",autoencode:!1},$.jgrid.filter,t||{});return this.each((function(){if(!this.filter){this.p=n,null!==this.p.filter&&void 0!==this.p.filter||(this.p.filter={groupOp:this.p.groupOps[0].op,rules:[],groups:[]}),null!=this.p.sortStrategy&&$.isFunction(this.p.sortStrategy)&&this.p.columns.sort(this.p.sortStrategy);var t,e,i=this.p.columns.length,r=/msie/i.test(navigator.userAgent)&&!window.opera;if(this.p.initFilter=$.extend(!0,{},this.p.filter),i){for(t=0;t<i;t++)(e=this.p.columns[t]).stype?e.inputtype=e.stype:e.inputtype||(e.inputtype="text"),e.sorttype?e.searchtype=e.sorttype:e.searchtype||(e.searchtype="string"),void 0===e.hidden&&(e.hidden=!1),e.label||(e.label=e.name),e.index&&(e.name=e.index),e.hasOwnProperty("searchoptions")||(e.searchoptions={}),e.hasOwnProperty("searchrules")||(e.searchrules={}),void 0===e.search?e.inlist=!0:e.inlist=e.search;var o=function(){return $("#"+$.jgrid.jqID(n.id))[0]||null},s=o(),a=$.jgrid.styleUI[s.p.styleUI||"jQueryUI"].filter,l=$.jgrid.styleUI[s.p.styleUI||"jQueryUI"].common;this.p.showQuery&&$(this).append("<table class='queryresult "+a.table_widget+"' style='display:block;max-width:440px;border:0px none;' dir='"+this.p.direction+"'><tbody><tr><td class='query'></td></tr></tbody></table>");var c=function(t,e){var i=[!0,""],r=o();if($.isFunction(e.searchrules))i=e.searchrules.call(r,t,e);else if($.jgrid&&$.jgrid.checkValues)try{i=$.jgrid.checkValues.call(r,t,-1,e.searchrules,e.label)}catch(t){}i&&i.length&&!1===i[0]&&(n.error=!i[0],n.errmsg=i[1])};this.onchange=function(){return this.p.error=!1,this.p.errmsg="",!!$.isFunction(this.p.onChange)&&this.p.onChange.call(this,this.p)},this.reDraw=function(){$("table.group:first",this).remove();var t=this.createTableForGroup(n.filter,null);$(this).append(t),$.isFunction(this.p.afterRedraw)&&this.p.afterRedraw.call(this,this.p)},this.createTableForGroup=function(t,e){var i,r=this,o=$("<table class='group "+a.table_widget+" ui-search-table' style='border:0px none;'><tbody></tbody></table>"),s="left";"rtl"===this.p.direction&&(s="right",o.attr("dir","rtl")),null===e&&o.append("<tr class='error' style='display:none;'><th colspan='5' class='"+l.error+"' align='"+s+"'></th></tr>");var c=$("<tr></tr>");o.append(c);var u=$("<th colspan='5' align='"+s+"'></th>");if(c.append(u),!0===this.p.ruleButtons){var d=$("<select size='1' class='opsel "+a.srSelect+"'></select>");u.append(d);var h,p="";for(i=0;i<n.groupOps.length;i++)h=t.groupOp===r.p.groupOps[i].op?" selected='selected'":"",p+="<option value='"+r.p.groupOps[i].op+"'"+h+">"+r.p.groupOps[i].text+"</option>";d.append(p).on("change",(function(){t.groupOp=$(d).val(),r.onchange()}))}var f="<span></span>";if(this.p.groupButton&&(f=$("<input type='button' value='+ {}' title='"+r.p.subgroup+"' class='add-group "+l.button+"'/>")).on("click",(function(){return void 0===t.groups&&(t.groups=[]),t.groups.push({groupOp:n.groupOps[0].op,rules:[],groups:[]}),r.reDraw(),r.onchange(),!1})),u.append(f),!0===this.p.ruleButtons){var g,m=$("<input type='button' value='+' title='"+r.p.addrule+"' class='add-rule ui-add "+l.button+"'/>");m.on("click",(function(){for(void 0===t.rules&&(t.rules=[]),i=0;i<r.p.columns.length;i++){var e=void 0===r.p.columns[i].search||r.p.columns[i].search,n=!0===r.p.columns[i].hidden;if(!0===r.p.columns[i].searchoptions.searchhidden&&e||e&&!n){g=r.p.columns[i];break}}return!!g&&(o=g.searchoptions.sopt?g.searchoptions.sopt:r.p.sopt?r.p.sopt:-1!==$.inArray(g.searchtype,r.p.strarr)?r.p.stropts:r.p.numopts,t.rules.push({field:g.name,op:o[0],data:""}),r.reDraw(),!1);var o})),u.append(m)}if(null!==e){var v=$("<input type='button' value='-' title='"+r.p.delgroup+"' class='delete-group "+l.button+"'/>");u.append(v),v.on("click",(function(){for(i=0;i<e.groups.length;i++)if(e.groups[i]===t){e.groups.splice(i,1);break}return r.reDraw(),r.onchange(),!1}))}if(void 0!==t.groups)for(i=0;i<t.groups.length;i++){var y=$("<tr></tr>");o.append(y);var b=$("<td class='first'></td>");y.append(b);var _=$("<td colspan='4'></td>");_.append(this.createTableForGroup(t.groups[i],t)),y.append(_)}void 0===t.groupOp&&(t.groupOp=r.p.groupOps[0].op);var w,x=r.p.ruleButtons&&r.p.uniqueSearchFields;if(x)for(w=0;w<r.p.columns.length;w++)r.p.columns[w].inlist&&(r.p.columns[w].search=!0);if(void 0!==t.rules)for(i=0;i<t.rules.length;i++)if(o.append(this.createTableRowForRule(t.rules[i],t)),x){var C=t.rules[i].field;for(w=0;w<r.p.columns.length;w++)if(C===r.p.columns[w].name){r.p.columns[w].search=!1;break}}return o},this.createTableRowForRule=function(t,e){var i,s,c,u,d,h=this,p=o(),f=$("<tr></tr>"),g="";f.append("<td class='first'></td>");var m=$("<td class='columns'></td>");f.append(m);var v,y=$("<select size='1' class='"+a.srSelect+"'></select>"),b=[];m.append(y),y.on("change",(function(){if(h.p.ruleButtons&&h.p.uniqueSearchFields){var e=parseInt($(this).data("curr"),10),n=this.selectedIndex;e>=0&&(h.p.columns[e].search=!0,$(this).data("curr",n),h.p.columns[n].search=!1)}for(t.field=$(y).val(),c=$(this).parents("tr:first"),$(".data",c).empty(),i=0;i<h.p.columns.length;i++)if(h.p.columns[i].name===t.field){u=h.p.columns[i];break}if(u){u.searchoptions.id=$.jgrid.randId(),u.searchoptions.name=t.field,u.searchoptions.oper="filter",r&&"text"===u.inputtype&&(u.searchoptions.size||(u.searchoptions.size=10));var o=$.jgrid.createEl.call(p,u.inputtype,u.searchoptions,"",!0,h.p.ajaxSelectOptions||{},!0);$(o).addClass("input-elm "+a.srInput),s=u.searchoptions.sopt?u.searchoptions.sopt:h.p.sopt?h.p.sopt:-1!==$.inArray(u.searchtype,h.p.strarr)?h.p.stropts:h.p.numopts;var l="",d=0;for(b=[],$.each(h.p.ops,(function(){b.push(this.oper)})),i=0;i<s.length;i++)-1!==(v=$.inArray(s[i],b))&&(0===d&&(t.op=h.p.ops[v].oper),l+="<option value='"+h.p.ops[v].oper+"'>"+h.p.ops[v].text+"</option>",d++);if($(".selectopts",c).empty().append(l),$(".selectopts",c)[0].selectedIndex=0,$.jgrid.msie()&&$.jgrid.msiever()<9){var f=parseInt($("select.selectopts",c)[0].offsetWidth,10)+1;$(".selectopts",c).width(f),$(".selectopts",c).css("width","auto")}$(".data",c).append(o),$.jgrid.bindEv.call(p,o,u.searchoptions),$(".input-elm",c).on("change",(function(e){var i=e.target;"custom"===u.inputtype&&$.isFunction(u.searchoptions.custom_value)?t.data=u.searchoptions.custom_value.call(p,$(".customelement",this),"get"):t.data=$(i).val(),"select"===u.inputtype&&u.searchoptions.multiple&&(t.data=t.data.join(",")),h.onchange()})),setTimeout((function(){t.data=$(o).val(),h.onchange()}),0)}}));var _=0;for(i=0;i<h.p.columns.length;i++){var w=void 0===h.p.columns[i].search||h.p.columns[i].search,x=!0===h.p.columns[i].hidden;(!0===h.p.columns[i].searchoptions.searchhidden&&w||w&&!x)&&(d="",t.field===h.p.columns[i].name&&(d=" selected='selected'",_=i),g+="<option value='"+h.p.columns[i].name+"'"+d+">"+h.p.columns[i].label+"</option>")}y.append(g),
y.data("curr",_);var C=$("<td class='operators'></td>");f.append(C),(u=n.columns[_]).searchoptions.id=$.jgrid.randId(),r&&"text"===u.inputtype&&(u.searchoptions.size||(u.searchoptions.size=10)),u.searchoptions.name=t.field,u.searchoptions.oper="filter";var k=$.jgrid.createEl.call(p,u.inputtype,u.searchoptions,t.data,!0,h.p.ajaxSelectOptions||{},!0);"nu"!==t.op&&"nn"!==t.op||($(k).attr("readonly","true"),$(k).attr("disabled","true"));var S=$("<select size='1' class='selectopts "+a.srSelect+"'></select>");for(C.append(S),S.on("change",(function(){t.op=$(S).val(),c=$(this).parents("tr:first");var e=$(".input-elm",c)[0];"nu"===t.op||"nn"===t.op?(t.data="","SELECT"!==e.tagName.toUpperCase()&&(e.value=""),e.setAttribute("readonly","true"),e.setAttribute("disabled","true")):("SELECT"===e.tagName.toUpperCase()&&(t.data=e.value),e.removeAttribute("readonly"),e.removeAttribute("disabled")),h.onchange()})),s=u.searchoptions.sopt?u.searchoptions.sopt:h.p.sopt?h.p.sopt:-1!==$.inArray(u.searchtype,h.p.strarr)?h.p.stropts:h.p.numopts,g="",$.each(h.p.ops,(function(){b.push(this.oper)})),i=0;i<s.length;i++)-1!==(v=$.inArray(s[i],b))&&(d=t.op===h.p.ops[v].oper?" selected='selected'":"",g+="<option value='"+h.p.ops[v].oper+"'"+d+">"+h.p.ops[v].text+"</option>");S.append(g);var j=$("<td class='data'></td>");f.append(j),j.append(k),$.jgrid.bindEv.call(p,k,u.searchoptions),$(k).addClass("input-elm "+a.srInput).on("change",(function(){t.data="custom"===u.inputtype?u.searchoptions.custom_value.call(p,$(".customelement",this),"get"):$(this).val(),h.onchange()}));var T=$("<td></td>");if(f.append(T),!0===this.p.ruleButtons){var A=$("<input type='button' value='-' title='"+h.p.delrule+"' class='delete-rule ui-del "+l.button+"'/>");T.append(A),A.on("click",(function(){for(i=0;i<e.rules.length;i++)if(e.rules[i]===t){e.rules.splice(i,1);break}return h.reDraw(),h.onchange(),!1}))}return f},this.getStringForGroup=function(t){var e,i="(";if(void 0!==t.groups)for(e=0;e<t.groups.length;e++){i.length>1&&(i+=" "+t.groupOp+" ");try{i+=this.getStringForGroup(t.groups[e])}catch(t){alert(t)}}if(void 0!==t.rules)try{for(e=0;e<t.rules.length;e++)i.length>1&&(i+=" "+t.groupOp+" "),i+=this.getStringForRule(t.rules[e])}catch(t){alert(t)}return"()"===(i+=")")?"":i},this.getStringForRule=function(t){var e,i,r,o="",s="",a=["int","integer","float","number","currency"];for(e=0;e<this.p.ops.length;e++)if(this.p.ops[e].oper===t.op){o=this.p.operands.hasOwnProperty(t.op)?this.p.operands[t.op]:"",s=this.p.ops[e].oper;break}for(e=0;e<this.p.columns.length;e++)if(this.p.columns[e].name===t.field){i=this.p.columns[e];break}return void 0===i?"":(r=this.p.autoencode?$.jgrid.htmlEncode(t.data):t.data,"bw"!==s&&"bn"!==s||(r+="%"),"ew"!==s&&"en"!==s||(r="%"+r),"cn"!==s&&"nc"!==s||(r="%"+r+"%"),"in"!==s&&"ni"!==s||(r=" ("+r+")"),n.errorcheck&&c(t.data,i),-1!==$.inArray(i.searchtype,a)||"nn"===s||"nu"===s?t.field+" "+o+" "+r:t.field+" "+o+' "'+r+'"')},this.resetFilter=function(){this.p.filter=$.extend(!0,{},this.p.initFilter),this.reDraw(),this.onchange()},this.hideError=function(){$("th."+l.error,this).html(""),$("tr.error",this).hide()},this.showError=function(){$("th."+l.error,this).html(this.p.errmsg),$("tr.error",this).show()},this.toUserFriendlyString=function(){return this.getStringForGroup(n.filter)},this.toString=function(){function t(t){if(i.p.errorcheck){var e,n;for(e=0;e<i.p.columns.length;e++)if(i.p.columns[e].name===t.field){n=i.p.columns[e];break}n&&c(t.data,n)}return t.op+"(item."+t.field+",'"+t.data+"')"}function e(i){var n,r="(";if(void 0!==i.groups)for(n=0;n<i.groups.length;n++)r.length>1&&("OR"===i.groupOp?r+=" || ":r+=" && "),r+=e(i.groups[n]);if(void 0!==i.rules)for(n=0;n<i.rules.length;n++)r.length>1&&("OR"===i.groupOp?r+=" || ":r+=" && "),r+=t(i.rules[n]);return"()"===(r+=")")?"":r}var i=this;return e(this.p.filter)},this.reDraw(),this.p.showQuery&&this.onchange(),this.filter=!0}}}))},$.extend($.fn.jqFilter,{toSQLString:function(){var t="";return this.each((function(){t=this.toUserFriendlyString()})),t},filterData:function(){var t;return this.each((function(){t=this.p.filter})),t},getParameter:function(t){var e=null;return void 0!==t&&this.each((function(i,n){n.p.hasOwnProperty(t)&&(e=n.p[t])})),e||this[0].p},resetFilter:function(){return this.each((function(){this.resetFilter()}))},addFilter:function(t){"string"==typeof t&&(t=$.jgrid.parse(t)),this.each((function(){this.p.filter=t,this.reDraw(),this.onchange()}))}}),$.extend($.jgrid,{filterRefactor:function(t){var e,i,n,r,o,s={};try{if((s="string"==typeof t.ruleGroup?$.jgrid.parse(t.ruleGroup):t.ruleGroup).rules&&s.rules.length)for(e=s.rules,i=0;i<e.length;i++)n=e[i],$.inArray(n.filed,t.ssfield)&&((r=n.data.split(t.splitSelect)).length>1&&(void 0===s.groups&&(s.groups=[]),o={groupOp:t.groupOpSelect,groups:[],rules:[]},s.groups.push(o),$.each(r,(function(t){r[t]&&o.rules.push({data:r[t],op:n.op,field:n.field})})),e.splice(i,1),i--))}catch(t){}return s}}),$.jgrid.extend({filterToolbar:function(t){var e=$.jgrid.getRegional(this[0],"search");return t=$.extend({autosearch:!0,autosearchDelay:500,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,onClearSearchValue:null,url:"",stringResult:!1,groupOp:"AND",defaultSearch:"bw",searchOperators:!1,resetIcon:"x",splitSelect:",",groupOpSelect:"OR",errorcheck:!0,operands:{eq:"==",ne:"!",lt:"<",le:"<=",gt:">",ge:">=",bw:"^",bn:"!^",in:"=",ni:"!=",ew:"|",en:"!@",cn:"~",nc:"!~",nu:"#",nn:"!#",bt:"..."}},e,t||{}),this.each((function(){var i=this;if(!i.p.filterToolbar){$(i).data("filterToolbar")||$(i).data("filterToolbar",t),i.p.force_regional&&(t=$.extend(t,e));var n,r,o,s=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].filter,a=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].common,l=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].base,c=function(){var e,n,r,o,s={},a=0,l={},c=!1,u=[],d=!1,h=[!0,"",""],p=!1;if($.each(i.p.colModel,(function(){var f=$("#gs_"+i.p.idPrefix+$.jgrid.jqID(this.name),!0===this.frozen&&!0===i.p.frozenColumns?i.grid.fhDiv:i.grid.hDiv);if(n=this.index||this.name,o=this.searchoptions||{},r=t.searchOperators&&o.searchOperMenu?f.parent().prev().children("a").attr("soper")||t.defaultSearch:o.sopt?o.sopt[0]:"select"===this.stype?"eq":t.defaultSearch,e="custom"===this.stype&&$.isFunction(o.custom_value)&&f.length>0?o.custom_value.call(i,f,"get"):f.val(),"select"===this.stype&&o.multiple&&$.isArray(e)&&e.length&&(c=!0,u.push(n),e=1===e.length?e[0]:e),this.searchrules&&t.errorcheck&&($.isFunction(this.searchrules)?h=this.searchrules.call(i,e,this):$.jgrid&&$.jgrid.checkValues&&(h=$.jgrid.checkValues.call(i,e,-1,this.searchrules,this.label||this.name)),h&&h.length&&!1===h[0]))return this.searchrules.hasOwnProperty("validationError")&&(p=this.searchrules.validationError),!1;if("bt"===r&&(d=!0),e||"nu"===r||"nn"===r)s[n]=e,l[n]=r,a++;else try{delete i.p.postData[n]}catch(t){}})),!1!==h[0]){var f,g=a>0;if(!0===t.stringResult||"local"===i.p.datatype||!0===t.searchOperators){var m,v,y,b,_,w,x='{"groupOp":"'+t.groupOp+'","rules":[',C=0;if($.each(s,(function(t,e){C>0&&(x+=","),x+='{"field":"'+t+'",',x+='"op":"'+l[t]+'",',x+='"data":"'+(e+="").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',C++})),x+="]}",c&&(m=$.jgrid.filterRefactor({ruleGroup:x,ssfield:u,splitSelect:t.splitSelect,groupOpSelect:t.groupOpSelect}),x=JSON.stringify(m)),d&&($.isPlainObject(m)||(m=$.jgrid.parse(x)),m.rules&&m.rules.length))for(v=m.rules,y=0;y<v.length;y++)"bt"===(b=v[y]).op&&((_=b.data.split("...")).length>1&&(void 0===m.groups&&(m.groups=[]),w={groupOp:"AND",groups:[],rules:[]},m.groups.push(w),$.each(_,(function(t){var e=0===t?"ge":"le";_[t]&&w.rules.push({data:_[t],op:e,field:b.field})})),v.splice(y,1),y--));(d||c)&&(x=JSON.stringify(m)),$.extend(i.p.postData,{filters:x}),$.each(["searchField","searchString","searchOper"],(function(t,e){i.p.postData.hasOwnProperty(e)&&delete i.p.postData[e]}))}else $.extend(i.p.postData,s);t.url&&(f=i.p.url,$(i).jqGrid("setGridParam",{url:t.url}));var k="stop"===$(i).triggerHandler("jqGridToolbarBeforeSearch");!k&&$.isFunction(t.beforeSearch)&&(k=t.beforeSearch.call(i)),k||$(i).jqGrid("setGridParam",{search:g}).trigger("reloadGrid",[{page:1}]),f&&$(i).jqGrid("setGridParam",{url:f}),$(i).triggerHandler("jqGridToolbarAfterSearch"),$.isFunction(t.afterSearch)&&t.afterSearch.call(i)}else if($.isFunction(p))p.call(i,h[1]);else{var S=$.jgrid.getRegional(i,"errors");$.jgrid.info_dialog(S.errcap,h[1],"",{styleUI:i.p.styleUI})}},u=function(e){var n,r={},o=0;e="boolean"!=typeof e||e,$.each(i.p.colModel,(function(){var t,e=$("#gs_"+i.p.idPrefix+$.jgrid.jqID(this.name),!0===this.frozen&&!0===i.p.frozenColumns?i.grid.fhDiv:i.grid.hDiv);switch(this.searchoptions&&void 0!==this.searchoptions.defaultValue&&(t=this.searchoptions.defaultValue),n=this.index||this.name,this.stype){case"select":if(e.find("option").each((function(e){if(0===e&&(this.selected=!0),$(this).val()===t)return this.selected=!0,!1})),void 0!==t)r[n]=t,o++;else try{delete i.p.postData[n]}catch(t){}break;case"text":if(e.val(t||""),void 0!==t)r[n]=t,o++;else try{delete i.p.postData[n]}catch(t){}break;case"custom":$.isFunction(this.searchoptions.custom_value)&&e.length>0&&this.searchoptions.custom_value.call(i,e,"set",t||"")}}));var s,a=o>0;if(i.p.resetsearch=!0,!0===t.stringResult||"local"===i.p.datatype){var l='{"groupOp":"'+t.groupOp+'","rules":[',c=0;$.each(r,(function(t,e){c>0&&(l+=","),l+='{"field":"'+t+'",',l+='"op":"eq",',l+='"data":"'+(e+="").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',c++})),l+="]}",$.extend(i.p.postData,{filters:l}),$.each(["searchField","searchString","searchOper"],(function(t,e){i.p.postData.hasOwnProperty(e)&&delete i.p.postData[e]}))}else $.extend(i.p.postData,r);t.url&&(s=i.p.url,$(i).jqGrid("setGridParam",{url:t.url}));var u="stop"===$(i).triggerHandler("jqGridToolbarBeforeClear");!u&&$.isFunction(t.beforeClear)&&(u=t.beforeClear.call(i)),u||e&&$(i).jqGrid("setGridParam",{search:a}).trigger("reloadGrid",[{page:1}]),s&&$(i).jqGrid("setGridParam",{url:s}),$(i).triggerHandler("jqGridToolbarAfterClear"),$.isFunction(t.afterClear)&&t.afterClear()},d=function(){var t=$("tr.ui-search-toolbar",i.grid.hDiv);!0===i.p.frozenColumns&&$(i).jqGrid("destroyFrozenColumns"),"none"===t.css("display")?t.show():t.hide(),!0===i.p.frozenColumns&&$(i).jqGrid("setFrozenColumns")},h=function(e,n,r){$("#sopt_menu").remove(),n=parseInt(n,10),r=parseInt(r,10)+18;for(var o,l='<ul id="sopt_menu" class="ui-search-menu modal-content" role="menu" tabindex="0" style="font-size:'+($(".ui-jqgrid").css("font-size")||"11px")+";left:"+n+"px;top:"+r+'px;">',u=$(e).attr("soper"),d=[],h=0,p=$(e).attr("colname"),f=i.p.colModel.length;h<f&&i.p.colModel[h].name!==p;)h++;var g=i.p.colModel[h],m=$.extend({},g.searchoptions);for(m.sopt||(m.sopt=[],m.sopt[0]="select"===g.stype?"eq":t.defaultSearch),$.each(t.odata,(function(){d.push(this.oper)})),h=0;h<m.sopt.length;h++)-1!==(o=$.inArray(m.sopt[h],d))&&(l+='<li class="ui-menu-item '+(u===t.odata[o].oper?a.highlight:"")+'" role="presentation"><a class="'+a.cornerall+' g-menu-item" tabindex="0" role="menuitem" value="'+t.odata[o].oper+'" oper="'+t.operands[t.odata[o].oper]+'"><table class="ui-common-table"><tr><td width="25px">'+t.operands[t.odata[o].oper]+"</td><td>"+t.odata[o].text+"</td></tr></table></a></li>");l+="</ul>",$("body").append(l),$("#sopt_menu").addClass("ui-menu "+s.menu_widget),$("#sopt_menu > li > a").hover((function(){$(this).addClass(a.hover)}),(function(){$(this).removeClass(a.hover)})).click((function(){var n=$(this).attr("value"),r=$(this).attr("oper");if($(i).triggerHandler("jqGridToolbarSelectOper",[n,r,e]),$("#sopt_menu").hide(),$(e).text(r).attr("soper",n),!0===t.autosearch){var o=$(e).parent().next().children()[0];($(o).val()||"nu"===n||"nn"===n)&&c()}}))},p=$("<tr class='ui-search-toolbar' role='row'></tr>");t.restoreFromFilters&&(o=i.p.postData.filters)&&("string"==typeof o&&(o=$.jgrid.parse(o)),r=!!o.rules.length&&o.rules),$.each(i.p.colModel,(function(e){var o,a,u,d,h,f,g,m,v=this,y="",b="=",_=$("<th role='columnheader' class='"+l.headerBox+" ui-th-"+i.p.direction+"' id='gsh_"+i.p.id+"_"+v.name+"' ></th>"),w=$("<div></div>"),x=$("<table class='ui-search-table' cellspacing='0'><tr><td class='ui-search-oper' headers=''></td><td class='ui-search-input' headers=''></td><td class='ui-search-clear' headers=''></td></tr></table>");if(!0===this.hidden&&$(_).css("display","none"),this.search=!1!==this.search,void 0===this.stype&&(this.stype="text"),this.searchoptions=this.searchoptions||{},void 0===this.searchoptions.searchOperMenu&&(this.searchoptions.searchOperMenu=!0),o=$.extend({},this.searchoptions,{name:v.index||v.name,id:"gs_"+i.p.idPrefix+v.name,oper:"search"}),this.search){if(t.restoreFromFilters&&r){m=!1;for(var C=0;C<r.length;C++)if(r[C].field){if((v.index||v.name)===r[C].field){m=r[C];break}}}if(t.searchOperators){for(a=o.sopt?o.sopt[0]:"select"===v.stype?"eq":t.defaultSearch,t.restoreFromFilters&&m&&(a=m.op),u=0;u<t.odata.length;u++)if(t.odata[u].oper===a){b=t.operands[a]||"";break}d=null!=o.searchtitle?o.searchtitle:t.operandTitle,y=this.searchoptions.searchOperMenu?"<a title='"+d+"' style='padding-right: 0.5em;' soper='"+a+"' class='soptclass' colname='"+this.name+"'>"+b+"</a>":""}switch($("td:eq(0)",x).attr("colindex",e).append(y),void 0===o.clearSearch&&(o.clearSearch=!0),o.clearSearch?(h=t.resetTitle||"Clear Search Value",$("td:eq(2)",x).append("<a title='"+h+"' style='padding-right: 0.3em;padding-left: 0.3em;' class='clearsearchclass'>"+t.resetIcon+"</a>")):$("td:eq(2)",x).hide(),this.surl&&(o.dataUrl=this.surl),f="",o.defaultValue&&(f=$.isFunction(o.defaultValue)?o.defaultValue.call(i):o.defaultValue),t.restoreFromFilters&&m&&(f=m.data),g=$.jgrid.createEl.call(i,this.stype,o,f,!1,$.extend({},$.jgrid.ajaxOptions,i.p.ajaxSelectOptions||{})),$(g).addClass(s.srInput),$("td:eq(1)",x).append(g),$(w).append(x),null==o.dataEvents&&(o.dataEvents=[]),this.stype){case"select":!0===t.autosearch&&o.dataEvents.push({type:"change",fn:function(){return c(),!1}});break;case"text":!0===t.autosearch&&(t.searchOnEnter?o.dataEvents.push({type:"keypress",fn:function(t){return 13===(t.charCode||t.keyCode||0)?(c(),!1):this}}):o.dataEvents.push({type:"keydown",fn:function(e){switch(e.which){case 13:return!1;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:n&&clearTimeout(n),n=setTimeout((function(){c()}),t.autosearchDelay)}}}))}$.jgrid.bindEv.call(i,g,o)}$(_).append(w),$(p).append(_),t.searchOperators&&""!==y||$("td:eq(0)",x).hide()})),$("table thead",i.grid.hDiv).append(p),t.searchOperators&&($(".soptclass",p).click((function(t){var e=$(this).offset(),i=e.left,n=e.top;h(this,i,n),t.stopPropagation()})),$("body").on("click",(function(t){"soptclass"!==t.target.className&&$("#sopt_menu").remove()}))),$(".clearsearchclass",p).click((function(){var e,n=$(this).parents("tr:first"),r=parseInt($("td.ui-search-oper",n).attr("colindex"),10),o=$.extend({},i.p.colModel[r].searchoptions||{}),s=o.defaultValue?o.defaultValue:"";"select"===i.p.colModel[r].stype?(e=$("td.ui-search-input select",n),s?e.val(s):e[0].selectedIndex=0):(e=$("td.ui-search-input input",n)).val(s),$(i).triggerHandler("jqGridToolbarClearVal",[e[0],r,o,s]),$.isFunction(t.onClearSearchValue)&&t.onClearSearchValue.call(i,e[0],r,o,s),!0===t.autosearch&&c()})),this.p.filterToolbar=!0,this.triggerToolbar=c,this.clearToolbar=u,this.toggleToolbar=d}}))},destroyFilterToolbar:function(){return this.each((function(){this.p.filterToolbar&&(this.triggerToolbar=null,this.clearToolbar=null,this.toggleToolbar=null,this.p.filterToolbar=!1,$(this.grid.hDiv).find("table thead tr.ui-search-toolbar").remove())}))},refreshFilterToolbar:function(t){return t=$.extend(!0,{filters:"",onClearVal:null,onSetVal:null},t||{}),this.each((function(){function e(o){if(o&&o.rules){for(s=o.rules,d=s.length,i=0;i<d;i++)if(a=s[i],-1!==(l=$.inArray(a.field,h))&&((r=$("#gs_"+c.p.idPrefix+$.jgrid.jqID(u[l].name))).length>0&&("select"===u[l].stype?r.find("option[value='"+$.jgrid.jqID(a.data)+"']").prop("selected",!0):"text"===u[l].stype&&r.val(a.data),$.isFunction(t.onSetVal)&&t.onSetVal.call(c,r,u[l].name),n&&n.searchOperators))){var p=r.parent().prev();p.hasClass("ui-search-oper")&&($(".soptclass",p).attr("soper",a.op),n.operands.hasOwnProperty(a.op)&&$(".soptclass",p).html(n.operands[a.op]))}if(o.groups)for(var f=0;f<o.groups.length;f++)e(o.groups[f])}}var i,n,r,o,s,a,l,c=this,u=c.p.colModel,d=c.p.colModel.length,h=[];if(c.p.filterToolbar){for(n=$(c).data("filterToolbar"),i=0;i<d;i++){switch(h.push(u[i].name),r=$("#gs_"+c.p.idPrefix+$.jgrid.jqID(u[i].name)),u[i].stype){case"select":case"text":r.val("")}$.isFunction(t.onClearVal)&&t.onClearVal.call(c,r,u[i].name)}"string"==typeof t.filters&&(t.filters.length?o=t.filters:c.p.postData.hasOwnProperty("filters")&&(o=c.p.postData.filters),o=$.jgrid.parse(o)),$.isPlainObject(o)&&e(o)}}))},searchGrid:function(t){var e=$.jgrid.getRegional(this[0],"search");return t=$.extend(!0,{recreateFilter:!1,drag:!0,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:"filters",loadDefaults:!0,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,afterRedraw:null,afterChange:null,sortStrategy:null,closeAfterSearch:!1,closeAfterReset:!1,closeOnEscape:!1,searchOnEnter:!1,multipleSearch:!1,multipleGroup:!1,top:0,left:0,jqModal:!0,modal:!1,resize:!0,width:450,height:"auto",dataheight:"auto",showQuery:!1,errorcheck:!0,sopt:null,stringResult:void 0,onClose:null,onSearch:null,onReset:null,toTop:!0,overlay:30,columns:[],tmplNames:null,tmplFilters:null,tmplLabel:" Template: ",showOnLoad:!1,layer:null,splitSelect:",",groupOpSelect:"OR",operands:{eq:"=",ne:"<>",lt:"<",le:"<=",gt:">",ge:">=",bw:"LIKE",bn:"NOT LIKE",in:"IN",ni:"NOT IN",ew:"LIKE",en:"NOT LIKE",cn:"LIKE",nc:"NOT LIKE",nu:"IS NULL",nn:"ISNOT NULL"},buttons:[]},e,t||{}),this.each((function(){function e(e){void 0===(o=$(i).triggerHandler("jqGridFilterBeforeShow",[e]))&&(o=!0),o&&$.isFunction(t.beforeShowSearch)&&(o=t.beforeShowSearch.call(i,e)),o&&($.jgrid.viewModal("#"+$.jgrid.jqID(a.themodal),{gbox:"#gbox_"+$.jgrid.jqID(i.p.id),jqm:t.jqModal,modal:t.modal,overlay:t.overlay,toTop:t.toTop}),$(i).triggerHandler("jqGridFilterAfterShow",[e]),$.isFunction(t.afterShowSearch)&&t.afterShowSearch.call(i,e))}var i=this;if(i.grid){var n,r="fbox_"+i.p.id,o=!0,s=!0,a={themodal:"searchmod"+r,modalhead:"searchhd"+r,modalcontent:"searchcnt"+r,scrollelm:r},l=$.isPlainObject(i.p_savedFilter)&&!$.isEmptyObject(i.p_savedFilter)?i.p_savedFilter:i.p.postData[t.sFilter],c=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].filter,u=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].common;if(t.styleUI=i.p.styleUI,"string"==typeof l&&(l=$.jgrid.parse(l)),!0===t.recreateFilter&&$("#"+$.jgrid.jqID(a.themodal)).remove(),void 0!==$("#"+$.jgrid.jqID(a.themodal))[0])e($("#fbox_"+$.jgrid.jqID(i.p.id)));else{var d=$("<div><div id='"+r+"' class='searchFilter' style='overflow:auto'></div></div>").insertBefore("#gview_"+$.jgrid.jqID(i.p.id)),h="left",p="";"rtl"===i.p.direction&&(h="right",p=" style='text-align:left'",d.attr("dir","rtl"));var f,g,m=$.extend([],i.p.colModel),v="<a id='"+r+"_search' class='fm-button "+u.button+" fm-button-icon-right ui-search'><span class='"+u.icon_base+" "+c.icon_search+"'></span>"+t.Find+"</a>",y="<a id='"+r+"_reset' class='fm-button "+u.button+" fm-button-icon-left ui-reset'><span class='"+u.icon_base+" "+c.icon_reset+"'></span>"+t.Reset+"</a>",b="",_="",w=!1,x=-1,C=!1,k=[];t.showQuery&&(b="<a id='"+r+"_query' class='fm-button "+u.button+" fm-button-icon-left'><span class='"+u.icon_base+" "+c.icon_query+"'></span>Query</a>");var S=$.jgrid.buildButtons(t.buttons,b+v,u);if(t.columns.length?(m=t.columns,x=0,f=m[0].index||m[0].name):$.each(m,(function(t,e){if(e.label||(e.label=i.p.colNames[t]),!w){var n=void 0===e.search||e.search,r=!0===e.hidden;(e.searchoptions&&!0===e.searchoptions.searchhidden&&n||n&&!r)&&(w=!0,f=e.index||e.name,x=t)}"select"===e.stype&&e.searchoptions&&e.searchoptions.multiple&&(C=!0,k.push(e.index||e.name))})),!l&&f||!1===t.multipleSearch){var j="eq";x>=0&&m[x].searchoptions&&m[x].searchoptions.sopt?j=m[x].searchoptions.sopt[0]:t.sopt&&t.sopt.length&&(j=t.sopt[0]),l={groupOp:"AND",rules:[{field:f,op:j,data:""}]}}w=!1,t.tmplNames&&t.tmplNames.length&&(w=!0,_="<tr><td class='ui-search-label'>"+t.tmplLabel+"</td>",_+="<td><select size='1' class='ui-template "+c.srSelect+"'>",_+="<option value='default'>Default</option>",$.each(t.tmplNames,(function(t,e){_+="<option value='"+t+"'>"+e+"</option>"})),_+="</select></td></tr>"),g="<table class='EditTable' style='border:0px none;margin-top:5px' id='"+r+"_2'><tbody><tr><td colspan='2'><hr class='"+u.content+"' style='margin:1px'/></td></tr>"+_+"<tr><td class='EditButton' style='text-align:"+h+"'>"+y+"</td><td class='EditButton' "+p+">"+S+"</td></tr></tbody></table>",r=$.jgrid.jqID(r),$("#"+r).jqFilter({columns:m,sortStrategy:t.sortStrategy,filter:t.loadDefaults?l:null,showQuery:t.showQuery,errorcheck:t.errorcheck,sopt:t.sopt,groupButton:t.multipleGroup,ruleButtons:t.multipleSearch,uniqueSearchFields:t.uniqueSearchFields,afterRedraw:t.afterRedraw,ops:t.odata,operands:t.operands,ajaxSelectOptions:i.p.ajaxSelectOptions,groupOps:t.groupOps,addsubgrup:t.addsubgrup,addrule:t.addrule,delgroup:t.delgroup,delrule:t.delrule,autoencode:i.p.autoencode,onChange:function(){this.p.showQuery&&$(".query",this).html(this.toUserFriendlyString()),$.isFunction(t.afterChange)&&t.afterChange.call(i,$("#"+r),t)},direction:i.p.direction,id:i.p.id}),d.append(g),$("#"+r+"_2").find("[data-index]").each((function(){var e=parseInt($(this).attr("data-index"),10);e>=0&&$(this).on("click",(function(n){t.buttons[e].click.call(i,$("#"+r),t,n)}))})),w&&t.tmplFilters&&t.tmplFilters.length&&$(".ui-template",d).on("change",(function(){var e=$(this).val();return"default"===e?$("#"+r).jqFilter("addFilter",l):$("#"+r).jqFilter("addFilter",t.tmplFilters[parseInt(e,10)]),!1})),!0===t.multipleGroup&&(t.multipleSearch=!0),$(i).triggerHandler("jqGridFilterInitialize",[$("#"+r)]),$.isFunction(t.onInitializeSearch)&&t.onInitializeSearch.call(i,$("#"+r)),t.gbox="#gbox_"+r;var T=$(".ui-jqgrid").css("font-size")||"11px";t.layer?$.jgrid.createModal(a,d,t,"#gview_"+$.jgrid.jqID(i.p.id),$("#gbox_"+$.jgrid.jqID(i.p.id))[0],"string"==typeof t.layer?"#"+$.jgrid.jqID(t.layer):t.layer,"string"==typeof t.layer?{position:"relative","font-size":T}:{"font-size":T}):$.jgrid.createModal(a,d,t,"#gview_"+$.jgrid.jqID(i.p.id),$("#gbox_"+$.jgrid.jqID(i.p.id))[0],null,{"font-size":T}),(t.searchOnEnter||t.closeOnEscape)&&$("#"+$.jgrid.jqID(a.themodal)).keydown((function(e){var i=$(e.target);return!t.searchOnEnter||13!==e.which||i.hasClass("add-group")||i.hasClass("add-rule")||i.hasClass("delete-group")||i.hasClass("delete-rule")||i.hasClass("fm-button")&&i.is("[id$=_query]")?t.closeOnEscape&&27===e.which?($("#"+$.jgrid.jqID(a.modalhead)).find(".ui-jqdialog-titlebar-close").click(),!1):void 0:($("#"+r+"_search").click(),!1)})),b&&$("#"+r+"_query").on("click",(function(){return $(".queryresult",d).toggle(),!1})),void 0===t.stringResult&&(t.stringResult=t.multipleSearch),$("#"+r+"_search").on("click",(function(){var e,o,l={};if((n=$("#"+r)).find(".input-elm:focus").change(),C&&t.multipleSearch?(i.p_savedFilter={},o=$.jgrid.filterRefactor({ruleGroup:$.extend(!0,{},n.jqFilter("filterData")),ssfield:k,splitSelect:t.splitSelect,groupOpSelect:t.groupOpSelect}),i.p_savedFilter=$.extend(!0,{},n.jqFilter("filterData"))):o=n.jqFilter("filterData"),t.errorcheck&&(n[0].hideError(),t.showQuery||n.jqFilter("toSQLString"),n[0].p.error))return n[0].showError(),!1;if(t.stringResult){try{e=JSON.stringify(o)}catch(t){}"string"==typeof e&&(l[t.sFilter]=e,$.each([t.sField,t.sValue,t.sOper],(function(){l[this]=""})))}else t.multipleSearch?(l[t.sFilter]=o,$.each([t.sField,t.sValue,t.sOper],(function(){l[this]=""}))):(l[t.sField]=o.rules[0].field,l[t.sValue]=o.rules[0].data,l[t.sOper]=o.rules[0].op,l[t.sFilter]="");return i.p.search=!0,$.extend(i.p.postData,l),void 0===(s=$(i).triggerHandler("jqGridFilterSearch"))&&(s=!0),s&&$.isFunction(t.onSearch)&&(s=t.onSearch.call(i,i.p.filters)),!1!==s&&$(i).trigger("reloadGrid",[{page:1}]),t.closeAfterSearch&&$.jgrid.hideModal("#"+$.jgrid.jqID(a.themodal),{gb:"#gbox_"+$.jgrid.jqID(i.p.id),jqm:t.jqModal,onClose:t.onClose}),!1})),$("#"+r+"_reset").on("click",(function(){var e={},n=$("#"+r);return i.p.search=!1,i.p.resetsearch=!0,!1===t.multipleSearch?e[t.sField]=e[t.sValue]=e[t.sOper]="":e[t.sFilter]="",n[0].resetFilter(),w&&$(".ui-template",d).val("default"),$.extend(i.p.postData,e),void 0===(s=$(i).triggerHandler("jqGridFilterReset"))&&(s=!0),s&&$.isFunction(t.onReset)&&(s=t.onReset.call(i)),!1!==s&&$(i).trigger("reloadGrid",[{page:1}]),t.closeAfterReset&&$.jgrid.hideModal("#"+$.jgrid.jqID(a.themodal),{gb:"#gbox_"+$.jgrid.jqID(i.p.id),jqm:t.jqModal,onClose:t.onClose}),!1})),e($("#"+r)),$(".fm-button:not(."+u.disabled+")",d).hover((function(){$(this).addClass(u.hover)}),(function(){$(this).removeClass(u.hover)}))}}}))},filterInput:function(t,e){return e=$.extend(!0,{defaultSearch:"cn",groupOp:"OR",searchAll:!1,beforeSearch:null,afterSearch:null},e||{}),this.each((function(){var i=this;if(i.grid){var n,r,o,s='{"groupOp":"'+e.groupOp+'","rules":[',a=0;if(t+="","local"===i.p.datatype){$.each(i.p.colModel,(function(){n=this.index||this.name,r=this.searchoptions||{},o=e.defaultSearch?e.defaultSearch:r.sopt?r.sopt[0]:e.defaultSearch,this.search=!1!==this.search,(this.search||e.searchAll)&&(a>0&&(s+=","),s+='{"field":"'+n+'",',s+='"op":"'+o+'",',s+='"data":"'+t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',a++)})),s+="]}",$.extend(i.p.postData,{filters:s}),$.each(["searchField","searchString","searchOper"],(function(t,e){i.p.postData.hasOwnProperty(e)&&delete i.p.postData[e]}));var l="stop"===$(i).triggerHandler("jqGridFilterInputBeforeSearch");!l&&$.isFunction(e.beforeSearch)&&(l=e.beforeSearch.call(i)),l||$(i).jqGrid("setGridParam",{search:!0}).trigger("reloadGrid",[{page:1}]),$(i).triggerHandler("jqGridFilterInputAfterSearch"),$.isFunction(e.afterSearch)&&e.afterSearch.call(i)}}}))}});var rp_ge={};if($.jgrid.extend({editGridRow:function(t,e){var i=$.jgrid.getRegional(this[0],"edit"),n=this[0].p.styleUI,r=$.jgrid.styleUI[n].formedit,o=$.jgrid.styleUI[n].common;return e=$.extend(!0,{top:0,left:0,width:"500",datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:null,mtype:"POST",clearAfterAdd:!0,closeAfterEdit:!1,reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},recreateForm:!1,jqModal:!0,closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",saveicon:[],closeicon:[],savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,checkOnUpdate:!1,processing:!1,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:!0,overlayClass:o.overlay,removemodal:!0,form:"edit",template:null,focusField:!0,editselected:!1,html5Check:!1,buttons:[]},i,e||{}),rp_ge[$(this)[0].p.id]=e,this.each((function(){function i(){var t,e={};for(t in $(C).find(".FormElement").each((function(){var t=$(".customelement",this);if(t.length){var i=t[0],n=$(i).attr("name");$.each(m.p.colModel,(function(){if(this.name===n&&this.editoptions&&$.isFunction(this.editoptions.custom_value)){try{if(y[n]=this.editoptions.custom_value.call(m,$("#"+$.jgrid.jqID(n),C),"get"),void 0===y[n])throw"e1"}catch(t){"e1"===t?$.jgrid.info_dialog(D.errcap,"function 'custom_value' "+rp_ge[$(this)[0]].p.msg.novalue,rp_ge[$(this)[0]].p.bClose,{styleUI:rp_ge[$(this)[0]].p.styleUI}):$.jgrid.info_dialog(D.errcap,t.message,rp_ge[$(this)[0]].p.bClose,{styleUI:rp_ge[$(this)[0]].p.styleUI})}return!0}}))}else{switch($(this).get(0).type){case"checkbox":if($(this).is(":checked"))y[this.name]=$(this).val();else{var r=$(this).attr("offval");y[this.name]=r}break;case"select-one":default:y[this.name]=$(this).val();break;case"select-multiple":y[this.name]=$(this).val(),y[this.name]=y[this.name]?y[this.name].join(","):"";break;case"radio":if(e.hasOwnProperty(this.name))return!0;e[this.name]=void 0===$(this).attr("offval")?"off":$(this).attr("offval")}m.p.autoencode&&(y[this.name]=$.jgrid.htmlEncode(y[this.name]))}})),e)if(e.hasOwnProperty(t)){var i=$('input[name="'+t+'"]:checked',C).val();y[t]=void 0!==i?i:e[t],m.p.autoencode&&(y[t]=$.jgrid.htmlEncode(y[t]))}return!0}function n(t,e,i,n){var o,s,a,l,c,u,d,h,p,f=0,g=[],v=!1,y="<td class='CaptionTD'></td><td class='DataTD'></td>",b="";for(d=1;d<=n;d++)b+=y;("_empty"!==t&&(v=$(e).jqGrid("getInd",t)),$(e.p.colModel).each((function(d){if(o=this.name,s=(!this.editrules||!0!==this.editrules.edithidden)&&!0===this.hidden,c=s?"style='display:none'":"","cb"!==o&&"subgrid"!==o&&!0===this.editable&&"rn"!==o){if(!1===v)l="";else if(o===e.p.ExpandColumn&&!0===e.p.treeGrid)l=$("td[role='gridcell']:eq("+d+")",e.rows[v]).text();else{try{l=$.unformat.call(e,$("td[role='gridcell']:eq("+d+")",e.rows[v]),{rowId:t,colModel:this},d)}catch(t){l=this.edittype&&"textarea"===this.edittype?$("td[role='gridcell']:eq("+d+")",e.rows[v]).text():$("td[role='gridcell']:eq("+d+")",e.rows[v]).html()}(!l||"&nbsp;"===l||"&#160;"===l||1===l.length&&160===l.charCodeAt(0))&&(l="")}var p=$.extend({},this.editoptions||{},{id:o,name:o,rowId:t,oper:"edit"}),y=$.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,rowcontent:""},this.formoptions||{}),_=parseInt(y.rowpos,10)||f+1,x=parseInt(2*(parseInt(y.colpos,10)||1),10);if("_empty"===t&&p.defaultValue&&(l=$.isFunction(p.defaultValue)?p.defaultValue.call(m):p.defaultValue),this.edittype||(this.edittype="text"),m.p.autoencode&&(l=$.jgrid.htmlDecode(l)),u=$.jgrid.createEl.call(m,this.edittype,p,l,!1,$.extend({},$.jgrid.ajaxOptions,e.p.ajaxSelectOptions||{})),"select"===this.edittype&&(l=$(u).val(),"select-multiple"===$(u).get(0).type&&l&&(l=l.join(","))),"checkbox"===this.edittype&&(l=$(u).is(":checked")?$(u).val():$(u).attr("offval")),$(u).addClass("FormElement"),$.inArray(this.edittype,["text","textarea","password","select","color","date","datetime","datetime-local","email","month","number","range","search","tel","time","url","week"])>-1&&$(u).addClass(r.inputClass),h=!0,A){var C=$(F).find("#"+o);C.length?C.replaceWith(u):h=!1}else{if(a=$(i).find("tr[rowpos="+_+"]"),y.rowabove){var k=$("<tr><td class='contentinfo' colspan='"+2*n+"'>"+y.rowcontent+"</td></tr>");$(i).append(k),k[0].rp=_}0===a.length&&(a=$("<tr "+c+" rowpos='"+_+"'></tr>").addClass("FormData").attr("id","tr_"+o),$(a).append(b),$(i).append(a),a[0].rp=_),$("td:eq("+(x-2)+")",a[0]).html("<label for='"+o+"'>"+(void 0===y.label?e.p.colNames[d]:y.label)+"</label>"),$("td:eq("+(x-1)+")",a[0]).append(y.elmprefix).append(u).append(y.elmsuffix)}(rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate)&&h&&(m.p.savedData[o]=l),"custom"===this.edittype&&$.isFunction(p.custom_value)&&p.custom_value.call(m,$("#"+o,w),"set",l),$.jgrid.bindEv.call(m,u,p),g[f]=d,f++}})),f>0)&&(A?(p="<div class='FormData' style='display:none'><input class='FormElement' id='id_g' type='text' name='"+e.p.id+"_id' value='"+t+"'/>",$(F).append(p)):((p=$("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*n-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+e.p.id+"_id' value='"+t+"'/></td></tr>"))[0].rp=f+999,$(i).append(p)),(rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate)&&(m.p.savedData[e.p.id+"_id"]=t));return g}function s(t,e,i){var n,r,o,s,a,l,c=0;(rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate)&&(m.p.savedData={},m.p.savedData[e.p.id+"_id"]=t);var u=e.p.colModel;if("_empty"===t)return $(u).each((function(){n=this.name,s=$.extend({},this.editoptions||{}),(o=$("#"+$.jgrid.jqID(n),i))&&o.length&&null!==o[0]&&(a="","custom"===this.edittype&&$.isFunction(s.custom_value)?s.custom_value.call(m,$("#"+n,i),"set",a):s.defaultValue?(a=$.isFunction(s.defaultValue)?s.defaultValue.call(m):s.defaultValue,"checkbox"===o[0].type?(l=a.toLowerCase()).search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==l?(o[0].checked=!0,o[0].defaultChecked=!0,o[0].value=a):(o[0].checked=!1,o[0].defaultChecked=!1):o.val(a)):"checkbox"===o[0].type?(o[0].checked=!1,o[0].defaultChecked=!1,a=$(o).attr("offval")):o[0].type&&"select"===o[0].type.substr(0,6)?o[0].selectedIndex=0:o.val(a),(!0===rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate)&&(m.p.savedData[n]=a))})),void $("#id_g",i).val(t);var d=$(e).jqGrid("getInd",t,!0);d&&($('td[role="gridcell"]',d).each((function(o){if("cb"!==(n=u[o].name)&&"subgrid"!==n&&"rn"!==n&&!0===u[o].editable){if(n===e.p.ExpandColumn&&!0===e.p.treeGrid)r=$(this).text();else try{r=$.unformat.call(e,$(this),{rowId:t,
colModel:u[o]},o)}catch(t){r="textarea"===u[o].edittype?$(this).text():$(this).html()}switch(m.p.autoencode&&(r=$.jgrid.htmlDecode(r)),(!0===rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate)&&(m.p.savedData[n]=r),n=$.jgrid.jqID(n),u[o].edittype){case"select":var s=r.split(",");s=$.map(s,(function(t){return $.trim(t)})),$("#"+n+" option",i).each((function(){u[o].editoptions.multiple||$.trim(r)!==$.trim($(this).text())&&s[0]!==$.trim($(this).text())&&s[0]!==$.trim($(this).val())?u[o].editoptions.multiple&&($.inArray($.trim($(this).text()),s)>-1||$.inArray($.trim($(this).val()),s)>-1)?this.selected=!0:this.selected=!1:this.selected=!0})),(!0===rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate)&&(r=$("#"+n,i).val(),u[o].editoptions.multiple&&(r=r.join(",")),m.p.savedData[n]=r);break;case"checkbox":r=String(r),u[o].editoptions&&u[o].editoptions.value?u[o].editoptions.value.split(":")[0]===r?$("#"+n,i)[m.p.useProp?"prop":"attr"]({checked:!0,defaultChecked:!0}):$("#"+n,i)[m.p.useProp?"prop":"attr"]({checked:!1,defaultChecked:!1}):(r=r.toLowerCase()).search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==r?($("#"+n,i)[m.p.useProp?"prop":"attr"]("checked",!0),$("#"+n,i)[m.p.useProp?"prop":"attr"]("defaultChecked",!0)):($("#"+n,i)[m.p.useProp?"prop":"attr"]("checked",!1),$("#"+n,i)[m.p.useProp?"prop":"attr"]("defaultChecked",!1)),(!0===rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate)&&(r=$("#"+n,i).is(":checked")?$("#"+n,i).val():$("#"+n,i).attr("offval"),m.p.savedData[n]=r);break;case"custom":try{if(!u[o].editoptions||!$.isFunction(u[o].editoptions.custom_value))throw"e1";u[o].editoptions.custom_value.call(m,$("#"+n,i),"set",r)}catch(t){"e1"===t?$.jgrid.info_dialog(D.errcap,"function 'custom_value' "+rp_ge[$(this)[0]].p.msg.nodefined,$.rp_ge[$(this)[0]].p.bClose,{styleUI:rp_ge[$(this)[0]].p.styleUI}):$.jgrid.info_dialog(D.errcap,t.message,$.rp_ge[$(this)[0]].p.bClose,{styleUI:rp_ge[$(this)[0]].p.styleUI})}break;default:("&nbsp;"===r||"&#160;"===r||1===r.length&&160===r.charCodeAt(0))&&(r=""),$("#"+n,i).val(r)}c++}})),c>0&&($("#id_g",C).val(t),(!0===rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate)&&(m.p.savedData[e.p.id+"_id"]=t)))}function a(){$.each(m.p.colModel,(function(t,e){e.editoptions&&!0===e.editoptions.NullIfEmpty&&y.hasOwnProperty(e.name)&&""===y[e.name]&&(y[e.name]="null")}))}function l(){var t,i,n,r,l,c,u,d=[!0,"",""],h={},p=m.p.prmNames,f=$(m).triggerHandler("jqGridAddEditBeforeCheckValues",[y,$(w),b]);if(f&&"object"==typeof f&&(y=f),$.isFunction(rp_ge[m.p.id].beforeCheckValues)&&(f=rp_ge[m.p.id].beforeCheckValues.call(m,y,$(w),b))&&"object"==typeof f&&(y=f),rp_ge[m.p.id].html5Check&&!$.jgrid.validateForm(F[0]))return!1;for(r in y)if(y.hasOwnProperty(r)&&!1===(d=$.jgrid.checkValues.call(m,y[r],r))[0])break;if(a(),d[0]&&(void 0===(h=$(m).triggerHandler("jqGridAddEditClickSubmit",[rp_ge[m.p.id],y,b]))&&$.isFunction(rp_ge[m.p.id].onclickSubmit)&&(h=rp_ge[m.p.id].onclickSubmit.call(m,rp_ge[m.p.id],y,b)||{}),void 0===(d=$(m).triggerHandler("jqGridAddEditBeforeSubmit",[y,$(w),b]))&&(d=[!0,"",""]),d[0]&&$.isFunction(rp_ge[m.p.id].beforeSubmit)&&(d=rp_ge[m.p.id].beforeSubmit.call(m,y,$(w),b))),d[0]&&!rp_ge[m.p.id].processing){if(rp_ge[m.p.id].processing=!0,$("#sData",C+"_2").addClass(o.active),u=rp_ge[m.p.id].url||$(m).jqGrid("getGridParam","editurl"),n=p.oper,i="clientArray"===u?m.p.keyName:p.id,y[n]="_empty"===$.trim(y[m.p.id+"_id"])?p.addoper:p.editoper,(y[n]!==p.addoper||void 0===y[i])&&(y[i]=y[m.p.id+"_id"]),delete y[m.p.id+"_id"],y=$.extend(y,rp_ge[m.p.id].editData,h),!0===m.p.treeGrid){if(y[n]===p.addoper){l=$(m).jqGrid("getGridParam","selrow");var g="adjacency"===m.p.treeGridModel?m.p.treeReader.parent_id_field:"parent_id";y[g]=l}for(c in m.p.treeReader)if(m.p.treeReader.hasOwnProperty(c)){var v=m.p.treeReader[c];if(y.hasOwnProperty(v)){if(y[n]===p.addoper&&"parent_id_field"===c)continue;delete y[v]}}}y[i]=$.jgrid.stripPref(m.p.idPrefix,y[i]);var x=$.extend({url:u,type:rp_ge[m.p.id].mtype,data:$.isFunction(rp_ge[m.p.id].serializeEditData)?rp_ge[m.p.id].serializeEditData.call(m,y):y,complete:function(r,a){var c;if($("#sData",C+"_2").removeClass(o.active),y[i]=m.p.idPrefix+y[i],r.status>=300&&304!==r.status?(d[0]=!1,d[1]=$(m).triggerHandler("jqGridAddEditErrorTextFormat",[r,b]),$.isFunction(rp_ge[m.p.id].errorTextFormat)?d[1]=rp_ge[m.p.id].errorTextFormat.call(m,r,b):d[1]=a+" Status: '"+r.statusText+"'. Error code: "+r.status):(void 0===(d=$(m).triggerHandler("jqGridAddEditAfterSubmit",[r,y,b]))&&(d=[!0,"",""]),d[0]&&$.isFunction(rp_ge[m.p.id].afterSubmit)&&(d=rp_ge[m.p.id].afterSubmit.call(m,r,y,b))),!1===d[0])$(".FormError",w).html(d[1]),$(".FormError",w).show();else if(m.p.autoencode&&$.each(y,(function(t,e){y[t]=$.jgrid.htmlDecode(e)})),y[n]===p.addoper?(d[2]||(d[2]=$.jgrid.randId()),null==y[i]||y[i]===m.p.idPrefix+"_empty"||""===y[i]?y[i]=d[2]:d[2]=y[i],rp_ge[m.p.id].reloadAfterSubmit?$(m).trigger("reloadGrid"):!0===m.p.treeGrid?$(m).jqGrid("addChildNode",d[2],l,y):$(m).jqGrid("addRowData",d[2],y,e.addedrow),rp_ge[m.p.id].closeAfterAdd?(!0!==m.p.treeGrid&&$(m).jqGrid("setSelection",d[2]),$.jgrid.hideModal("#"+$.jgrid.jqID(k.themodal),{gb:"#gbox_"+$.jgrid.jqID(_),jqm:e.jqModal,onClose:rp_ge[m.p.id].onClose,removemodal:rp_ge[m.p.id].removemodal,formprop:!rp_ge[m.p.id].recreateForm,form:rp_ge[m.p.id].form})):rp_ge[m.p.id].clearAfterAdd&&s("_empty",m,w)):(rp_ge[m.p.id].reloadAfterSubmit?($(m).trigger("reloadGrid"),rp_ge[m.p.id].closeAfterEdit||setTimeout((function(){$(m).jqGrid("setSelection",y[i])}),1e3)):!0===m.p.treeGrid?$(m).jqGrid("setTreeRow",y[i],y):$(m).jqGrid("setRowData",y[i],y),rp_ge[m.p.id].closeAfterEdit&&$.jgrid.hideModal("#"+$.jgrid.jqID(k.themodal),{gb:"#gbox_"+$.jgrid.jqID(_),jqm:e.jqModal,onClose:rp_ge[m.p.id].onClose,removemodal:rp_ge[m.p.id].removemodal,formprop:!rp_ge[m.p.id].recreateForm,form:rp_ge[m.p.id].form})),($.isFunction(rp_ge[m.p.id].afterComplete)||$._data($(m)[0],"events").hasOwnProperty("jqGridAddEditAfterComplete"))&&(t=r,setTimeout((function(){$(m).triggerHandler("jqGridAddEditAfterComplete",[t,y,$(w),b]);try{rp_ge[m.p.id].afterComplete.call(m,t,y,$(w),b)}catch(t){}t=null}),500)),(rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate)&&($(w).data("disabled",!1),"_empty"!==m.p.savedData[m.p.id+"_id"]))for(c in m.p.savedData)m.p.savedData.hasOwnProperty(c)&&y[c]&&(m.p.savedData[c]=y[c]);rp_ge[m.p.id].processing=!1;try{$(":input:visible",w)[0].focus()}catch(t){}}},$.jgrid.ajaxOptions,rp_ge[m.p.id].ajaxEditOptions);if(x.url||rp_ge[m.p.id].useDataProxy||($.isFunction(m.p.dataProxy)?rp_ge[m.p.id].useDataProxy=!0:(d[0]=!1,d[1]+=" "+D.nourl)),d[0])if(rp_ge[m.p.id].useDataProxy){var S=m.p.dataProxy.call(m,x,"set_"+m.p.id);void 0===S&&(S=[!0,""]),!1===S[0]?(d[0]=!1,d[1]=S[1]||"Error deleting the selected row!"):(x.data.oper===p.addoper&&rp_ge[m.p.id].closeAfterAdd&&$.jgrid.hideModal("#"+$.jgrid.jqID(k.themodal),{gb:"#gbox_"+$.jgrid.jqID(_),jqm:e.jqModal,onClose:rp_ge[m.p.id].onClose,removemodal:rp_ge[m.p.id].removemodal,formprop:!rp_ge[m.p.id].recreateForm,form:rp_ge[m.p.id].form}),x.data.oper===p.editoper&&rp_ge[m.p.id].closeAfterEdit&&$.jgrid.hideModal("#"+$.jgrid.jqID(k.themodal),{gb:"#gbox_"+$.jgrid.jqID(_),jqm:e.jqModal,onClose:rp_ge[m.p.id].onClose,removemodal:rp_ge[m.p.id].removemodal,formprop:!rp_ge[m.p.id].recreateForm,form:rp_ge[m.p.id].form}))}else"clientArray"===x.url?(rp_ge[m.p.id].reloadAfterSubmit=!1,y=x.data,x.complete({status:200,statusText:""},"")):$.ajax(x)}!1===d[0]&&($(".FormError",w).html(d[1]),$(".FormError",w).show())}function c(t,e){var i,n=!1;if(!(n=!($.isPlainObject(t)&&$.isPlainObject(e)&&Object.getOwnPropertyNames(t).length===Object.getOwnPropertyNames(e).length)))for(i in e)if(e.hasOwnProperty(i)){if(!t.hasOwnProperty(i)){n=!0;break}if(t[i]!==e[i]){n=!0;break}}return n}function u(){var t=!0;return $(".FormError",w).hide(),rp_ge[m.p.id].checkOnUpdate&&(y={},i(),c(y,m.p.savedData)&&($(w).data("disabled",!0),$(".confirm","#"+k.themodal).show(),t=!1)),t}function d(){var e;if("_empty"!==t&&void 0!==m.p.savedRow&&m.p.savedRow.length>0&&$.isFunction($.fn.jqGrid.restoreRow))for(e=0;e<m.p.savedRow.length;e++)if(m.p.savedRow[e].id===t){$(m).jqGrid("restoreRow",t);break}}function h(t,e){var i=e[1].length-1;0===t||void 0!==e[1][t-1]&&$("#"+$.jgrid.jqID(e[1][t-1])).hasClass(o.disabled)?$("#pData",v).addClass(o.disabled):$("#pData",v).removeClass(o.disabled),t===i||void 0!==e[1][t+1]&&$("#"+$.jgrid.jqID(e[1][t+1])).hasClass(o.disabled)?$("#nData",v).addClass(o.disabled):$("#nData",v).removeClass(o.disabled)}function p(){var t=$(m).jqGrid("getDataIDs"),e=$("#id_g",C).val();if(m.p.multiselect&&rp_ge[m.p.id].editselected){for(var i=[],n=0,r=t.length;n<r;n++)-1!==$.inArray(t[n],m.p.selarrrow)&&i.push(t[n]);return[$.inArray(e,i),i]}return[$.inArray(e,t),t]}function f(t){var e="";return"string"==typeof t&&(e=t.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,(function(t,e){return'<span id="'+e+'" ></span>'}))),e}function g(){if(rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate){var t=[],e={};for(var i in t=$.map(m.p.savedData,(function(t,e){return e})),$(".FormElement",F).each((function(){if(-1===t.indexOf(this.name)){var i=$(this).val(),n=$(this).get(0).type;if("checkbox"===n)$(this).is(":checked")||(i=$(this).attr("offval"));else if("select-multiple"===n)i=i.join(",");else if("radio"===n){if(e.hasOwnProperty(this.name))return!0;e[this.name]=void 0===$(this).attr("offval")?"off":$(this).attr("offval")}m.p.savedData[this.name]=i}})),e)if(e.hasOwnProperty(i)){var n=$('input[name="'+i+'"]:checked',F).val();m.p.savedData[i]=void 0!==n?n:e[i]}}}var m=this;if(m.grid&&t){m.p.savedData={};var v,y,b,_=m.p.id,w="FrmGrid_"+_,x="TblGrid_"+_,C="#"+$.jgrid.jqID(x),k={themodal:"editmod"+_,modalhead:"edithd"+_,modalcontent:"editcnt"+_,scrollelm:w},S=!0,j=1,T=0,A="string"==typeof rp_ge[m.p.id].template&&rp_ge[m.p.id].template.length>0,D=$.jgrid.getRegional(this,"errors");rp_ge[m.p.id].styleUI=m.p.styleUI||"jQueryUI",$.jgrid.isMobile()&&(rp_ge[m.p.id].resize=!1),"new"===t?(t="_empty",b="add",e.caption=rp_ge[m.p.id].addCaption):(e.caption=rp_ge[m.p.id].editCaption,b="edit"),e.recreateForm||$(m).data("formProp")&&$.extend(rp_ge[$(this)[0].p.id],$(m).data("formProp"));var I=!0;e.checkOnUpdate&&e.jqModal&&!e.modal&&(I=!1);var E,P=isNaN(rp_ge[$(this)[0].p.id].dataheight)?rp_ge[$(this)[0].p.id].dataheight:rp_ge[$(this)[0].p.id].dataheight+"px",O=isNaN(rp_ge[$(this)[0].p.id].datawidth)?rp_ge[$(this)[0].p.id].datawidth:rp_ge[$(this)[0].p.id].datawidth+"px",F=$("<form name='FormPost' id='"+w+"' class='FormGrid' onSubmit='return false;' style='width:"+O+";height:"+P+";'></form>").data("disabled",!1);if(A?(E=f(rp_ge[$(this)[0].p.id].template),v=C):(E=$("<table id='"+x+"' class='EditTable ui-common-table'><tbody></tbody></table>"),v=C+"_2"),w="#"+$.jgrid.jqID(w),$(F).append("<div class='FormError "+o.error+"' style='display:none;'></div>"),$(F).append("<div class='tinfo topinfo'>"+rp_ge[m.p.id].topinfo+"</div>"),$(m.p.colModel).each((function(){var t=this.formoptions;j=Math.max(j,t&&t.colpos||0),T=Math.max(T,t&&t.rowpos||0)})),$(F).append(E),void 0===(S=$(m).triggerHandler("jqGridAddEditBeforeInitData",[F,b]))&&(S=!0),S&&$.isFunction(rp_ge[m.p.id].beforeInitData)&&(S=rp_ge[m.p.id].beforeInitData.call(m,F,b)),!1!==S){d(),n(t,m,E,j);var M="rtl"===m.p.direction,R=M?"pData":"nData",N="<a id='"+(M?"nData":"pData")+"' class='fm-button "+o.button+"'><span class='"+o.icon_base+" "+r.icon_prev+"'></span></a>",q="<a id='"+R+"' class='fm-button "+o.button+"'><span class='"+o.icon_base+" "+r.icon_next+"'></span></a>",L="<a id='sData' class='fm-button "+o.button+"'>"+e.bSubmit+"</a>",z="<a id='cData' class='fm-button "+o.button+"'>"+e.bCancel+"</a>",H=$.isArray(rp_ge[m.p.id].buttons)?$.jgrid.buildButtons(rp_ge[m.p.id].buttons,L+z,o):L+z,B="<table style='height:auto' class='EditTable ui-common-table' id='"+x+"_2'><tbody><tr><td colspan='2'><hr class='"+o.content+"' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton'>"+(M?q+N:N+q)+"</td><td class='EditButton'>"+H+"</td></tr>";if(B+="</tbody></table>",T>0){var W=[];$.each($(E)[0].rows,(function(t,e){W[t]=e})),W.sort((function(t,e){return t.rp>e.rp?1:t.rp<e.rp?-1:0})),$.each(W,(function(t,e){$("tbody",E).append(e)}))}e.gbox="#gbox_"+$.jgrid.jqID(_);var G,U=!1;!0===e.closeOnEscape&&(e.closeOnEscape=!1,U=!0),A?($(F).find("#pData").replaceWith(N),$(F).find("#nData").replaceWith(q),$(F).find("#sData").replaceWith(L),$(F).find("#cData").replaceWith(z),G=$("<div id="+x+"></div>").append(F)):G=$("<div></div>").append(F).append(B),$(F).append("<div class='binfo topinfo bottominfo'>"+rp_ge[m.p.id].bottominfo+"</div>");var V=$(".ui-jqgrid").css("font-size")||"11px";if($.jgrid.createModal(k,G,rp_ge[$(this)[0].p.id],"#gview_"+$.jgrid.jqID(m.p.id),$("#gbox_"+$.jgrid.jqID(m.p.id))[0],null,{"font-size":V}),M&&($("#pData, #nData",C+"_2").css("float","right"),$(".EditButton",C+"_2").css("text-align","left")),rp_ge[m.p.id].topinfo&&$(".tinfo",w).show(),rp_ge[m.p.id].bottominfo&&$(".binfo",w).show(),G=null,B=null,$("#"+$.jgrid.jqID(k.themodal)).keydown((function(t){var i=t.target;if(!0===$(w).data("disabled"))return!1;if(!0===rp_ge[m.p.id].savekey[0]&&t.which===rp_ge[m.p.id].savekey[1]&&"TEXTAREA"!==i.tagName)return $("#sData",C+"_2").trigger("click"),!1;if(27===t.which)return!!u()&&(U&&$.jgrid.hideModal("#"+$.jgrid.jqID(k.themodal),{gb:e.gbox,jqm:e.jqModal,onClose:rp_ge[m.p.id].onClose,removemodal:rp_ge[m.p.id].removemodal,formprop:!rp_ge[m.p.id].recreateForm,form:rp_ge[m.p.id].form}),!1);if(!0===rp_ge[m.p.id].navkeys[0]){if("_empty"===$("#id_g",C).val())return!0;if(t.which===rp_ge[m.p.id].navkeys[1])return $("#pData",v).trigger("click"),!1;if(t.which===rp_ge[m.p.id].navkeys[2])return $("#nData",v).trigger("click"),!1}})),e.checkOnUpdate&&($("a.ui-jqdialog-titlebar-close span","#"+$.jgrid.jqID(k.themodal)).removeClass("jqmClose"),$("a.ui-jqdialog-titlebar-close","#"+$.jgrid.jqID(k.themodal)).off("click").click((function(){return!!u()&&($.jgrid.hideModal("#"+$.jgrid.jqID(k.themodal),{gb:"#gbox_"+$.jgrid.jqID(_),jqm:e.jqModal,onClose:rp_ge[m.p.id].onClose,removemodal:rp_ge[m.p.id].removemodal,formprop:!rp_ge[m.p.id].recreateForm,form:rp_ge[m.p.id].form}),!1)}))),e.saveicon=$.extend([!0,"left",r.icon_save],e.saveicon),e.closeicon=$.extend([!0,"left",r.icon_close],e.closeicon),!0===e.saveicon[0]&&$("#sData",v).addClass("right"===e.saveicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+o.icon_base+" "+e.saveicon[2]+"'></span>"),!0===e.closeicon[0]&&$("#cData",v).addClass("right"===e.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+o.icon_base+" "+e.closeicon[2]+"'></span>"),rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate){L="<a id='sNew' class='fm-button "+o.button+"' style='z-index:1002'>"+e.bYes+"</a>",q="<a id='nNew' class='fm-button "+o.button+"' style='z-index:1002;margin-left:5px'>"+e.bNo+"</a>",z="<a id='cNew' class='fm-button "+o.button+"' style='z-index:1002;margin-left:5px;'>"+e.bExit+"</a>";var Q=e.zIndex||999;Q++,$("#"+k.themodal).append("<div class='"+e.overlayClass+" jqgrid-overlay confirm' style='z-index:"+Q+";display:none;position:absolute;'>&#160;</div><div class='confirm ui-jqconfirm "+o.content+"' style='z-index:"+(Q+1)+"'>"+e.saveData+"<br/><br/>"+L+q+z+"</div>"),$("#sNew","#"+$.jgrid.jqID(k.themodal)).click((function(){return l(),$(w).data("disabled",!1),$(".confirm","#"+$.jgrid.jqID(k.themodal)).hide(),!1})),$("#nNew","#"+$.jgrid.jqID(k.themodal)).click((function(){return $(".confirm","#"+$.jgrid.jqID(k.themodal)).hide(),$(w).data("disabled",!1),setTimeout((function(){$(":input:visible",w)[0].focus()}),0),!1})),$("#cNew","#"+$.jgrid.jqID(k.themodal)).click((function(){return $(".confirm","#"+$.jgrid.jqID(k.themodal)).hide(),$(w).data("disabled",!1),$.jgrid.hideModal("#"+$.jgrid.jqID(k.themodal),{gb:"#gbox_"+$.jgrid.jqID(_),jqm:e.jqModal,onClose:rp_ge[m.p.id].onClose,removemodal:rp_ge[m.p.id].removemodal,formprop:!rp_ge[m.p.id].recreateForm,form:rp_ge[m.p.id].form}),!1}))}$(m).triggerHandler("jqGridAddEditInitializeForm",[$(w),b]),$.isFunction(rp_ge[m.p.id].onInitializeForm)&&rp_ge[m.p.id].onInitializeForm.call(m,$(w),b),"_empty"!==t&&rp_ge[m.p.id].viewPagerButtons?$("#pData,#nData",v).show():$("#pData,#nData",v).hide(),$(m).triggerHandler("jqGridAddEditBeforeShowForm",[$(w),b]),$.isFunction(rp_ge[m.p.id].beforeShowForm)&&rp_ge[m.p.id].beforeShowForm.call(m,$(w),b),g(),$("#"+$.jgrid.jqID(k.themodal)).data("onClose",rp_ge[m.p.id].onClose),$.jgrid.viewModal("#"+$.jgrid.jqID(k.themodal),{gbox:"#gbox_"+$.jgrid.jqID(_),jqm:e.jqModal,overlay:e.overlay,modal:e.modal,overlayClass:e.overlayClass,focusField:e.focusField,onHide:function(t){var e=$("#editmod"+_)[0].style.height,i=$("#editmod"+_)[0].style.width;e.indexOf("px")>-1&&(e=parseFloat(e)),i.indexOf("px")>-1&&(i=parseFloat(i)),$(m).data("formProp",{top:parseFloat($(t.w).css("top")),left:parseFloat($(t.w).css("left")),width:i,height:e,dataheight:$(w).height(),datawidth:$(w).width()}),t.w.remove(),t.o&&t.o.remove()}}),I||$("."+$.jgrid.jqID(e.overlayClass)).click((function(){return!!u()&&($.jgrid.hideModal("#"+$.jgrid.jqID(k.themodal),{gb:"#gbox_"+$.jgrid.jqID(_),jqm:e.jqModal,onClose:rp_ge[m.p.id].onClose,removemodal:rp_ge[m.p.id].removemodal,formprop:!rp_ge[m.p.id].recreateForm,form:rp_ge[m.p.id].form}),!1)})),$(".fm-button","#"+$.jgrid.jqID(k.themodal)).hover((function(){$(this).addClass(o.hover)}),(function(){$(this).removeClass(o.hover)})),$("#sData",v).click((function(){return y={},$(".FormError",w).hide(),i(),"_empty"===y[m.p.id+"_id"]?l():!0===e.checkOnSubmit?c(y,m.p.savedData)?($(w).data("disabled",!0),$(".confirm","#"+$.jgrid.jqID(k.themodal)).show()):l():l(),!1})),$("#cData",v).click((function(){return!!u()&&($.jgrid.hideModal("#"+$.jgrid.jqID(k.themodal),{gb:"#gbox_"+$.jgrid.jqID(_),jqm:e.jqModal,onClose:rp_ge[m.p.id].onClose,removemodal:rp_ge[m.p.id].removemodal,formprop:!rp_ge[m.p.id].recreateForm,form:rp_ge[m.p.id].form}),!1)})),$(v).find("[data-index]").each((function(){var t=parseInt($(this).attr("data-index"),10);t>=0&&e.buttons[t].hasOwnProperty("click")&&$(this).on("click",(function(i){e.buttons[t].click.call(m,$(w)[0],rp_ge[m.p.id],i)}))})),$("#nData",v).click((function(){if(!u())return!1;$(".FormError",w).hide();var t=p();if(t[0]=parseInt(t[0],10),-1!==t[0]&&t[1][t[0]+1]){var i;if($(m).triggerHandler("jqGridAddEditClickPgButtons",["next",$(w),t[1][t[0]]]),$.isFunction(e.onclickPgButtons)&&void 0!==(i=e.onclickPgButtons.call(m,"next",$(w),t[1][t[0]]))&&!1===i)return!1;if($("#"+$.jgrid.jqID(t[1][t[0]+1])).hasClass(o.disabled))return!1;s(t[1][t[0]+1],m,w),m.p.multiselect&&rp_ge[m.p.id].editselected||$(m).jqGrid("setSelection",t[1][t[0]+1]),$(m).triggerHandler("jqGridAddEditAfterClickPgButtons",["next",$(w),t[1][t[0]]]),$.isFunction(e.afterclickPgButtons)&&e.afterclickPgButtons.call(m,"next",$(w),t[1][t[0]+1]),g(),h(t[0]+1,t)}return!1})),$("#pData",v).click((function(){if(!u())return!1;$(".FormError",w).hide();var t=p();if(-1!==t[0]&&t[1][t[0]-1]){var i;if($(m).triggerHandler("jqGridAddEditClickPgButtons",["prev",$(w),t[1][t[0]]]),$.isFunction(e.onclickPgButtons)&&void 0!==(i=e.onclickPgButtons.call(m,"prev",$(w),t[1][t[0]]))&&!1===i)return!1;if($("#"+$.jgrid.jqID(t[1][t[0]-1])).hasClass(o.disabled))return!1;s(t[1][t[0]-1],m,w),m.p.multiselect&&rp_ge[m.p.id].editselected||$(m).jqGrid("setSelection",t[1][t[0]-1]),$(m).triggerHandler("jqGridAddEditAfterClickPgButtons",["prev",$(w),t[1][t[0]]]),$.isFunction(e.afterclickPgButtons)&&e.afterclickPgButtons.call(m,"prev",$(w),t[1][t[0]-1]),g(),h(t[0]-1,t)}return!1})),$(m).triggerHandler("jqGridAddEditAfterShowForm",[$(w),b]),$.isFunction(rp_ge[m.p.id].afterShowForm)&&rp_ge[m.p.id].afterShowForm.call(m,$(w),b);var Y=p();h(Y[0],Y)}}}))},viewGridRow:function(t,e){var i=$.jgrid.getRegional(this[0],"view"),n=this[0].p.styleUI,r=$.jgrid.styleUI[n].formedit,o=$.jgrid.styleUI[n].common;return e=$.extend(!0,{top:0,left:0,width:500,datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,jqModal:!0,closeOnEscape:!1,labelswidth:"auto",closeicon:[],navkeys:[!1,38,40],onClose:null,beforeShowForm:null,beforeInitData:null,viewPagerButtons:!0,recreateForm:!1,removemodal:!0,form:"view",buttons:[]},i,e||{}),rp_ge[$(this)[0].p.id]=e,this.each((function(){function i(){!0!==rp_ge[c.p.id].closeOnEscape&&!0!==rp_ge[c.p.id].navkeys[0]||setTimeout((function(){$(".ui-jqdialog-titlebar-close","#"+$.jgrid.jqID(g.modalhead)).attr("tabindex","-1").focus()}),0)}function n(t,i,n,r){var s,a,l,c,u,d,h,p,f,g=0,m=[],v=!1,y="<td class='CaptionTD form-view-label "+o.content+"' width='"+e.labelswidth+"'></td><td class='DataTD form-view-data ui-helper-reset "+o.content+"'></td>",b="",_="<td class='CaptionTD form-view-label "+o.content+"'></td><td class='DataTD form-view-data "+o.content+"'></td>",w=["integer","number","currency"],x=0,C=0;for(d=1;d<=r;d++)b+=1===d?y:_;if($(i.p.colModel).each((function(){(a=(!this.editrules||!0!==this.editrules.edithidden)&&!0===this.hidden)||"right"!==this.align||(this.formatter&&-1!==$.inArray(this.formatter,w)?x=Math.max(x,parseInt(this.width,10)):C=Math.max(C,parseInt(this.width,10)))})),h=0!==x?x:0!==C?C:0,v=$(i).jqGrid("getInd",t),$(i.p.colModel).each((function(t){if(s=this.name,p=!1,a=(!this.editrules||!0!==this.editrules.edithidden)&&!0===this.hidden,u=a?"style='display:none'":"",f="boolean"!=typeof this.viewable||this.viewable,"cb"!==s&&"subgrid"!==s&&"rn"!==s&&f){c=!1===v?"":s===i.p.ExpandColumn&&!0===i.p.treeGrid?$("td:eq("+t+")",i.rows[v]).text():$("td:eq("+t+")",i.rows[v]).html(),p="right"===this.align&&0!==h;var e=$.extend({},{rowabove:!1,rowcontent:""},this.formoptions||{}),o=parseInt(e.rowpos,10)||g+1,d=parseInt(2*(parseInt(e.colpos,10)||1),10);if(e.rowabove){var y=$("<tr><td class='contentinfo' colspan='"+2*r+"'>"+e.rowcontent+"</td></tr>");$(n).append(y),y[0].rp=o}0===(l=$(n).find("tr[rowpos="+o+"]")).length&&(l=$("<tr "+u+" rowpos='"+o+"'></tr>").addClass("FormData").attr("id","trv_"+s),$(l).append(b),$(n).append(l),l[0].rp=o),$("td:eq("+(d-2)+")",l[0]).html("<b>"+(void 0===e.label?i.p.colNames[t]:e.label)+"</b>"),$("td:eq("+(d-1)+")",l[0]).append("<span>"+c+"</span>").attr("id","v_"+s),p&&$("td:eq("+(d-1)+") span",l[0]).css({"text-align":"right",width:h+"px"}),m[g]=t,g++}})),g>0){var k=$("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*r-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+t+"'/></td></tr>");k[0].rp=g+99,$(n).append(k)}return m}function s(t,e){var i,n,r,o,s=0;(o=$(e).jqGrid("getInd",t,!0))&&($("td",o).each((function(t){i=e.p.colModel[t].name,n=(!e.p.colModel[t].editrules||!0!==e.p.colModel[t].editrules.edithidden)&&!0===e.p.colModel[t].hidden,"cb"!==i&&"subgrid"!==i&&"rn"!==i&&(r=i===e.p.ExpandColumn&&!0===e.p.treeGrid?$(this).text():$(this).html(),i=$.jgrid.jqID("v_"+i),$("#"+i+" span","#"+h).html(r),n&&$("#"+i,"#"+h).parents("tr:first").hide(),s++)})),s>0&&$("#id_g","#"+h).val(t))}function a(t,e){var i=e[1].length-1;0===t?$("#pData","#"+h+"_2").addClass(o.disabled):void 0!==e[1][t-1]&&$("#"+$.jgrid.jqID(e[1][t-1])).hasClass(o.disabled)?$("#pData",h+"_2").addClass(o.disabled):$("#pData","#"+h+"_2").removeClass(o.disabled),t===i?$("#nData","#"+h+"_2").addClass(o.disabled):void 0!==e[1][t+1]&&$("#"+$.jgrid.jqID(e[1][t+1])).hasClass(o.disabled)?$("#nData",h+"_2").addClass(o.disabled):$("#nData","#"+h+"_2").removeClass(o.disabled)}function l(){var t=$(c).jqGrid("getDataIDs"),e=$("#id_g","#"+h).val();return[$.inArray(e,t),t]}var c=this;if(c.grid&&t){var u=c.p.id,d="ViewGrid_"+$.jgrid.jqID(u),h="ViewTbl_"+$.jgrid.jqID(u),p="ViewGrid_"+u,f="ViewTbl_"+u,g={themodal:"viewmod"+u,modalhead:"viewhd"+u,modalcontent:"viewcnt"+u,scrollelm:d},m=!0,v=1,y=0;rp_ge[c.p.id].styleUI=c.p.styleUI||"jQueryUI",e.recreateForm||$(c).data("viewProp")&&$.extend(rp_ge[$(this)[0].p.id],$(c).data("viewProp"));var b=isNaN(rp_ge[$(this)[0].p.id].dataheight)?rp_ge[$(this)[0].p.id].dataheight:rp_ge[$(this)[0].p.id].dataheight+"px",_=isNaN(rp_ge[$(this)[0].p.id].datawidth)?rp_ge[$(this)[0].p.id].datawidth:rp_ge[$(this)[0].p.id].datawidth+"px",w=$("<form name='FormPost' id='"+p+"' class='FormGrid' style='width:"+_+";height:"+b+";'></form>"),x=$("<table id='"+f+"' class='EditTable ViewTable'><tbody></tbody></table>");if($(c.p.colModel).each((function(){var t=this.formoptions;v=Math.max(v,t&&t.colpos||0),y=Math.max(y,t&&t.rowpos||0)})),$(w).append(x),void 0===(m=$(c).triggerHandler("jqGridViewRowBeforeInitData",[w]))&&(m=!0),m&&$.isFunction(rp_ge[c.p.id].beforeInitData)&&(m=rp_ge[c.p.id].beforeInitData.call(c,w)),!1!==m){n(t,c,x,v);var C="rtl"===c.p.direction,k=C?"pData":"nData",S="<a id='"+(C?"nData":"pData")+"' class='fm-button "+o.button+"'><span class='"+o.icon_base+" "+r.icon_prev+"'></span></a>",j="<a id='"+k+"' class='fm-button "+o.button+"'><span class='"+o.icon_base+" "+r.icon_next+"'></span></a>",T="<a id='cData' class='fm-button "+o.button+"'>"+e.bClose+"</a>",A=$.isArray(rp_ge[c.p.id].buttons)?$.jgrid.buildButtons(rp_ge[c.p.id].buttons,T,o):T;if(y>0){var D=[];$.each($(x)[0].rows,(function(t,e){D[t]=e})),D.sort((function(t,e){return t.rp>e.rp?1:t.rp<e.rp?-1:0})),$.each(D,(function(t,e){$("tbody",x).append(e)}))}e.gbox="#gbox_"+$.jgrid.jqID(u);var I=$("<div></div>").append(w).append("<table border='0' class='EditTable' id='"+h+"_2'><tbody><tr id='Act_Buttons'><td class='navButton' width='"+e.labelswidth+"'>"+(C?j+S:S+j)+"</td><td class='EditButton'>"+A+"</td></tr></tbody></table>"),E=$(".ui-jqgrid").css("font-size")||"11px";$.jgrid.createModal(g,I,rp_ge[$(this)[0].p.id],"#gview_"+$.jgrid.jqID(c.p.id),$("#gview_"+$.jgrid.jqID(c.p.id))[0],null,{"font-size":E}),C&&($("#pData, #nData","#"+h+"_2").css("float","right"),$(".EditButton","#"+h+"_2").css("text-align","left")),e.viewPagerButtons||$("#pData, #nData","#"+h+"_2").hide(),I=null,$("#"+g.themodal).keydown((function(t){if(27===t.which)return rp_ge[c.p.id].closeOnEscape&&$.jgrid.hideModal("#"+$.jgrid.jqID(g.themodal),{gb:e.gbox,jqm:e.jqModal,onClose:e.onClose,removemodal:rp_ge[c.p.id].removemodal,formprop:!rp_ge[c.p.id].recreateForm,form:rp_ge[c.p.id].form}),!1;if(!0===e.navkeys[0]){if(t.which===e.navkeys[1])return $("#pData","#"+h+"_2").trigger("click"),!1;if(t.which===e.navkeys[2])return $("#nData","#"+h+"_2").trigger("click"),!1}})),e.closeicon=$.extend([!0,"left",r.icon_close],e.closeicon),!0===e.closeicon[0]&&$("#cData","#"+h+"_2").addClass("right"===e.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+o.icon_base+" "+e.closeicon[2]+"'></span>"),$(c).triggerHandler("jqGridViewRowBeforeShowForm",[$("#"+d)]),$.isFunction(e.beforeShowForm)&&e.beforeShowForm.call(c,$("#"+d)),$.jgrid.viewModal("#"+$.jgrid.jqID(g.themodal),{gbox:"#gbox_"+$.jgrid.jqID(u),jqm:e.jqModal,overlay:e.overlay,modal:e.modal,onHide:function(t){$(c).data("viewProp",{top:parseFloat($(t.w).css("top")),left:parseFloat($(t.w).css("left")),width:$(t.w).width(),height:$(t.w).height(),dataheight:$("#"+d).height(),datawidth:$("#"+d).width()}),t.w.remove(),t.o&&t.o.remove()}}),$(".fm-button:not(."+o.disabled+")","#"+h+"_2").hover((function(){$(this).addClass(o.hover)}),(function(){$(this).removeClass(o.hover)})),i(),$("#cData","#"+h+"_2").click((function(){return $.jgrid.hideModal("#"+$.jgrid.jqID(g.themodal),{gb:"#gbox_"+$.jgrid.jqID(u),jqm:e.jqModal,onClose:e.onClose,removemodal:rp_ge[c.p.id].removemodal,formprop:!rp_ge[c.p.id].recreateForm,form:rp_ge[c.p.id].form}),!1})),$("#"+h+"_2").find("[data-index]").each((function(){var t=parseInt($(this).attr("data-index"),10);t>=0&&e.buttons[t].hasOwnProperty("click")&&$(this).on("click",(function(i){e.buttons[t].click.call(c,$("#"+p)[0],rp_ge[c.p.id],i)}))})),$("#nData","#"+h+"_2").click((function(){$("#FormError","#"+h).hide();var t=l();return t[0]=parseInt(t[0],10),-1!==t[0]&&t[1][t[0]+1]&&($(c).triggerHandler("jqGridViewRowClickPgButtons",["next",$("#"+d),t[1][t[0]]]),$.isFunction(e.onclickPgButtons)&&e.onclickPgButtons.call(c,"next",$("#"+d),t[1][t[0]]),s(t[1][t[0]+1],c),$(c).jqGrid("setSelection",t[1][t[0]+1]),$(c).triggerHandler("jqGridViewRowAfterClickPgButtons",["next",$("#"+d),t[1][t[0]+1]]),$.isFunction(e.afterclickPgButtons)&&e.afterclickPgButtons.call(c,"next",$("#"+d),t[1][t[0]+1]),a(t[0]+1,t)),i(),!1})),$("#pData","#"+h+"_2").click((function(){$("#FormError","#"+h).hide();var t=l();return-1!==t[0]&&t[1][t[0]-1]&&($(c).triggerHandler("jqGridViewRowClickPgButtons",["prev",$("#"+d),t[1][t[0]]]),$.isFunction(e.onclickPgButtons)&&e.onclickPgButtons.call(c,"prev",$("#"+d),t[1][t[0]]),s(t[1][t[0]-1],c),$(c).jqGrid("setSelection",t[1][t[0]-1]),$(c).triggerHandler("jqGridViewRowAfterClickPgButtons",["prev",$("#"+d),t[1][t[0]-1]]),$.isFunction(e.afterclickPgButtons)&&e.afterclickPgButtons.call(c,"prev",$("#"+d),t[1][t[0]-1]),a(t[0]-1,t)),i(),!1}));var P=l();a(P[0],P)}}}))},delGridRow:function(t,e){var i=$.jgrid.getRegional(this[0],"del"),n=this[0].p.styleUI,r=$.jgrid.styleUI[n].formedit,o=$.jgrid.styleUI[n].common;return e=$.extend(!0,{top:0,left:0,width:240,height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:"",mtype:"POST",reloadAfterSubmit:!0,beforeShowForm:null,beforeInitData:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,jqModal:!0,closeOnEscape:!1,delData:{},delicon:[],cancelicon:[],onClose:null,ajaxDelOptions:{},processing:!1,serializeDelData:null,useDataProxy:!1},i,e||{}),rp_ge[$(this)[0].p.id]=e,this.each((function(){var i=this;if(i.grid&&t){var n,s,a,l,c=i.p.id,u={},d=!0,h="DelTbl_"+$.jgrid.jqID(c),p="DelTbl_"+c,f={themodal:"delmod"+c,modalhead:"delhd"+c,modalcontent:"delcnt"+c,scrollelm:h};if(rp_ge[i.p.id].styleUI=i.p.styleUI||"jQueryUI",$.isArray(t)&&(t=t.join()),void 0!==$("#"+$.jgrid.jqID(f.themodal))[0]){if(void 0===(d=$(i).triggerHandler("jqGridDelRowBeforeInitData",[$("#"+h)]))&&(d=!0),d&&$.isFunction(rp_ge[i.p.id].beforeInitData)&&(d=rp_ge[i.p.id].beforeInitData.call(i,$("#"+h))),!1===d)return;$("#DelData>td","#"+h).text(t),$("#DelError","#"+h).hide(),!0===rp_ge[i.p.id].processing&&(rp_ge[i.p.id].processing=!1,$("#dData","#"+h).removeClass(o.active)),$(i).triggerHandler("jqGridDelRowBeforeShowForm",[$("#"+h)]),$.isFunction(rp_ge[i.p.id].beforeShowForm)&&rp_ge[i.p.id].beforeShowForm.call(i,$("#"+h)),$.jgrid.viewModal("#"+$.jgrid.jqID(f.themodal),{gbox:"#gbox_"+$.jgrid.jqID(c),jqm:rp_ge[i.p.id].jqModal,overlay:rp_ge[i.p.id].overlay,modal:rp_ge[i.p.id].modal}),$(i).triggerHandler("jqGridDelRowAfterShowForm",[$("#"+h)]),$.isFunction(rp_ge[i.p.id].afterShowForm)&&rp_ge[i.p.id].afterShowForm.call(i,$("#"+h))}else{var g=isNaN(rp_ge[i.p.id].dataheight)?rp_ge[i.p.id].dataheight:rp_ge[i.p.id].dataheight+"px",m=isNaN(e.datawidth)?e.datawidth:e.datawidth+"px",v="<div id='"+p+"' class='formdata' style='width:"+m+";overflow:auto;position:relative;height:"+g+";'>";v+="<table class='DelTable'><tbody>",v+="<tr id='DelError' style='display:none'><td class='"+o.error+"'></td></tr>",v+="<tr id='DelData' style='display:none'><td >"+t+"</td></tr>",v+='<tr><td class="delmsg" style="white-space:pre;">'+rp_ge[i.p.id].msg+"</td></tr><tr><td >&#160;</td></tr>",v+="</tbody></table></div>";var y="<a id='dData' class='fm-button "+o.button+"'>"+e.bSubmit+"</a>",b="<a id='eData' class='fm-button "+o.button+"'>"+e.bCancel+"</a>",_=$.isArray(rp_ge[i.p.id].buttons)?$.jgrid.buildButtons(rp_ge[i.p.id].buttons,y+b,o):y+b,w=$(".ui-jqgrid").css("font-size")||"11px";if(v+="<table class='EditTable ui-common-table' id='"+h+"_2'><tbody><tr><td><hr class='"+o.content+"' style='margin:1px'/></td></tr><tr><td class='DelButton EditButton'>"+_+"</td></tr></tbody></table>",e.gbox="#gbox_"+$.jgrid.jqID(c),$.jgrid.createModal(f,v,rp_ge[i.p.id],"#gview_"+$.jgrid.jqID(i.p.id),$("#gview_"+$.jgrid.jqID(i.p.id))[0],null,{"font-size":w}),$(".fm-button","#"+h+"_2").hover((function(){$(this).addClass(o.hover)}),(function(){$(this).removeClass(o.hover)})),e.delicon=$.extend([!0,"left",r.icon_del],rp_ge[i.p.id].delicon),e.cancelicon=$.extend([!0,"left",r.icon_cancel],rp_ge[i.p.id].cancelicon),!0===e.delicon[0]&&$("#dData","#"+h+"_2").addClass("right"===e.delicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+o.icon_base+" "+e.delicon[2]+"'></span>"),!0===e.cancelicon[0]&&$("#eData","#"+h+"_2").addClass("right"===e.cancelicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+o.icon_base+" "+e.cancelicon[2]+"'></span>"),$("#dData","#"+h+"_2").click((function(){var t,r=[!0,""],d=$("#DelData>td","#"+h).text();if(u={},void 0===(u=$(i).triggerHandler("jqGridDelRowClickSubmit",[rp_ge[i.p.id],d]))&&$.isFunction(rp_ge[i.p.id].onclickSubmit)&&(u=rp_ge[i.p.id].onclickSubmit.call(i,rp_ge[i.p.id],d)||{}),
void 0===(r=$(i).triggerHandler("jqGridDelRowBeforeSubmit",[d]))&&(r=[!0,"",""]),r[0]&&$.isFunction(rp_ge[i.p.id].beforeSubmit)&&(r=rp_ge[i.p.id].beforeSubmit.call(i,d)),r[0]&&!rp_ge[i.p.id].processing){if(rp_ge[i.p.id].processing=!0,a=i.p.prmNames,n=$.extend({},rp_ge[i.p.id].delData,u),l=a.oper,n[l]=a.deloper,s=a.id,!(d=String(d).split(",")).length)return!1;for(t in d)d.hasOwnProperty(t)&&(d[t]=$.jgrid.stripPref(i.p.idPrefix,d[t]));n[s]=d.join(),$(this).addClass(o.active);var p=$.extend({url:rp_ge[i.p.id].url||$(i).jqGrid("getGridParam","editurl"),type:rp_ge[i.p.id].mtype,data:$.isFunction(rp_ge[i.p.id].serializeDelData)?rp_ge[i.p.id].serializeDelData.call(i,n):n,complete:function(t,s){var a;if($("#dData","#"+h+"_2").removeClass(o.active),t.status>=300&&304!==t.status?(r[0]=!1,r[1]=$(i).triggerHandler("jqGridDelRowErrorTextFormat",[t]),$.isFunction(rp_ge[i.p.id].errorTextFormat)&&(r[1]=rp_ge[i.p.id].errorTextFormat.call(i,t)),void 0===r[1]&&(r[1]=s+" Status: '"+t.statusText+"'. Error code: "+t.status)):(void 0===(r=$(i).triggerHandler("jqGridDelRowAfterSubmit",[t,n]))&&(r=[!0,"",""]),r[0]&&$.isFunction(rp_ge[i.p.id].afterSubmit)&&(r=rp_ge[i.p.id].afterSubmit.call(i,t,n))),!1===r[0])$("#DelError>td","#"+h).html(r[1]),$("#DelError","#"+h).show();else{if(rp_ge[i.p.id].reloadAfterSubmit&&"local"!==i.p.datatype)$(i).trigger("reloadGrid");else{if(!0===i.p.treeGrid)try{$(i).jqGrid("delTreeNode",i.p.idPrefix+d[0])}catch(t){}else for(a=0;a<d.length;a++)$(i).jqGrid("delRowData",i.p.idPrefix+d[a]);i.p.selrow=null,i.p.selarrrow=[]}if($.isFunction(rp_ge[i.p.id].afterComplete)||$._data($(i)[0],"events").hasOwnProperty("jqGridDelRowAfterComplete")){var l=t;setTimeout((function(){$(i).triggerHandler("jqGridDelRowAfterComplete",[l,n]);try{rp_ge[i.p.id].afterComplete.call(i,l,n)}catch(t){}}),500)}}rp_ge[i.p.id].processing=!1,r[0]&&$.jgrid.hideModal("#"+$.jgrid.jqID(f.themodal),{gb:"#gbox_"+$.jgrid.jqID(c),jqm:e.jqModal,onClose:rp_ge[i.p.id].onClose})}},$.jgrid.ajaxOptions,rp_ge[i.p.id].ajaxDelOptions);if(p.url||rp_ge[i.p.id].useDataProxy||($.isFunction(i.p.dataProxy)?rp_ge[i.p.id].useDataProxy=!0:(r[0]=!1,r[1]+=" "+$.jgrid.getRegional(i,"errors.nourl"))),r[0])if(rp_ge[i.p.id].useDataProxy){var g=i.p.dataProxy.call(i,p,"del_"+i.p.id);void 0===g&&(g=[!0,""]),!1===g[0]?(r[0]=!1,r[1]=g[1]||"Error deleting the selected row!"):$.jgrid.hideModal("#"+$.jgrid.jqID(f.themodal),{gb:"#gbox_"+$.jgrid.jqID(c),jqm:e.jqModal,onClose:rp_ge[i.p.id].onClose})}else"clientArray"===p.url?(n=p.data,p.complete({status:200,statusText:""},"")):$.ajax(p)}return!1===r[0]&&($("#DelError>td","#"+h).html(r[1]),$("#DelError","#"+h).show()),!1})),$("#eData","#"+h+"_2").click((function(){return $.jgrid.hideModal("#"+$.jgrid.jqID(f.themodal),{gb:"#gbox_"+$.jgrid.jqID(c),jqm:rp_ge[i.p.id].jqModal,onClose:rp_ge[i.p.id].onClose}),!1})),$("#"+h+"_2").find("[data-index]").each((function(){var t=parseInt($(this).attr("data-index"),10);t>=0&&e.buttons[t].hasOwnProperty("click")&&$(this).on("click",(function(n){e.buttons[t].click.call(i,$("#"+p)[0],rp_ge[i.p.id],n)}))})),void 0===(d=$(i).triggerHandler("jqGridDelRowBeforeInitData",[$("#"+h)]))&&(d=!0),d&&$.isFunction(rp_ge[i.p.id].beforeInitData)&&(d=rp_ge[i.p.id].beforeInitData.call(i,$("#"+h))),!1===d)return;$(i).triggerHandler("jqGridDelRowBeforeShowForm",[$("#"+h)]),$.isFunction(rp_ge[i.p.id].beforeShowForm)&&rp_ge[i.p.id].beforeShowForm.call(i,$("#"+h)),$.jgrid.viewModal("#"+$.jgrid.jqID(f.themodal),{gbox:"#gbox_"+$.jgrid.jqID(c),jqm:rp_ge[i.p.id].jqModal,overlay:rp_ge[i.p.id].overlay,modal:rp_ge[i.p.id].modal}),$(i).triggerHandler("jqGridDelRowAfterShowForm",[$("#"+h)]),$.isFunction(rp_ge[i.p.id].afterShowForm)&&rp_ge[i.p.id].afterShowForm.call(i,$("#"+h))}!0===rp_ge[i.p.id].closeOnEscape&&setTimeout((function(){$(".ui-jqdialog-titlebar-close","#"+$.jgrid.jqID(f.modalhead)).attr("tabindex","-1").focus()}),0)}}))},navGrid:function(t,e,i,n,r,o,s){var a=$.jgrid.getRegional(this[0],"nav"),l=this[0].p.styleUI,c=$.jgrid.styleUI[l].navigator,u=$.jgrid.styleUI[l].common;return e=$.extend({edit:!0,editicon:c.icon_edit_nav,add:!0,addicon:c.icon_add_nav,del:!0,delicon:c.icon_del_nav,search:!0,searchicon:c.icon_search_nav,refresh:!0,refreshicon:c.icon_refresh_nav,refreshstate:"firstpage",view:!1,viewicon:c.icon_view_nav,position:"left",closeOnEscape:!0,beforeRefresh:null,afterRefresh:null,cloneToTop:!1,alertwidth:200,alertheight:"auto",alerttop:null,alertleft:null,alertzIndex:null,dropmenu:!1,navButtonText:""},a,e||{}),this.each((function(){if(!this.p.navGrid){var c,d,h,p={themodal:"alertmod_"+this.p.id,modalhead:"alerthd_"+this.p.id,modalcontent:"alertcnt_"+this.p.id},f=this;if(f.grid&&"string"==typeof t){if($(f).data("navGrid")||$(f).data("navGrid",e),h=$(f).data("navGrid"),f.p.force_regional&&(h=$.extend(h,a)),void 0===$("#"+p.themodal)[0]){h.alerttop||h.alertleft||(void 0!==window.innerWidth?(h.alertleft=window.innerWidth,h.alerttop=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(h.alertleft=document.documentElement.clientWidth,h.alerttop=document.documentElement.clientHeight):(h.alertleft=1024,h.alerttop=768),h.alertleft=h.alertleft/2-parseInt(h.alertwidth,10)/2,h.alerttop=h.alerttop/2-25);var g=$(".ui-jqgrid").css("font-size")||"11px";$.jgrid.createModal(p,"<div>"+h.alerttext+"</div><span tabindex='0'><span tabindex='-1' id='jqg_alrt'></span></span>",{gbox:"#gbox_"+$.jgrid.jqID(f.p.id),jqModal:!0,drag:!0,resize:!0,caption:h.alertcap,top:h.alerttop,left:h.alertleft,width:h.alertwidth,height:h.alertheight,closeOnEscape:h.closeOnEscape,zIndex:h.alertzIndex,styleUI:f.p.styleUI},"#gview_"+$.jgrid.jqID(f.p.id),$("#gbox_"+$.jgrid.jqID(f.p.id))[0],!0,{"font-size":g})}var m,v=1,y=function(){$(this).hasClass(u.disabled)||$(this).addClass(u.hover)},b=function(){$(this).removeClass(u.hover)};for(h.cloneToTop&&f.p.toppager&&(v=2),m=0;m<v;m++){var _,w,x,C=$("<table class='ui-pg-table navtable ui-common-table'><tbody><tr></tr></tbody></table>"),k="<td class='ui-pg-button "+u.disabled+"' style='width:4px;'><span class='ui-separator'></span></td>";0===m?(w=t,x=f.p.id,w===f.p.toppager&&(x+="_top",v=1)):(w=f.p.toppager,x=f.p.id+"_top"),"rtl"===f.p.direction&&$(C).attr("dir","rtl").css("float","right"),n=n||{},h.add&&(_=$("<td class='ui-pg-button "+u.cornerall+"'></td>"),$(_).append("<div class='ui-pg-div'><span class='"+u.icon_base+" "+h.addicon+"'></span>"+h.addtext+"</div>"),$("tr",C).append(_),$(_,C).attr({title:h.addtitle||"",id:n.id||"add_"+x}).click((function(){return $(this).hasClass(u.disabled)||($.isFunction(h.addfunc)?h.addfunc.call(f):$(f).jqGrid("editGridRow","new",n)),!1})).hover(y,b),_=null),i=i||{},h.edit&&(_=$("<td class='ui-pg-button "+u.cornerall+"'></td>"),$(_).append("<div class='ui-pg-div'><span class='"+u.icon_base+" "+h.editicon+"'></span>"+h.edittext+"</div>"),$("tr",C).append(_),$(_,C).attr({title:h.edittitle||"",id:i.id||"edit_"+x}).click((function(){if(!$(this).hasClass(u.disabled)){var t=f.p.selrow;t?$.isFunction(h.editfunc)?h.editfunc.call(f,t):$(f).jqGrid("editGridRow",t,i):($.jgrid.viewModal("#"+p.themodal,{gbox:"#gbox_"+$.jgrid.jqID(f.p.id),jqm:!0}),$("#jqg_alrt").focus())}return!1})).hover(y,b),_=null),s=s||{},h.view&&(_=$("<td class='ui-pg-button "+u.cornerall+"'></td>"),$(_).append("<div class='ui-pg-div'><span class='"+u.icon_base+" "+h.viewicon+"'></span>"+h.viewtext+"</div>"),$("tr",C).append(_),$(_,C).attr({title:h.viewtitle||"",id:s.id||"view_"+x}).click((function(){if(!$(this).hasClass(u.disabled)){var t=f.p.selrow;t?$.isFunction(h.viewfunc)?h.viewfunc.call(f,t):$(f).jqGrid("viewGridRow",t,s):($.jgrid.viewModal("#"+p.themodal,{gbox:"#gbox_"+$.jgrid.jqID(f.p.id),jqm:!0}),$("#jqg_alrt").focus())}return!1})).hover(y,b),_=null),r=r||{},h.del&&(_=$("<td class='ui-pg-button "+u.cornerall+"'></td>"),$(_).append("<div class='ui-pg-div'><span class='"+u.icon_base+" "+h.delicon+"'></span>"+h.deltext+"</div>"),$("tr",C).append(_),$(_,C).attr({title:h.deltitle||"",id:r.id||"del_"+x}).click((function(){var t;$(this).hasClass(u.disabled)||(f.p.multiselect?0===(t=f.p.selarrrow).length&&(t=null):t=f.p.selrow,t?$.isFunction(h.delfunc)?h.delfunc.call(f,t):$(f).jqGrid("delGridRow",t,r):($.jgrid.viewModal("#"+p.themodal,{gbox:"#gbox_"+$.jgrid.jqID(f.p.id),jqm:!0}),$("#jqg_alrt").focus()));return!1})).hover(y,b),_=null),(h.add||h.edit||h.del||h.view)&&$("tr",C).append(k),o=o||{},h.search&&(_=$("<td class='ui-pg-button "+u.cornerall+"'></td>"),$(_).append("<div class='ui-pg-div'><span class='"+u.icon_base+" "+h.searchicon+"'></span>"+h.searchtext+"</div>"),$("tr",C).append(_),$(_,C).attr({title:h.searchtitle||"",id:o.id||"search_"+x}).click((function(){return $(this).hasClass(u.disabled)||($.isFunction(h.searchfunc)?h.searchfunc.call(f,o):$(f).jqGrid("searchGrid",o)),!1})).hover(y,b),o.showOnLoad&&!0===o.showOnLoad&&$(_,C).click(),_=null),h.refresh&&(_=$("<td class='ui-pg-button "+u.cornerall+"'></td>"),$(_).append("<div class='ui-pg-div'><span class='"+u.icon_base+" "+h.refreshicon+"'></span>"+h.refreshtext+"</div>"),$("tr",C).append(_),$(_,C).attr({title:h.refreshtitle||"",id:"refresh_"+x}).click((function(){if(!$(this).hasClass(u.disabled)){$.isFunction(h.beforeRefresh)&&h.beforeRefresh.call(f),f.p.search=!1,f.p.resetsearch=!0;try{if("currentfilter"!==h.refreshstate){var t=f.p.id;f.p.postData.filters="";try{$("#fbox_"+$.jgrid.jqID(t)).jqFilter("resetFilter")}catch(t){}$.isFunction(f.clearToolbar)&&f.clearToolbar.call(f,!1)}}catch(t){}switch(h.refreshstate){case"firstpage":$(f).trigger("reloadGrid",[{page:1}]);break;case"current":case"currentfilter":$(f).trigger("reloadGrid",[{current:!0}])}$.isFunction(h.afterRefresh)&&h.afterRefresh.call(f)}return!1})).hover(y,b),_=null),d=$(".ui-jqgrid").css("font-size")||"11px",$("body").append("<div id='testpg2' class='ui-jqgrid "+$.jgrid.styleUI[l].base.entrieBox+"' style='font-size:"+d+";visibility:hidden;' ></div>"),c=$(C).clone().appendTo("#testpg2").width(),$("#testpg2").remove(),f.p._nvtd&&(h.dropmenu?(C=null,$(f).jqGrid("_buildNavMenu",w,x,e,i,n,r,o,s)):c>f.p._nvtd[0]?(f.p.responsive?(C=null,$(f).jqGrid("_buildNavMenu",w,x,e,i,n,r,o,s)):$(w+"_"+h.position,w).append(C).width(c),f.p._nvtd[0]=c):$(w+"_"+h.position,w).append(C),f.p._nvtd[1]=c),f.p.navGrid=!0}f.p.storeNavOptions&&(f.p.navOptions=h,f.p.editOptions=i,f.p.addOptions=n,f.p.delOptions=r,f.p.searchOptions=o,f.p.viewOptions=s,f.p.navButtons=[])}}}))},navButtonAdd:function(t,e){var i=this[0].p.styleUI,n=$.jgrid.styleUI[i].navigator;return e=$.extend({caption:"newButton",title:"",buttonicon:n.icon_newbutton_nav,onClickButton:null,position:"last",cursor:"pointer",internal:!1},e||{}),this.each((function(){if(this.grid){"string"==typeof t&&0!==t.indexOf("#")&&(t="#"+$.jgrid.jqID(t));var n=$(".navtable",t)[0],r=this,o=$.jgrid.styleUI[i].common.disabled,s=$.jgrid.styleUI[i].common.hover,a=$.jgrid.styleUI[i].common.cornerall,l=$.jgrid.styleUI[i].common.icon_base;if(r.p.storeNavOptions&&!e.internal&&r.p.navButtons.push([t,e]),n){if(e.id&&void 0!==$("#"+$.jgrid.jqID(e.id),n)[0])return;var c=$("<td></td>");"NONE"===e.buttonicon.toString().toUpperCase()?$(c).addClass("ui-pg-button "+a).append("<div class='ui-pg-div'>"+e.caption+"</div>"):$(c).addClass("ui-pg-button "+a).append("<div class='ui-pg-div'><span class='"+l+" "+e.buttonicon+"'></span>"+e.caption+"</div>"),e.id&&$(c).attr("id",e.id),"first"===e.position?0===n.rows[0].cells.length?$("tr",n).append(c):$("tr td:eq(0)",n).before(c):$("tr",n).append(c),$(c,n).attr("title",e.title||"").click((function(t){return $(this).hasClass(o)||$.isFunction(e.onClickButton)&&e.onClickButton.call(r,t),!1})).hover((function(){$(this).hasClass(o)||$(this).addClass(s)}),(function(){$(this).removeClass(s)}))}else if(n=$(".dropdownmenu",t)[0]){var u=$(n).val(),d=e.id||$.jgrid.randId(),h=$('<li class="ui-menu-item" role="presentation"><a class="'+a+' g-menu-item" tabindex="0" role="menuitem" id="'+d+'">'+(e.caption||e.title)+"</a></li>");u&&("first"===e.position?$("#"+u).prepend(h):$("#"+u).append(h),$(h).on("click",(function(t){return $(this).hasClass(o)||($("#"+u).hide(),$.isFunction(e.onClickButton)&&e.onClickButton.call(r,t)),!1})).find("a").hover((function(){$(this).hasClass(o)||$(this).addClass(s)}),(function(){$(this).removeClass(s)})))}}}))},navSeparatorAdd:function(t,e){var i=this[0].p.styleUI,n=$.jgrid.styleUI[i].common;return e=$.extend({sepclass:"ui-separator",sepcontent:"",position:"last"},e||{}),this.each((function(){if(this.grid){"string"==typeof t&&0!==t.indexOf("#")&&(t="#"+$.jgrid.jqID(t));var i,r,o=$(".navtable",t)[0];this.p.storeNavOptions&&this.p.navButtons.push([t,e]),o?(i="<td class='ui-pg-button "+n.disabled+"' style='width:4px;'><span class='"+e.sepclass+"'></span>"+e.sepcontent+"</td>","first"===e.position?0===o.rows[0].cells.length?$("tr",o).append(i):$("tr td:eq(0)",o).before(i):$("tr",o).append(i)):(o=$(".dropdownmenu",t)[0],i="<li class='ui-menu-item "+n.disabled+"' style='width:100%' role='presentation'><hr class='ui-separator-li'></li>",o&&(r=$(o).val())&&("first"===e.position?$("#"+r).prepend(i):$("#"+r).append(i)))}}))},_buildNavMenu:function(t,e,i,n,r,o,s,a){return this.each((function(){var l=this,c=$.jgrid.getRegional(l,"nav"),u=l.p.styleUI,d=($.jgrid.styleUI[u].navigator,$.jgrid.styleUI[u].filter),h=$.jgrid.styleUI[u].common,p="form_menu_"+$.jgrid.randId(),f=i.navButtonText?i.navButtonText:c.selectcaption||"Actions",g="<button class='dropdownmenu "+h.button+"' value='"+p+"'>"+f+"</button>";$(t+"_"+i.position,t).append(g);var m={themodal:"alertmod_"+this.p.id,modalhead:"alerthd_"+this.p.id,modalcontent:"alertcnt_"+this.p.id};(function(){var t,c,u=$(".ui-jqgrid").css("font-size")||"11px",f=$('<ul id="'+p+'" class="ui-nav-menu modal-content" role="menu" tabindex="0" style="display:none;font-size:'+u+'"></ul>');i.add&&(t=(r=r||{}).id||"add_"+e,c=$('<li class="ui-menu-item" role="presentation"><a class="'+h.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(i.addtext||i.addtitle)+"</a></li>").click((function(){return $(this).hasClass(h.disabled)||($.isFunction(i.addfunc)?i.addfunc.call(l):$(l).jqGrid("editGridRow","new",r),$(f).hide()),!1})),$(f).append(c)),i.edit&&(t=(n=n||{}).id||"edit_"+e,c=$('<li class="ui-menu-item" role="presentation"><a class="'+h.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(i.edittext||i.edittitle)+"</a></li>").click((function(){if(!$(this).hasClass(h.disabled)){var t=l.p.selrow;t?$.isFunction(i.editfunc)?i.editfunc.call(l,t):$(l).jqGrid("editGridRow",t,n):($.jgrid.viewModal("#"+m.themodal,{gbox:"#gbox_"+$.jgrid.jqID(l.p.id),jqm:!0}),$("#jqg_alrt").focus()),$(f).hide()}return!1})),$(f).append(c)),i.view&&(t=(a=a||{}).id||"view_"+e,c=$('<li class="ui-menu-item" role="presentation"><a class="'+h.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(i.viewtext||i.viewtitle)+"</a></li>").click((function(){if(!$(this).hasClass(h.disabled)){var t=l.p.selrow;t?$.isFunction(i.editfunc)?i.viewfunc.call(l,t):$(l).jqGrid("viewGridRow",t,a):($.jgrid.viewModal("#"+m.themodal,{gbox:"#gbox_"+$.jgrid.jqID(l.p.id),jqm:!0}),$("#jqg_alrt").focus()),$(f).hide()}return!1})),$(f).append(c)),i.del&&(t=(o=o||{}).id||"del_"+e,c=$('<li class="ui-menu-item" role="presentation"><a class="'+h.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(i.deltext||i.deltitle)+"</a></li>").click((function(){var t;$(this).hasClass(h.disabled)||(l.p.multiselect?0===(t=l.p.selarrrow).length&&(t=null):t=l.p.selrow,t?$.isFunction(i.delfunc)?i.delfunc.call(l,t):$(l).jqGrid("delGridRow",t,o):($.jgrid.viewModal("#"+m.themodal,{gbox:"#gbox_"+$.jgrid.jqID(l.p.id),jqm:!0}),$("#jqg_alrt").focus()),$(f).hide());return!1})),$(f).append(c)),(i.add||i.edit||i.del||i.view)&&$(f).append("<li class='ui-menu-item "+h.disabled+"' style='width:100%' role='presentation'><hr class='ui-separator-li'></li>"),i.search&&(t=(s=s||{}).id||"search_"+e,c=$('<li class="ui-menu-item" role="presentation"><a class="'+h.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(i.searchtext||i.searchtitle)+"</a></li>").click((function(){return $(this).hasClass(h.disabled)||($.isFunction(i.searchfunc)?i.searchfunc.call(l,s):$(l).jqGrid("searchGrid",s),$(f).hide()),!1})),$(f).append(c),s.showOnLoad&&!0===s.showOnLoad&&$(c).click()),i.refresh&&(t=s.id||"search_"+e,c=$('<li class="ui-menu-item" role="presentation"><a class="'+h.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(i.refreshtext||i.refreshtitle)+"</a></li>").click((function(){if(!$(this).hasClass(h.disabled)){$.isFunction(i.beforeRefresh)&&i.beforeRefresh.call(l),l.p.search=!1,l.p.resetsearch=!0;try{if("currentfilter"!==i.refreshstate){var t=l.p.id;l.p.postData.filters="";try{$("#fbox_"+$.jgrid.jqID(t)).jqFilter("resetFilter")}catch(t){}$.isFunction(l.clearToolbar)&&l.clearToolbar.call(l,!1)}}catch(t){}switch(i.refreshstate){case"firstpage":$(l).trigger("reloadGrid",[{page:1}]);break;case"current":case"currentfilter":$(l).trigger("reloadGrid",[{current:!0}])}$.isFunction(i.afterRefresh)&&i.afterRefresh.call(l),$(f).hide()}return!1})),$(f).append(c)),$(f).hide(),$("body").append(f),$("#"+p).addClass("ui-menu "+d.menu_widget),$("#"+p+" > li > a").hover((function(){$(this).addClass(h.hover)}),(function(){$(this).removeClass(h.hover)}))})(),$(".dropdownmenu",t+"_"+i.position).on("click",(function(t){var e=$(this).offset(),i=e.left,n=parseInt(e.top),r=$(this).val();$("#"+r).show().css({top:n-($("#"+r).height()+10)+"px",left:i+"px"}),t.stopPropagation()})),$("body").on("click",(function(t){$(t.target).hasClass("dropdownmenu")||$("#"+p).hide()}))}))},GridToForm:function(t,e){return this.each((function(){var i,n=this;if(n.grid){var r=$(n).jqGrid("getRowData",t);if(r)for(i in r)r.hasOwnProperty(i)&&($("[name="+$.jgrid.jqID(i)+"]",e).is("input:radio")||$("[name="+$.jgrid.jqID(i)+"]",e).is("input:checkbox")?$("[name="+$.jgrid.jqID(i)+"]",e).each((function(){$(this).val()==r[i]?$(this)[n.p.useProp?"prop":"attr"]("checked",!0):$(this)[n.p.useProp?"prop":"attr"]("checked",!1)})):$("[name="+$.jgrid.jqID(i)+"]",e).val(r[i]))}}))},FormToGrid:function(t,e,i,n){return this.each((function(){var r=this;if(r.grid){i||(i="set"),n||(n="first");var o=$(e).serializeArray(),s={};$.each(o,(function(t,e){s[e.name]=e.value})),"add"===i?$(r).jqGrid("addRowData",t,s,n):"set"===i&&$(r).jqGrid("setRowData",t,s)}}))}}),$.jgrid.extend({groupingSetup:function(){return this.each((function(){var t,e,i,n=this,r=n.p.colModel,o=n.p.groupingView,s=$.jgrid.styleUI[n.p.styleUI||"jQueryUI"].grouping;if(null===o||"object"!=typeof o&&!$.isFunction(o))n.p.grouping=!1;else if(o.plusicon||(o.plusicon=s.icon_plus),o.minusicon||(o.minusicon=s.icon_minus),o.groupField.length){for(void 0===o.visibiltyOnNextGrouping&&(o.visibiltyOnNextGrouping=[]),o.lastvalues=[],o._locgr||(o.groups=[]),o.counters=[],t=0;t<o.groupField.length;t++)o.groupOrder[t]||(o.groupOrder[t]="asc"),o.groupText[t]||(o.groupText[t]="{0}"),"boolean"!=typeof o.groupColumnShow[t]&&(o.groupColumnShow[t]=!0),"boolean"!=typeof o.groupSummary[t]&&(o.groupSummary[t]=!1),o.groupSummaryPos[t]||(o.groupSummaryPos[t]="footer"),!0===o.groupColumnShow[t]?(o.visibiltyOnNextGrouping[t]=!0,$(n).jqGrid("showCol",o.groupField[t])):(o.visibiltyOnNextGrouping[t]=$("#"+$.jgrid.jqID(n.p.id+"_"+o.groupField[t])).is(":visible"),$(n).jqGrid("hideCol",o.groupField[t]));for(o.summary=[],o.hideFirstGroupCol&&$.isArray(o.formatDisplayField)&&!$.isFunction(o.formatDisplayField[0])&&(o.formatDisplayField[0]=function(t){return t}),e=0,i=r.length;e<i;e++)o.hideFirstGroupCol&&(r[e].hidden||o.groupField[0]!==r[e].name||(r[e].formatter=function(){return""})),r[e].summaryType&&(r[e].summaryDivider?o.summary.push({nm:r[e].name,st:r[e].summaryType,v:"",sd:r[e].summaryDivider,vd:"",sr:r[e].summaryRound,srt:r[e].summaryRoundType||"round"}):o.summary.push({nm:r[e].name,st:r[e].summaryType,v:"",sr:r[e].summaryRound,srt:r[e].summaryRoundType||"round"}))}else n.p.grouping=!1}))},groupingPrepare:function(t,e){return this.each((function(){var i,n,r,o,s,a=this.p.groupingView,l=this,c=function(){$.isFunction(this.st)?this.v=this.st.call(l,this.v,this.nm,t):(this.v=$(l).jqGrid("groupingCalculations.handler",this.st,this.v,this.nm,this.sr,this.srt,t),"avg"===this.st.toLowerCase()&&this.sd&&(this.vd=$(l).jqGrid("groupingCalculations.handler",this.st,this.vd,this.sd,this.sr,this.srt,t)))},u=a.groupField.length,d=0;for(i=0;i<u;i++)n=a.groupField[i],o=a.displayField[i],r=t[n],null==(s=null==o?null:t[o])&&(s=r),void 0!==r&&(0===e?(a.groups.push({idx:i,dataIndex:n,value:r,displayValue:s,startRow:e,cnt:1,summary:[]}),a.lastvalues[i]=r,a.counters[i]={cnt:1,pos:a.groups.length-1,summary:$.extend(!0,[],a.summary)},$.each(a.counters[i].summary,c),a.groups[a.counters[i].pos].summary=a.counters[i].summary):"object"==typeof r||($.isArray(a.isInTheSameGroup)&&$.isFunction(a.isInTheSameGroup[i])?a.isInTheSameGroup[i].call(l,a.lastvalues[i],r,i,a):a.lastvalues[i]===r)?1===d?(a.groups.push({idx:i,dataIndex:n,value:r,displayValue:s,startRow:e,cnt:1,summary:[]}),a.lastvalues[i]=r,a.counters[i]={cnt:1,pos:a.groups.length-1,summary:$.extend(!0,[],a.summary)},$.each(a.counters[i].summary,c),a.groups[a.counters[i].pos].summary=a.counters[i].summary):(a.counters[i].cnt+=1,a.groups[a.counters[i].pos].cnt=a.counters[i].cnt,$.each(a.counters[i].summary,c),a.groups[a.counters[i].pos].summary=a.counters[i].summary):(a.groups.push({idx:i,dataIndex:n,value:r,displayValue:s,startRow:e,cnt:1,summary:[]}),a.lastvalues[i]=r,d=1,a.counters[i]={cnt:1,pos:a.groups.length-1,summary:$.extend(!0,[],a.summary)},$.each(a.counters[i].summary,c),a.groups[a.counters[i].pos].summary=a.counters[i].summary))})),this},groupingToggle:function(t){return this.each((function(){var e=this,i=e.p.groupingView,n=t.split("_"),r=parseInt(n[n.length-2],10);n.splice(n.length-2,2);var o,s,a,l=n.join("_"),c=i.minusicon,u=i.plusicon,d=$("#"+$.jgrid.jqID(t)),h=d.length?d[0].nextSibling:null,p=$("#"+$.jgrid.jqID(t)+" span.tree-wrap-"+e.p.direction),f=function(t){var e=$.map(t.split(" "),(function(t){if(t.substring(0,l.length+1)===l+"_")return parseInt(t.substring(l.length+1),10)}));return e.length>0?e[0]:void 0},g=!1,m=!1,v=!!e.p.frozenColumns&&e.p.id+"_frozen",y=!!v&&$("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(v)),b=y&&y.length?y[0].nextSibling:null;if(p.hasClass(c)){if(h)for(;h&&!(void 0!==(o=f(h.className))&&o<=r);)a=parseInt($(h).attr("jqfootlevel"),10),(m=!isNaN(a)&&i.showSummaryOnHide&&a<=r)||$(h).hide(),h=h.nextSibling,v&&(m||$(b).hide(),b=b.nextSibling);p.removeClass(c).addClass(u),g=!0}else{if(h)for(s=void 0;h;){if(o=f(h.className),void 0===s&&(s=void 0===o),m=$(h).hasClass("ui-subgrid")&&$(h).hasClass("ui-sg-collapsed"),void 0!==o){if(o<=r)break;o===r+1&&(m||($(h).show().find(">td>span.tree-wrap-"+e.p.direction).removeClass(c).addClass(u),v&&$(b).show().find(">td>span.tree-wrap-"+e.p.direction).removeClass(c).addClass(u)))}else s&&(m||($(h).show(),v&&$(b).show()));h=h.nextSibling,v&&(b=b.nextSibling)}p.removeClass(u).addClass(c)}$(e).triggerHandler("jqGridGroupingClickGroup",[t,g]),$.isFunction(e.p.onClickGroup)&&e.p.onClickGroup.call(e,t,g)})),!1},groupingRender:function(t,e,i,n){return this.each((function(){function r(t,e,i){var n,r=!1;if(0===e)r=i[t];else{var o=i[t].idx;if(0===o)r=i[t];else for(n=t;n>=0;n--)if(i[n].idx===o-e){r=i[n];break}}return r}function o(t,i,n,o,s){var a,l,u,d,h=r(t,i,n),p=c.p.colModel,f=h.cnt,g="",m=!1;for(l=o;l<e;l++)p[l].hidden?u="<td "+c.formatCol(l,1,"")+">&#160;</td>":!m&&s?(u=s,m=!0):u="<td "+c.formatCol(l,1,"")+">&#160;</td>",$.each(h.summary,(function(){if(this.nm===p[l].name){d=p[l].summaryTpl?p[l].summaryTpl:"{0}","string"==typeof this.st&&"avg"===this.st.toLowerCase()&&(this.sd&&this.vd?this.v=this.v/this.vd:this.v&&f>0&&(this.v=this.v/f));try{this.groupCount=h.cnt,this.groupIndex=h.dataIndex,this.groupValue=h.value,a=c.formatter("",this.v,l,this)}catch(t){a=this.v}return u="<td "+c.formatCol(l,1,"")+">"+$.jgrid.template(d,a,h.cnt,h.dataIndex,h.displayValue)+"</td>",!1}})),g+=u;return g}var s,a,l,c=this,u=c.p.groupingView,d="",h="",p=u.groupCollapse?u.plusicon:u.minusicon,f=[],g=u.groupField.length,m=$.jgrid.styleUI[c.p.styleUI||"jQueryUI"].common;p=p+" tree-wrap-"+c.p.direction,$.each(c.p.colModel,(function(t,e){var i;for(i=0;i<g;i++)if(u.groupField[i]===e.name){f[i]=t;break}}));var v,y=0,b=$.makeArray(u.groupSummary);b.reverse(),v=c.p.multiselect?' colspan="2"':"",$.each(u.groups,(function(r,_){if(u._locgr&&!(_.startRow+_.cnt>(i-1)*n&&_.startRow<i*n))return!0;y++,a=c.p.id+"ghead_"+_.idx,s=a+"_"+r,h="<span style='cursor:pointer;margin-right:8px;margin-left:5px;' class='"+m.icon_base+" "+p+"' onclick=\"jQuery('#"+$.jgrid.jqID(c.p.id)+"').jqGrid('groupingToggle','"+s+"');return false;\"></span>";try{l=$.isArray(u.formatDisplayField)&&$.isFunction(u.formatDisplayField[_.idx])?u.formatDisplayField[_.idx].call(c,_.displayValue,_.value,c.p.colModel[f[_.idx]],_.idx,u):c.formatter(s,_.displayValue,f[_.idx],_.value)}catch(t){l=_.displayValue}var w="";if("string"!=typeof(w=$.isFunction(u.groupText[_.idx])?u.groupText[_.idx].call(c,l,_.cnt,_.summary):$.jgrid.template(u.groupText[_.idx],l,_.cnt,_.summary))&&"number"!=typeof w&&(w=l),"header"===u.groupSummaryPos[_.idx]?(d+='<tr id="'+s+'"'+(u.groupCollapse&&_.idx>0?' style="display:none;" ':" ")+'role="row" class= "'+m.content+" jqgroup ui-row-"+c.p.direction+" "+a+'">',d+=o(r,0,u.groups,""===v?0:1,'<td style="padding-left:'+12*_.idx+'px;"'+v+">"+h+w+"</td>"),d+="</tr>"):d+='<tr id="'+s+'"'+(u.groupCollapse&&_.idx>0?' style="display:none;" ':" ")+'role="row" class= "'+m.content+" jqgroup ui-row-"+c.p.direction+" "+a+'"><td style="padding-left:'+12*_.idx+'px;" colspan="'+(!1===u.groupColumnShow[_.idx]?e-1:e)+'">'+h+w+"</td></tr>",g-1===_.idx){var x,C,k=u.groups[r+1],S=0,j=_.startRow,T=void 0!==k?k.startRow:u.groups[r].startRow+u.groups[r].cnt;for(u._locgr&&(S=(i-1)*n)>_.startRow&&(j=S),x=j;x<T&&t[x-S];x++)d+=t[x-S].join("");if("header"!==u.groupSummaryPos[_.idx]){var A;if(void 0!==k){for(A=0;A<u.groupField.length&&k.dataIndex!==u.groupField[A];A++);y=u.groupField.length-A}for(C=0;C<y;C++)if(b[C]){var D="";u.groupCollapse&&!u.showSummaryOnHide&&(D=' style="display:none;"'),d+="<tr"+D+' jqfootlevel="'+(_.idx-C)+'" role="row" class="'+m.content+" jqfoot ui-row-"+c.p.direction+'">',d+=o(r,C,u.groups,0,!1),d+="</tr>"}y=A}}})),$("#"+$.jgrid.jqID(c.p.id)+" tbody:first").append(d),d=null}))},groupingGroupBy:function(t,e){return this.each((function(){var i=this;"string"==typeof t&&(t=[t]);var n,r=i.p.groupingView;for(i.p.grouping=!0,r._locgr=!1,void 0===r.visibiltyOnNextGrouping&&(r.visibiltyOnNextGrouping=[]),n=0;n<r.groupField.length;n++)!r.groupColumnShow[n]&&r.visibiltyOnNextGrouping[n]&&$(i).jqGrid("showCol",r.groupField[n]);for(n=0;n<t.length;n++)r.visibiltyOnNextGrouping[n]=$("#"+$.jgrid.jqID(i.p.id)+"_"+$.jgrid.jqID(t[n])).is(":visible");i.p.groupingView=$.extend(i.p.groupingView,e||{}),r.groupField=t,$(i).trigger("reloadGrid")}))},groupingRemove:function(t){return this.each((function(){var e=this;if(void 0===t&&(t=!0),e.p.grouping=!1,!0===t){var i,n=e.p.groupingView;for(i=0;i<n.groupField.length;i++)!n.groupColumnShow[i]&&n.visibiltyOnNextGrouping[i]&&$(e).jqGrid("showCol",n.groupField);$("tr.jqgroup, tr.jqfoot","#"+$.jgrid.jqID(e.p.id)+" tbody:first").remove(),$("tr.jqgrow:hidden","#"+$.jgrid.jqID(e.p.id)+" tbody:first").show()}else $(e).trigger("reloadGrid")}))},groupingCalculations:{handler:function(t,e,i,n,r,o){var s={sum:function(){return parseFloat(e||0)+parseFloat(o[i]||0)},min:function(){return""===e?parseFloat(o[i]||0):Math.min(parseFloat(e),parseFloat(o[i]||0))},max:function(){return""===e?parseFloat(o[i]||0):Math.max(parseFloat(e),parseFloat(o[i]||0))},count:function(){return""===e&&(e=0),o.hasOwnProperty(i)?e+1:0},avg:function(){return s.sum()}};if(!s[t])throw"jqGrid Grouping No such method: "+t;var a=s[t]();if(null!=n)if("fixed"===r)a=a.toFixed(n);else{var l=Math.pow(10,n);a=Math.round(a*l)/l}return a}},setGroupHeaders:function(t){return t=$.extend({useColSpanStyle:!1,groupHeaders:[]},t||{}),this.each((function(){var e,i,n,r,o,s,a,l,c,u,d,h,p,f,g=this,m=0,v=g.p.colModel,y=v.length,b=g.grid.headers,_=$("table.ui-jqgrid-htable",g.grid.hDiv),w=_.children("thead").children("tr.ui-jqgrid-labels:last").addClass("jqg-second-row-header"),x=_.children("thead"),C=_.find(".jqg-first-row-header"),k=$.jgrid.styleUI[g.p.styleUI||"jQueryUI"].base;g.p.groupHeader||(g.p.groupHeader=[]),g.p.groupHeader.push(t),void 0===C[0]?C=$("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):C.empty();var S,j=function(t,e){var i,n=e.length;for(i=0;i<n;i++)if(e[i].startColumnName===t)return i;return-1};for($(g).prepend(x),n=$("<tr>",{role:"row"}).addClass("ui-jqgrid-labels jqg-third-row-header"),e=0;e<y;e++)if(o=b[e].el,s=$(o),i=v[e],a={height:"0px",width:b[e].width+"px",display:i.hidden?"none":""},$("<th>",{role:"gridcell"}).css(a).addClass("ui-first-th-"+g.p.direction).appendTo(C),o.style.width="",(l=j(i.name,t.groupHeaders))>=0){for(u=(c=t.groupHeaders[l]).numberOfColumns,d=c.titleText,p=c.className||"",h=0,l=0;l<u&&e+l<y;l++)v[e+l].hidden||h++;r=$("<th>").attr({role:"columnheader"}).addClass(k.headerBox+" ui-th-column-header ui-th-"+g.p.direction+" "+p).html(d),h>0&&r.attr("colspan",String(h)),g.p.headertitles&&r.attr("title",r.text()),0===h&&r.hide(),s.before(r),n.append(o),m=u-1}else if(0===m)if(t.useColSpanStyle){var T=s.attr("rowspan")?parseInt(s.attr("rowspan"),10)+1:2;s.attr("rowspan",T)}else $("<th>",{role:"columnheader"}).addClass(k.headerBox+" ui-th-column-header ui-th-"+g.p.direction).css({display:i.hidden?"none":""}).insertBefore(s),n.append(o);else n.append(o),m--;(f=$(g).children("thead")).prepend(C),n.insertAfter(w),_.append(f),t.useColSpanStyle&&(_.find("span.ui-jqgrid-resize").each((function(){var t=$(this).parent();t.is(":visible")&&(this.style.cssText="height: "+t.height()+"px !important; cursor: col-resize;")})),_.find("div.ui-jqgrid-sortable").each((function(){var t=$(this),e=t.parent();e.is(":visible")&&e.is(":has(span.ui-jqgrid-resize)")&&t.css("top",(e.height()-t.outerHeight())/2-4+"px")}))),S=f.find("tr.jqg-first-row-header"),$(g).on("jqGridResizeStop.setGroupHeaders",(function(t,e,i){S.find("th").eq(i)[0].style.width=e+"px"}))}))},destroyGroupHeader:function(t){return void 0===t&&(t=!0),this.each((function(){var e,i,n,r,o,s,a,l=this,c=l.grid,u=$("table.ui-jqgrid-htable thead",c.hDiv),d=l.p.colModel;if(c){for($(this).off(".setGroupHeaders"),e=$("<tr>",{role:"row"}).addClass("ui-jqgrid-labels"),i=0,n=(r=c.headers).length;i<n;i++){a=d[i].hidden?"none":"",o=$(r[i].el).width(r[i].width).css("display",a);try{o.removeAttr("rowSpan")}catch(t){o.attr("rowSpan",1)}e.append(o),(s=o.children("span.ui-jqgrid-resize")).length>0&&(s[0].style.height=""),o.children("div")[0].style.top=""}$(u).children("tr.ui-jqgrid-labels").remove(),$(u).prepend(e),!0===t&&$(l).jqGrid("setGridParam",{groupHeader:null})}}))}}),$.jgrid=$.jgrid||{},$.extend($.jgrid,{saveState:function(t,e){if(e=$.extend({useStorage:!0,storageType:"localStorage",beforeSetItem:null,compression:!1,compressionModule:"LZString",compressionMethod:"compressToUTF16",debug:!1,saveData:!0},e||{}),t){var i,n,r="",o="",s=$("#"+t)[0];if(s.grid){if((n=$(s).data("inlineNav"))&&s.p.inlineNav&&$(s).jqGrid("setGridParam",{_iN:n}),(n=$(s).data("filterToolbar"))&&s.p.filterToolbar&&$(s).jqGrid("setGridParam",{_fT:n}),r=$(s).jqGrid("jqGridExport",{exptype:"jsonstring",ident:"",root:"",data:e.saveData}),o="",e.saveData){var a=(o=$(s.grid.bDiv).find(".ui-jqgrid-btable tbody:first").html()).indexOf("</tr>");o=o.slice(a+5)}if($.isFunction(e.beforeSetItem)&&null!=(i=e.beforeSetItem.call(s,r))&&(r=i),e.debug){$("#gbox_tree").prepend('<a id="link_save" target="_blank" download="jqGrid_dump.txt">Click to save Dump Data</a>');var l,c,u=[],d={};u.push("Grid Options\n"),u.push(r),u.push("\n"),u.push("GridData\n"),u.push(o),d.type="plain/text;charset=utf-8";try{l=new File(u,"jqGrid_dump.txt",d)}catch(t){l=new Blob(u,d)}c=URL.createObjectURL(l),$("#link_save").attr("href",c).on("click",(function(){$(this).remove()}))}if(e.compression&&e.compressionModule)try{null!=(i=window[e.compressionModule][e.compressionMethod](r))&&(r=i,o=window[e.compressionModule][e.compressionMethod](o))}catch(t){}if(e.useStorage&&$.jgrid.isLocalStorage())try{window[e.storageType].setItem("jqGrid"+s.p.id,r),window[e.storageType].setItem("jqGrid"+s.p.id+"_data",o)}catch(t){22===t.code&&alert("Local storage limit is over!")}return r}}},loadState:function(t,e,i){if(i=$.extend({useStorage:!0,storageType:"localStorage",clearAfterLoad:!1,beforeSetGrid:null,afterSetGrid:null,decompression:!1,decompressionModule:"LZString",decompressionMethod:"decompressFromUTF16",restoreData:!0
},i||{}),t){var n,r,o,s,a,l=$("#"+t)[0];if(i.useStorage)try{e=window[i.storageType].getItem("jqGrid"+l.id),o=window[i.storageType].getItem("jqGrid"+l.id+"_data")}catch(t){}if(e){if(i.decompression&&i.decompressionModule)try{null!=(n=window[i.decompressionModule][i.decompressionMethod](e))&&(e=n,o=window[i.decompressionModule][i.decompressionMethod](o))}catch(t){}if((n=$.jgrid.parseFunc(e))&&"object"===$.type(n)){l.grid&&$.jgrid.gridUnload(t),$.isFunction(i.beforeSetGrid)&&(r=i.beforeSetGrid(n))&&"object"===$.type(r)&&(n=r);var c=function(t){return t},u={reccount:n.reccount,records:n.records,lastpage:n.lastpage,shrinkToFit:c(n.shrinkToFit),data:c(n.data),datatype:c(n.datatype),grouping:c(n.grouping)};n.shrinkToFit=!1,n.data=[],n.datatype="local",n.grouping=!1,n.inlineNav&&(s=c(n._iN),n._iN=null,delete n._iN),n.filterToolbar&&(a=c(n._fT),n._fT=null,delete n._fT);var d=$("#"+t).jqGrid(n);if(i.restoreData&&""!==$.trim(o)&&d.append(o),d.jqGrid("setGridParam",u),n.storeNavOptions&&n.navGrid&&(d[0].p.navGrid=!1,d.jqGrid("navGrid",n.pager,n.navOptions,n.editOptions,n.addOptions,n.delOptions,n.searchOptions,n.viewOptions),n.navButtons&&n.navButtons.length))for(var h=0;h<n.navButtons.length;h++)"sepclass"in n.navButtons[h][1]?d.jqGrid("navSeparatorAdd",n.navButtons[h][0],n.navButtons[h][1]):d.jqGrid("navButtonAdd",n.navButtons[h][0],n.navButtons[h][1]);if(d[0].refreshIndex(),n.subGrid){var p=1===n.multiselect?1:0,f=!0===n.rownumbers?1:0;d.jqGrid("addSubGrid",p+f),$.each(d[0].rows,(function(t,e){$(e).hasClass("ui-sg-expanded")&&$(d[0].rows[t-1]).find("td.sgexpanded").click().click()}))}if(n.treeGrid)for(var g=1,m=d[0].rows.length,v=n.expColInd,y=n.treeReader.leaf_field,b=n.treeReader.expanded_field;g<m;)$(d[0].rows[g].cells[v]).find("div.treeclick").on("click",(function(t){var e=t.target||t.srcElement,i=$.jgrid.stripPref(n.idPrefix,$(e,d[0].rows).closest("tr.jqgrow")[0].id),r=d[0].p._index[i];return d[0].p.data[r][y]||(d[0].p.data[r][b]?(d.jqGrid("collapseRow",d[0].p.data[r]),d.jqGrid("collapseNode",d[0].p.data[r])):(d.jqGrid("expandRow",d[0].p.data[r]),d.jqGrid("expandNode",d[0].p.data[r]))),!1})),!0===n.ExpandColClick&&$(d[0].rows[g].cells[v]).find("span.cell-wrapper").css("cursor","pointer").on("click",(function(t){var e=t.target||t.srcElement,i=$.jgrid.stripPref(n.idPrefix,$(e,d[0].rows).closest("tr.jqgrow")[0].id),r=d[0].p._index[i];return d[0].p.data[r][y]||(d[0].p.data[r][b]?(d.jqGrid("collapseRow",d[0].p.data[r]),d.jqGrid("collapseNode",d[0].p.data[r])):(d.jqGrid("expandRow",d[0].p.data[r]),d.jqGrid("expandNode",d[0].p.data[r]))),d.jqGrid("setSelection",i),!1})),g++;n.multiselect&&$.each(n.selarrrow,(function(){$("#jqg_"+t+"_"+this)[n.useProp?"prop":"attr"]("checked","checked")})),n.inlineNav&&s&&(d.jqGrid("setGridParam",{inlineNav:!1}),d.jqGrid("inlineNav",n.pager,s)),n.filterToolbar&&a&&(d.jqGrid("setGridParam",{filterToolbar:!1}),a.restoreFromFilters=!0,d.jqGrid("filterToolbar",a)),n.frozenColumns&&d.jqGrid("setFrozenColumns"),d[0].updatepager(!0,!0),$.isFunction(i.afterSetGrid)&&i.afterSetGrid(d),i.clearAfterLoad&&(window[i.storageType].removeItem("jqGrid"+l.id),window[i.storageType].removeItem("jqGrid"+l.id+"_data"))}else alert("can not convert to object")}}},isGridInStorage:function(t,e){var i,n,r,o={storageType:"localStorage"};o=$.extend(o,e||{});try{n=window[o.storageType].getItem("jqGrid"+t),r=window[o.storageType].getItem("jqGrid"+t+"_data"),i=null!=n&&null!=r&&"string"==typeof n&&"string"==typeof r}catch(t){i=!1}return i},setRegional:function(t,e){var i={storageType:"sessionStorage"};if((i=$.extend(i,e||{})).regional){$.jgrid.saveState(t,i),i.beforeSetGrid=function(t){return t.regional=i.regional,t.force_regional=!0,t},$.jgrid.loadState(t,null,i);var n=$("#"+t)[0],r=$(n).jqGrid("getGridParam","colModel"),o=-1,s=$.jgrid.getRegional(n,"nav");$.each(r,(function(t){if(this.formatter&&"actions"===this.formatter)return o=t,!1})),-1!==o&&s&&$("#"+t+" tbody tr").each((function(){var t=this.cells[o];$(t).find(".ui-inline-edit").attr("title",s.edittitle),$(t).find(".ui-inline-del").attr("title",s.deltitle),$(t).find(".ui-inline-save").attr("title",s.savetitle),$(t).find(".ui-inline-cancel").attr("title",s.canceltitle)}));try{window[i.storageType].removeItem("jqGrid"+n.id),window[i.storageType].removeItem("jqGrid"+n.id+"_data")}catch(t){}}},jqGridImport:function(t,e){e=$.extend({imptype:"xml",impstring:"",impurl:"",mtype:"GET",impData:{},xmlGrid:{config:"root>grid",data:"root>rows"},jsonGrid:{config:"grid",data:"data"},ajaxOptions:{}},e||{});var i=(0===t.indexOf("#")?"":"#")+$.jgrid.jqID(t),n=function(t,e){var n,r,o,s=$(e.xmlGrid.config,t)[0],a=$(e.xmlGrid.data,t)[0];if($.grid.xmlToJSON){for(o in n=$.jgrid.xmlToJSON(s))n.hasOwnProperty(o)&&(r=n[o]);if(a){var l=n.grid.datatype;n.grid.datatype="xmlstring",n.grid.datastr=t,$(i).jqGrid(r).jqGrid("setGridParam",{datatype:l})}else setTimeout((function(){$(i).jqGrid(r)}),0)}else alert("xml2json or parse are not present")},r=function(t,e){if(t&&"string"==typeof t){var n=$.jgrid.parseFunc(t),r=n[e.jsonGrid.config],o=n[e.jsonGrid.data];if(o){var s=r.datatype;r.datatype="jsonstring",r.datastr=o,$(i).jqGrid(r).jqGrid("setGridParam",{datatype:s})}else $(i).jqGrid(r)}};switch(e.imptype){case"xml":$.ajax($.extend({url:e.impurl,type:e.mtype,data:e.impData,dataType:"xml",complete:function(t,r){"success"===r&&(n(t.responseXML,e),$(i).triggerHandler("jqGridImportComplete",[t,e]),$.isFunction(e.importComplete)&&e.importComplete(t)),t=null}},e.ajaxOptions));break;case"xmlstring":if(e.impstring&&"string"==typeof e.impstring){var o=$.parseXML(e.impstring);o&&(n(o,e),$(i).triggerHandler("jqGridImportComplete",[o,e]),$.isFunction(e.importComplete)&&e.importComplete(o))}break;case"json":$.ajax($.extend({url:e.impurl,type:e.mtype,data:e.impData,dataType:"json",complete:function(t){try{r(t.responseText,e),$(i).triggerHandler("jqGridImportComplete",[t,e]),$.isFunction(e.importComplete)&&e.importComplete(t)}catch(t){}t=null}},e.ajaxOptions));break;case"jsonstring":e.impstring&&"string"==typeof e.impstring&&(r(e.impstring,e),$(i).triggerHandler("jqGridImportComplete",[e.impstring,e]),$.isFunction(e.importComplete)&&e.importComplete(e.impstring))}}}),$.jgrid.extend({jqGridExport:function(t){t=$.extend({exptype:"xmlstring",root:"grid",ident:"\t",addOptions:{},data:!0},t||{});var e=null;return this.each((function(){if(this.grid){var i=$.extend(!0,{},$(this).jqGrid("getGridParam"),t.addOptions);switch(i.rownumbers&&(i.colNames.splice(0,1),i.colModel.splice(0,1)),i.multiselect&&(i.colNames.splice(0,1),i.colModel.splice(0,1)),i.subGrid&&(i.colNames.splice(0,1),i.colModel.splice(0,1)),i.knv=null,t.data||(i.data=[],i._index={}),t.exptype){case"xmlstring":e="<"+t.root+">"+$.jgrid.jsonToXML(i,{xmlDecl:""})+"</"+t.root+">";break;case"jsonstring":e=$.jgrid.stringify(i),t.root&&(e="{"+t.root+":"+e+"}")}}})),e},excelExport:function(t){return t=$.extend({exptype:"remote",url:null,oper:"oper",tag:"excel",beforeExport:null,exporthidden:!1,exportgrouping:!1,exportOptions:{}},t||{}),this.each((function(){var e;if(this.grid&&"remote"===t.exptype){var i,n=$.extend({},this.p.postData);if(n[t.oper]=t.tag,$.isFunction(t.beforeExport)){var r=t.beforeExport.call(this,n);$.isPlainObject(r)&&(n=r)}if(t.exporthidden){var o,s=this.p.colModel,a=s.length,l=[];for(o=0;o<a;o++)void 0===s[o].hidden&&(s[o].hidden=!1),l.push({name:s[o].name,hidden:s[o].hidden});var c=JSON.stringify(l);"string"==typeof c&&(n.colModel=c)}t.exportgrouping&&"string"==typeof(i=JSON.stringify(this.p.groupingView))&&(n.groupingView=i);var u=jQuery.param(n);e=-1!==t.url.indexOf("?")?t.url+"&"+u:t.url+"?"+u,window.location=e}}))}}),$.jgrid.inlineEdit=$.jgrid.inlineEdit||{},$.jgrid.extend({editRow:function(t,e,i,n,r,o,s,a,l){var c={},u=$.makeArray(arguments).slice(1),d=this[0];return"object"===$.type(u[0])?c=u[0]:(void 0!==e&&(c.keys=e),$.isFunction(i)&&(c.oneditfunc=i),$.isFunction(n)&&(c.successfunc=n),void 0!==r&&(c.url=r),void 0!==o&&(c.extraparam=o),$.isFunction(s)&&(c.aftersavefunc=s),$.isFunction(a)&&(c.errorfunc=a),$.isFunction(l)&&(c.afterrestorefunc=l)),c=$.extend(!0,{keys:!1,keyevent:"keydown",onEnter:null,onEscape:null,oneditfunc:null,successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST",focusField:!0,saveui:"enable",savetext:$.jgrid.getRegional(d,"defaults.savetext")},$.jgrid.inlineEdit,c),this.each((function(){var e,i,n,r,o,s=0,a=null,l={},u=$(this).jqGrid("getStyleUI",d.p.styleUI+".inlinedit","inputClass",!0);if(d.grid&&!1!==(n=$(d).jqGrid("getInd",t,!0))){if(d.p.beforeAction=!0,void 0===(o=$.isFunction(c.beforeEditRow)?c.beforeEditRow.call(d,c,t):void 0)&&(o=!0),!o)return void(d.p.beforeAction=!1);"0"!==($(n).attr("editable")||"0")||$(n).hasClass("not-editable-row")||(r=d.p.colModel,$('td[role="gridcell"]',n).each((function(n){e=r[n].name;var o=!0===d.p.treeGrid&&e===d.p.ExpandColumn;if(o)i=$("span:first",this).html();else try{i=$.unformat.call(d,this,{rowId:t,colModel:r[n]},n)}catch(t){i=r[n].edittype&&"textarea"===r[n].edittype?$(this).text():$(this).html()}if("cb"!==e&&"subgrid"!==e&&"rn"!==e&&(d.p.autoencode&&(i=$.jgrid.htmlDecode(i)),l[e]=i,!0===r[n].editable)){null===a&&(a=n),o?$("span:first",this).html(""):$(this).html("");var c=$.extend({},r[n].editoptions||{},{id:t+"_"+e,name:e,rowId:t,oper:"edit"});r[n].edittype||(r[n].edittype="text"),("&nbsp;"===i||"&#160;"===i||1===i.length&&160===i.charCodeAt(0))&&(i="");var h=$.jgrid.createEl.call(d,r[n].edittype,c,i,!0,$.extend({},$.jgrid.ajaxOptions,d.p.ajaxSelectOptions||{}));$(h).addClass("editable inline-edit-cell"),$.inArray(r[n].edittype,["text","textarea","password","select"])>-1&&$(h).addClass(u),o?$("span:first",this).append(h):$(this).append(h),$.jgrid.bindEv.call(d,h,c),"select"===r[n].edittype&&void 0!==r[n].editoptions&&!0===r[n].editoptions.multiple&&void 0===r[n].editoptions.dataUrl&&$.jgrid.msie()&&$(h).width($(h).width()),s++}})),s>0&&(l.id=t,d.p.savedRow.push(l),$(n).attr("editable","1"),c.focusField&&("number"==typeof c.focusField&&parseInt(c.focusField,10)<=r.length&&(a=c.focusField),setTimeout((function(){var t=$("td:eq("+a+") :input:visible",n).not(":disabled");t.length>0&&t.focus()}),0)),!0===c.keys&&$(n).on(c.keyevent,(function(e){if(27===e.keyCode){if($.isFunction(c.onEscape))return c.onEscape.call(d,t,c,e),!0;if($(d).jqGrid("restoreRow",t,c),d.p.inlineNav)try{$(d).jqGrid("showAddEditButtons")}catch(t){}return!1}if(13===e.keyCode){if("TEXTAREA"===e.target.tagName)return!0;if($.isFunction(c.onEnter))return c.onEnter.call(d,t,c,e),!0;if($(d).jqGrid("saveRow",t,c)&&d.p.inlineNav)try{$(d).jqGrid("showAddEditButtons")}catch(t){}return!1}})),$(d).triggerHandler("jqGridInlineEditRow",[t,c]),$.isFunction(c.oneditfunc)&&c.oneditfunc.call(d,t)))}}))},saveRow:function(t,e,i,n,r,o,s){var a=$.makeArray(arguments).slice(1),l={},c=this[0];"object"===$.type(a[0])?l=a[0]:($.isFunction(e)&&(l.successfunc=e),void 0!==i&&(l.url=i),void 0!==n&&(l.extraparam=n),$.isFunction(r)&&(l.aftersavefunc=r),$.isFunction(o)&&(l.errorfunc=o),$.isFunction(s)&&(l.afterrestorefunc=s)),l=$.extend(!0,{successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST",saveui:"enable",savetext:$.jgrid.getRegional(c,"defaults.savetext")},$.jgrid.inlineEdit,l);var u,d,h,p,f,g=!1,m={},v={},y={},b=!1,_=$.trim($(c).jqGrid("getStyleUI",c.p.styleUI+".common","error",!0));if(!c.grid)return g;if(!1===(f=$(c).jqGrid("getInd",t,!0)))return g;var w=$.jgrid.getRegional(c,"errors"),x=$.jgrid.getRegional(c,"edit"),C=$.isFunction(l.beforeSaveRow)?l.beforeSaveRow.call(c,l,t):void 0;if(void 0===C&&(C=!0),C){if(d=$(f).attr("editable"),l.url=l.url||c.p.editurl,"1"===d){var k,S,j;if($('td[role="gridcell"]',f).each((function(t){if(k=c.p.colModel[t],u=k.name,j="","cb"!==u&&"subgrid"!==u&&!0===k.editable&&"rn"!==u&&!$(this).hasClass("not-editable-cell")){switch(k.edittype){case"checkbox":var e=["Yes","No"];k.editoptions&&k.editoptions.value&&(e=k.editoptions.value.split(":")),m[u]=$("input",this).is(":checked")?e[0]:e[1],j=$("input",this);break;case"text":case"password":case"textarea":case"button":m[u]=$("input, textarea",this).val(),j=$("input, textarea",this);break;case"select":if(k.editoptions.multiple){var i=$("select",this),n=[];m[u]=$(i).val(),m[u]?m[u]=m[u].join(","):m[u]="",$("select option:selected",this).each((function(t,e){n[t]=$(e).text()})),v[u]=n.join(",")}else m[u]=$("select option:selected",this).val(),v[u]=$("select option:selected",this).text();k.formatter&&"select"===k.formatter&&(v={}),j=$("select",this);break;case"custom":try{if(!k.editoptions||!$.isFunction(k.editoptions.custom_value))throw"e1";if(m[u]=k.editoptions.custom_value.call(c,$(".customelement",this),"get"),void 0===m[u])throw"e2"}catch(t){"e1"===t?$.jgrid.info_dialog(w.errcap,"function 'custom_value' "+x.msg.nodefined,x.bClose,{styleUI:c.p.styleUI}):$.jgrid.info_dialog(w.errcap,t.message,x.bClose,{styleUI:c.p.styleUI})}}if(!1===(p=$.jgrid.checkValues.call(c,m[u],t))[0])return S=t,!1;c.p.autoencode&&(m[u]=$.jgrid.htmlEncode(m[u])),"clientArray"!==l.url&&k.editoptions&&!0===k.editoptions.NullIfEmpty&&""===m[u]&&(y[u]="null",b=!0)}})),!1===p[0]){try{if($.isFunction(c.p.validationCell))c.p.validationCell.call(c,j,p[1],f.rowIndex,S);else{var T=$(c).jqGrid("getGridRowById",t),A=$.jgrid.findPos(T);$.jgrid.info_dialog(w.errcap,p[1],x.bClose,{left:A[0],top:A[1]+$(T).outerHeight(),styleUI:c.p.styleUI,onClose:function(){S>=0&&$("#"+t+"_"+c.p.colModel[S].name).focus()}})}}catch(t){alert(p[1])}return g}var D,I=c.p.prmNames,E=t;if(D=!1===c.p.keyName?I.id:c.p.keyName,m){if(m[I.oper]=I.editoper,void 0===m[D]||""===m[D])m[D]=t;else if(f.id!==c.p.idPrefix+m[D]){var P=$.jgrid.stripPref(c.p.idPrefix,t);if(void 0!==c.p._index[P]&&(c.p._index[m[D]]=c.p._index[P],delete c.p._index[P]),t=c.p.idPrefix+m[D],$(f).attr("id",t),c.p.selrow===E&&(c.p.selrow=t),$.isArray(c.p.selarrrow)){var O=$.inArray(E,c.p.selarrrow);O>=0&&(c.p.selarrrow[O]=t)}if(c.p.multiselect){var F="jqg_"+c.p.id+"_"+t;$("input.cbox",f).attr("id",F).attr("name",F)}}void 0===c.p.inlineData&&(c.p.inlineData={}),m=$.extend({},m,c.p.inlineData,l.extraparam)}if("clientArray"===l.url){m=$.extend({},m,v),c.p.autoencode&&$.each(m,(function(t,e){m[t]=$.jgrid.htmlDecode(e)}));var M,R=$(c).jqGrid("setRowData",t,m);for($(f).attr("editable","0"),M=0;M<c.p.savedRow.length;M++)if(String(c.p.savedRow[M].id)===String(E)){h=M;break}$(c).triggerHandler("jqGridInlineAfterSaveRow",[t,R,m,l]),$.isFunction(l.aftersavefunc)&&l.aftersavefunc.call(c,t,R,m,l),h>=0&&c.p.savedRow.splice(h,1),g=!0,$(f).removeClass("jqgrid-new-row").off("keydown")}else $(c).jqGrid("progressBar",{method:"show",loadtype:l.saveui,htmlcontent:l.savetext}),(y=$.extend({},m,y))[D]=$.jgrid.stripPref(c.p.idPrefix,y[D]),$.ajax($.extend({url:l.url,data:$.isFunction(c.p.serializeRowData)?c.p.serializeRowData.call(c,y):y,type:l.mtype,async:!1,complete:function(e,i){if($(c).jqGrid("progressBar",{method:"hide",loadtype:l.saveui,htmlcontent:l.savetext}),"success"===i){var n,r,o=!0;if(n=$(c).triggerHandler("jqGridInlineSuccessSaveRow",[e,t,l]),$.isArray(n)||(n=[!0,y]),n[0]&&$.isFunction(l.successfunc)&&(n=l.successfunc.call(c,e)),$.isArray(n)?(o=n[0],m=n[1]||m):o=n,!0===o){for(c.p.autoencode&&$.each(m,(function(t,e){m[t]=$.jgrid.htmlDecode(e)})),b&&$.each(m,(function(t){"null"===m[t]&&(m[t]="")})),m=$.extend({},m,v),$(c).jqGrid("setRowData",t,m),$(f).attr("editable","0"),r=0;r<c.p.savedRow.length;r++)if(String(c.p.savedRow[r].id)===String(t)){h=r;break}$(c).triggerHandler("jqGridInlineAfterSaveRow",[t,e,m,l]),$.isFunction(l.aftersavefunc)&&l.aftersavefunc.call(c,t,e,m,l),h>=0&&c.p.savedRow.splice(h,1),g=!0,$(f).removeClass("jqgrid-new-row").off("keydown")}else $(c).triggerHandler("jqGridInlineErrorSaveRow",[t,e,i,null,l]),$.isFunction(l.errorfunc)&&l.errorfunc.call(c,t,e,i,null),!0===l.restoreAfterError&&$(c).jqGrid("restoreRow",t,l)}},error:function(e,i,n){if($("#lui_"+$.jgrid.jqID(c.p.id)).hide(),$(c).triggerHandler("jqGridInlineErrorSaveRow",[t,e,i,n,l]),$.isFunction(l.errorfunc))l.errorfunc.call(c,t,e,i,n);else{var r=e.responseText||e.statusText;try{$.jgrid.info_dialog(w.errcap,'<div class="'+_+'">'+r+"</div>",x.bClose,{buttonalign:"right",styleUI:c.p.styleUI})}catch(t){alert(r)}}!0===l.restoreAfterError&&$(c).jqGrid("restoreRow",t,l)}},$.jgrid.ajaxOptions,c.p.ajaxRowOptions||{}))}return g}},restoreRow:function(t,e){var i=$.makeArray(arguments).slice(1),n={};return"object"===$.type(i[0])?n=i[0]:$.isFunction(e)&&(n.afterrestorefunc=e),n=$.extend(!0,{},$.jgrid.inlineEdit,n),this.each((function(){var e,i,r=this,o=-1,s={};if(r.grid&&!1!==(e=$(r).jqGrid("getInd",t,!0))){var a=$.isFunction(n.beforeCancelRow)?n.beforeCancelRow.call(r,n,t):void 0;if(void 0===a&&(a=!0),a){for(i=0;i<r.p.savedRow.length;i++)if(String(r.p.savedRow[i].id)===String(t)){o=i;break}if(o>=0){if($.isFunction($.fn.datepicker))try{$("input.hasDatepicker","#"+$.jgrid.jqID(e.id)).datepicker("hide")}catch(t){}$.each(r.p.colModel,(function(){r.p.savedRow[o].hasOwnProperty(this.name)&&(s[this.name]=r.p.savedRow[o][this.name])})),$(r).jqGrid("setRowData",t,s),$(e).attr("editable","0").off("keydown"),r.p.savedRow.splice(o,1),$("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(r.p.id)).hasClass("jqgrid-new-row")&&setTimeout((function(){$(r).jqGrid("delRowData",t),$(r).jqGrid("showAddEditButtons")}),0)}$(r).triggerHandler("jqGridInlineAfterRestoreRow",[t]),$.isFunction(n.afterrestorefunc)&&n.afterrestorefunc.call(r,t)}}}))},addRow:function(t){return t=$.extend(!0,{rowID:null,initdata:{},position:"first",useDefValues:!0,useFormatter:!1,addRowParams:{extraparam:{}}},t||{}),this.each((function(){if(this.grid){var e=this;e.p.beforeAction=!0;var i=$.isFunction(t.beforeAddRow)?t.beforeAddRow.call(e,t.addRowParams):void 0;if(void 0===i&&(i=!0),!i)return void(e.p.beforeAction=!1);if(t.rowID=$.isFunction(t.rowID)?t.rowID.call(e,t):null!=t.rowID?t.rowID:$.jgrid.randId(),!0===t.useDefValues&&$(e.p.colModel).each((function(){if(this.editoptions&&this.editoptions.defaultValue){var i=this.editoptions.defaultValue,n=$.isFunction(i)?i.call(e):i;t.initdata[this.name]=n}})),$(e).jqGrid("addRowData",t.rowID,t.initdata,t.position),t.rowID=e.p.idPrefix+t.rowID,$("#"+$.jgrid.jqID(t.rowID),"#"+$.jgrid.jqID(e.p.id)).addClass("jqgrid-new-row"),t.useFormatter)$("#"+$.jgrid.jqID(t.rowID)+" .ui-inline-edit","#"+$.jgrid.jqID(e.p.id)).click();else{var n=e.p.prmNames,r=n.oper;t.addRowParams.extraparam[r]=n.addoper,$(e).jqGrid("editRow",t.rowID,t.addRowParams),$(e).jqGrid("setSelection",t.rowID)}}}))},inlineNav:function(t,e){var i=this[0],n=$.jgrid.getRegional(i,"nav"),r=$.jgrid.styleUI[i.p.styleUI].inlinedit;return e=$.extend(!0,{edit:!0,editicon:r.icon_edit_nav,add:!0,addicon:r.icon_add_nav,save:!0,saveicon:r.icon_save_nav,cancel:!0,cancelicon:r.icon_cancel_nav,addParams:{addRowParams:{extraparam:{}}},editParams:{},restoreAfterSelect:!0,saveAfterSelect:!1},n,e||{}),this.each((function(){if(this.grid&&!this.p.inlineNav){var r=$.jgrid.jqID(i.p.id),o=$.trim($(i).jqGrid("getStyleUI",i.p.styleUI+".common","disabled",!0));if(i.p.navGrid||$(i).jqGrid("navGrid",t,{refresh:!1,edit:!1,add:!1,del:!1,search:!1,view:!1}),$(i).data("inlineNav")||$(i).data("inlineNav",e),i.p.force_regional&&(e=$.extend(e,n)),i.p.inlineNav=!0,!0===e.addParams.useFormatter){var s,a=i.p.colModel;for(s=0;s<a.length;s++)if(a[s].formatter&&"actions"===a[s].formatter){if(a[s].formatoptions){var l={keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null},c=$.extend(l,a[s].formatoptions);e.addParams.addRowParams={keys:c.keys,oneditfunc:c.onEdit,successfunc:c.onSuccess,url:c.url,extraparam:c.extraparam,aftersavefunc:c.afterSave,errorfunc:c.onError,afterrestorefunc:c.afterRestore}}break}}e.add&&$(i).jqGrid("navButtonAdd",t,{caption:e.addtext,title:e.addtitle,buttonicon:e.addicon,id:i.p.id+"_iladd",internal:!0,onClickButton:function(){void 0===i.p.beforeAction&&(i.p.beforeAction=!0),$(i).jqGrid("addRow",e.addParams),!e.addParams.useFormatter&&i.p.beforeAction&&($("#"+r+"_ilsave").removeClass(o),$("#"+r+"_ilcancel").removeClass(o),$("#"+r+"_iladd").addClass(o),$("#"+r+"_iledit").addClass(o))}}),e.edit&&$(i).jqGrid("navButtonAdd",t,{caption:e.edittext,title:e.edittitle,buttonicon:e.editicon,id:i.p.id+"_iledit",internal:!0,onClickButton:function(){var t=$(i).jqGrid("getGridParam","selrow");t?(void 0===i.p.beforeAction&&(i.p.beforeAction=!0),$(i).jqGrid("editRow",t,e.editParams),i.p.beforeAction&&($("#"+r+"_ilsave").removeClass(o),$("#"+r+"_ilcancel").removeClass(o),$("#"+r+"_iladd").addClass(o),$("#"+r+"_iledit").addClass(o))):($.jgrid.viewModal("#alertmod_"+r,{gbox:"#gbox_"+r,jqm:!0}),$("#jqg_alrt").focus())}}),e.save&&($(i).jqGrid("navButtonAdd",t,{caption:e.savetext||"",title:e.savetitle||"Save row",buttonicon:e.saveicon,id:i.p.id+"_ilsave",internal:!0,onClickButton:function(){var t=i.p.savedRow[0].id;if(t){var n=i.p.prmNames,o=n.oper,s=e.editParams;$("#"+$.jgrid.jqID(t),"#"+r).hasClass("jqgrid-new-row")?(e.addParams.addRowParams.extraparam[o]=n.addoper,s=e.addParams.addRowParams):(e.editParams.extraparam||(e.editParams.extraparam={}),e.editParams.extraparam[o]=n.editoper),$(i).jqGrid("saveRow",t,s)&&$(i).jqGrid("showAddEditButtons")}else $.jgrid.viewModal("#alertmod_"+r,{gbox:"#gbox_"+r,jqm:!0}),$("#jqg_alrt").focus()}}),$("#"+r+"_ilsave").addClass(o)),e.cancel&&($(i).jqGrid("navButtonAdd",t,{caption:e.canceltext||"",title:e.canceltitle||"Cancel row editing",buttonicon:e.cancelicon,id:i.p.id+"_ilcancel",internal:!0,onClickButton:function(){var t=i.p.savedRow[0].id,n=e.editParams;t?($("#"+$.jgrid.jqID(t),"#"+r).hasClass("jqgrid-new-row")&&(n=e.addParams.addRowParams),$(i).jqGrid("restoreRow",t,n),$(i).jqGrid("showAddEditButtons")):($.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+r,jqm:!0}),$("#jqg_alrt").focus())}}),$("#"+r+"_ilcancel").addClass(o)),!0!==e.restoreAfterSelect&&!0!==e.saveAfterSelect||$(i).on("jqGridBeforeSelectRow.inlineNav",(function(t,n){if(i.p.savedRow.length>0&&!0===i.p.inlineNav&&n!==i.p.selrow&&null!==i.p.selrow){var r=!0;i.p.selrow===e.addParams.rowID?$(i).jqGrid("delRowData",i.p.selrow):!0===e.restoreAfterSelect?$(i).jqGrid("restoreRow",i.p.selrow,e.editParams):r=$(i).jqGrid("saveRow",i.p.selrow,e.editParams),r&&$(i).jqGrid("showAddEditButtons")}}))}}))},showAddEditButtons:function(){return this.each((function(){if(this.grid){var t=$.jgrid.jqID(this.p.id),e=$.trim($(this).jqGrid("getStyleUI",this.p.styleUI+".common","disabled",!0));$("#"+t+"_ilsave").addClass(e),$("#"+t+"_ilcancel").addClass(e),$("#"+t+"_iladd").removeClass(e),$("#"+t+"_iledit").removeClass(e)}}))},showSaveCancelButtons:function(){return this.each((function(){if(this.grid){var t=$.jgrid.jqID(this.p.id),e=$.trim($(this).jqGrid("getStyleUI",this.p.styleUI+".common","disabled",!0));$("#"+t+"_ilsave").removeClass(e),$("#"+t+"_ilcancel").removeClass(e),$("#"+t+"_iladd").addClass(e),$("#"+t+"_iledit").addClass(e)}}))}}),$.jgrid.msie()&&8===$.jgrid.msiever()&&($.expr[":"].hidden=function(t){return 0===t.offsetWidth||0===t.offsetHeight||"none"===t.style.display}),$.jgrid._multiselect=!1,$.ui&&$.ui.multiselect){if($.ui.multiselect.prototype._setSelected){var setSelected=$.ui.multiselect.prototype._setSelected;$.ui.multiselect.prototype._setSelected=function(t,e){var i=setSelected.call(this,t,e);if(e&&this.selectedList){var n=this.element;this.selectedList.find("li").each((function(){$(this).data("optionLink")&&$(this).data("optionLink").remove().appendTo(n)}))}return i}}$.ui.multiselect.prototype.destroy&&($.ui.multiselect.prototype.destroy=function(){this.element.show(),this.container.remove(),void 0===$.Widget?$.widget.prototype.destroy.apply(this,arguments):$.Widget.prototype.destroy.apply(this,arguments)}),$.jgrid._multiselect=!0}$.jgrid.extend({sortableColumns:function(t){return this.each((function(){function e(){n.p.disableClick=!0,n.p.frozenColumns&&($(n).jqGrid("destroyFrozenColumns"),o=!0)}function i(){setTimeout((function(){n.p.disableClick=!1,o&&($(n).jqGrid("setFrozenColumns"),o=!1)}),50)}var n=this,r=$.jgrid.jqID(n.p.id),o=!1,s={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+r+"_cb,#jqgh_"+r+"_rn,#jqgh_"+r+"_subgrid),:hidden)",placeholder:{element:function(t){return $(document.createElement(t[0].nodeName)).addClass(t[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0]},update:function(t,e){e.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),e.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10))}},update:function(t,e){var i=$(e.item).parent(),r=$(">th",i),o=n.p.colModel,s={},a=n.p.id+"_";$.each(o,(function(t){s[this.name]=t}));var l=[];r.each((function(){var t=$(">div",this).get(0).id.replace(/^jqgh_/,"").replace(a,"");s.hasOwnProperty(t)&&l.push(s[t])})),$(n).jqGrid("remapColumns",l,!0,!0),$.isFunction(n.p.sortable.update)&&n.p.sortable.update(l)}};if(n.p.sortable.options?$.extend(s,n.p.sortable.options):$.isFunction(n.p.sortable)&&(n.p.sortable={update:n.p.sortable}),s.start){var a=s.start;s.start=function(t,i){e(),a.call(this,t,i)}}else s.start=e;if(s.stop){var l=s.stop;s.stop=function(t,e){i(),l.call(this,t,e)}}else s.stop=i;n.p.sortable.exclude&&(s.items+=":not("+n.p.sortable.exclude+")");var c=t.sortable(s),u=c.data("sortable")||c.data("uiSortable");null!=u&&(u.data("sortable").floating=!0)}))},columnChooser:function(t){function e(t,e,i){var n,r;return e>=0?(r=(n=t.slice()).splice(e,Math.max(t.length-e,e)),e>t.length&&(e=t.length),n[e]=i,n.concat(r)):t}function i(t,e){t&&("string"==typeof t?$.fn[t]&&$.fn[t].apply(e,$.makeArray(arguments).slice(2)):$.isFunction(t)&&t.apply(e,$.makeArray(arguments).slice(2)))}function n(){var t=m(o),e=t.container.closest(".ui-dialog-content");e.length>0&&"object"==typeof e[0].style?e[0].style.width="":e.css("width",""),t.selectedList.height(Math.max(t.selectedContainer.height()-t.selectedActions.outerHeight()-1,1)),t.availableList.height(Math.max(t.availableContainer.height()-t.availableActions.outerHeight()-1,1))}var r,o,s,a,l,c,u,d=this,h={},p=[],f=d.jqGrid("getGridParam","colModel"),g=d.jqGrid("getGridParam","colNames"),m=function(t){return $.ui.multiselect.prototype&&t.data($.ui.multiselect.prototype.widgetFullName||$.ui.multiselect.prototype.widgetName)||t.data("ui-multiselect")||t.data("multiselect")},v=$.jgrid.getRegional(this[0],"col");if(!$("#colchooser_"+$.jgrid.jqID(d[0].p.id)).length){if(r=$('<div id="colchooser_'+d[0].p.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>'),o=$("select",r),t=$.extend({width:400,height:240,classname:null,done:function(t){t&&d.jqGrid("remapColumns",t,!0)},msel:"multiselect",dlog:"dialog",dialog_opts:{minWidth:470,dialogClass:"ui-jqdialog"},dlog_opts:function(t){var e={};return e[t.bSubmit]=function(){t.apply_perm(),t.cleanup(!1)},e[t.bCancel]=function(){t.cleanup(!0)},$.extend(!0,{buttons:e,close:function(){t.cleanup(!0)},modal:t.modal||!1,resizable:t.resizable||!0,width:t.width+70,resize:n},t.dialog_opts||{})},apply_perm:function(){var i=[];$("option",o).each((function(){$(this).is(":selected")?d.jqGrid("showCol",f[this.value].name):d.jqGrid("hideCol",f[this.value].name)})),$("option[selected]",o).each((function(){i.push(parseInt(this.value,10))})),$.each(i,(function(){delete h[f[parseInt(this,10)].name]})),$.each(h,(function(){var t=parseInt(this,10);i=e(i,t,t)})),t.done&&t.done.call(d,i),d.jqGrid("setGridWidth",d[0].p.width,d[0].p.shrinkToFit)},cleanup:function(e){i(t.dlog,r,"destroy"),i(t.msel,o,"destroy"),r.remove(),e&&t.done&&t.done.call(d)},msel_opts:{}},v,t||{}),$.ui&&$.ui.multiselect&&$.ui.multiselect.defaults){if(!$.jgrid._multiselect)return void alert("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");t.msel_opts=$.extend($.ui.multiselect.defaults,t.msel_opts)}t.caption&&r.attr("title",t.caption),t.classname&&(r.addClass(t.classname),o.addClass(t.classname)),t.width&&($(">div",r).css({width:t.width,margin:"0 auto"}),o.css("width",t.width)),t.height&&($(">div",r).css("height",t.height),o.css("height",t.height-10)),o.empty(),$.each(f,(function(t){h[this.name]=t,this.hidedlg?this.hidden||p.push(t):o.append("<option value='"+t+"' "+(this.hidden?"":"selected='selected'")+">"+$.jgrid.stripHtml(g[t])+"</option>")})),s=$.isFunction(t.dlog_opts)?t.dlog_opts.call(d,t):t.dlog_opts,i(t.dlog,r,s),a=$.isFunction(t.msel_opts)?t.msel_opts.call(d,t):t.msel_opts,i(t.msel,o,a),l=$("#colchooser_"+$.jgrid.jqID(d[0].p.id));var y=$(".ui-jqgrid").css("font-size")||"11px";l.parent().css("font-size",y),l.css({margin:"auto"}),l.find(">div").css({width:"100%",height:"100%",margin:"auto"}),(c=m(o)).container.css({width:"100%",height:"100%",margin:"auto"}),c.selectedContainer.css({width:100*c.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),c.availableContainer.css({width:100-100*c.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),c.selectedList.css("height","auto"),c.availableList.css("height","auto"),u=Math.max(c.selectedList.height(),c.availableList.height()),u=Math.min(u,$(window).height()),c.selectedList.css("height",u),c.availableList.css("height",u),n()}},sortableRows:function(t){return this.each((function(){var e=this;e.grid&&(e.p.treeGrid||$.fn.sortable&&((t=$.extend({cursor:"move",axis:"y",items:" > .jqgrow"},t||{})).start&&$.isFunction(t.start)?(t._start_=t.start,delete t.start):t._start_=!1,t.update&&$.isFunction(t.update)?(t._update_=t.update,delete t.update):t._update_=!1,t.start=function(i,n){if($(n.item).css("border-width","0"),$("td",n.item).each((function(t){this.style.width=e.grid.cols[t].style.width})),e.p.subGrid){var r=$(n.item).attr("id");try{$(e).jqGrid("collapseSubGridRow",r)}catch(t){}}t._start_&&t._start_.apply(this,[i,n])},t.update=function(i,n){$(n.item).css("border-width",""),!0===e.p.rownumbers&&$("td.jqgrid-rownum",e.rows).each((function(t){$(this).html(t+1+(parseInt(e.p.page,10)-1)*parseInt(e.p.rowNum,10))})),t._update_&&t._update_.apply(this,[i,n])},$("tbody:first",e).sortable(t),$("tbody:first > .jqgrow",e).disableSelection()))}))},gridDnD:function(t){return this.each((function(){function e(){var t=$.data(r,"dnd");$("tr.jqgrow:not(.ui-draggable)",r).draggable($.isFunction(t.drag)?t.drag.call($(r),t):t.drag)}var i,n,r=this;if(r.grid&&!r.p.treeGrid&&$.fn.draggable&&$.fn.droppable){if(void 0===$("#jqgrid_dnd")[0]&&$("body").append("<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>"),"string"==typeof t&&"updateDnD"===t&&!0===r.p.jqgdnd)return void e();var o;if(t=$.extend({drag:function(t){return $.extend({start:function(e,i){var n,o;if(r.p.subGrid){o=$(i.helper).attr("id");try{$(r).jqGrid("collapseSubGridRow",o)}catch(t){}}for(n=0;n<$.data(r,"dnd").connectWith.length;n++)0===$($.data(r,"dnd").connectWith[n]).jqGrid("getGridParam","reccount")&&$($.data(r,"dnd").connectWith[n]).jqGrid("addRowData","jqg_empty_row",{});i.helper.addClass("ui-state-highlight"),$("td",i.helper).each((function(t){this.style.width=r.grid.headers[t].width+"px"})),t.onstart&&$.isFunction(t.onstart)&&t.onstart.call($(r),e,i)},stop:function(e,i){var n,o;for(i.helper.dropped&&!t.dragcopy&&(void 0===(o=$(i.helper).attr("id"))&&(o=$(this).attr("id")),$(r).jqGrid("delRowData",o)),n=0;n<$.data(r,"dnd").connectWith.length;n++)$($.data(r,"dnd").connectWith[n]).jqGrid("delRowData","jqg_empty_row");t.onstop&&$.isFunction(t.onstop)&&t.onstop.call($(r),e,i)}},t.drag_opts||{})},drop:function(t){return $.extend({accept:function(t){if(!$(t).hasClass("jqgrow"))return t;o=$(t).closest("table.ui-jqgrid-btable");var e=$(this).find("table.ui-jqgrid-btable:first")[0];if(o.length>0&&void 0!==$.data(o[0],"dnd")){var i=$.data(o[0],"dnd").connectWith;return-1!==$.inArray("#"+$.jgrid.jqID(e.id),i)}return!1},drop:function(e,i){if($(i.draggable).hasClass("jqgrow")){var n,r=$(i.draggable).attr("id"),s=i.draggable.parent().parent().jqGrid("getRowData",r),a=[],l=$(this).find("table.ui-jqgrid-btable:first")[0];if($.isPlainObject(s)&&(a=Object.keys(s)),!t.dropbyname){var c,u,d={},h=0,p=$("#"+$.jgrid.jqID(l.id)).jqGrid("getGridParam","colModel");try{for(c=0;c<p.length;c++)"cb"!==(u=p[c].name)&&"rn"!==u&&"subgrid"!==u&&(void 0!==a[h]&&(d[u]=s[a[h]]),h++);s=d}catch(t){}}if(i.helper.dropped=!0,$.data(o[0],"dnd").beforedrop&&$.isFunction($.data(o[0],"dnd").beforedrop)){var f=$.data(o[0],"dnd").beforedrop.call(l,e,i,s,$(o[0]),$(l));null!=f&&"object"==typeof f&&(s=f)}if(i.helper.dropped)t.autoid&&($.isFunction(t.autoid)?n=t.autoid.call(l,s):(n=Math.ceil(1e3*Math.random()),n=t.autoidprefix+n)),
$("#"+$.jgrid.jqID(l.id)).jqGrid("addRowData",n,s,t.droppos);t.ondrop&&$.isFunction(t.ondrop)&&t.ondrop.call(l,e,i,s)}}},t.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{activeClass:"ui-state-active",hoverClass:"ui-state-hover",tolerance:"intersect"},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5e3},dragcopy:!1,dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},t||{}),t.connectWith)for(t.connectWith=t.connectWith.split(","),t.connectWith=$.map(t.connectWith,(function(t){return $.trim(t)})),$.data(r,"dnd",t),0===r.p.reccount||r.p.jqgdnd||e(),r.p.jqgdnd=!0,i=0;i<t.connectWith.length;i++)n=t.connectWith[i],$(n).closest(".ui-jqgrid-bdiv").droppable($.isFunction(t.drop)?t.drop.call($(r),t):t.drop)}}))},gridResize:function(opts){return this.each((function(){var $t=this,gID=$.jgrid.jqID($t.p.id),req;if($t.grid&&$.fn.resizable){if(opts=$.extend({},opts||{}),opts.alsoResize?(opts._alsoResize_=opts.alsoResize,delete opts.alsoResize):opts._alsoResize_=!1,opts.stop&&$.isFunction(opts.stop)?(opts._stop_=opts.stop,delete opts.stop):opts._stop_=!1,opts.stop=function(t,e){$($t).jqGrid("setGridParam",{height:$("#gview_"+gID+" .ui-jqgrid-bdiv").height()}),$($t).jqGrid("setGridWidth",e.size.width,opts.shrinkToFit),opts._stop_&&opts._stop_.call($t,t,e),$t.p.caption&&$("#gbox_"+gID).css({height:"auto"}),$t.p.frozenColumns&&(req&&clearTimeout(req),req=setTimeout((function(){req&&clearTimeout(req),$("#"+gID).jqGrid("destroyFrozenColumns"),$("#"+gID).jqGrid("setFrozenColumns")})))},opts._alsoResize_){var optstest="{'#gview_"+gID+" .ui-jqgrid-bdiv':true,'"+opts._alsoResize_+"':true}";opts.alsoResize=eval("("+optstest+")")}else opts.alsoResize=$(".ui-jqgrid-bdiv","#gview_"+gID);delete opts._alsoResize_,$("#gbox_"+gID).resizable(opts)}}))}}),$.assocArraySize=function(t){var e,i=0;for(e in t)t.hasOwnProperty(e)&&i++;return i},$.jgrid.extend({pivotSetup:function(t,e){var i=[],n=[],r=[],o=[],s=[],a={grouping:!0,groupingView:{groupField:[],groupSummary:[],groupSummaryPos:[]}},l=[],c=$.extend({rowTotals:!1,rowTotalsText:"Total",colTotals:!1,groupSummary:!0,groupSummaryPos:"header",frozenStaticCols:!1},e||{});return this.each((function(){function e(t,e,i){var n;return(n=_pivotfilter.call(t,e,i)).length>0?n[0]:null}function u(t,e){var i,n=0,r=!0;for(i in t)if(t.hasOwnProperty(i)){if(t[i]!=this[n]){r=!1;break}if(++n>=this.length)break}return r&&(g=e),r}function d(t,e,i,n,r){var o;if($.isFunction(t))o=t.call(C,e,i,n);else switch(t){case"sum":o=parseFloat(e||0)+parseFloat(n[i]||0);break;case"count":""!==e&&null!=e||(e=0),o=n.hasOwnProperty(i)?e+1:0;break;case"min":o=""===e||null==e?parseFloat(n[i]||0):Math.min(parseFloat(e),parseFloat(n[i]||0));break;case"max":o=""===e||null==e?parseFloat(n[i]||0):Math.max(parseFloat(e),parseFloat(n[i]||0));break;case"avg":o=(parseFloat(e||0)*(r-1)+parseFloat(n[i]||0))/r}return o}function h(t,e,i,r){var a,l,c,u,h,p,f=e.length,m="",v=[],y=1;for($.isArray(i)?(u=i.length,v=i):(u=1,v[0]=i),s=[],(o=[]).root=0,c=0;c<u;c++){var b,_=[];for(a=0;a<f;a++){if(h="string"==typeof e[a].aggregator?e[a].aggregator:"cust",null==i)b=l=$.trim(e[a].member)+"_"+h,v[0]=e[a].label||h+" "+$.trim(e[a].member);else{b=i[c].replace(/\s+/g,"");try{l=1===f?m+b:m+b+"_"+h+"_"+String(a)}catch(t){}v[c]=i[c]}l=isNaN(parseInt(l,10))?l:l+" ","avg"===e[a].aggregator&&(p=-1===g?n.length+"_"+l:g+"_"+l,D[p]?D[p]++:D[p]=1,y=D[p]),r[l]=_[l]=d(e[a].aggregator,r[l],e[a].member,t,y)}m+=i&&null!=i[c]?i[c].replace(/\s+/g,""):"",o[l]=_,s[l]=v[c]}return r}function p(t){var e,n,r,o,s;for(r in t)if(t.hasOwnProperty(r)){if("object"!=typeof t[r]){if("level"===r){if(void 0===q[t.level]&&(q[t.level]="",t.level>0&&-1===t.text.indexOf("_r_Totals")&&(l[t.level-1]={useColSpanStyle:!1,groupHeaders:[]})),q[t.level]!==t.text&&t.children.length&&-1===t.text.indexOf("_r_Totals")&&t.level>0){l[t.level-1].groupHeaders.push({titleText:t.label,numberOfColumns:0});var a=l[t.level-1].groupHeaders.length-1,u=0===a?z:L;if(t.level-1==(c.rowTotals?1:0)&&a>0){for(var d=0,h=0;h<a;h++)d+=l[t.level-1].groupHeaders[h].numberOfColumns;d&&(u=d+v)}i[u]&&(l[t.level-1].groupHeaders[a].startColumnName=i[u].name,l[t.level-1].groupHeaders[a].numberOfColumns=i.length-u),L=i.length}q[t.level]=t.text}if(t.level===y&&"level"===r&&y>0)if(b>1){var f=1;for(e in t.fields)t.fields.hasOwnProperty(e)&&(1===f&&l[y-1].groupHeaders.push({startColumnName:e,numberOfColumns:1,titleText:t.label||t.text}),f++);l[y-1].groupHeaders[l[y-1].groupHeaders.length-1].numberOfColumns=f-1}else l.splice(y-1,1)}if(null!=t[r]&&"object"==typeof t[r]&&p(t[r]),"level"===r&&t.level>0&&(t.level===(0===y?t.level:y)||-1!==q[t.level].indexOf("_r_Totals")))for(e in n=0,t.fields)if(t.fields.hasOwnProperty(e)){for(o in s={},c.aggregates[n])if(c.aggregates[n].hasOwnProperty(o))switch(o){case"member":case"label":case"aggregator":break;default:s[o]=c.aggregates[n][o]}b>1?(s.name=e,s.label=c.aggregates[n].label||t.label):(s.name=t.text,s.label="_r_Totals"===t.text?c.rowTotalsText:t.label),i.push(s),n++}}}var f,g,m,v,y,b,_,w,x,C=this,k=t.length,S=0;if(c.rowTotals&&c.yDimension.length>0){var j=c.yDimension[0].dataName;c.yDimension.splice(0,0,{dataName:j}),c.yDimension[0].converter=function(){return"_r_Totals"}}if(v=$.isArray(c.xDimension)?c.xDimension.length:0,y=c.yDimension.length,b=$.isArray(c.aggregates)?c.aggregates.length:0,0===v||0===b)throw"xDimension or aggregates optiona are not set!";for(m=0;m<v;m++)x={name:c.xDimension[m].dataName,frozen:c.frozenStaticCols},null==c.xDimension[m].isGroupField&&(c.xDimension[m].isGroupField=!0),x=$.extend(!0,x,c.xDimension[m]),i.push(x);for(var T=v-1,A={},D=[];S<k;){f=t[S];var I=[],E=[];_={},m=0;do{I[m]=$.trim(f[c.xDimension[m].dataName]),_[c.xDimension[m].dataName]=I[m],m++}while(m<v);var P=0;if(g=-1,w=e(n,u,I)){if(g>=0){if(P=0,y>=1){for(P=0;P<y;P++)E[P]=$.trim(f[c.yDimension[P].dataName]),c.yDimension[P].converter&&$.isFunction(c.yDimension[P].converter)&&(E[P]=c.yDimension[P].converter.call(this,E[P],I,E));w=h(f,c.aggregates,E,w)}else 0===y&&(w=h(f,c.aggregates,null,w));n[g]=w}}else{if(P=0,y>=1){for(P=0;P<y;P++)E[P]=$.trim(f[c.yDimension[P].dataName]),c.yDimension[P].converter&&$.isFunction(c.yDimension[P].converter)&&(E[P]=c.yDimension[P].converter.call(this,E[P],I,E));_=h(f,c.aggregates,E,_)}else 0===y&&(_=h(f,c.aggregates,null,_));n.push(_)}var O,F=0,M=null,R=null;for(O in o)if(o.hasOwnProperty(O)){if(0===F)A.children&&void 0!==A.children||(A={text:O,level:0,children:[],label:O}),M=A.children;else{for(R=null,m=0;m<M.length;m++)if(M[m].text===O){R=M[m];break}R?M=R.children:(M.push({children:[],text:O,level:F,fields:o[O],label:s[O]}),M=M[M.length-1].children)}F++}S++}D=null;var N,q=[],L=i.length,z=L;if(y>0&&(l[y-1]={useColSpanStyle:!1,groupHeaders:[]}),p(A),c.colTotals)for(var H=n.length;H--;)for(m=v;m<i.length;m++)N=i[m].name,r[N]?r[N]+=parseFloat(n[H][N]||0):r[N]=parseFloat(n[H][N]||0);if(T>0)for(m=0;m<T;m++)i[m].isGroupField&&(a.groupingView.groupField.push(i[m].name),a.groupingView.groupSummary.push(c.groupSummary),a.groupingView.groupSummaryPos.push(c.groupSummaryPos));else a.grouping=!1;a.sortname=i[T].name,a.groupingView.hideFirstGroupCol=!0})),{colModel:i,rows:n,groupOptions:a,groupHeaders:l,summary:r}},jqPivot:function(t,e,i,n){return this.each((function(){function r(t){$.isFunction(e.onInitPivot)&&e.onInitPivot.call(o),$.isArray(t)||(t=[]);var n,r,s,a,l=jQuery(o).jqGrid("pivotSetup",t,e),c=$.assocArraySize(l.summary)>0,u=$.jgrid.from.call(o,l.rows);for(e.ignoreCase&&(u=u.ignoreCase()),n=0;n<l.groupOptions.groupingView.groupField.length;n++)r=e.xDimension[n].sortorder?e.xDimension[n].sortorder:"asc",s=e.xDimension[n].sorttype?e.xDimension[n].sorttype:"text",u.orderBy(l.groupOptions.groupingView.groupField[n],r,s,"",s);if(a=e.xDimension.length,i.sortname){for(r=i.sortorder?i.sortorder:"asc",s="text",n=0;n<a;n++)if(e.xDimension[n].dataName===i.sortname){s=e.xDimension[n].sorttype?e.xDimension[n].sorttype:"text";break}u.orderBy(i.sortname,r,s,"",s)}else l.groupOptions.sortname&&a&&(r=e.xDimension[a-1].sortorder?e.xDimension[a-1].sortorder:"asc",s=e.xDimension[a-1].sorttype?e.xDimension[a-1].sorttype:"text",u.orderBy(l.groupOptions.sortname,r,s,"",s));jQuery(o).jqGrid($.extend(!0,{datastr:$.extend(u.select(),c?{userdata:l.summary}:{}),datatype:"jsonstring",footerrow:c,userDataOnFooter:c,colModel:l.colModel,viewrecords:!0,sortname:e.xDimension[0].dataName},l.groupOptions,i||{}));var d=l.groupHeaders;if(d.length)for(n=0;n<d.length;n++)d[n]&&d[n].groupHeaders.length&&jQuery(o).jqGrid("setGroupHeaders",d[n]);e.frozenStaticCols&&jQuery(o).jqGrid("setFrozenColumns"),$.isFunction(e.onCompletePivot)&&e.onCompletePivot.call(o),e.loadMsg&&$(".loading_pivot").remove()}var o=this,s=i.regional?i.regional:"en";void 0===e.loadMsg&&(e.loadMsg=!0),e.loadMsg&&$("<div class='loading_pivot ui-state-default ui-state-active row'>"+$.jgrid.getRegional(o,"regional."+s+".defaults.loadtext")+"</div>").insertBefore(o).show(),"string"==typeof t?$.ajax($.extend({url:t,dataType:"json",success:function(t){r($.jgrid.getAccessor(t,n&&n.reader?n.reader:"rows"))}},n||{})):r(t)}))}}),$.jgrid.extend({setSubGrid:function(){return this.each((function(){var t,e,i=this,n=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].subgrid,r={plusicon:n.icon_plus,minusicon:n.icon_minus,openicon:n.icon_open,expandOnLoad:!1,selectOnExpand:!1,selectOnCollapse:!1,reloadOnExpand:!0};if(i.p.subGridOptions=$.extend(r,i.p.subGridOptions||{}),i.p.colNames.unshift(""),i.p.colModel.unshift({name:"subgrid",width:$.jgrid.cell_width?i.p.subGridWidth+i.p.cellLayout:i.p.subGridWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,fixed:!0}),(t=i.p.subGridModel)[0])for(t[0].align=$.extend([],t[0].align||[]),e=0;e<t[0].name.length;e++)t[0].align[e]=t[0].align[e]||"left"}))},addSubGridCell:function(t,e){var i,n,r,o="";return this.each((function(){o=this.formatCol(t,e),n=this.p.id,i=this.p.subGridOptions.plusicon,r=$.jgrid.styleUI[this.p.styleUI||"jQueryUI"].common})),'<td role="gridcell" aria-describedby="'+n+'_subgrid" class="ui-sgcollapsed sgcollapsed" '+o+"><a style='cursor:pointer;' class='ui-sghref'><span class='"+r.icon_base+" "+i+"'></span></a></td>"},addSubGrid:function(t,e){return this.each((function(){var i=this;if(i.grid){var n,r,o,s,a,l=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].base,c=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].common,u=function(t,e,n){var r=$("<td align='"+i.p.subGridModel[0].align[n]+"'></td>").html(e);$(t).append(r)},d=function(t,e){var n,r,o,s=$("<table class='"+l.rowTable+" ui-common-table'><tbody></tbody></table>"),a=$("<tr></tr>");for(r=0;r<i.p.subGridModel[0].name.length;r++)n=$("<th class='"+l.headerBox+" ui-th-subgrid ui-th-column ui-th-"+i.p.direction+"'></th>"),$(n).html(i.p.subGridModel[0].name[r]),$(n).width(i.p.subGridModel[0].width[r]),$(a).append(n);$(s).append(a),t&&(o=i.p.xmlReader.subgrid,$(o.root+" "+o.row,t).each((function(){if(a=$("<tr class='"+c.content+" ui-subtblcell'></tr>"),!0===o.repeatitems)$(o.cell,this).each((function(t){u(a,$(this).text()||"&#160;",t)}));else{var t=i.p.subGridModel[0].mapping||i.p.subGridModel[0].name;if(t)for(r=0;r<t.length;r++)u(a,$.jgrid.getXmlData(this,t[r])||"&#160;",r)}$(s).append(a)})));var d=$("table:first",i.grid.bDiv).attr("id")+"_";return $("#"+$.jgrid.jqID(d+e)).append(s),i.grid.hDiv.loading=!1,$("#load_"+$.jgrid.jqID(i.p.id)).hide(),!1},h=function(t,e){var n,r,o,s,a,d,h=$("<table class='"+l.rowTable+" ui-common-table'><tbody></tbody></table>"),p=$("<tr></tr>");for(o=0;o<i.p.subGridModel[0].name.length;o++)n=$("<th class='"+l.headerBox+" ui-th-subgrid ui-th-column ui-th-"+i.p.direction+"'></th>"),$(n).html(i.p.subGridModel[0].name[o]),$(n).width(i.p.subGridModel[0].width[o]),$(p).append(n);if($(h).append(p),t&&(a=i.p.jsonReader.subgrid,void 0!==(r=$.jgrid.getAccessor(t,a.root))))for(o=0;o<r.length;o++){if(s=r[o],p=$("<tr class='"+c.content+" ui-subtblcell'></tr>"),!0===a.repeatitems)for(a.cell&&(s=s[a.cell]),d=0;d<s.length;d++)u(p,s[d]||"&#160;",d);else{var f=i.p.subGridModel[0].mapping||i.p.subGridModel[0].name;if(f.length)for(d=0;d<f.length;d++)u(p,$.jgrid.getAccessor(s,f[d])||"&#160;",d)}$(h).append(p)}var g=$("table:first",i.grid.bDiv).attr("id")+"_";return $("#"+$.jgrid.jqID(g+e)).append(h),i.grid.hDiv.loading=!1,$("#load_"+$.jgrid.jqID(i.p.id)).hide(),!1},p=function(t){var e,n,r,o;if(e=$(t).attr("id"),(n={nd_:(new Date).getTime()})[i.p.prmNames.subgridid]=e,!i.p.subGridModel[0])return!1;if(i.p.subGridModel[0].params)for(o=0;o<i.p.subGridModel[0].params.length;o++)for(r=0;r<i.p.colModel.length;r++)i.p.colModel[r].name===i.p.subGridModel[0].params[o]&&(n[i.p.colModel[r].name]=$("td:eq("+r+")",t).text().replace(/\&#160\;/gi,""));if(!i.grid.hDiv.loading)switch(i.grid.hDiv.loading=!0,$("#load_"+$.jgrid.jqID(i.p.id)).show(),i.p.subgridtype||(i.p.subgridtype=i.p.datatype),$.isFunction(i.p.subgridtype)?i.p.subgridtype.call(i,n):i.p.subgridtype=i.p.subgridtype.toLowerCase(),i.p.subgridtype){case"xml":case"json":$.ajax($.extend({type:i.p.mtype,url:$.isFunction(i.p.subGridUrl)?i.p.subGridUrl.call(i,n):i.p.subGridUrl,dataType:i.p.subgridtype,data:$.isFunction(i.p.serializeSubGridData)?i.p.serializeSubGridData.call(i,n):n,complete:function(t){"xml"===i.p.subgridtype?d(t.responseXML,e):h($.jgrid.parse(t.responseText),e),t=null}},$.jgrid.ajaxOptions,i.p.ajaxSubgridOptions||{}))}return!1},f=0;$.each(i.p.colModel,(function(){!0!==this.hidden&&"rn"!==this.name&&"cb"!==this.name||f++}));var g,m=i.rows.length,v=1,y=$.isFunction(i.p.isHasSubGrid);for(void 0!==e&&e>0&&(v=e,m=e+1);v<m;)$(i.rows[v]).hasClass("jqgrow")&&(i.p.scroll&&$(i.rows[v].cells[t]).off("click"),g=null,y&&(g=i.p.isHasSubGrid.call(i,i.rows[v].id)),!1===g?i.rows[v].cells[t].innerHTML="":$(i.rows[v].cells[t]).on("click",(function(){var e=$(this).parent("tr")[0];if(r=i.p.id,n=e.id,a=$("#"+r+"_"+n+"_expandedContent"),$(this).hasClass("sgcollapsed")){if((s=!1!==(s=$(i).triggerHandler("jqGridSubGridBeforeExpand",[r+"_"+n,n]))&&"stop"!==s)&&$.isFunction(i.p.subGridBeforeExpand)&&(s=i.p.subGridBeforeExpand.call(i,r+"_"+n,n)),!1===s)return!1;!0===i.p.subGridOptions.reloadOnExpand||!1===i.p.subGridOptions.reloadOnExpand&&!a.hasClass("ui-subgrid")?(o=t>=1?"<td colspan='"+t+"'>&#160;</td>":"",$(e).after("<tr role='row' id='"+r+"_"+n+"_expandedContent' class='ui-subgrid ui-sg-expanded'>"+o+"<td class='"+c.content+" subgrid-cell'><span class='"+c.icon_base+" "+i.p.subGridOptions.openicon+"'></span></td><td colspan='"+parseInt(i.p.colNames.length-1-f,10)+"' class='"+c.content+" subgrid-data'><div id="+r+"_"+n+" class='tablediv'></div></td></tr>"),$(i).triggerHandler("jqGridSubGridRowExpanded",[r+"_"+n,n]),$.isFunction(i.p.subGridRowExpanded)?i.p.subGridRowExpanded.call(i,r+"_"+n,n):p(e)):a.show().removeClass("ui-sg-collapsed").addClass("ui-sg-expanded"),$(this).html("<a style='cursor:pointer;' class='ui-sghref'><span class='"+c.icon_base+" "+i.p.subGridOptions.minusicon+"'></span></a>").removeClass("sgcollapsed").addClass("sgexpanded"),i.p.subGridOptions.selectOnExpand&&$(i).jqGrid("setSelection",n)}else if($(this).hasClass("sgexpanded")){if((s=!1!==(s=$(i).triggerHandler("jqGridSubGridRowColapsed",[r+"_"+n,n]))&&"stop"!==s)&&$.isFunction(i.p.subGridRowColapsed)&&(s=i.p.subGridRowColapsed.call(i,r+"_"+n,n)),!1===s)return!1;!0===i.p.subGridOptions.reloadOnExpand?a.remove(".ui-subgrid"):a.hasClass("ui-subgrid")&&a.hide().addClass("ui-sg-collapsed").removeClass("ui-sg-expanded"),$(this).html("<a style='cursor:pointer;' class='ui-sghref'><span class='"+c.icon_base+" "+i.p.subGridOptions.plusicon+"'></span></a>").removeClass("sgexpanded").addClass("sgcollapsed"),i.p.subGridOptions.selectOnCollapse&&$(i).jqGrid("setSelection",n)}return!1}))),v++;if(!0===i.p.subGridOptions.expandOnLoad){var b=0;i.p.multiselect&&b++,i.p.rownumbers&&b++,$(i.rows).filter(".jqgrow").each((function(t,e){$(e.cells[b]).click()}))}i.subGridXml=function(t,e){d(t,e)},i.subGridJson=function(t,e){h(t,e)}}}))},expandSubGridRow:function(t){return this.each((function(){var e=this;if((e.grid||t)&&!0===e.p.subGrid){var i=$(this).jqGrid("getInd",t,!0);if(i){var n=$("td.sgcollapsed",i)[0];n&&$(n).trigger("click")}}}))},collapseSubGridRow:function(t){return this.each((function(){var e=this;if((e.grid||t)&&!0===e.p.subGrid){var i=$(this).jqGrid("getInd",t,!0);if(i){var n=$("td.sgexpanded",i)[0];n&&$(n).trigger("click")}}}))},toggleSubGridRow:function(t){return this.each((function(){var e=this;if((e.grid||t)&&!0===e.p.subGrid){var i=$(this).jqGrid("getInd",t,!0);if(i){var n=$("td.sgcollapsed",i)[0];(n||(n=$("td.sgexpanded",i)[0]))&&$(n).trigger("click")}}}))}}),$.jgrid.extend({setTreeNode:function(t,e){return this.each((function(){var i=this;if(i.grid&&i.p.treeGrid){var n,r,o,s,a,l,c,u,d=i.p.expColInd,h=i.p.treeReader.expanded_field,p=i.p.treeReader.leaf_field,f=i.p.treeReader.level_field,g=i.p.treeReader.icon_field,m=i.p.treeReader.loaded,v=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].common,y=t;for($(i).triggerHandler("jqGridBeforeSetTreeNode",[y,e]),$.isFunction(i.p.beforeSetTreeNode)&&i.p.beforeSetTreeNode.call(i,y,e);t<e;){var b=$.jgrid.stripPref(i.p.idPrefix,i.rows[t].id),_=i.p._index[b];c=i.p.data[_],"nested"===i.p.treeGridModel&&(c[p]||(n=parseInt(c[i.p.treeReader.left_field],10),r=parseInt(c[i.p.treeReader.right_field],10),c[p]=r===n+1?"true":"false",i.rows[t].cells[i.p._treeleafpos].innerHTML=c[p])),o=parseInt(c[f],10),0===i.p.tree_root_level?(s=o+1,a=o):(s=o,a=o-1),l="<div class='tree-wrap tree-wrap-"+i.p.direction+"' style='width:"+18*s+"px;'>",l+="<div style='"+("rtl"===i.p.direction?"right:":"left:")+18*a+"px;' class='"+v.icon_base+" ",void 0!==c[m]&&("true"===c[m]||!0===c[m]?c[m]=!0:c[m]=!1),"true"===c[p]||!0===c[p]?(l+=(void 0!==c[g]&&""!==c[g]?c[g]:i.p.treeIcons.leaf)+" tree-leaf treeclick",c[p]=!0,u="leaf"):(c[p]=!1,u=""),c[h]=("true"===c[h]||!0===c[h])&&(c[m]||void 0===c[m]),!1===c[h]?l+=!0===c[p]?"'":i.p.treeIcons.plus+" tree-plus treeclick'":l+=!0===c[p]?"'":i.p.treeIcons.minus+" tree-minus treeclick'",l+="></div></div>",$(i.rows[t].cells[d]).wrapInner("<span class='cell-wrapper"+u+"'></span>").prepend(l),o!==parseInt(i.p.tree_root_level,10)&&($(i).jqGrid("isVisibleNode",c)||$(i.rows[t]).css("display","none")),$(i.rows[t].cells[d]).find("div.treeclick").on("click",(function(t){var e=t.target||t.srcElement,n=$.jgrid.stripPref(i.p.idPrefix,$(e,i.rows).closest("tr.jqgrow")[0].id),r=i.p._index[n];return i.p.data[r][p]||(i.p.data[r][h]?($(i).jqGrid("collapseRow",i.p.data[r]),$(i).jqGrid("collapseNode",i.p.data[r])):($(i).jqGrid("expandRow",i.p.data[r]),$(i).jqGrid("expandNode",i.p.data[r]))),!1})),!0===i.p.ExpandColClick&&$(i.rows[t].cells[d]).find("span.cell-wrapper").css("cursor","pointer").on("click",(function(t){var e=t.target||t.srcElement,n=$.jgrid.stripPref(i.p.idPrefix,$(e,i.rows).closest("tr.jqgrow")[0].id),r=i.p._index[n];return i.p.data[r][p]||(i.p.data[r][h]?($(i).jqGrid("collapseRow",i.p.data[r]),$(i).jqGrid("collapseNode",i.p.data[r])):($(i).jqGrid("expandRow",i.p.data[r]),$(i).jqGrid("expandNode",i.p.data[r]))),$(i).jqGrid("setSelection",n),!1})),t++}$(i).triggerHandler("jqGridAfterSetTreeNode",[y,e]),$.isFunction(i.p.afterSetTreeNode)&&i.p.afterSetTreeNode.call(i,y,e)}}))},setTreeGrid:function(){return this.each((function(){var t,e,i,n,r=this,o=0,s=!1,a=[],l=$.jgrid.styleUI[r.p.styleUI||"jQueryUI"].treegrid;if(r.p.treeGrid){for(i in r.p.treedatatype||$.extend(r.p,{treedatatype:r.p.datatype}),r.p.loadonce&&(r.p.treedatatype="local"),r.p.subGrid=!1,r.p.altRows=!1,r.p.treeGrid_bigData||(r.p.pgbuttons=!1,r.p.pginput=!1,r.p.rowList=[]),r.p.gridview=!0,null!==r.p.rowTotal||r.p.treeGrid_bigData||(r.p.rowNum=1e4),r.p.multiselect=!1,r.p.expColInd=0,t=l.icon_plus,"jQueryUI"===r.p.styleUI&&(t+="rtl"===r.p.direction?"w":"e"),r.p.treeIcons=$.extend({plus:t,minus:l.icon_minus,leaf:l.icon_leaf},r.p.treeIcons||{}),"nested"===r.p.treeGridModel?r.p.treeReader=$.extend({level_field:"level",left_field:"lft",right_field:"rgt",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},r.p.treeReader):"adjacency"===r.p.treeGridModel&&(r.p.treeReader=$.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},r.p.treeReader)),r.p.colModel)if(r.p.colModel.hasOwnProperty(i))for(n in(e=r.p.colModel[i].name)!==r.p.ExpandColumn||s||(s=!0,r.p.expColInd=o),o++,r.p.treeReader)r.p.treeReader.hasOwnProperty(n)&&r.p.treeReader[n]===e&&a.push(e);$.each(r.p.treeReader,(function(t,e){e&&-1===$.inArray(e,a)&&("leaf_field"===t&&(r.p._treeleafpos=o),o++,r.p.colNames.push(e),r.p.colModel.push({name:e,width:1,hidden:!0,sortable:!1,resizable:!1,hidedlg:!0,editable:!0,search:!1}))}))}}))},expandRow:function(t){this.each((function(){var e=this;if(!e.p.treeGrid_bigData)var i=e.p.lastpage;if(e.grid&&e.p.treeGrid){var n=$(e).jqGrid("getNodeChildren",t),r=e.p.treeReader.expanded_field,o=t[e.p.localReader.id],s=$(e).triggerHandler("jqGridBeforeExpandTreeGridRow",[o,t,n]);void 0===s&&(s=!0),s&&$.isFunction(e.p.beforeExpandTreeGridRow)&&(s=e.p.beforeExpandTreeGridRow.call(e,o,t,n)),!1!==s&&($(n).each((function(){var t=e.p.idPrefix+$.jgrid.getAccessor(this,e.p.localReader.id);$($(e).jqGrid("getGridRowById",t)).css("display",""),this[r]&&$(e).jqGrid("expandRow",this)})),$(e).triggerHandler("jqGridAfterExpandTreeGridRow",[o,t,n]),$.isFunction(e.p.afterExpandTreeGridRow)&&e.p.afterExpandTreeGridRow.call(e,o,t,n),e.p.treeGrid_bigData||(e.p.lastpage=i))}}))},collapseRow:function(t){this.each((function(){var e=this;if(e.grid&&e.p.treeGrid){var i=$(e).jqGrid("getNodeChildren",t),n=e.p.treeReader.expanded_field,r=t[e.p.localReader.id],o=$(e).triggerHandler("jqGridBeforeCollapseTreeGridRow",[r,t,i]);void 0===o&&(o=!0),o&&$.isFunction(e.p.beforeCollapseTreeGridRow)&&(o=e.p.beforeCollapseTreeGridRow.call(e,r,t,i)),!1!==o&&($(i).each((function(){var t=e.p.idPrefix+$.jgrid.getAccessor(this,e.p.localReader.id);$($(e).jqGrid("getGridRowById",t)).css("display","none"),this[n]&&$(e).jqGrid("collapseRow",this)})),$(e).triggerHandler("jqGridAfterCollapseTreeGridRow",[r,t,i]),$.isFunction(e.p.afterCollapseTreeGridRow)&&e.p.afterCollapseTreeGridRow.call(e,r,t,i))}}))},getRootNodes:function(t){var e=[];return this.each((function(){var i,n,r,o=this;if(o.grid&&o.p.treeGrid)switch("boolean"!=typeof t&&(t=!1),r=t?$(o).jqGrid("getRowData",null,!0):o.p.data,o.p.treeGridModel){case"nested":i=o.p.treeReader.level_field,$(r).each((function(){parseInt(this[i],10)===parseInt(o.p.tree_root_level,10)&&(t?e.push(o.p.data[o.p._index[this[o.p.keyName]]]):e.push(this))}));break;case"adjacency":n=o.p.treeReader.parent_id_field,$(r).each((function(){null!==this[n]&&"null"!==String(this[n]).toLowerCase()||(t?e.push(o.p.data[o.p._index[this[o.p.keyName]]]):e.push(this))}))}})),e},getNodeDepth:function(t){var e=null;return this.each((function(){if(this.grid&&this.p.treeGrid){var i=this;switch(i.p.treeGridModel){case"nested":var n=i.p.treeReader.level_field;e=parseInt(t[n],10)-parseInt(i.p.tree_root_level,10);break;case"adjacency":e=$(i).jqGrid("getNodeAncestors",t).length}}})),e},getNodeParent:function(t){var e=null;return this.each((function(){var i=this;if(i.grid&&i.p.treeGrid)switch(i.p.treeGridModel){case"nested":var n=i.p.treeReader.left_field,r=i.p.treeReader.right_field,o=i.p.treeReader.level_field,s=parseInt(t[n],10),a=parseInt(t[r],10),l=parseInt(t[o],10);$(this.p.data).each((function(){if(parseInt(this[o],10)===l-1&&parseInt(this[n],10)<s&&parseInt(this[r],10)>a)return e=this,!1}));break;case"adjacency":for(var c=i.p.treeReader.parent_id_field,u=i.p.localReader.id,d=t[u],h=i.p._index[d];h--;)if(String(i.p.data[h][u])===String($.jgrid.stripPref(i.p.idPrefix,t[c]))){e=i.p.data[h];break}}})),e},getNodeChildren:function(t,e){var i=[];return this.each((function(){var n=this;if(n.grid&&n.p.treeGrid){var r,o,s=e?this.rows.length:this.p.data.length;switch(n.p.treeGridModel){case"nested":var a=n.p.treeReader.left_field,l=n.p.treeReader.right_field,c=n.p.treeReader.level_field,u=parseInt(t[a],10),d=parseInt(t[l],10),h=parseInt(t[c],10);for(r=0;r<s;r++)(o=e?n.p.data[n.p._index[this.rows[r].id]]:n.p.data[r])&&parseInt(o[c],10)===h+1&&parseInt(o[a],10)>u&&parseInt(o[l],10)<d&&i.push(o);break;case"adjacency":var p=n.p.treeReader.parent_id_field,f=n.p.localReader.id;for(r=0;r<s;r++)(o=e?n.p.data[n.p._index[this.rows[r].id]]:n.p.data[r])&&String(o[p])===String($.jgrid.stripPref(n.p.idPrefix,t[f]))&&i.push(o)}}})),i},getFullTreeNode:function(t,e){var i=[];return this.each((function(){var n,r=this,o=r.p.treeReader.expanded_field;if(r.grid&&r.p.treeGrid)switch(null!=e&&"boolean"==typeof e||(e=!1),r.p.treeGridModel){case"nested":var s=r.p.treeReader.left_field,a=r.p.treeReader.right_field,l=r.p.treeReader.level_field,c=parseInt(t[s],10),u=parseInt(t[a],10),d=parseInt(t[l],10);$(this.p.data).each((function(){parseInt(this[l],10)>=d&&parseInt(this[s],10)>=c&&parseInt(this[s],10)<=u&&(e&&(this[o]=!0),i.push(this))}));break;case"adjacency":if(t){i.push(t);var h=r.p.treeReader.parent_id_field,p=r.p.localReader.id;$(this.p.data).each((function(t){for(n=i.length,t=0;t<n;t++)if(String($.jgrid.stripPref(r.p.idPrefix,i[t][p]))===String(this[h])){e&&(this[o]=!0),i.push(this);break}}))}}})),i},getNodeAncestors:function(t,e,i){var n=[];return void 0===e&&(e=!1),this.each((function(){if(this.grid&&this.p.treeGrid){i=void 0!==i&&this.p.treeReader.expanded_field;for(var r=$(this).jqGrid("getNodeParent",t);r;){if(i)try{r[i]=!0}catch(t){}e?n.unshift(r):n.push(r),r=$(this).jqGrid("getNodeParent",r)}}})),n},isVisibleNode:function(t){var e=!0;return this.each((function(){var i=this;if(i.grid&&i.p.treeGrid){var n=$(i).jqGrid("getNodeAncestors",t),r=i.p.treeReader.expanded_field;$(n).each((function(){if(!(e=e&&this[r]))return!1}))}})),e},isNodeLoaded:function(t){var e;return this.each((function(){var i=this;if(i.grid&&i.p.treeGrid){var n=i.p.treeReader.leaf_field,r=i.p.treeReader.loaded;e=void 0!==t&&(void 0!==t[r]?t[r]:!!(t[n]||$(i).jqGrid("getNodeChildren",t).length>0))}})),e},setLeaf:function(t,e,i){return this.each((function(){var n=$.jgrid.getAccessor(t,this.p.localReader.id),r=$("#"+n,this.grid.bDiv)[0],o=this.p.treeReader.leaf_field;try{var s=this.p._index[n];null!=s&&(this.p.data[s][o]=e)}catch(t){}if(!0===e)$("div.treeclick",r).removeClass(this.p.treeIcons.minus+" tree-minus "+this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.leaf+" tree-leaf");else if(!1===e){var a=this.p.treeIcons.minus+" tree-minus";i&&(a=this.p.treeIcons.plus+" tree-plus"),$("div.treeclick",r).removeClass(this.p.treeIcons.leaf+" tree-leaf").addClass(a)}}))},reloadNode:function(t,e){return this.each((function(){if(this.grid&&this.p.treeGrid){var i=this.p.localReader.id,n=this.p.selrow;$(this).jqGrid("delChildren",t[i]),void 0===e&&(e=!1),e||jQuery._data(this,"events").jqGridAfterSetTreeNode||$(this).on("jqGridAfterSetTreeNode.reloadNode",(function(){var t=this.p.treeReader.leaf_field;if(this.p.reloadnode){var e=this.p.reloadnode,i=$(this).jqGrid("getNodeChildren",e);e[t]&&i.length?$(this).jqGrid("setLeaf",e,!1):e[t]||0!==i.length||$(this).jqGrid("setLeaf",e,!0)}this.p.reloadnode=!1}));var r=this.p.treeReader.expanded_field,o=this.p.treeReader.parent_id_field,s=this.p.treeReader.loaded,a=this.p.treeReader.level_field,l=this.p.treeReader.leaf_field,c=this.p.treeReader.left_field,u=this.p.treeReader.right_field,d=$.jgrid.getAccessor(t,this.p.localReader.id),h=$("#"+d,this.grid.bDiv)[0];t[r]=!0,t[l]||$("div.treeclick",h).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus"),this.p.treeANode=h.rowIndex,this.p.datatype=this.p.treedatatype,this.p.reloadnode=t,e&&(this.p.treeANode=h.rowIndex>0?h.rowIndex-1:1,$(this).jqGrid("delRowData",d)),"nested"===this.p.treeGridModel?$(this).jqGrid("setGridParam",{postData:{nodeid:d,n_left:t[c],n_right:t[u],n_level:t[a]}}):$(this).jqGrid("setGridParam",{postData:{nodeid:d,parentid:t[o],n_level:t[a]}}),$(this).trigger("reloadGrid"),t[s]=!0,"nested"===this.p.treeGridModel?$(this).jqGrid("setGridParam",{selrow:n,postData:{nodeid:"",n_left:"",n_right:"",n_level:""}}):$(this).jqGrid("setGridParam",{selrow:n,postData:{nodeid:"",parentid:"",n_level:""}})}}))},expandNode:function(t){return this.each((function(){if(this.grid&&this.p.treeGrid){var e=this,i=this.p.treeReader.expanded_field,n=this.p.treeReader.parent_id_field,r=this.p.treeReader.loaded,o=this.p.treeReader.level_field,s=this.p.treeReader.left_field,a=this.p.treeReader.right_field;if(!t[i]){var l=$.jgrid.getAccessor(t,this.p.localReader.id),c=$("#"+this.p.idPrefix+$.jgrid.jqID(l),this.grid.bDiv)[0],u=this.p._index[l],d=$(e).triggerHandler("jqGridBeforeExpandTreeGridNode",[l,t]);if(void 0===d&&(d=!0),d&&$.isFunction(this.p.beforeExpandTreeGridNode)&&(d=this.p.beforeExpandTreeGridNode.call(this,l,t)),!1===d)return;$(this).jqGrid("isNodeLoaded",this.p.data[u])?(t[i]=!0,$("div.treeclick",c).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus")):this.grid.hDiv.loading||(t[i]=!0,$("div.treeclick",c).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus"),this.p.treeANode=c.rowIndex,this.p.datatype=this.p.treedatatype,"nested"===this.p.treeGridModel?$(this).jqGrid("setGridParam",{postData:{nodeid:l,n_left:t[s],n_right:t[a],n_level:t[o]}}):$(this).jqGrid("setGridParam",{postData:{nodeid:l,parentid:t[n],n_level:t[o]}}),$(this).trigger("reloadGrid"),t[r]=!0,"nested"===this.p.treeGridModel?$(this).jqGrid("setGridParam",{postData:{nodeid:"",n_left:"",n_right:"",n_level:""}}):$(this).jqGrid("setGridParam",{postData:{nodeid:"",parentid:"",n_level:""}})),$(e).triggerHandler("jqGridAfterExpandTreeGridNode",[l,t]),$.isFunction(this.p.afterExpandTreeGridNode)&&this.p.afterExpandTreeGridNode.call(this,l,t)}}}))},collapseNode:function(t){return this.each((function(){if(this.grid&&this.p.treeGrid){var e=this.p.treeReader.expanded_field,i=this;if(t[e]){var n=$.jgrid.getAccessor(t,this.p.localReader.id),r=$("#"+this.p.idPrefix+$.jgrid.jqID(n),this.grid.bDiv)[0],o=$(i).triggerHandler("jqGridBeforeCollapseTreeGridNode",[n,t]);if(void 0===o&&(o=!0),o&&$.isFunction(this.p.beforeCollapseTreeGridNode)&&(o=this.p.beforeCollapseTreeGridNode.call(this,n,t)),t[e]=!1,!1===o)return;$("div.treeclick",r).removeClass(this.p.treeIcons.minus+" tree-minus").addClass(this.p.treeIcons.plus+" tree-plus"),$(i).triggerHandler("jqGridAfterCollapseTreeGridNode",[n,t]),$.isFunction(this.p.afterCollapseTreeGridNode)&&this.p.afterCollapseTreeGridNode.call(this,n,t)}}}))},SortTree:function(t,e,i,n){return this.each((function(){if(this.grid&&this.p.treeGrid){var r,o,s,a,l,c=[],u=this,d=$(this).jqGrid("getRootNodes",u.p.search);for((a=$.jgrid.from.call(this,d)).orderBy(t,e,i,n),r=0,o=(l=a.select()).length;r<o;r++)s=l[r],c.push(s),$(this).jqGrid("collectChildrenSortTree",c,s,t,e,i,n);$.each(c,(function(t){var e=$.jgrid.getAccessor(this,u.p.localReader.id);$("#"+$.jgrid.jqID(u.p.id)+" tbody tr:eq("+t+")").after($("tr#"+$.jgrid.jqID(e),u.grid.bDiv))})),a=null,l=null,c=null}}))},searchTree:function(t){var e,i,n,r,o,s,a=t.length||0,l=[],c=[],u=[];return this.each((function(){if(this.grid&&this.p.treeGrid&&a)for(e=this.p.localReader.id;a--;)if((l=$(this).jqGrid("getNodeAncestors",t[a],!0,!0)).push(t[a]),i=l[0][e],-1===$.inArray(i,c))c.push(i),u=u.concat(l);else for(o=0,n=l.length;o<n;o++){var d=!1;for(s=0,r=u.length;s<r;s++)if(l[o][e]===u[s][e]){d=!0;break}d||u.push(l[o])}})),u},collectChildrenSortTree:function(t,e,i,n,r,o){return this.each((function(){var s,a,l,c,u,d;if(this.grid&&this.p.treeGrid)for(c=$(this).jqGrid("getNodeChildren",e,this.p.search),(u=$.jgrid.from.call(this,c)).orderBy(i,n,r,o),s=0,a=(d=u.select()).length;s<a;s++)l=d[s],t.push(l),$(this).jqGrid("collectChildrenSortTree",t,l,i,n,r,o)}))},setTreeRow:function(t,e){var i=!1;return this.each((function(){var n=this;n.grid&&n.p.treeGrid&&(i=$(n).jqGrid("setRowData",t,e))})),i},delTreeNode:function(t){return this.each((function(){var e,i,n,r,o,s=this,a=s.p.localReader.id,l=s.p.treeReader.left_field,c=s.p.treeReader.right_field;if(s.grid&&s.p.treeGrid){var u=s.p._index[t];if(void 0!==u){n=(i=parseInt(s.p.data[u][c],10))-parseInt(s.p.data[u][l],10)+1;var d=$(s).jqGrid("getFullTreeNode",s.p.data[u]);if(d.length>0)for(e=0;e<d.length;e++)$(s).jqGrid("delRowData",d[e][a]);if("nested"===s.p.treeGridModel){if((r=$.jgrid.from.call(s,s.p.data).greater(l,i,{stype:"integer"}).select()).length)for(o in r)r.hasOwnProperty(o)&&(r[o][l]=parseInt(r[o][l],10)-n);if((r=$.jgrid.from.call(s,s.p.data).greater(c,i,{stype:"integer"}).select()).length)for(o in r)r.hasOwnProperty(o)&&(r[o][c]=parseInt(r[o][c],10)-n)}}}}))},delChildren:function(t){return this.each((function(){var e,i,n,r,o=this,s=o.p.localReader.id,a=o.p.treeReader.left_field,l=o.p.treeReader.right_field
;if(o.grid&&o.p.treeGrid){var c=o.p._index[t];if(void 0!==c){i=(e=parseInt(o.p.data[c][l],10))-parseInt(o.p.data[c][a],10)+1;var u=$(o).jqGrid("getFullTreeNode",o.p.data[c]);if(u.length>0)for(var d=0;d<u.length;d++)u[d][s]!==t&&$(o).jqGrid("delRowData",u[d][s]);if("nested"===o.p.treeGridModel){if((n=$.jgrid.from(o.p.data).greater(a,e,{stype:"integer"}).select()).length)for(r in n)n.hasOwnProperty(r)&&(n[r][a]=parseInt(n[r][a],10)-i);if((n=$.jgrid.from(o.p.data).greater(l,e,{stype:"integer"}).select()).length)for(r in n)n.hasOwnProperty(r)&&(n[r][l]=parseInt(n[r][l],10)-i)}}}}))},addChildNode:function(t,e,i,n){var r=this[0];if(i){var o,s,a,l,c,u,d,h,p=r.p.treeReader.expanded_field,f=r.p.treeReader.leaf_field,g=r.p.treeReader.level_field,m=r.p.treeReader.parent_id_field,v=r.p.treeReader.left_field,y=r.p.treeReader.right_field,b=r.p.treeReader.loaded,_=0,w=e;if(void 0===n&&(n=!1),null==t){if((c=r.p.data.length-1)>=0)for(;c>=0;)_=Math.max(_,parseInt(r.p.data[c][r.p.localReader.id],10)),c--;t=_+1}var x,C,k=$(r).jqGrid("getInd",e);if(d=!1,null==e||""===e)e=null,w=null,o="last",l=r.p.tree_root_level,c=r.p.data.length+1;else{o="after",s=r.p._index[e],e=(a=r.p.data[s])[r.p.localReader.id],l=parseInt(a[g],10)+1;var S=$(r).jqGrid("getFullTreeNode",a);S.length?(w=c=S[S.length-1][r.p.localReader.id],c=$(r).jqGrid("getInd",w)+1):c=$(r).jqGrid("getInd",e)+1,a[f]&&(d=!0,a[p]=!0,$(r.rows[k]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(r.p.treeIcons.leaf+" tree-leaf").addClass(r.p.treeIcons.minus+" tree-minus"),r.p.data[s][f]=!1,a[b]=!0)}if(u=c+1,void 0===i[p]&&(i[p]=!1),void 0===i[b]&&(i[b]=!1),i[g]=l,void 0===i[f]&&(i[f]=!0),"adjacency"===r.p.treeGridModel&&(i[m]=e),"nested"===r.p.treeGridModel)if(null!==e){if(h=parseInt(a[y],10),(x=$.jgrid.from.call(r,r.p.data).greaterOrEquals(y,h,{stype:"integer"}).select()).length)for(C in x)x.hasOwnProperty(C)&&(x[C][v]=x[C][v]>h?parseInt(x[C][v],10)+2:x[C][v],x[C][y]=x[C][y]>=h?parseInt(x[C][y],10)+2:x[C][y]);i[v]=h,i[y]=h+1}else{if(h=parseInt($(r).jqGrid("getCol",y,!1,"max"),10),(x=$.jgrid.from.call(r,r.p.data).greater(v,h,{stype:"integer"}).select()).length)for(C in x)x.hasOwnProperty(C)&&(x[C][v]=parseInt(x[C][v],10)+2);if((x=$.jgrid.from.call(r,r.p.data).greater(y,h,{stype:"integer"}).select()).length)for(C in x)x.hasOwnProperty(C)&&(x[C][y]=parseInt(x[C][y],10)+2);i[v]=h+1,i[y]=h+2}(null===e||$(r).jqGrid("isNodeLoaded",a)||d)&&($(r).jqGrid("addRowData",t,i,o,w),$(r).jqGrid("setTreeNode",c,u)),a&&!a[p]&&n&&$(r.rows[k]).find("div.treeclick").click()}}}),$.fn.jqDrag=function(t){return i(this,t,"d")},$.fn.jqResize=function(t,e){return i(this,t,"r",e)},$.jqDnR={dnr:{},e:0,drag:function(t){return"d"==M.k?E.css({left:M.X+t.pageX-M.pX,top:M.Y+t.pageY-M.pY}):(E.css({width:Math.max(t.pageX-M.pX+M.W,0),height:Math.max(t.pageY-M.pY+M.H,0)}),M1&&E1.css({width:Math.max(t.pageX-M1.pX+M1.W,0),height:Math.max(t.pageY-M1.pY+M1.H,0)})),!1},stop:function(){$(document).off("mousemove",J.drag).off("mouseup",J.stop)}};var J=$.jqDnR,M=J.dnr,E=J.e,E1,M1,i=function(t,e,i,n){return t.each((function(){(e=e?$(e,t):t).on("mousedown",{e:t,k:i},(function(t){var e=t.data,i={};if(E=e.e,E1=!!n&&$(n),"relative"!=E.css("position"))try{E.position(i)}catch(t){}if(M={X:i.left||f("left")||0,Y:i.top||f("top")||0,W:f("width")||E[0].scrollWidth||0,H:f("height")||E[0].scrollHeight||0,pX:t.pageX,pY:t.pageY,k:e.k},M1=!(!E1||"d"==e.k)&&{X:i.left||f1("left")||0,Y:i.top||f1("top")||0,W:E1[0].offsetWidth||f1("width")||0,H:E1[0].offsetHeight||f1("height")||0,pX:t.pageX,pY:t.pageY,k:e.k},$("input.hasDatepicker",E[0])[0])try{$("input.hasDatepicker",E[0]).datepicker("hide")}catch(t){}return $(document).mousemove($.jqDnR.drag).mouseup($.jqDnR.stop),!1}))}))},f=function(t){return parseInt(E.css(t),10)||!1},f1=function(t){return parseInt(E1.css(t),10)||!1};$.fn.tinyDraggable=function(t){var e=$.extend({handle:0,exclude:0},t);return this.each((function(){var t,i,n=$(this);(e.handle?$(e.handle,n):n).on({mousedown:function(r){if(!e.exclude||!~$.inArray(r.target,$(e.exclude,n))){r.preventDefault();var o=n.offset();t=r.pageX-o.left,i=r.pageY-o.top,$(document).on("mousemove.drag",(function(e){n.offset({top:e.pageY-i,left:e.pageX-t})}))}},mouseup:function(){$(document).off("mousemove.drag")}})}))},$.fn.jqm=function(t){var e={overlay:50,closeoverlay:!0,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:F,ajaxText:"",target:F,modal:F,toTop:F,onShow:F,onHide:F,onLoad:F};return this.each((function(){if(this._jqm)return H[this._jqm].c=$.extend({},H[this._jqm].c,t);s++,this._jqm=s,H[s]={c:$.extend(e,$.jqm.params,t),a:F,w:$(this).addClass("jqmID"+s),s:s},e.trigger&&$(this).jqmAddTrigger(e.trigger)}))},$.fn.jqmAddClose=function(t){return hs(this,t,"jqmHide")},$.fn.jqmAddTrigger=function(t){return hs(this,t,"jqmShow")},$.fn.jqmShow=function(t){return this.each((function(){$.jqm.open(this._jqm,t)}))},$.fn.jqmHide=function(t){return this.each((function(){$.jqm.close(this._jqm,t)}))},$.jqm={hash:{},open:function(t,i){var n=H[t],r=n.c,o="."+r.closeClass,s=parseInt(n.w.css("z-index"));s=s>0?s:3e3;var a=$("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":s-1,opacity:r.overlay/100});if(n.a)return F;if(n.t=i,n.a=!0,n.w.css("z-index",s),r.modal?(A[0]||setTimeout((function(){new L("bind")}),1),A.push(t)):r.overlay>0?r.closeoverlay&&n.w.jqmAddClose(a):a=F,n.o=a?a.addClass(r.overlayClass).prependTo("body"):F,r.ajax){var l=r.target||n.w,c=r.ajax;l="string"==typeof l?$(l,n.w):$(l),c="@"===c.substr(0,1)?$(i).attr(c.substring(1)):c,l.html(r.ajaxText).load(c,(function(){r.onLoad&&r.onLoad.call(this,n),o&&n.w.jqmAddClose($(o,n.w)),e(n)}))}else o&&n.w.jqmAddClose($(o,n.w));return r.toTop&&n.o&&n.w.before('<span id="jqmP'+n.w[0]._jqm+'"></span>').insertAfter(n.o),r.onShow?r.onShow(n):n.w.show(),e(n),F},close:function(t){var e=H[t];return e.a?(e.a=F,A[0]&&(A.pop(),A[0]||new L("unbind")),e.c.toTop&&e.o&&$("#jqmP"+e.w[0]._jqm).after(e.w).remove(),e.c.onHide?e.c.onHide(e):(e.w.hide(),e.o&&e.o.remove()),F):F},params:{}};var s=0,H=$.jqm.hash,A=[],F=!1,e=function(t){void 0===t.c.focusField&&(t.c.focusField=0),t.c.focusField>=0&&f(t)},f=function(t){try{$(":input:visible",t.w)[parseInt(t.c.focusField,10)].focus()}catch(t){}},L=function(t){$(document)[t]("keypress",m)[t]("keydown",m)[t]("mousedown",m)},m=function(t){var e=H[A[A.length-1]],i=!$(t.target).parents(".jqmID"+e.s)[0];return i&&$(".jqmID"+e.s).each((function(){var e=$(this),n=e.offset();if(n.top<=t.pageY&&t.pageY<=n.top+e.height()&&n.left<=t.pageX&&t.pageX<=n.left+e.width())return i=!1,!1})),!i},hs=function(t,e,i){return t.each((function(){var t=this._jqm;$(e).each((function(){this[i]||(this[i]=[],$(this).click((function(){for(var t in{jqmShow:1,jqmHide:1})for(var e in this[t])H[this[t][e]]&&H[this[t][e]].w[t](this);return F}))),this[i].push(t)}))}))};$.fmatter={},$.extend($.fmatter,{isBoolean:function(t){return"boolean"==typeof t},isObject:function(t){return t&&("object"==typeof t||$.isFunction(t))||!1},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t&&isFinite(t)},isValue:function(t){return this.isObject(t)||this.isString(t)||this.isNumber(t)||this.isBoolean(t)},isEmpty:function(t){return!(!this.isString(t)&&this.isValue(t)||this.isValue(t)&&""!==$.trim(t).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,""))}}),$.fn.fmatter=function(t,e,i,n,r){var o=e;i=$.extend({},$.jgrid.getRegional(this,"formatter"),i);try{o=$.fn.fmatter[t].call(this,e,i,n,r)}catch(t){}return o},$.fmatter.util={NumberFormat:function(t,e){if($.fmatter.isNumber(t)||(t*=1),$.fmatter.isNumber(t)){var i,n=t<0,r=String(t),o=e.decimalSeparator||".";if($.fmatter.isNumber(e.decimalPlaces)){var s=e.decimalPlaces;if(i=(r=String(Number(Math.round(t+"e"+s)+"e-"+s))).lastIndexOf("."),s>0)for(i<0?i=(r+=o).length-1:"."!==o&&(r=r.replace(".",o));r.length-1-i<s;)r+="0"}if(e.thousandsSeparator){var a=e.thousandsSeparator;i=(i=r.lastIndexOf(o))>-1?i:r.length;var l,c=r.substring(i),u=-1;for(l=i;l>0;l--)++u%3==0&&l!==i&&(!n||l>1)&&(c=a+c),c=r.charAt(l-1)+c;r=c}return r=e.prefix?e.prefix+r:r,e.suffix?r+e.suffix:r}return t}},$.fn.fmatter.defaultFormat=function(t,e){return $.fmatter.isValue(t)&&""!==t?t:e.defaultValue||"&#160;"},$.fn.fmatter.email=function(t,e){return $.fmatter.isEmpty(t)?$.fn.fmatter.defaultFormat(t,e):'<a href="mailto:'+t+'">'+t+"</a>"},$.fn.fmatter.checkbox=function(t,e){var i,n=$.extend({},e.checkbox);return void 0!==e.colModel&&void 0!==e.colModel.formatoptions&&(n=$.extend({},n,e.colModel.formatoptions)),i=!0===n.disabled?'disabled="disabled"':"",($.fmatter.isEmpty(t)||void 0===t)&&(t=$.fn.fmatter.defaultFormat(t,n)),'<input type="checkbox" '+((t=((t=String(t))+"").toLowerCase()).search(/(false|f|0|no|n|off|undefined)/i)<0?" checked='checked' ":"")+' value="'+t+'" offval="no" '+i+"/>"},$.fn.fmatter.link=function(t,e){var i={target:e.target},n="";return void 0!==e.colModel&&void 0!==e.colModel.formatoptions&&(i=$.extend({},i,e.colModel.formatoptions)),i.target&&(n="target="+i.target),$.fmatter.isEmpty(t)?$.fn.fmatter.defaultFormat(t,e):"<a "+n+' href="'+t+'">'+t+"</a>"},$.fn.fmatter.showlink=function(t,e){var i,n={baseLinkUrl:e.baseLinkUrl,showAction:e.showAction,addParam:e.addParam||"",target:e.target,idName:e.idName},r="";return void 0!==e.colModel&&void 0!==e.colModel.formatoptions&&(n=$.extend({},n,e.colModel.formatoptions)),n.target&&(r="target="+n.target),i=n.baseLinkUrl+n.showAction+"?"+n.idName+"="+e.rowId+n.addParam,$.fmatter.isString(t)||$.fmatter.isNumber(t)?"<a "+r+' href="'+i+'">'+t+"</a>":$.fn.fmatter.defaultFormat(t,e)},$.fn.fmatter.integer=function(t,e){var i=$.extend({},e.integer);return void 0!==e.colModel&&void 0!==e.colModel.formatoptions&&(i=$.extend({},i,e.colModel.formatoptions)),$.fmatter.isEmpty(t)?i.defaultValue:$.fmatter.util.NumberFormat(t,i)},$.fn.fmatter.number=function(t,e){var i=$.extend({},e.number);return void 0!==e.colModel&&void 0!==e.colModel.formatoptions&&(i=$.extend({},i,e.colModel.formatoptions)),$.fmatter.isEmpty(t)?i.defaultValue:$.fmatter.util.NumberFormat(t,i)},$.fn.fmatter.currency=function(t,e){var i=$.extend({},e.currency);return void 0!==e.colModel&&void 0!==e.colModel.formatoptions&&(i=$.extend({},i,e.colModel.formatoptions)),$.fmatter.isEmpty(t)?i.defaultValue:$.fmatter.util.NumberFormat(t,i)},$.fn.fmatter.date=function(t,e,i,n){var r=$.extend({},e.date);return void 0!==e.colModel&&void 0!==e.colModel.formatoptions&&(r=$.extend({},r,e.colModel.formatoptions)),r.reformatAfterEdit||"edit"!==n?$.fmatter.isEmpty(t)?$.fn.fmatter.defaultFormat(t,e):$.jgrid.parseDate.call(this,r.srcformat,t,r.newformat,r):$.fn.fmatter.defaultFormat(t,e)},$.fn.fmatter.select=function(t,e){t=String(t);var i,n,r=!1,o=[];if(void 0!==e.colModel.formatoptions?(r=e.colModel.formatoptions.value,i=void 0===e.colModel.formatoptions.separator?":":e.colModel.formatoptions.separator,n=void 0===e.colModel.formatoptions.delimiter?";":e.colModel.formatoptions.delimiter):void 0!==e.colModel.editoptions&&(r=e.colModel.editoptions.value,i=void 0===e.colModel.editoptions.separator?":":e.colModel.editoptions.separator,n=void 0===e.colModel.editoptions.delimiter?";":e.colModel.editoptions.delimiter),r){var s,a=1==(null!=e.colModel.editoptions&&!0===e.colModel.editoptions.multiple),l=[];if(a&&(l=t.split(","),l=$.map(l,(function(t){return $.trim(t)}))),$.fmatter.isString(r)){var c,u=r.split(n),d=0;for(c=0;c<u.length;c++)if((s=u[c].split(i)).length>2&&(s[1]=$.map(s,(function(t,e){if(e>0)return t})).join(i)),a)$.inArray(s[0],l)>-1&&(o[d]=s[1],d++);else if($.trim(s[0])===$.trim(t)){o[0]=s[1];break}}else $.fmatter.isObject(r)&&(a?o=$.map(l,(function(t){return r[t]})):o[0]=r[t]||"")}return""===(t=o.join(", "))?$.fn.fmatter.defaultFormat(t,e):t},$.fn.fmatter.rowactions=function(t){var e=$(this).closest("tr.jqgrow"),i=e.attr("id"),n=$(this).closest("table.ui-jqgrid-btable").attr("id").replace(/_frozen([^_]*)$/,"$1"),r=$("#"+n),o=r[0],s=o.p,a=s.colModel[$.jgrid.getCellIndex(this)],l=a.frozen?$("tr#"+i+" td:eq("+$.jgrid.getCellIndex(this)+") > div",r):$(this).parent(),c={extraparam:{}},u=function(t,e){$.isFunction(c.afterSave)&&c.afterSave.call(o,t,e),l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide()},d=function(t){$.isFunction(c.afterRestore)&&c.afterRestore.call(o,t),l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide()};if(void 0!==a.formatoptions){var h=$.extend(!0,{},a.formatoptions);c=$.extend(c,h)}void 0!==s.editOptions&&(c.editOptions=s.editOptions),void 0!==s.delOptions&&(c.delOptions=s.delOptions),e.hasClass("jqgrid-new-row")&&(c.extraparam[s.prmNames.oper]=s.prmNames.addoper);var p={keys:c.keys,oneditfunc:c.onEdit,successfunc:c.onSuccess,url:c.url,extraparam:c.extraparam,aftersavefunc:u,errorfunc:c.onError,afterrestorefunc:d,restoreAfterError:c.restoreAfterError,mtype:c.mtype};switch(t){case"edit":r.jqGrid("editRow",i,p),l.find("div.ui-inline-edit,div.ui-inline-del").hide(),l.find("div.ui-inline-save,div.ui-inline-cancel").show(),r.triggerHandler("jqGridAfterGridComplete");break;case"save":r.jqGrid("saveRow",i,p)&&(l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide(),r.triggerHandler("jqGridAfterGridComplete"));break;case"cancel":r.jqGrid("restoreRow",i,d),l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide(),r.triggerHandler("jqGridAfterGridComplete");break;case"del":r.jqGrid("delGridRow",i,c.delOptions);break;case"formedit":r.jqGrid("setSelection",i),r.jqGrid("editGridRow",i,c.editOptions)}},$.fn.fmatter.actions=function(t,e){var i,n={keys:!1,editbutton:!0,delbutton:!0,editformbutton:!1},r=e.rowId,o="",s=$.jgrid.getRegional(this,"nav"),a=$.jgrid.styleUI[e.styleUI||"jQueryUI"].fmatter,l=$.jgrid.styleUI[e.styleUI||"jQueryUI"].common;if(void 0!==e.colModel.formatoptions&&(n=$.extend(n,e.colModel.formatoptions)),void 0===r||$.fmatter.isEmpty(r))return"";var c="onmouseover=jQuery(this).addClass('"+l.hover+"'); onmouseout=jQuery(this).removeClass('"+l.hover+"');  ";return n.editformbutton?(i="id='jEditButton_"+r+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'formedit'); "+c,o+="<div title='"+s.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+i+"><span class='"+l.icon_base+" "+a.icon_edit+"'></span></div>"):n.editbutton&&(i="id='jEditButton_"+r+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'edit'); "+c,o+="<div title='"+s.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+i+"><span class='"+l.icon_base+" "+a.icon_edit+"'></span></div>"),n.delbutton&&(i="id='jDeleteButton_"+r+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'del'); "+c,o+="<div title='"+s.deltitle+"' style='float:left;' class='ui-pg-div ui-inline-del' "+i+"><span class='"+l.icon_base+" "+a.icon_del+"'></span></div>"),i="id='jSaveButton_"+r+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'save'); "+c,o+="<div title='"+s.savetitle+"' style='float:left;display:none' class='ui-pg-div ui-inline-save' "+i+"><span class='"+l.icon_base+" "+a.icon_save+"'></span></div>",i="id='jCancelButton_"+r+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'cancel'); "+c,"<div style='margin-left:8px;'>"+(o+="<div title='"+s.canceltitle+"' style='float:left;display:none;' class='ui-pg-div ui-inline-cancel' "+i+"><span class='"+l.icon_base+" "+a.icon_cancel+"'></span></div>")+"</div>"},$.unformat=function(t,e,i,n){var r,o,s=e.colModel.formatter,a=e.colModel.formatoptions||{},l=/([\.\*\_\'\(\)\{\}\+\?\\])/g,c=e.colModel.unformat||$.fn.fmatter[s]&&$.fn.fmatter[s].unformat;if(void 0!==c&&$.isFunction(c))r=c.call(this,$(t).text(),e,t);else if(void 0!==s&&$.fmatter.isString(s)){var u,d=$.jgrid.getRegional(this,"formatter")||{};switch(s){case"integer":o=(a=$.extend({},d.integer,a)).thousandsSeparator.replace(l,"\\$1"),u=new RegExp(o,"g"),r=$(t).text().replace(u,"");break;case"number":o=(a=$.extend({},d.number,a)).thousandsSeparator.replace(l,"\\$1"),u=new RegExp(o,"g"),r=$(t).text().replace(u,"").replace(a.decimalSeparator,".");break;case"currency":o=(a=$.extend({},d.currency,a)).thousandsSeparator.replace(l,"\\$1"),u=new RegExp(o,"g"),r=$(t).text(),a.prefix&&a.prefix.length&&(r=r.substr(a.prefix.length)),a.suffix&&a.suffix.length&&(r=r.substr(0,r.length-a.suffix.length)),r=r.replace(u,"").replace(a.decimalSeparator,".");break;case"checkbox":var h=e.colModel.editoptions?e.colModel.editoptions.value.split(":"):["Yes","No"];r=$("input",t).is(":checked")?h[0]:h[1];break;case"select":r=$.unformat.select(t,e,i,n);break;case"actions":return"";default:r=$(t).text()}}return void 0!==r?r:!0===n?$(t).text():$.jgrid.htmlDecode($(t).html())},$.unformat.select=function(t,e,i,n){var r=[],o=$(t).text();if(!0===n)return o;var s=$.extend({},void 0!==e.colModel.formatoptions?e.colModel.formatoptions:e.colModel.editoptions),a=void 0===s.separator?":":s.separator,l=void 0===s.delimiter?";":s.delimiter;if(s.value){var c,u=s.value,d=!0===s.multiple,h=[];if(d&&(h=o.split(","),h=$.map(h,(function(t){return $.trim(t)}))),$.fmatter.isString(u)){var p,f=u.split(l),g=0;for(p=0;p<f.length;p++)if((c=f[p].split(a)).length>2&&(c[1]=$.map(c,(function(t,e){if(e>0)return t})).join(a)),d)$.inArray($.trim(c[1]),h)>-1&&(r[g]=c[0],g++);else if($.trim(c[1])===$.trim(o)){r[0]=c[0];break}}else($.fmatter.isObject(u)||$.isArray(u))&&(d||(h[0]=o),r=$.map(h,(function(t){var e;if($.each(u,(function(i,n){if(n===t)return e=i,!1})),void 0!==e)return e})));return r.join(", ")}return o||""},$.unformat.date=function(t,e){var i=$.jgrid.getRegional(this,"formatter.date")||{};return void 0!==e.formatoptions&&(i=$.extend({},i,e.formatoptions)),$.fmatter.isEmpty(t)?$.fn.fmatter.defaultFormat(t,e):$.jgrid.parseDate.call(this,i.newformat,t,i.srcformat,i)};var dragging,placeholders=$();$.fn.html5sortable=function(t){var e=String(t);return t=$.extend({connectWith:!1},t),this.each((function(){var i,n,r;if(/^enable|disable|destroy$/.test(e))return i=$(this).children($(this).data("items")).attr("draggable","enable"===e),void("destroy"===e&&i.add(this).removeData("connectWith items").off("dragstart.h5s dragend.h5s selectstart.h5s dragover.h5s dragenter.h5s drop.h5s"));i=$(this).children(t.items);var o=$("<"+(/^ul|ol$/i.test(this.tagName)?"li":/^tbody$/i.test(this.tagName)?"tr":"div")+' class="sortable-placeholder '+t.placeholderClass+'">').html("&nbsp;");i.find(t.handle).mousedown((function(){n=!0})).mouseup((function(){n=!1})),$(this).data("items",t.items),placeholders=placeholders.add(o),t.connectWith&&$(t.connectWith).add(this).data("connectWith",t.connectWith),i.attr("draggable","true").on("dragstart.h5s",(function(e){if(t.handle&&!n)return!1;n=!1;var i=e.originalEvent.dataTransfer;i.effectAllowed="move",i.setData("Text","dummy"),r=(dragging=$(this)).addClass("sortable-dragging").index()})).on("dragend.h5s",(function(){dragging&&(dragging.removeClass("sortable-dragging").show(),placeholders.detach(),r!==dragging.index()&&dragging.parent().trigger("sortupdate",{item:dragging,startindex:r,endindex:dragging.index()}),dragging=null)})).not("a[href], img").on("selectstart.h5s",(function(){return this.dragDrop&&this.dragDrop(),!1})).end().add([this,o]).on("dragover.h5s dragenter.h5s drop.h5s",(function(e){return!i.is(dragging)&&t.connectWith!==$(dragging).parent().data("connectWith")||("drop"===e.type?(e.stopPropagation(),placeholders.filter(":visible").after(dragging),dragging.trigger("dragend.h5s"),!1):(e.preventDefault(),e.originalEvent.dataTransfer.dropEffect="move",i.is(this)?(t.forcePlaceholderSize&&o.height(dragging.outerHeight()),dragging.hide(),$(this)[o.index()<$(this).index()?"after":"before"](o),placeholders.not(o).detach()):placeholders.is(this)||$(this).children(t.items).length||(placeholders.detach(),$(this).append(o)),!1))}))}))},$.extend($.jgrid,{stringify:function(t){return JSON.stringify(t,(function(t,e){return"function"==typeof e?e.toString():e}))},parseFunc:function(str){return JSON.parse(str,(function(key,value){if("string"==typeof value&&-1!==value.indexOf("function")){var sv=value.split(" ");return sv[0]=$.trim(sv[0].toLowerCase()),0===sv[0].indexOf("function")&&"}"===value.trim().slice(-1)?eval("("+value+")"):value}return value}))},encode:function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},jsonToXML:function(t,e){var i=$.extend({xmlDecl:'<?xml version="1.0" encoding="UTF-8" ?>\n',attr_prefix:"-",encode:!0},e||{}),n=this,r=function(t,e){return"#text"===t?i.encode?n.encode(e):e:"function"==typeof e?"<"+t+"><![CDATA["+e+"]]></"+t+">\n":""===e?"<"+t+">__EMPTY_STRING_</"+t+">\n":"<"+t+">"+(i.encode?n.encode(e):e)+"</"+t+">\n"},o=function(t,e){for(var i=[],n=0;n<e.length;n++){var a=e[n];void 0===a||null==a?i[i.length]="<"+t+" />":"object"==typeof a&&a.constructor==Array?i[i.length]=o(t,a):i[i.length]="object"==typeof a?s(t,a):r(t,a)}return i.length||(i[0]="<"+t+">__EMPTY_ARRAY_</"+t+">\n"),i.join("")},s=function(t,e){var a=[],l=[];for(var c in e)if(e.hasOwnProperty(c)){var u=e[c];c.charAt(0)!==i.attr_prefix?null==u?a[a.length]="<"+c+" />":"object"==typeof u&&u.constructor===Array?a[a.length]=o(c,u):a[a.length]="object"==typeof u?s(c,u):r(c,u):l[l.length]=" "+c.substring(1)+'="'+(i.encode?n.encode(u):u)+'"'}var d=l.join(""),h=a.join("");return null==t||(h=a.length>0?h.match(/\n/)?"<"+t+d+">\n"+h+"</"+t+">\n":"<"+t+d+">"+h+"</"+t+">\n":"<"+t+d+" />\n"),h},a=s(null,t);return i.xmlDecl+a},xmlToJSON:function(root,options){var o=$.extend({force_array:[],attr_prefix:"-"},options||{});if(root){var __force_array={};if(o.force_array)for(var i=0;i<o.force_array.length;i++)__force_array[o.force_array[i]]=1;"string"==typeof root&&(root=$.parseXML(root)),root.documentElement&&(root=root.documentElement);var addNode=function(hash,key,cnts,val){if("string"==typeof val)if(-1!==val.indexOf("function"))val=eval("("+val+")");else switch(val){case"__EMPTY_ARRAY_":val=[];break;case"__EMPTY_STRING_":val="";break;case"false":val=!1;break;case"true":val=!0}__force_array[key]?(1===cnts&&(hash[key]=[]),hash[key][hash[key].length]=val):1===cnts?hash[key]=val:2===cnts?hash[key]=[hash[key],val]:hash[key][hash[key].length]=val},parseElement=function(t){if(7!==t.nodeType){if(3===t.nodeType||4===t.nodeType){if(null==t.nodeValue.match(/[^\x00-\x20]/))return;return t.nodeValue}var e,i,n,r,s={};if(t.attributes&&t.attributes.length)for(e={},i=0;i<t.attributes.length;i++)"string"==typeof(n=t.attributes[i].nodeName)&&(r=t.attributes[i].nodeValue)&&(void 0===s[n=o.attr_prefix+n]&&(s[n]=0),s[n]++,addNode(e,n,s[n],r));if(t.childNodes&&t.childNodes.length){var a=!0;for(e&&(a=!1),i=0;i<t.childNodes.length&&a;i++){var l=t.childNodes[i].nodeType;3!==l&&4!==l&&(a=!1)}if(a)for(e||(e=""),i=0;i<t.childNodes.length;i++)e+=t.childNodes[i].nodeValue;else for(e||(e={}),i=0;i<t.childNodes.length;i++)"string"==typeof(n=t.childNodes[i].nodeName)&&(r=parseElement(t.childNodes[i]))&&(void 0===s[n]&&(s[n]=0),s[n]++,addNode(e,n,s[n],r))}return e}},json=parseElement(root);if(__force_array[root.nodeName]&&(json=[json]),11!==root.nodeType){var tmp={};tmp[root.nodeName]=json,json=tmp}return json}},saveAs:function(t,e,i){i=$.extend(!0,{type:"plain/text;charset=utf-8"},i||{});var n,r,o=[];e=null==e||""===e?"jqGridFile.txt":e,$.isArray(t)?o=t:o[0]=t;try{n=new File(o,e,i)}catch(t){n=new Blob(o,i)}if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(n,e);else{r=URL.createObjectURL(n);var s=document.createElement("a");s.href=r,s.download=e,document.body.appendChild(s),s.click(),setTimeout((function(){document.body.removeChild(s),window.URL.revokeObjectURL(r)}),0)}}}),$.jgrid=$.jgrid||{},$.extend($.jgrid,{formatCell:function(t,e,i,n,r,o){var s;if(void 0!==n.formatter){var a={rowId:"",colModel:n,gid:r.p.id,pos:e,styleUI:"",isExported:!0,exporttype:o};s=$.isFunction(n.formatter)?n.formatter.call(r,t,a,i):$.fmatter?$.fn.fmatter.call(r,n.formatter,t,a,i):t}else s=t;return s},formatCellCsv:function(t,e){t=null==t?"":String(t);try{t=t.replace(e._regexsep,e.separatorReplace).replace(/\r\n/g,e.replaceNewLine).replace(/\n/g,e.replaceNewLine)}catch(e){t=""}return e.escquote&&(t=t.replace(e._regexquot,e.escquote+e.quote)),-1!==t.indexOf(e.separator)&&-1!==t.indexOf(e.qoute)||(t=e.quote+t+e.quote),t},excelCellPos:function(t){for(var e="A".charCodeAt(0),i="Z".charCodeAt(0)-e+1,n="";t>=0;)n=String.fromCharCode(t%i+e)+n,t=Math.floor(t/i)-1;return n},makeNode:function(t,e,i){var n=t.createElement(e);return i&&(i.attr&&$(n).attr(i.attr),i.children&&$.each(i.children,(function(t,e){n.appendChild(e)})),i.text&&n.appendChild(t.createTextNode(i.text))),n},xmlToZip:function(t,e){var i,n,r,o,s,a,l=this,c=new XMLSerializer,u=-1===c.serializeToString($.parseXML($.jgrid.excelStrings["xl/worksheets/sheet1.xml"])).indexOf("xmlns:r"),d=[];$.each(e,(function(e,h){if($.isPlainObject(h))i=t.folder(e),l.xmlToZip(i,h);else{if(u){for(n=h.childNodes[0],r=n.attributes.length-1;r>=0;r--){var p=n.attributes[r].nodeName,f=n.attributes[r].nodeValue;-1!==p.indexOf(":")&&(d.push({name:p,value:f}),n.removeAttribute(p))}for(r=0,o=d.length;r<o;r++)(s=h.createAttribute(d[r].name.replace(":","_dt_b_namespace_token_"))).value=d[r].value,n.setAttributeNode(s)}a=c.serializeToString(h),u&&(-1===a.indexOf("<?xml")&&(a='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+a),a=a.replace(/_dt_b_namespace_token_/g,":")),a=a.replace(/<row xmlns="" /g,"<row ").replace(/<cols xmlns="">/g,"<cols>").replace(/<mergeCells xmlns="" /g,"<mergeCells "),t.file(e,a)}}))},excelStrings:{"_rels/.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',"xl/_rels/workbook.xml.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/></Relationships>',"[Content_Types].xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="xml" ContentType="application/xml" /><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="jpeg" ContentType="image/jpeg" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /></Types>',"xl/workbook.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="24816"/><workbookPr showInkAnnotation="0" autoCompressPictures="0"/><bookViews><workbookView xWindow="0" yWindow="0" windowWidth="25600" windowHeight="19020" tabRatio="500"/></bookViews><sheets><sheet name="Sheet1" sheetId="1" r:id="rId1"/></sheets></workbook>',"xl/worksheets/sheet1.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><sheetData/></worksheet>',
"xl/styles.xml":'<?xml version="1.0" encoding="UTF-8"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="7"><numFmt numFmtId="164" formatCode="#,##0.00_- [$$-45C]"/><numFmt numFmtId="165" formatCode="&quot;\xa3&quot;#,##0.00"/><numFmt numFmtId="166" formatCode="[$\u20ac-2] #,##0.00"/><numFmt numFmtId="167" formatCode="0.0%"/><numFmt numFmtId="168" formatCode="#,##0;(#,##0)"/><numFmt numFmtId="169" formatCode="#,##0.00;(#,##0.00)"/><numFmt numFmtId="170" formatCode="yyyy/mm/dd;@"/></numFmts><fonts count="5" x14ac:knownFonts="1"><font><sz val="11" /><name val="Calibri" /></font><font><sz val="11" /><name val="Calibri" /><color rgb="FFFFFFFF" /></font><font><sz val="11" /><name val="Calibri" /><b /></font><font><sz val="11" /><name val="Calibri" /><i /></font><font><sz val="11" /><name val="Calibri" /><u /></font></fonts><fills count="6"><fill><patternFill patternType="none" /></fill><fill/><fill><patternFill patternType="solid"><fgColor rgb="FFD9D9D9" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="FFD99795" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6efce" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6cfef" /><bgColor indexed="64" /></patternFill></fill></fills><borders count="2"><border><left /><right /><top /><bottom /><diagonal /></border><border diagonalUp="false" diagonalDown="false"><left style="thin"><color auto="1" /></left><right style="thin"><color auto="1" /></right><top style="thin"><color auto="1" /></top><bottom style="thin"><color auto="1" /></bottom><diagonal /></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" /></cellStyleXfs><cellXfs count="67"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="left"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="center"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="right"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="fill"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment textRotation="90"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment wrapText="1"/></xf><xf numFmtId="9"   fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="164" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="165" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="166" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="167" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="168" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="169" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="3" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="4" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="1" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="2" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="170" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/></cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0" /></cellStyles><dxfs count="0" /><tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4" /></styleSheet>'},excelParsers:[{match:/^\-?\d+\.\d%$/,style:60,fmt:function(t){return t/100}},{match:/^\-?\d+\.?\d*%$/,style:56,fmt:function(t){return t/100}},{match:/^\-?\$[\d,]+.?\d*$/,style:57},{match:/^\-?\xa3[\d,]+.?\d*$/,style:58},{match:/^\-?\u20ac[\d,]+.?\d*$/,style:59},{match:/^\-?\d+$/,style:65},{match:/^\-?\d+\.\d{2}$/,style:66},{match:/^\([\d,]+\)$/,style:61,fmt:function(t){return-1*t.replace(/[\(\)]/g,"")}},{match:/^\([\d,]+\.\d{2}\)$/,style:62,fmt:function(t){return-1*t.replace(/[\(\)]/g,"")}},{match:/^\-?[\d,]+$/,style:63},{match:/^\-?[\d,]+\.\d{2}$/,style:64},{match:/^\d{4}\-\d{2}\-\d{2}$/,style:67}]}),$.jgrid.extend({exportToCsv:function(t){t=$.extend(!0,{separator:",",separatorReplace:" ",quote:'"',escquote:'"',newLine:"\r\n",replaceNewLine:" ",includeCaption:!0,includeLabels:!0,includeGroupHeader:!0,includeFooter:!0,fileName:"jqGridExport.csv",mimetype:"text/csv;charset=utf-8",returnAsString:!1},t||{});var e="";if(this.each((function(){function i(t,e){function i(t,e,i){var n,r=!1;if(0===e)r=i[t];else{var o=i[t].idx;if(0===o)r=i[t];else for(n=t;n>=0;n--)if(i[n].idx===o-e){r=i[n];break}}return r}function n(t,n,r,o){var s,a,c=i(t,n,r),u=c.cnt,p=new Array(e.collen),f=0;for(a=o;a<h;a++)if(d[a]._excol){var g="{0}";$.each(c.summary,(function(){if(this.nm===d[a].name){d[a].summaryTpl&&(g=d[a].summaryTpl),"string"==typeof this.st&&"avg"===this.st.toLowerCase()&&(this.sd&&this.vd?this.v=this.v/this.vd:this.v&&u>0&&(this.v=this.v/u));try{this.groupCount=c.cnt,this.groupIndex=c.dataIndex,this.groupValue=c.value,s=l.formatter("",this.v,a,this)}catch(t){s=this.v}return p[f]=$.jgrid.formatCellCsv($.jgrid.stripHtml($.jgrid.template(g,s)),e),!1}})),f++}return p}var r="",o=l.p.groupingView,s=[],a=o.groupField.length,d=l.p.colModel,h=d.length,p=0;$.each(d,(function(t,e){var i;for(i=0;i<a;i++)if(o.groupField[i]===e.name){s[i]=t;break}}));var f,g,m=$.makeArray(o.groupSummary);if(m.reverse(),"local"===l.p.datatype&&!l.p.loadonce){$(l).jqGrid("groupingSetup");for(var v=$.jgrid.getMethod("groupingPrepare"),y=0;y<u;y++)v.call($(l),c[y],y)}return $.each(o.groups,(function(i,c){p++;try{f=$.isArray(o.formatDisplayField)&&$.isFunction(o.formatDisplayField[c.idx])?o.formatDisplayField[c.idx].call(l,c.displayValue,c.value,l.p.colModel[s[c.idx]],c.idx,o):l.formatter("",c.displayValue,s[c.idx],c.value)}catch(t){f=c.displayValue}var u,h="";if("string"!=typeof(h=$.isFunction(o.groupText[c.idx])?o.groupText[c.idx].call(l,f,c.cnt,c.summary):$.jgrid.template(o.groupText[c.idx],f,c.cnt,c.summary))&&"number"!=typeof h&&(h=f),(u="header"===o.groupSummaryPos[c.idx]?n(i,0,o.groups,0):new Array(e.collen))[0]=$.jgrid.formatCellCsv($.jgrid.stripHtml(h),e),r+=u.join(e.separator)+e.newLine,a-1===c.idx){var v,y,b,_=o.groups[i+1],w=0,x=c.startRow,C=void 0!==_?_.startRow:o.groups[i].startRow+o.groups[i].cnt;for(v=x;v<C&&t[v-w];v++){for(b=t[v-w],g=0,y=0;y<d.length;y++)d[y]._expcol&&(u[g]=$.jgrid.formatCellCsv($.jgrid.formatCell(b[d[y].name],y,b,d[y],l,"csv"),e),g++);r+=u.join(e.separator)+e.newLine}if("header"!==o.groupSummaryPos[c.idx]){var k;if(void 0!==_){for(k=0;k<o.groupField.length&&_.dataIndex!==o.groupField[k];k++);p=o.groupField.length-k}for(y=0;y<p;y++)m[y]&&(u=n(i,y,o.groups,0),r+=u.join(e.separator)+e.newLine);p=k}}})),r}t._regexsep=new RegExp(t.separator,"g"),t._regexquot=new RegExp(t.quote,"g");var n,r,o,s,a,l=this,c=this.addLocalData(!0),u=c.length,d=l.p.colModel,h=d.length,p=l.p.colNames,f=0,g="",m="",v="",y="",b="",_=[],w=[];if($.each(d,(function(e,i){i._expcol=!0,void 0===i.exportcol?i.hidden&&(i._expcol=!1):i._expcol=i.exportcol,"cb"!==i.name&&"rn"!==i.name&&"subgrid"!==i.name||(i._expcol=!1),i._expcol&&(_.push($.jgrid.formatCellCsv(p[e],t)),w.push(i.name))})),t.includeLabels&&(b=_.join(t.separator)+t.newLine),t.collen=_.length,l.p.grouping){var x=!!l.p.groupingView._locgr;l.p.groupingView._locgr=!1,g+=i(c,t),l.p.groupingView._locgr=x}else for(;f<u;){for(r=c[f],o=[],s=0,n=0;n<h;n++)d[n]._expcol&&(o[s]=$.jgrid.formatCellCsv($.jgrid.formatCell(r[d[n].name],n,r,d[n],l,"csv"),t),s++);g+=o.join(t.separator)+t.newLine,f++}if(c=null,o=new Array(t.collen),t.includeCaption&&l.p.caption){for(f=t.collen;--f;)o[f]="";o[0]=$.jgrid.formatCellCsv(l.p.caption,t),m+=o.join(t.separator)+t.newLine}if(t.includeGroupHeader&&l.p.groupHeader&&l.p.groupHeader.length){var C=l.p.groupHeader;for(n=0;n<C.length;n++){var k=C[n].groupHeaders;for(f=0,o=[],a=0;a<w.length;a++){for(o[f]="",s=0;s<k.length;s++)k[s].startColumnName===w[a]&&(o[f]=$.jgrid.formatCellCsv(k[s].titleText,t));f++}v+=o.join(t.separator)+t.newLine}}if(t.includeFooter&&l.p.footerrow&&$(".ui-jqgrid-ftable",this.sDiv).length){var S=$(l).jqGrid("footerData","get");for(n=0,o=[];n<t.collen;){var j=w[n];S.hasOwnProperty(j)&&o.push($.jgrid.formatCellCsv($.jgrid.stripHtml(S[j]),t)),n++}y+=o.join(t.separator)+t.newLine}e=m+v+b+g+y})),t.returnAsString)return e;$.jgrid.saveAs(e,t.fileName,{type:t.mimetype})},exportToExcel:function(t){t=$.extend(!0,{includeLabels:!0,includeGroupHeader:!0,includeFooter:!0,fileName:"jqGridExport.xlsx",mimetype:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",maxlength:40,onBeforeExport:null,replaceStr:null},t||{}),this.each((function(){function e(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/[\x00-\x09\x0B\x0C\x0E-\x1F\x7F-\x9F]/g,"")}function i(t){function e(t,e,i){var n,r=!1;if(0===e)r=i[t];else{var o=i[t].idx;if(0===o)r=i[t];else for(n=t;n>=0;n--)if(i[n].idx===o-e){r=i[n];break}}return r}function i(t,i,r,s){var a,c,u=e(t,i,r),h=u.cnt,f=n(p.header);for(c=s;c<l;c++)if(d[c]._expcol){var g="{0}";$.each(u.summary,(function(){if(this.nm===d[c].name){d[c].summaryTpl&&(g=d[c].summaryTpl),"string"==typeof this.st&&"avg"===this.st.toLowerCase()&&(this.sd&&this.vd?this.v=this.v/this.vd:this.v&&h>0&&(this.v=this.v/h));try{this.groupCount=u.cnt,this.groupIndex=u.dataIndex,this.groupValue=u.value,a=o.formatter("",this.v,c,this)}catch(t){a=this.v}return f[this.nm]=$.jgrid.stripHtml($.jgrid.template(g,a)),!1}}))}return f}function n(t){for(var e={},i=0;i<t.length;i++)e[t[i]]="";return e}var r=o.p.groupingView,s=[],a=r.groupField.length,l=d.length,c=0;$.each(d,(function(t,e){var i;for(i=0;i<a;i++)if(r.groupField[i]===e.name){s[i]=t;break}}));var u,h=$.makeArray(r.groupSummary);if(h.reverse(),"local"===o.p.datatype&&!o.p.loadonce){$(o).jqGrid("groupingSetup");for(var f=$.jgrid.getMethod("groupingPrepare"),g=0;g<p.body.length;g++)f.call($(o),p.body[g],g)}$.each(r.groups,(function(e,l){c++;try{u=$.isArray(r.formatDisplayField)&&$.isFunction(r.formatDisplayField[l.idx])?r.formatDisplayField[l.idx].call(o,l.displayValue,l.value,o.p.colModel[s[l.idx]],l.idx,r):o.formatter("",l.displayValue,s[l.idx],l.value)}catch(t){u=l.displayValue}var d,f="";if("string"!=typeof(f=$.isFunction(r.groupText[l.idx])?r.groupText[l.idx].call(o,u,l.cnt,l.summary):$.jgrid.template(r.groupText[l.idx],u,l.cnt,l.summary))&&"number"!=typeof f&&(f=u),(d="header"===r.groupSummaryPos[l.idx]?i(e,0,r.groups,0):n(p.header))[Object.keys(d)[0]]=$.jgrid.stripHtml(new Array(5*l.idx).join(" ")+f),v(d,!0),a-1===l.idx){var g,m,y=r.groups[e+1],b=0,_=l.startRow,w=void 0!==y?y.startRow:r.groups[e].startRow+r.groups[e].cnt;for(g=_;g<w&&t[g-b];g++){var x=t[g-b];v(x,!1)}if("header"!==r.groupSummaryPos[l.idx]){var C;if(void 0!==y){for(C=0;C<r.groupField.length&&y.dataIndex!==r.groupField[C];C++);c=r.groupField.length-C}for(m=0;m<c;m++)h[m]&&(d=i(e,m,r.groups,0),v(d,!0));c=C}}}))}var n,r,o=this,s=$.jgrid.excelStrings,a=0,l=$.parseXML(s["xl/worksheets/sheet1.xml"]),c=l.getElementsByTagName("sheetData")[0],u={_rels:{".rels":$.parseXML(s["_rels/.rels"])},xl:{_rels:{"workbook.xml.rels":$.parseXML(s["xl/_rels/workbook.xml.rels"])},"workbook.xml":$.parseXML(s["xl/workbook.xml"]),"styles.xml":$.parseXML(s["xl/styles.xml"]),worksheets:{"sheet1.xml":l}},"[Content_Types].xml":$.parseXML(s["[Content_Types].xml"])},d=o.p.colModel,h=0,p={body:o.addLocalData(!0),header:[],footer:[],width:[],map:[]};for(n=0,r=d.length;n<r;n++)d[n]._expcol=!0,void 0===d[n].exportcol?d[n].hidden&&(d[n]._expcol=!1):d[n]._expcol=d[n].exportcol,"cb"!==d[n].name&&"rn"!==d[n].name&&"subgrid"!==d[n].name&&d[n]._expcol&&(p.header[h]=d[n].name,p.width[h]=5,p.map[h]=n,h++);var f,g,m=$.isFunction(t.replaceStr)?t.replaceStr:e,v=function(e,i){f=a+1,g=$.jgrid.makeNode(l,"row",{attr:{r:f}});for(var n=15,r=0;r<p.header.length;r++){var s,u,h=$.jgrid.excelCellPos(r)+""+f,v=$.isArray(e)&&i?o.p.colNames[p.map[r]]:e[p.header[r]];null==v&&(v=""),i||(v=$.jgrid.formatCell(v,p.map[r],e,d[p.map[r]],o,"excel")),p.width[r]=Math.max(p.width[r],Math.min(parseInt(v.toString().length,10),t.maxlength)),v.match&&(u=v.match(/^-?([1-9]\d+)(\.(\d+))?$/)),s=null;for(var y=0,b=$.jgrid.excelParsers.length;y<b;y++){var _=$.jgrid.excelParsers[y];if(v.match&&!v.match(/^0\d+/)&&v.match(_.match)){v=v.replace(/[^\d\.\-]/g,""),_.fmt&&(v=_.fmt(v)),s=67===_.style?$.jgrid.makeNode(l,"c",{attr:{t:"d",r:h,s:_.style},children:[$.jgrid.makeNode(l,"v",{text:v})]}):$.jgrid.makeNode(l,"c",{attr:{r:h,s:_.style},children:[$.jgrid.makeNode(l,"v",{text:v})]}),g.appendChild(s);break}}if(!s){if("number"==typeof v&&v.toString().length<=n||u&&u[1].length+(u[2]?u[3].length:0)<=n)s=$.jgrid.makeNode(l,"c",{attr:{t:"n",r:h},children:[$.jgrid.makeNode(l,"v",{text:v})]});else{var w=v.replace?m(v):v;s=$.jgrid.makeNode(l,"c",{attr:{t:"inlineStr",r:h},children:{row:$.jgrid.makeNode(l,"is",{children:{row:$.jgrid.makeNode(l,"t",{text:w})}})}})}g.appendChild(s)}}c.appendChild(g),a++};if($("sheets sheet",u.xl["workbook.xml"]).attr("name",t.sheetName),t.includeGroupHeader&&o.p.groupHeader&&o.p.groupHeader.length){var y,b,_=o.p.groupHeader,w=[],x=0;for(b=0;b<_.length;b++){var C=_[b].groupHeaders,k={};for(x++,n=0,n=0;n<p.header.length;n++){k[y=p.header[n]]="";for(var S=0;S<C.length;S++)if(C[S].startColumnName===y){k[y]=C[S].titleText;var j=$.jgrid.excelCellPos(n)+x,T=$.jgrid.excelCellPos(n+C[S].numberOfColumns-1)+x;w.push({ref:j+":"+T})}}v(k,!0)}$("row c",l).attr("s","2");var A=$.jgrid.makeNode(l,"mergeCells",{attr:{count:w.length}});for($("worksheet",l).append(A),h=0;h<w.length;h++)A.appendChild($.jgrid.makeNode(l,"mergeCell",{attr:w[h]}))}if(t.includeLabels&&(v(p.header,!0),$("row:last c",l).attr("s","2")),o.p.grouping){var D=!!o.p.groupingView._locgr;o.p.groupingView._locgr=!1,i(p.body),o.p.groupingView._locgr=D}else for(var I=0,E=p.body.length;I<E;I++)v(p.body[I],!1);if(t.includeFooter||o.p.footerrow){for(h in p.footer=$(o).jqGrid("footerData","get"),p.footer)p.footer.hasOwnProperty(h)&&(p.footer[h]=$.jgrid.stripHtml(p.footer[h]));v(p.footer,!0),$("row:last c",l).attr("s","2")}var P=$.jgrid.makeNode(l,"cols");for($("worksheet",l).prepend(P),h=0,r=p.width.length;h<r;h++)P.appendChild($.jgrid.makeNode(l,"col",{attr:{min:h+1,max:h+1,width:p.width[h],customWidth:1}}));$.isFunction(t.onBeforeExport)&&t.onBeforeExport(u,a),p=null;try{var O=new JSZip,F={type:"blob",mimeType:t.mimetype};$.jgrid.xmlToZip(O,u),O.generateAsync?O.generateAsync(F).then((function(e){$.jgrid.saveAs(e,t.fileName,{type:t.mimetype})})):$.jgrid.saveAs(O.generate(F),t.fileName,{type:t.mimetype})}catch(t){throw t}}))},exportToPdf:function(t){return t=$.extend(!0,{title:null,orientation:"portrait",pageSize:"A4",description:null,onBeforeExport:null,download:"download",includeLabels:!0,includeGroupHeader:!0,includeFooter:!0,fileName:"jqGridExport.pdf",mimetype:"application/pdf"},t||{}),this.each((function(){function e(t){function e(t,e){for(var i=0,n=[],r=0;r<h.length;r++)u={text:null==t[h[r]]?"":e?$.jgrid.formatCell(t[h[r]]+"",f[i],d[p],g[f[i]],a,"pdf"):t[h[r]],alignment:v[r],style:"tableBody"},n.push(u),i++;return n}function i(t,e,i){var n,r=!1;if(0===e)r=i[t];else{var o=i[t].idx;if(0===o)r=i[t];else for(n=t;n>=0;n--)if(i[n].idx===o-e){r=i[n];break}}return r}function n(t,e,n,o){var s,l,c=i(t,e,n),u=c.cnt,d=r(h);for(l=o;l<m;l++)if(g[l]._expcol){var p="{0}";$.each(c.summary,(function(){if(this.nm===g[l].name){g[l].summaryTpl&&(p=g[l].summaryTpl),"string"==typeof this.st&&"avg"===this.st.toLowerCase()&&(this.sd&&this.vd?this.v=this.v/this.vd:this.v&&u>0&&(this.v=this.v/u));try{this.groupCount=c.cnt,this.groupIndex=c.dataIndex,this.groupValue=c.value,s=a.formatter("",this.v,l,this)}catch(t){s=this.v}return d[this.nm]=$.jgrid.stripHtml($.jgrid.template(p,s)),!1}}))}return d}function r(t){for(var e={},i=0;i<t.length;i++)e[t[i]]="";return e}var o=a.p.groupingView,s=[],c=o.groupField.length,g=a.p.colModel,m=g.length,y=0;$.each(g,(function(t,e){var i;for(i=0;i<c;i++)if(o.groupField[i]===e.name){s[i]=t;break}}));var b,_=$.makeArray(o.groupSummary);if(_.reverse(),"local"===a.p.datatype&&!a.p.loadonce){$(a).jqGrid("groupingSetup");for(var w=$.jgrid.getMethod("groupingPrepare"),x=0;x<d.length;x++)w.call($(a),d[x],x)}$.each(o.groups,(function(i,u){y++;try{b=$.isArray(o.formatDisplayField)&&$.isFunction(o.formatDisplayField[u.idx])?o.formatDisplayField[u.idx].call(a,u.displayValue,u.value,a.p.colModel[s[u.idx]],u.idx,o):a.formatter("",u.displayValue,s[u.idx],u.value)}catch(t){b=u.displayValue}var d,p="";if("string"!=typeof(p=$.isFunction(o.groupText[u.idx])?o.groupText[u.idx].call(a,b,u.cnt,u.summary):$.jgrid.template(o.groupText[u.idx],b,u.cnt,u.summary))&&"number"!=typeof p&&(p=b),(d="header"===o.groupSummaryPos[u.idx]?n(i,0,o.groups,0):r(h))[Object.keys(d)[0]]=$.jgrid.stripHtml(new Array(5*u.idx).join(" ")+p),l.push(e(d,!1)),c-1===u.idx){var f,g,m=o.groups[i+1],v=0,w=u.startRow,x=void 0!==m?m.startRow:o.groups[i].startRow+o.groups[i].cnt;for(f=w;f<x&&t[f-v];f++){var C=t[f-v];l.push(e(C,!0))}if("header"!==o.groupSummaryPos[u.idx]){var k;if(void 0!==m){for(k=0;k<o.groupField.length&&m.dataIndex!==o.groupField[k];k++);y=o.groupField.length-k}for(g=0;g<y;g++)_[g]&&(d=n(i,g,o.groups,0),l.push(e(d,!1)));y=k}}}))}var i,n,r,o,s,a=this,l=[],c=a.p.colModel,u={},d=a.addLocalData(!0),h=[],p=0,f=[],g=[],m=[],v={};for(i=0,n=c.length;i<n;i++)c[i]._expcol=!0,void 0===c[i].exportcol?c[i].hidden&&(c[i]._expcol=!1):c[i]._expcol=c[i].exportcol,"cb"!==c[i].name&&"rn"!==c[i].name&&"subgrid"!==c[i].name&&c[i]._expcol&&(u={text:a.p.colNames[i],style:"tableHeader"},g.push(u),h[p]=c[i].name,f[p]=i,m.push(c[i].width),v[c[i].name]=c[i].align||"left",p++);if(t.includeGroupHeader&&a.p.groupHeader&&a.p.groupHeader.length)for(s=a.p.groupHeader,p=0;p<s.length;p++){var y=[],b=s[p].groupHeaders;for(r=0;r<h.length;r++){for(u={text:"",style:"tableHeader"},o=0;o<b.length;o++)b[o].startColumnName===h[r]&&(u={text:b[o].titleText,colSpan:b[o].numberOfColumns,style:"tableHeader"});y.push(u),i++}l.push(y)}if(t.includeLabels&&l.push(g),a.p.grouping){var _=!!a.p.groupingView._locgr;a.p.groupingView._locgr=!1,e(d),a.p.groupingView._locgr=_}else{var w;for(p=0,n=d.length;p<n;p++){for(o=0,g=[],w=d[p],r=0;r<h.length;r++)u={text:null==w[h[r]]?"":$.jgrid.formatCell(w[h[r]]+"",f[o],d[p],c[f[o]],a,"pdf"),alignment:v[h[r]],style:"tableBody"},g.push(u),o++;l.push(g)}}if(t.includeFooter&&a.p.footerrow){var x=$(a).jqGrid("footerData","get");for(g=[],r=0;r<h.length;r++)u={text:$.jgrid.stripHtml(x[h[r]]),style:"tableFooter",alignment:v[h[r]]},g.push(u);l.push(g)}var C={pageSize:t.pageSize,pageOrientation:t.orientation,content:[{style:"tableExample",widths:m,table:{headerRows:null!=s?0:1,body:l}}],styles:{tableHeader:{bold:!0,fontSize:11,color:"#2e6e9e",fillColor:"#dfeffc",alignment:"center"},tableBody:{fontSize:10},tableFooter:{bold:!0,fontSize:11,color:"#2e6e9e",fillColor:"#dfeffc"},title:{alignment:"center",fontSize:15},description:{}},defaultStyle:{fontSize:10}};t.description&&C.content.unshift({text:t.description,style:"description",margin:[0,0,0,12]}),t.title&&C.content.unshift({text:t.title,style:"title",margin:[0,0,0,12]}),$.isFunction(t.onBeforeExport)&&t.onBeforeExport.call(a,C);try{var k=pdfMake.createPdf(C);"open"===t.download?k.open():k.getBuffer((function(e){$.jgrid.saveAs(e,t.fileName,{type:t.mimetype})}))}catch(t){throw t}}))},exportToHtml:function(t){var e;return t=$.extend(!0,{title:"",onBeforeExport:null,includeLabels:!0,includeGroupHeader:!0,includeFooter:!0,tableClass:"jqgridprint",autoPrint:!1,topText:"",bottomText:"",returnAsString:!1},t||{}),this.each((function(){function i(t){function e(t,e,i){var n,r=!1;if(0===e)r=i[t];else{var o=i[t].idx;if(0===o)r=i[t];else for(n=t;n>=0;n--)if(i[n].idx===o-e){r=i[n];break}}return r}function i(t,i,s,l){var c,d,h=e(t,i,s),p=h.cnt,f=n(a.header);for(d=l;d<u;d++)if(o[d]._expcol){var g="{0}";$.each(h.summary,(function(){if(this.nm===o[d].name){o[d].summaryTpl&&(g=o[d].summaryTpl),"string"==typeof this.st&&"avg"===this.st.toLowerCase()&&(this.sd&&this.vd?this.v=this.v/this.vd:this.v&&p>0&&(this.v=this.v/p));try{this.groupCount=h.cnt,this.groupIndex=h.dataIndex,this.groupValue=h.value,c=r.formatter("",this.v,d,this)}catch(t){c=this.v}return f[this.nm]=$.jgrid.stripHtml($.jgrid.template(g,c)),!1}}))}return f}function n(t){for(var e={},i=0;i<t.length;i++)e[t[i]]="";return e}var s=r.p.groupingView,l=[],c=s.groupField.length,u=o.length,d=0,p="";$.each(o,(function(t,e){var i;for(i=0;i<c;i++)if(s.groupField[i]===e.name){l[i]=t;break}}));var f,g=$.makeArray(s.groupSummary);if(g.reverse(),"local"===r.p.datatype&&!r.p.loadonce){$(r).jqGrid("groupingSetup");for(var m=$.jgrid.getMethod("groupingPrepare"),v=0;v<a.body.length;v++)m.call($(r),a.body[v],v)}return $.each(s.groups,(function(e,o){d++;try{f=$.isArray(s.formatDisplayField)&&$.isFunction(s.formatDisplayField[o.idx])?s.formatDisplayField[o.idx].call(r,o.displayValue,o.value,r.p.colModel[l[o.idx]],o.idx,s):r.formatter("",o.displayValue,l[o.idx],o.value)}catch(t){f=o.displayValue}var u="";"string"!=typeof(u=$.isFunction(s.groupText[o.idx])?s.groupText[o.idx].call(r,f,o.cnt,o.summary):$.jgrid.template(s.groupText[o.idx],f,o.cnt,o.summary))&&"number"!=typeof u&&(u=f);var m,v=!1;if("header"===s.groupSummaryPos[o.idx]?m=i(e,0,s.groups,0):(m=n(a.header),v=!0),m[Object.keys(m)[0]]=new Array(5*o.idx).join(" ")+u,p+=h(m,"td",!1,1===d,v),c-1===o.idx){var y,b,_=s.groups[e+1],w=0,x=o.startRow,C=void 0!==_?_.startRow:s.groups[e].startRow+s.groups[e].cnt;for(y=x;y<C&&t[y-w];y++){var k=t[y-w];p+=h(k,"td",!1)}if("header"!==s.groupSummaryPos[o.idx]){var S;if(void 0!==_){for(S=0;S<s.groupField.length&&_.dataIndex!==s.groupField[S];S++);d=s.groupField.length-S}for(b=0;b<d;b++)g[b]&&(m=i(e,b,s.groups,0),p+=h(m,"td",!1));d=S}}})),p}var n,r=this,o=r.p.colModel,s=0,a={body:r.addLocalData(!0),header:[],footer:[],width:[],map:[],align:[]};for(n=0,g=o.length;n<g;n++)o[n]._expcol=!0,void 0===o[n].exportcol?o[n].hidden&&(o[n]._expcol=!1):o[n]._expcol=o[n].exportcol,"cb"!==o[n].name&&"rn"!==o[n].name&&"subgrid"!==o[n].name&&o[n]._expcol&&(a.header[s]=o[n].name,a.width[s]=o[n].width,a.map[s]=n,a.align[s]=o[n].align||"left",s++);var l=document.createElement("a"),c=function(t){var e=$(t).clone()[0];return"link"===e.nodeName.toLowerCase()&&(e.href=u(e.href)),e.outerHTML},u=function(t){l.href=t;var e=l.host;return-1===e.indexOf("/")&&0!==l.pathname.indexOf("/")&&(e+="/"),l.protocol+"//"+e+l.pathname+l.search},d=function(t,e,i){for(var n="<tr>",o=0,s=t.length;o<s;o++)n+="<"+e+(!0===i?" style=width:"+a.width[o]+"px;":"")+">"+r.p.colNames[a.map[o]]+"</"+e+">";return n+"</tr>"},h=function(t,e,i,n,s){for(var l,c,u="<tr>",d=0,h=a.header.length;d<h&&(c=s?' colspan= "'+a.header.length+'" style=text-align:left':!0===n?" style=width:"+a.width[d]+"px;text-align:"+a.align[d]+";":" style=text-align:"+a.align[d]+";",l=a.header[d],t.hasOwnProperty(l)&&(u+="<"+e+c+">"+(i?$.jgrid.formatCell(t[l],a.map[d],t,o[a.map[d]],r,"html"):t[l])+"</"+e+">"),!s);d++);return u+"</tr>"},p='<table class="'+t.tableClass+'">';if(t.includeLabels&&(p+="<thead>"+d(a.header,"th",!0)+"</thead>"),p+="<tbody>",r.p.grouping){var f=!!r.p.groupingView._locgr;r.p.groupingView._locgr=!1,p+=i(a.body),r.p.groupingView._locgr=f}else{s=0;for(var g=a.body.length;s<g;s++)p+=h(a.body[s],"td",!0,0===s)}if(t.includeFooter&&r.p.footerrow&&(a.footer=$(r).jqGrid("footerData","get",null,!1),p+=h(a.footer,"td",!1)),p+="</tbody>",p+="</table>",t.returnAsString)e=p;else{var m=window.open("","");m.document.close();var v=t.title?"<title>"+t.title+"</title>":"";$("style, link").each((function(){v+=c(this)}));try{m.document.head.innerHTML=v}catch(t){$(m.document.head).html(v)}m.document.body.innerHTML=(t.title?"<h1>"+t.title+"</h1>":"")+"<div>"+(t.topText||"")+"</div>"+p+"<div>"+(t.bottomText||"")+"</div>",$(m.document.body).addClass("html-view"),$("img",m.document.body).each((function(t,e){e.setAttribute("src",u(e.getAttribute("src")))})),t.onBeforeExport&&t.onBeforeExport(m),Boolean(m.chrome)?t.autoPrint&&(m.print(),m.close()):setTimeout((function(){t.autoPrint&&(m.print(),m.close())}),1e3)}})),e}})})),jQuery.bt={version:"0.9.5-rc1"},function($){jQuery.fn.bt=function(content,options){function findIntersectX(t,e,i,n,r){if(t==i)return{x:t,y:r};var o=(e-n)/(t-i);return{x:(r-(e-o*t))/o,y:r}}function findIntersectY(t,e,i,n,r){if(e==n)return{x:r,y:e};var o=(e-n)/(t-i);return{x:r,y:o*r+(e-o*t)}}function findIntersect(t,e,i,n,r,o,s,a){if(r==s)return findIntersectY(t,e,i,n,r);if(o==a)return findIntersectX(t,e,i,n,o);var l=(e-n)/(t-i),c=e-l*t,u=(o-a)/(r-s),d=(o-u*r-c)/(l-u);return{x:d,y:l*d+c}}function centerPoint(t,e,i){var n,r,o=e.x==t.x?i.x:t.x,s=e.y==t.y?i.y:t.y;return t.x<i.x?t.y>i.y?(n=Math.PI/180*180,r=Math.PI/180*90):(n=Math.PI/180*90,r=0):t.y>i.y?(n=Math.PI/180*270,r=Math.PI/180*180):(n=0,r=Math.PI/180*270),{x:o,y:s,type:"center",startAngle:n,endAngle:r}}function betweenPoint(t,e,i){var n;return t.x==e.x?(n=t.y<e.y?t.y+i:t.y-i,{x:t.x,y:n}):t.y==e.y?{x:t.x<e.x?t.x+i:t.x-i,y:t.y}:void 0}function shadowSupport(){try{var t=navigator.userAgent.toLowerCase();if(/webkit/.test(t))return!0;if(/gecko|mozilla/.test(t)&&parseFloat(t.match(/firefox\/(\d+(?:\.\d+)+)/)[1])>=3.1)return!0}catch(t){}return!1}function canvasSupport(){var t=!1;try{t=!!document.createElement("canvas").getContext("2d")}catch(e){t=!!document.createElement("canvas").getContext}return t}function arrayRemove(t,e){var i,n=new Array;for(i in t)t[i]!=e&&n.push(t[i]);return n}function numb(t){return parseInt(t)||0}function round5(t,e){return(e=numb(e))%2?t:Math.round(t-.5)+.5}function drawIt(t,e){for(this.moveTo(t[0].x,t[0].y),i=1;i<t.length;i++)"arcStart"==t[i-1].type?(this.quadraticCurveTo(round5(t[i].x,e),round5(t[i].y,e),round5(t[(i+1)%t.length].x,e),round5(t[(i+1)%t.length].y,e)),i++):this.lineTo(round5(t[i].x,e),round5(t[i].y,e))}if("string"!=typeof content){var contentSelect=!0;options=content,content=!1}else var contentSelect=!1;return jQuery.fn.hoverIntent&&"hover"==jQuery.bt.defaults.trigger&&(jQuery.bt.defaults.trigger="hoverIntent"),this.each((function(index){var opts=jQuery.extend(!1,jQuery.bt.defaults,jQuery.bt.options,options);opts.spikeLength=numb(opts.spikeLength),opts.spikeGirth=numb(opts.spikeGirth),opts.overlap=numb(opts.overlap);var ajaxTimeout=!1;if(opts.killTitle&&$(this).find("[title]").andSelf().each((function(){$(this).attr("bt-xTitle")||$(this).attr("bt-xTitle",$(this).attr("title")).attr("title","")})),"string"==typeof opts.trigger&&(opts.trigger=[opts.trigger]),"hoverIntent"==opts.trigger[0]){var hoverOpts=jQuery.extend(opts.hoverIntentOpts,{over:function(){this.btOn()},out:function(){this.btOff()}});$(this).hoverIntent(hoverOpts)
}else"hover"==opts.trigger[0]?$(this).hover((function(){this.btOn()}),(function(){this.btOff()})):"now"==opts.trigger[0]?$(this).hasClass("bt-active")?this.btOff():this.btOn():"none"==opts.trigger[0]||(opts.trigger.length>1&&opts.trigger[0]!=opts.trigger[1]?$(this).bind(opts.trigger[0],(function(){this.btOn()})).bind(opts.trigger[1],(function(){this.btOff()})):$(this).bind(opts.trigger[0],(function(){$(this).hasClass("bt-active")?this.btOff():this.btOn()})));this.btOn=function(){if("object"==typeof $(this).data("bt-box")&&this.btOff(),opts.preBuild.apply(this),$(jQuery.bt.vars.closeWhenOpenStack).btOff(),$(this).addClass("bt-active "+opts.activeClass),contentSelect&&null==opts.ajaxPath&&(opts.killTitle&&$(this).attr("title",$(this).attr("bt-xTitle")),content=$.isFunction(opts.contentSelector)?opts.contentSelector.apply(this):eval(opts.contentSelector),opts.killTitle&&$(this).attr("title","")),null!=opts.ajaxPath&&0==content){if("object"==typeof opts.ajaxPath){var url=eval(opts.ajaxPath[0]);url+=opts.ajaxPath[1]?" "+opts.ajaxPath[1]:""}else var url=opts.ajaxPath;var off=url.indexOf(" ");if(off>=0){var selector=url.slice(off,url.length);url=url.slice(0,off)}var cacheData=opts.ajaxCache?$(document.body).data("btCache-"+url.replace(/\./g,"")):null;if("string"==typeof cacheData)content=selector?$("<div/>").append(cacheData.replace(/<script(.|\s)*?\/script>/g,"")).find(selector):cacheData;else{var target=this,ajaxOpts=jQuery.extend(!1,{type:opts.ajaxType,data:opts.ajaxData,cache:opts.ajaxCache,url:url,complete:function(t,e){"success"==e||"notmodified"==e?(opts.ajaxCache&&$(document.body).data("btCache-"+url.replace(/\./g,""),t.responseText),ajaxTimeout=!1,content=selector?$("<div/>").append(t.responseText.replace(/<script(.|\s)*?\/script>/g,"")).find(selector):t.responseText):("timeout"==e&&(ajaxTimeout=!0),content=opts.ajaxError.replace(/%error/g,t.statusText)),$(target).hasClass("bt-active")&&target.btOn()}},opts.ajaxOpts);jQuery.ajax(ajaxOpts),content=opts.ajaxLoading}}var shadowMarginX=0,shadowMarginY=0,shadowShiftX=0,shadowShiftY=0;if(opts.shadow&&!shadowSupport()&&(opts.shadow=!1,jQuery.extend(opts,opts.noShadowOpts)),opts.shadow&&(shadowMarginX=opts.shadowBlur>Math.abs(opts.shadowOffsetX)?2*opts.shadowBlur:opts.shadowBlur+Math.abs(opts.shadowOffsetX),shadowShiftX=opts.shadowBlur-opts.shadowOffsetX>0?opts.shadowBlur-opts.shadowOffsetX:0,shadowMarginY=opts.shadowBlur>Math.abs(opts.shadowOffsetY)?2*opts.shadowBlur:opts.shadowBlur+Math.abs(opts.shadowOffsetY),shadowShiftY=opts.shadowBlur-opts.shadowOffsetY>0?opts.shadowBlur-opts.shadowOffsetY:0),opts.offsetParent)var offsetParent=$(opts.offsetParent),offsetParentPos=offsetParent.offset(),pos=$(this).offset(),top=numb(pos.top)-numb(offsetParentPos.top)+numb($(this).css("margin-top"))-shadowShiftY,left=numb(pos.left)-numb(offsetParentPos.left)+numb($(this).css("margin-left"))-shadowShiftX;else var offsetParent="absolute"==$(this).css("position")?$(this).parents().eq(0).offsetParent():$(this).offsetParent(),pos=$(this).btPosition(),top=numb(pos.top)+numb($(this).css("margin-top"))-shadowShiftY,left=numb(pos.left)+numb($(this).css("margin-left"))-shadowShiftX;var width=$(this).btOuterWidth(),height=$(this).outerHeight();if("object"==typeof content){var original=content,clone=$(original).clone(!0).show(),origClones=$(original).data("bt-clones")||[];origClones.push(clone),$(original).data("bt-clones",origClones),$(clone).data("bt-orig",original),$(this).data("bt-content-orig",{original:original,clone:clone}),content=clone}if("null"!=typeof content&&""!=content){var $text=$('<div class="bt-content"></div>').append(content).css({padding:opts.padding,position:"absolute",width:opts.shrinkToFit?"auto":opts.width,zIndex:opts.textzIndex,left:shadowShiftX,top:shadowShiftY}).css(opts.cssStyles),$box=$('<div class="bt-wrapper"></div>').append($text).addClass(opts.cssClass).css({position:"absolute",width:opts.width,zIndex:opts.wrapperzIndex,visibility:"hidden"}).appendTo(offsetParent);jQuery.fn.bgiframe&&($text.bgiframe(),$box.bgiframe()),$(this).data("bt-box",$box);var scrollTop=numb($(document).scrollTop()),scrollLeft=numb($(document).scrollLeft()),docWidth=numb($(window).width()),docHeight=numb($(window).height()),winRight=scrollLeft+docWidth,winBottom=scrollTop+docHeight,space=new Object,thisOffset=$(this).offset();space.top=thisOffset.top-scrollTop,space.bottom=docHeight-(thisOffset.top+height-scrollTop),space.left=thisOffset.left-scrollLeft,space.right=docWidth-(thisOffset.left+width-scrollLeft);var textOutHeight=numb($text.outerHeight()),textOutWidth=numb($text.btOuterWidth());if(opts.positions.constructor==String&&(opts.positions=opts.positions.replace(/ /,"").split(",")),"most"==opts.positions[0]){var position="top";for(var pig in space)position=space[pig]>space[position]?pig:position}else for(var x in opts.positions){var position=opts.positions[x];if(("left"==position||"right"==position)&&space[position]>textOutWidth+opts.spikeLength)break;if(("top"==position||"bottom"==position)&&space[position]>textOutHeight+opts.spikeLength)break}var horiz=left+.5*(width-textOutWidth),vert=top+.5*(height-textOutHeight),points=new Array,textTop,textLeft,textRight,textBottom,textTopSpace,textBottomSpace,textLeftSpace,textRightSpace,crossPoint,textCenter,spikePoint;switch(position){case"top":$text.css("margin-bottom",opts.spikeLength+"px"),$box.css({top:top-$text.outerHeight(!0)+opts.overlap,left:horiz}),textRightSpace=winRight-opts.windowMargin-($text.offset().left+$text.btOuterWidth(!0));var xShift=shadowShiftX;textRightSpace<0&&($box.css("left",numb($box.css("left"))+textRightSpace+"px"),xShift-=textRightSpace),textLeftSpace=$text.offset().left+numb($text.css("margin-left"))-(scrollLeft+opts.windowMargin),textLeftSpace<0&&($box.css("left",numb($box.css("left"))-textLeftSpace+"px"),xShift+=textLeftSpace),textTop=$text.btPosition().top+numb($text.css("margin-top")),textLeft=$text.btPosition().left+numb($text.css("margin-left")),textRight=textLeft+$text.btOuterWidth(),textBottom=textTop+$text.outerHeight(),textCenter={x:textLeft+$text.btOuterWidth()*opts.centerPointX,y:textTop+$text.outerHeight()*opts.centerPointY},points[points.length]=spikePoint={y:textBottom+opts.spikeLength,x:.5*(textRight-textLeft)+xShift,type:"spike"},crossPoint=findIntersectX(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textBottom),crossPoint.x=crossPoint.x<textLeft+opts.spikeGirth/2+opts.cornerRadius?textLeft+opts.spikeGirth/2+opts.cornerRadius:crossPoint.x,crossPoint.x=crossPoint.x>textRight-opts.spikeGirth/2-opts.cornerRadius?textRight-opts.spikeGirth/2-opts.CornerRadius:crossPoint.x,points[points.length]={x:crossPoint.x-opts.spikeGirth/2,y:textBottom,type:"join"},points[points.length]={x:textLeft,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textBottom,type:"corner"},points[points.length]={x:crossPoint.x+opts.spikeGirth/2,y:textBottom,type:"join"},points[points.length]=spikePoint;break;case"left":$text.css("margin-right",opts.spikeLength+"px"),$box.css({top:vert+"px",left:left-$text.btOuterWidth(!0)+opts.overlap+"px"}),textBottomSpace=winBottom-opts.windowMargin-($text.offset().top+$text.outerHeight(!0));var yShift=shadowShiftY;textBottomSpace<0&&($box.css("top",numb($box.css("top"))+textBottomSpace+"px"),yShift-=textBottomSpace),textTopSpace=$text.offset().top+numb($text.css("margin-top"))-(scrollTop+opts.windowMargin),textTopSpace<0&&($box.css("top",numb($box.css("top"))-textTopSpace+"px"),yShift+=textTopSpace),textTop=$text.btPosition().top+numb($text.css("margin-top")),textLeft=$text.btPosition().left+numb($text.css("margin-left")),textRight=textLeft+$text.btOuterWidth(),textBottom=textTop+$text.outerHeight(),textCenter={x:textLeft+$text.btOuterWidth()*opts.centerPointX,y:textTop+$text.outerHeight()*opts.centerPointY},points[points.length]=spikePoint={x:textRight+opts.spikeLength,y:.5*(textBottom-textTop)+yShift,type:"spike"},crossPoint=findIntersectY(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textRight),crossPoint.y=crossPoint.y<textTop+opts.spikeGirth/2+opts.cornerRadius?textTop+opts.spikeGirth/2+opts.cornerRadius:crossPoint.y,crossPoint.y=crossPoint.y>textBottom-opts.spikeGirth/2-opts.cornerRadius?textBottom-opts.spikeGirth/2-opts.cornerRadius:crossPoint.y,points[points.length]={x:textRight,y:crossPoint.y+opts.spikeGirth/2,type:"join"},points[points.length]={x:textRight,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textTop,type:"corner"},points[points.length]={x:textRight,y:crossPoint.y-opts.spikeGirth/2,type:"join"},points[points.length]=spikePoint;break;case"bottom":$text.css("margin-top",opts.spikeLength+"px"),$box.css({top:top+height-opts.overlap,left:horiz}),textRightSpace=winRight-opts.windowMargin-($text.offset().left+$text.btOuterWidth(!0));var xShift=shadowShiftX;textRightSpace<0&&($box.css("left",numb($box.css("left"))+textRightSpace+"px"),xShift-=textRightSpace),textLeftSpace=$text.offset().left+numb($text.css("margin-left"))-(scrollLeft+opts.windowMargin),textLeftSpace<0&&($box.css("left",numb($box.css("left"))-textLeftSpace+"px"),xShift+=textLeftSpace),textTop=$text.btPosition().top+numb($text.css("margin-top")),textLeft=$text.btPosition().left+numb($text.css("margin-left")),textRight=textLeft+$text.btOuterWidth(),textBottom=textTop+$text.outerHeight(),textCenter={x:textLeft+$text.btOuterWidth()*opts.centerPointX,y:textTop+$text.outerHeight()*opts.centerPointY},points[points.length]=spikePoint={x:.5*(textRight-textLeft)+xShift,y:shadowShiftY,type:"spike"},crossPoint=findIntersectX(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textTop),crossPoint.x=crossPoint.x<textLeft+opts.spikeGirth/2+opts.cornerRadius?textLeft+opts.spikeGirth/2+opts.cornerRadius:crossPoint.x,crossPoint.x=crossPoint.x>textRight-opts.spikeGirth/2-opts.cornerRadius?textRight-opts.spikeGirth/2-opts.cornerRadius:crossPoint.x,points[points.length]={x:crossPoint.x+opts.spikeGirth/2,y:textTop,type:"join"},points[points.length]={x:textRight,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textTop,type:"corner"},points[points.length]={x:crossPoint.x-opts.spikeGirth/2,y:textTop,type:"join"},points[points.length]=spikePoint;break;case"right":$text.css("margin-left",opts.spikeLength+"px"),$box.css({top:vert+"px",left:left+width-opts.overlap+"px"}),textBottomSpace=winBottom-opts.windowMargin-($text.offset().top+$text.outerHeight(!0));var yShift=shadowShiftY;textBottomSpace<0&&($box.css("top",numb($box.css("top"))+textBottomSpace+"px"),yShift-=textBottomSpace),textTopSpace=$text.offset().top+numb($text.css("margin-top"))-(scrollTop+opts.windowMargin),textTopSpace<0&&($box.css("top",numb($box.css("top"))-textTopSpace+"px"),yShift+=textTopSpace),textTop=$text.btPosition().top+numb($text.css("margin-top")),textLeft=$text.btPosition().left+numb($text.css("margin-left")),textRight=textLeft+$text.btOuterWidth(),textBottom=textTop+$text.outerHeight(),textCenter={x:textLeft+$text.btOuterWidth()*opts.centerPointX,y:textTop+$text.outerHeight()*opts.centerPointY},points[points.length]=spikePoint={x:shadowShiftX,y:.5*(textBottom-textTop)+yShift,type:"spike"},crossPoint=findIntersectY(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textLeft),crossPoint.y=crossPoint.y<textTop+opts.spikeGirth/2+opts.cornerRadius?textTop+opts.spikeGirth/2+opts.cornerRadius:crossPoint.y,crossPoint.y=crossPoint.y>textBottom-opts.spikeGirth/2-opts.cornerRadius?textBottom-opts.spikeGirth/2-opts.cornerRadius:crossPoint.y,points[points.length]={x:textLeft,y:crossPoint.y-opts.spikeGirth/2,type:"join"},points[points.length]={x:textLeft,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:crossPoint.y+opts.spikeGirth/2,type:"join"},points[points.length]=spikePoint}var canvas=document.createElement("canvas");if($(canvas).attr("width",numb($text.btOuterWidth(!0))+2*opts.strokeWidth+shadowMarginX).attr("height",numb($text.outerHeight(!0))+2*opts.strokeWidth+shadowMarginY).appendTo($box).css({position:"absolute",zIndex:opts.boxzIndex}),"undefined"!=typeof G_vmlCanvasManager&&(canvas=G_vmlCanvasManager.initElement(canvas)),opts.cornerRadius>0){for(var newPoints=new Array,newPoint,i=0;i<points.length;i++)"corner"==points[i].type?(newPoint=betweenPoint(points[i],points[(i-1)%points.length],opts.cornerRadius),newPoint.type="arcStart",newPoints[newPoints.length]=newPoint,newPoints[newPoints.length]=points[i],newPoint=betweenPoint(points[i],points[(i+1)%points.length],opts.cornerRadius),newPoint.type="arcEnd",newPoints[newPoints.length]=newPoint):newPoints[newPoints.length]=points[i];points=newPoints}var ctx=canvas.getContext("2d");if(opts.shadow&&!0!==opts.shadowOverlap){var shadowOverlap=numb(opts.shadowOverlap);switch(position){case"top":opts.shadowOffsetX+opts.shadowBlur-shadowOverlap>0&&$box.css("top",numb($box.css("top"))-(opts.shadowOffsetX+opts.shadowBlur-shadowOverlap));break;case"right":shadowShiftX-shadowOverlap>0&&$box.css("left",numb($box.css("left"))+shadowShiftX-shadowOverlap);break;case"bottom":shadowShiftY-shadowOverlap>0&&$box.css("top",numb($box.css("top"))+shadowShiftY-shadowOverlap);break;case"left":opts.shadowOffsetY+opts.shadowBlur-shadowOverlap>0&&$box.css("left",numb($box.css("left"))-(opts.shadowOffsetY+opts.shadowBlur-shadowOverlap))}}if(drawIt.apply(ctx,[points],opts.strokeWidth),ctx.fillStyle=opts.fill,opts.shadow&&(ctx.shadowOffsetX=opts.shadowOffsetX,ctx.shadowOffsetY=opts.shadowOffsetY,ctx.shadowBlur=opts.shadowBlur,ctx.shadowColor=opts.shadowColor),ctx.closePath(),ctx.fill(),opts.strokeWidth>0&&(ctx.shadowColor="rgba(0, 0, 0, 0)",ctx.lineWidth=opts.strokeWidth,ctx.strokeStyle=opts.strokeStyle,ctx.beginPath(),drawIt.apply(ctx,[points],opts.strokeWidth),ctx.closePath(),ctx.stroke()),opts.preShow.apply(this,[$box[0]]),$box.css({display:"none",visibility:"visible"}),opts.showTip.apply(this,[$box[0]]),opts.overlay){var overlay=$('<div class="bt-overlay"></div>').css({position:"absolute",backgroundColor:"blue",top:top,left:left,width:width,height:height,opacity:".2"}).appendTo(offsetParent);$(this).data("overlay",overlay)}(null!=opts.ajaxPath&&0==opts.ajaxCache||ajaxTimeout)&&(content=!1),opts.clickAnywhereToClose&&(jQuery.bt.vars.clickAnywhereStack.push(this),$(document).click(jQuery.bt.docClick)),opts.closeWhenOthersOpen&&jQuery.bt.vars.closeWhenOpenStack.push(this),opts.postShow.apply(this,[$box[0]])}},this.btOff=function(){var t=$(this).data("bt-box");opts.preHide.apply(this,[t]);var e=this;e.btCleanup=function(){var t=$(e).data("bt-box"),i=$(e).data("bt-content-orig"),n=$(e).data("bt-overlay");if("object"==typeof t&&($(t).remove(),$(e).removeData("bt-box")),"object"==typeof i){var r=$(i.original).data("bt-clones");$(i).data("bt-clones",arrayRemove(r,i.clone))}"object"==typeof n&&($(n).remove(),$(e).removeData("bt-overlay")),jQuery.bt.vars.clickAnywhereStack=arrayRemove(jQuery.bt.vars.clickAnywhereStack,e),jQuery.bt.vars.closeWhenOpenStack=arrayRemove(jQuery.bt.vars.closeWhenOpenStack,e),$(e).removeClass("bt-active "+opts.activeClass),opts.postHide.apply(e)},opts.hideTip.apply(this,[t,e.btCleanup])};var refresh=this.btRefresh=function(){this.btOff(),this.btOn()}}))},jQuery.fn.btPosition=function(){function t(t,e){return t[0]&&parseInt(jQuery.css(t[0],e,!0),10)||0}var e;if(this[0]){var i=this.offsetParent(),n=this.offset(),r=/^body|html$/i.test(i[0].tagName)?{top:0,left:0}:i.offset();n.top-=t(this,"marginTop"),n.left-=t(this,"marginLeft"),r.top+=t(i,"borderTopWidth"),r.left+=t(i,"borderLeftWidth"),e={top:n.top-r.top,left:n.left-r.left}}return e},jQuery.fn.btOuterWidth=function(t){function e(t,e){return t[0]&&parseInt(jQuery.css(t[0],e,!0),10)||0}return this.innerWidth()+e(this,"borderLeftWidth")+e(this,"borderRightWidth")+(t?e(this,"marginLeft")+e(this,"marginRight"):0)},jQuery.fn.btOn=function(){return this.each((function(){jQuery.isFunction(this.btOn)&&this.btOn()}))},jQuery.fn.btOff=function(){return this.each((function(){jQuery.isFunction(this.btOff)&&this.btOff()}))},jQuery.bt.vars={clickAnywhereStack:[],closeWhenOpenStack:[]},jQuery.bt.docClick=function(t){if(!t)t=window.event;!$(t.target).parents().andSelf().filter(".bt-wrapper, .bt-active").length&&jQuery.bt.vars.clickAnywhereStack.length&&($(jQuery.bt.vars.clickAnywhereStack).btOff(),$(document).unbind("click",jQuery.bt.docClick))},jQuery.bt.defaults={trigger:"hover",clickAnywhereToClose:!0,closeWhenOthersOpen:!1,shrinkToFit:!1,width:"200px",padding:"10px",spikeGirth:10,spikeLength:15,overlap:0,overlay:!1,killTitle:!0,textzIndex:9999,boxzIndex:9998,wrapperzIndex:9997,offsetParent:null,positions:["most"],fill:"rgb(255, 255, 102)",windowMargin:10,strokeWidth:1,strokeStyle:"#000",cornerRadius:5,centerPointX:.5,centerPointY:.5,shadow:!1,shadowOffsetX:2,shadowOffsetY:2,shadowBlur:3,shadowColor:"#000",shadowOverlap:!1,noShadowOpts:{strokeStyle:"#999"},cssClass:"",cssStyles:{},activeClass:"bt-active",contentSelector:"$(this).attr('title')",ajaxPath:null,ajaxError:"<strong>ERROR:</strong> <em>%error</em>",ajaxLoading:"<blink>Loading...</blink>",ajaxData:{},ajaxType:"GET",ajaxCache:!0,ajaxOpts:{},preBuild:function(){},preShow:function(){},showTip:function(t){$(t).show()},postShow:function(){},preHide:function(){},hideTip:function(t,e){$(t).hide(),e()},postHide:function(){},hoverIntentOpts:{interval:300,timeout:500}},jQuery.bt.options={}}(jQuery),function(t){function e(e,i){var n=document.createElementNS("http://www.w3.org/2000/svg",e||"svg");return i&&t.each(i,(function(t,e){n.setAttributeNS(null,t,e)})),t(n)}t.fn.activity=function(e){return this.each((function(){var r=t(this),o=r.data("activity");if(o&&(clearInterval(o.data("interval")),o.remove(),r.removeData("activity")),!1!==e){e=t.extend({color:r.css("color")},t.fn.activity.defaults,e),o=i(r,e).css("position","absolute").prependTo(e.outside?"body":r);var s=r.outerHeight()-o.height(),a=r.outerWidth()-o.width(),l={top:"top"==e.valign?e.padding:"bottom"==e.valign?s-e.padding:Math.floor(s/2),left:"left"==e.align?e.padding:"right"==e.align?a-e.padding:Math.floor(a/2)},c=r.offset();e.outside?o.css({top:c.top+"px",left:c.left+"px"}):(l.top-=o.offset().top-c.top,l.left-=o.offset().left-c.left),o.css({marginTop:l.top+"px",marginLeft:l.left+"px",zIndex:1082}),n(o,e.segments,Math.round(10/e.speed)/10),r.data("activity",o)}})),this},t.fn.activity.defaults={segments:12,space:3,length:7,width:4,speed:1.2,align:"center",valign:"center",padding:4},t.fn.activity.getOpacity=function(t,e){var i=t.steps||t.segments-1,n=void 0!==t.opacity?t.opacity:1/i;return 1-Math.min(e,i)*(1-n)/i};var i=function(){return t("<div>").addClass("busy")},n=function(){};if(document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)if(i=function(i,n){for(var r=2*n.width+n.space,o=r+n.length+Math.ceil(n.width/2)+1,s=e().width(2*o).height(2*o),a=e("g",{"stroke-width":n.width,"stroke-linecap":"round",stroke:n.color}).appendTo(e("g",{transform:"translate("+o+","+o+")"}).appendTo(s)),l=0;l<n.segments;l++)a.append(e("line",{x1:0,y1:r,x2:0,y2:r+n.length,transform:"rotate("+360/n.segments*l+", 0, 0)",opacity:t.fn.activity.getOpacity(n,l)}));return t("<div>").append(s).width(2*o).height(2*o)},void 0!==document.createElement("div").style.WebkitAnimationName){var r={};n=function(t,e,i){if(!r[e]){for(var n="spin"+e,o="@-webkit-keyframes "+n+" {",s=document.createElement("style"),a=0;a<e;a++){var l=Math.round(1e5/e*a)/1e3,c=Math.round(1e5/e*(a+1)-1)/1e3,u="% { -webkit-transform:rotate("+Math.round(360/e*a)+"deg); }\n";o+=l+u+c+u}o+="100% { -webkit-transform:rotate(100deg); }\n}",s.type="text/css",s.styleSheet?s.styleSheet.cssText=o:s.appendChild(document.createTextNode(o)),document.getElementsByTagName("head")[0].appendChild(s),r[e]=n}t.css("-webkit-animation",r[e]+" "+i+"s linear infinite")}}else n=function(t,e,i){var n=0,r=t.find("g g").get(0);t.data("interval",setInterval((function(){r.setAttributeNS(null,"transform","rotate("+ ++n%e*(360/e)+")")}),1e3*i/e))};else{var o=t("<shape>").css("behavior","url(#default#VML)").appendTo("body");if(o.get(0).adj){var s=document.createStyleSheet();t.each(["group","shape","stroke"],(function(){s.addRule(this,"behavior:url(#default#VML);")})),i=function(e,i){for(var n=2*i.width+i.space,r=2*(n+i.length+Math.ceil(i.width/2)+1),o=-Math.ceil(r/2),s=t("<group>",{coordsize:r+" "+r,coordorigin:o+" "+o}).css({top:o,left:o,width:r,height:r}),a=0;a<i.segments;a++)s.append(t("<shape>",{path:"m "+n+",0  l "+(n+i.length)+",0"}).css({width:r,height:r,rotation:360/i.segments*a+"deg"}).append(t("<stroke>",{color:i.color,weight:i.width+"px",endcap:"round",opacity:t.fn.activity.getOpacity(i,a)})));return t("<group>",{coordsize:r+" "+r}).css({width:r,height:r,overflow:"hidden"}).append(s)},n=function(t,e,i){var n=0,r=t.get(0);t.data("interval",setInterval((function(){r.style.rotation=++n%e*(360/e)}),1e3*i/e))}}t(o).remove()}}(jQuery),function(t){t.fn.mask=function(e,i){t(this).each((function(){if(void 0!==i&&i>0){var n=t(this);n.data("_mask_timeout",setTimeout((function(){t.maskElement(n,e)}),i))}else t.maskElement(t(this),e)}))},t.fn.unmask=function(){t(this).each((function(){t.unmaskElement(t(this))}))},t.fn.isMasked=function(){return this.hasClass("masked")},t.maskElement=function(e,i){void 0!==e.data("_mask_timeout")&&(clearTimeout(e.data("_mask_timeout")),e.removeData("_mask_timeout")),e.isMasked()&&t.unmaskElement(e),"static"==e.css("position")&&e.addClass("masked-relative"),e.addClass("masked");var n=t('<div class="loadmask"></div>');if(navigator.userAgent.toLowerCase().indexOf("msie")>-1&&(n.height(e.height()+parseInt(e.css("padding-top"))+parseInt(e.css("padding-bottom"))),n.width(e.width()+parseInt(e.css("padding-left"))+parseInt(e.css("padding-right")))),navigator.userAgent.toLowerCase().indexOf("msie 6")>-1&&e.find("select").addClass("masked-hidden"),e.append(n),void 0!==i){var r=t('<div class="loadmask-msg" style="display:none;"></div>');r.append("<div>"+i+"</div>"),e.append(r),r.css("top",Math.round(e.height()/2-(r.height()-parseInt(r.css("padding-top"))-parseInt(r.css("padding-bottom")))/2)+"px"),r.css("left",Math.round(e.width()/2-(r.width()-parseInt(r.css("padding-left"))-parseInt(r.css("padding-right")))/2)+"px"),r.show()}},t.unmaskElement=function(t){void 0!==t.data("_mask_timeout")&&(clearTimeout(t.data("_mask_timeout")),t.removeData("_mask_timeout")),t.find(".loadmask-msg,.loadmask").remove(),t.removeClass("masked"),t.removeClass("masked-relative"),t.find("select").removeClass("masked-hidden")}}(jQuery),function(t,e,i){var n="function",r="password",o="maxLength",s="type",a="",l=!0,c="placeholder",u=!1,d="watermark",h=d,p="watermarkClass",f="watermarkFocus",g="watermarkSubmit",m="watermarkMaxLength",v="watermarkPassword",y="watermarkText",b=/\r/g,_="input:data("+h+"),textarea:data("+h+")",w="input:text,input:password,input[type=search],input:not([type]),textarea",x=["Page_ClientValidate"],$=u,C=c in document.createElement("input");t.watermark=t.watermark||{version:"3.1.3",runOnce:l,options:{className:d,useNative:l,hideBeforeUnload:l},hide:function(e){t(e).filter(_).each((function(){t.watermark._hide(t(this))}))},_hide:function(t,i){var n=t[0],r=(n.value||a).replace(b,a),l=t.data(y)||a,c=t.data(m)||0,u=t.data(p);if(l.length&&r==l){if(n.value=a,t.data(v)&&"text"===(t.attr(s)||a)){var d=t.data(v)||[],h=t.parent()||[];d.length&&h.length&&(h[0].removeChild(t[0]),h[0].appendChild(d[0]),t=d)}c&&(t.attr(o,c),t.removeData(m)),i&&(t.attr("autocomplete","off"),e.setTimeout((function(){t.select()}),1))}u&&t.removeClass(u)},show:function(e){t(e).filter(_).each((function(){t.watermark._show(t(this))}))},_show:function(e){var i=e[0],n=(i.value||a).replace(b,a),c=e.data(y)||a,u=e.attr(s)||a,d=e.data(p);if(0!=n.length&&n!=c||e.data(f))t.watermark._hide(e);else{if($=l,e.data(v)&&u===r){var h=e.data(v)||[],g=e.parent()||[];h.length&&g.length&&(g[0].removeChild(e[0]),g[0].appendChild(h[0]),(e=h).attr(o,c.length),i=e[0])}if("text"===u||"search"===u){var _=e.attr(o)||0;_>0&&c.length>_&&(e.data(m,_),e.attr(o,c.length))}d&&e.addClass(d),i.value=c}},hideAll:function(){$&&(t.watermark.hide(w),$=u)},showAll:function(){t.watermark.show(w)}},t.fn.watermark=t.fn.watermark||function(i,d){var m="string";if(!this.length)return this;var _=u,x=typeof i===m;return x&&(i=i.replace(b,a)),"object"==typeof d?(_=typeof d.className===m,d=t.extend({},t.watermark.options,d)):typeof d===m?(_=l,d=t.extend({},t.watermark.options,{className:d})):d=t.watermark.options,typeof d.useNative!==n&&(d.useNative=d.useNative?function(){return l}:function(){return u}),this.each((function(){var n="dragleave",u="dragenter",m=this,$=t(m);if($.is(w)){if($.data(h))(x||_)&&(t.watermark._hide($),x&&$.data(y,i),_&&$.data(p,d.className));else{if(C&&d.useNative.call(m,$)&&"TEXTAREA"!==($.attr("tagName")||a))return void(x&&$.attr(c,i));if($.data(y,x?i:a),$.data(p,d.className),$.data(h,1),($.attr(s)||a)===r){var k=$.wrap("<span>").parent(),S=t(k.html().replace(/type=["']?password["']?/i,'type="text"'));S.data(y,$.data(y)),S.data(p,$.data(p)),S.data(h,1),S.attr(o,i.length),S.focus((function(){t.watermark._hide(S,l)})).bind(u,(function(){t.watermark._hide(S)})).bind("dragend",(function(){e.setTimeout((function(){S.blur()}),1)})),$.blur((function(){t.watermark._show($)})).bind(n,(function(){t.watermark._show($)})),S.data(v,$),$.data(v,S)}else $.focus((function(){$.data(f,1),t.watermark._hide($,l)})).blur((function(){$.data(f,0),t.watermark._show($)})).bind(u,(function(){t.watermark._hide($)})).bind(n,(function(){t.watermark._show($)})).bind("dragend",(function(){e.setTimeout((function(){t.watermark._show($)}),1)})).bind("drop",(function(t){var e=$[0],i=t.originalEvent.dataTransfer.getData("Text");(e.value||a).replace(b,a).replace(i,a)===$.data(y)&&(e.value=i),$.focus()}));if(m.form){var j=m.form,T=t(j);T.data(g)||(T.submit(t.watermark.hideAll),j.submit?(T.data(g,j.submit),j.submit=function(e,i){return function(){var n=i.data(g);t.watermark.hideAll(),n.apply?n.apply(e,Array.prototype.slice.call(arguments)):n()}}(j,T)):(T.data(g,1),j.submit=function(e){return function(){t.watermark.hideAll(),delete e.submit,e.submit()}}(j)))}}t.watermark._show($)}}))},t.watermark.runOnce&&(t.watermark.runOnce=u,t.extend(t.expr[":"],{data:function(e,i,n){return!!t.data(e,n[3])}}),function(e){t.fn.val=function(){var n=this;if(!n.length)return arguments.length?n:i;if(arguments.length)return e.apply(n,arguments),t.watermark.show(n),n;if(n.data(h)){var r=(n[0].value||a).replace(b,a);return r===(n.data(y)||a)?a:r}return e.apply(n,arguments)}}(t.fn.val),x.length&&t((function(){for(var i,r,o=x.length-1;o>=0;o--)i=x[o],typeof(r=e[i])===n&&(e[i]=function(e){return function(){return t.watermark.hideAll(),e.apply(null,Array.prototype.slice.call(arguments))}}(r))})),t(e).bind("beforeunload",(function(){t.watermark.options.hideBeforeUnload&&t.watermark.hideAll()})))}(jQuery,window),function(){function t(){var t,e,i=arguments,n={},r=function(t,e){var i,n;for(n in"object"!=typeof t&&(t={}),e)e.hasOwnProperty(n)&&(i=e[n],t[n]=i&&"object"==typeof i&&"[object Array]"!==Object.prototype.toString.call(i)&&"renderTo"!==n&&"number"!=typeof i.nodeType?r(t[n]||{},i):e[n]);return t};for(!0===i[0]&&(n=i[1],i=Array.prototype.slice.call(i,2)),e=i.length,t=0;t<e;t++)n=r(n,i[t]);return n}function e(t,e){return parseInt(t,e||10)}function i(t){return"string"==typeof t}function n(t){return t&&"object"==typeof t}function r(t){return"[object Array]"===Object.prototype.toString.call(t)}function o(t){return"number"==typeof t}function s(t){return ot.log(t)/ot.LN10}function a(t){return ot.pow(10,t)}function l(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}}function c(t){return t!==E&&null!==t}function u(t,e,r){var o,s;if(i(e))c(r)?t.setAttribute(e,r):t&&t.getAttribute&&(s=t.getAttribute(e));else if(c(e)&&n(e))for(o in e)t.setAttribute(o,e[o]);return s}function d(t){return r(t)?t:[t]}function h(t,e){yt&&!Ct&&e&&e.opacity!==E&&(e.filter="alpha(opacity="+100*e.opacity+")"),qt(t.style,e)}function p(t,e,i,n,r){return t=nt.createElement(t),e&&qt(t,e),r&&h(t,{padding:0,border:Pt,margin:0}),i&&h(t,i),n&&n.appendChild(t),t}function f(t,e){var i=function(){return E};return i.prototype=new t,qt(i.prototype,e),i}function g(t,e){return Array((e||2)+1-String(t).length).join(0)+t}function m(t){return 6e4*(W&&W(t)||B||0)}function v(t,e){for(var i,n,r,o,s,a="{",l=!1,c=[];-1!==(a=t.indexOf(a));){if(i=t.slice(0,a),l){for(s=(r=(n=i.split(":")).shift().split(".")).length,i=e,o=0;o<s;o++)i=i[r[o]];n.length&&(n=n.join(":"),r=/\.([0-9])/,o=M.lang,s=void 0,/f$/.test(n)?(s=(s=n.match(r))?s[1]:-1,null!==i&&(i=it.numberFormat(i,s,o.decimalPoint,n.indexOf(",")>-1?o.thousandsSep:""))):i=R(n,i))}c.push(i),t=t.slice(a+1),a=(l=!l)?"}":"{"}return c.push(t),c.join("")}function y(t){return ot.pow(10,at(ot.log(t)/ot.LN10))}function b(t,e,i,n,r){var o,s=t;for(o=t/(i=Lt(i,1)),e||(e=[1,2,2.5,5,10],!1===n&&(1===i?e=[1,2,5,10]:i<=.1&&(e=[1/i]))),n=0;n<e.length&&(s=e[n],!(r&&s*i>=t||!r&&o<=(e[n]+(e[n+1]||e[n]))/2));n++);return s*=i}function _(t,e){var i,n,r=t.length;for(n=0;n<r;n++)t[n].ss_i=n;for(t.sort((function(t,n){return 0===(i=e(t,n))?t.ss_i-n.ss_i:i})),n=0;n<r;n++)delete t[n].ss_i}function w(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i}function x(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i}function $(t,e){for(var i in t)t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i]}function C(t){F||(F=p(Et)),t&&F.appendChild(t),F.innerHTML=""}function k(t,e){var i="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e)throw i;rt.console&&console.log(i)}function S(t){return parseFloat(t.toPrecision(14))}function j(t,e){N=Lt(t,e.animation)}function T(){var t=M.global,e=t.useUTC,i=e?"getUTC":"get",n=e?"setUTC":"set";z=t.Date||window.Date,B=e&&t.timezoneOffset,W=e&&t.getTimezoneOffset,H=function(t,i,n,r,o,s){var a;return e?(a=z.UTC.apply(0,arguments),a+=m(a)):a=new z(t,i,Lt(n,1),Lt(r,0),Lt(o,0),Lt(s,0)).getTime(),a},G=i+"Minutes",U=i+"Hours",V=i+"Day",Q=i+"Date",Y=i+"Month",X=i+"FullYear",K=n+"Minutes",J=n+"Hours",Z=n+"Date",tt=n+"Month",et=n+"FullYear"}function A(){}function D(t,e,i,n){this.axis=t,this.pos=e,this.type=i||"",this.isNew=!0,!i&&!n&&this.addLabel()}function I(t,e,i,n,r){var o=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=n,this.total=null,this.points={},this.stack=r,this.alignOptions={align:e.align||(o?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":i?"bottom":"top"),y:Lt(e.y,o?4:i?14:-6),x:Lt(e.x,o?i?-6:6:0)},this.textAlign=e.textAlign||(o?i?"right":"left":"center")}var E,P,O,F,M,R,N,q,L,z,H,B,W,G,U,V,Q,Y,X,K,J,Z,tt,et,it,nt=document,rt=window,ot=Math,st=ot.round,at=ot.floor,lt=ot.ceil,ct=ot.max,ut=ot.min,dt=ot.abs,ht=ot.cos,pt=ot.sin,ft=ot.PI,gt=2*ft/360,mt=navigator.userAgent,vt=rt.opera,yt=/(msie|trident)/i.test(mt)&&!vt,bt=8===nt.documentMode,_t=/AppleWebKit/.test(mt),wt=/Firefox/.test(mt),xt=/(Mobile|Android|Windows Phone)/.test(mt),$t="http://www.w3.org/2000/svg",Ct=!!nt.createElementNS&&!!nt.createElementNS($t,"svg").createSVGRect,kt=wt&&parseInt(mt.split("Firefox/")[1],10)<4,St=!Ct&&!yt&&!!nt.createElement("canvas").getContext,jt={},Tt=0,At=function(){return E},Dt=[],It=0,Et="div",Pt="none",Ot=/^[0-9]+$/,Ft=["plotTop","marginRight","marginBottom","plotLeft"],Mt="stroke-width",Rt={};(it=rt.Highcharts=rt.Highcharts?k(16,!0):{}).seriesTypes=Rt;var Nt,qt=it.extend=function(t,e){var i;for(i in t||(t={}),e)t[i]=e[i];return t},Lt=it.pick=function(){var t,e,i=arguments,n=i.length;for(t=0;t<n;t++)if((e=i[t])!==E&&null!==e)return e},zt=it.wrap=function(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(n),i.apply(this,t)}};R=function(t,e,i){if(!c(e)||isNaN(e))return"Invalid date";t=Lt(t,"%Y-%m-%d %H:%M:%S");var n,r=(h=new z(e-m(e)))[U](),o=h[V](),s=h[Q](),a=h[Y](),l=h[X](),u=M.lang,d=u.weekdays,h=qt({a:d[o].substr(0,3),A:d[o],d:g(s),e:s,w:o,b:u.shortMonths[a],B:u.months[a],m:g(a+1),y:l.toString().substr(2,2),Y:l,H:g(r),I:g(r%12||12),l:r%12||12,M:g(h[G]()),p:r<12?"AM":"PM",P:r<12?"am":"pm",S:g(h.getSeconds()),L:g(st(e%1e3),3)},it.dateFormats);for(n in h)for(;-1!==t.indexOf("%"+n);)t=t.replace("%"+n,"function"==typeof h[n]?h[n](e):h[n]);return i?t.substr(0,1).toUpperCase()+t.substr(1):t},L={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,
week:6048e5,month:24192e5,year:314496e5},it.numberFormat=function(t,i,n,r){var o=M.lang,s=(t=+t||0,-1===i?ut((t.toString().split(".")[1]||"").length,20):isNaN(i=dt(i))?2:i),a=(i=void 0===n?o.decimalPoint:n,r=void 0===r?o.thousandsSep:r,o=t<0?"-":"",(n=String(e(t=dt(t).toFixed(s)))).length>3?n.length%3:0);return o+(a?n.substr(0,a)+r:"")+n.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+r)+(s?i+dt(t-n).toFixed(s).slice(2):"")},q={init:function(t,e,i){e=e||"";var n,r,o,s=t.shift,a=e.indexOf("C")>-1,l=a?7:3,c=(e=e.split(" "),i=[].concat(i),function(t){for(n=t.length;n--;)"M"===t[n]&&t.splice(n+1,0,t[n+1],t[n+2],t[n+1],t[n+2])});if(a&&(c(e),c(i)),t.isArea&&(r=e.splice(e.length-6,6),o=i.splice(i.length-6,6)),s<=i.length/l&&e.length===i.length)for(;s--;)i=[].concat(i).splice(0,l).concat(i);if(t.shift=0,e.length)for(t=i.length;e.length<t;)s=[].concat(e).splice(e.length-l,l),a&&(s[l-6]=s[l-2],s[l-5]=s[l-1]),e=e.concat(s);return r&&(e=e.concat(r),i=i.concat(o)),[e,i]},step:function(t,e,i,n){var r=[],o=t.length;if(1===i)r=n;else if(o===e.length&&i<1)for(;o--;)n=parseFloat(t[o]),r[o]=isNaN(n)?t[o]:i*parseFloat(e[o]-n)+n;else r=e;return r}},Nt=rt.jQuery,rt.HighchartsAdapter=rt.HighchartsAdapter||Nt&&{init:function(t){var e=Nt.fx;Nt.extend(Nt.easing,{easeOutQuad:function(t,e,i,n,r){return-n*(e/=r)*(e-2)+i}}),Nt.each(["cur","_default","width","height","opacity"],(function(t,i){var n,r=e.step;"cur"===i?r=e.prototype:"_default"===i&&Nt.Tween&&(r=Nt.Tween.propHooks[i],i="set"),(n=r[i])&&(r[i]=function(e){var r;if("align"!==(e=t?e:this).prop)return(r=e.elem).attr?r.attr(e.prop,"cur"===i?E:e.now):n.apply(this,arguments)})})),zt(Nt.cssHooks.opacity,"get",(function(t,e,i){return e.attr?e.opacity||0:t.call(this,e,i)})),this.addAnimSetter("d",(function(e){var i,n=e.elem;e.started||(i=t.init(n,n.d,n.toD),e.start=i[0],e.end=i[1],e.started=!0),n.attr("d",t.step(e.start,e.end,e.pos,n.toD))})),this.each=Array.prototype.forEach?function(t,e){return Array.prototype.forEach.call(t,e)}:function(t,e){var i,n=t.length;for(i=0;i<n;i++)if(!1===e.call(t[i],t[i],i,t))return i},Nt.fn.highcharts=function(){var t,e,n="Chart",r=arguments;return this[0]&&(i(r[0])&&(n=r[0],r=Array.prototype.slice.call(r,1)),(t=r[0])!==E&&(t.chart=t.chart||{},t.chart.renderTo=this[0],new it[n](t,r[1]),e=this),t===E&&(e=Dt[u(this[0],"data-highcharts-chart")])),e}},addAnimSetter:function(t,e){Nt.Tween?Nt.Tween.propHooks[t]={set:e}:Nt.fx.step[t]=e},getScript:Nt.getScript,inArray:Nt.inArray,adapterRun:function(t,e){return Nt(t)[e]()},grep:Nt.grep,map:function(t,e){for(var i=[],n=0,r=t.length;n<r;n++)i[n]=e.call(t[n],t[n],n,t);return i},offset:function(t){return Nt(t).offset()},addEvent:function(t,e,i){Nt(t).bind(e,i)},removeEvent:function(t,e,i){var n=nt.removeEventListener?"removeEventListener":"detachEvent";nt[n]&&t&&!t[n]&&(t[n]=function(){}),Nt(t).unbind(e,i)},fireEvent:function(t,e,i,n){var r,o=Nt.Event(e),s="detached"+e;!yt&&i&&(delete i.layerX,delete i.layerY,delete i.returnValue),qt(o,i),t[e]&&(t[s]=t[e],t[e]=null),Nt.each(["preventDefault","stopPropagation"],(function(t,e){var i=o[e];o[e]=function(){try{i.call(o)}catch(t){"preventDefault"===e&&(r=!0)}}})),Nt(t).trigger(o),t[s]&&(t[e]=t[s],t[s]=null),n&&!o.isDefaultPrevented()&&!r&&n(o)},washMouseEvent:function(t){var e=t.originalEvent||t;return e.pageX===E&&(e.pageX=t.pageX,e.pageY=t.pageY),e},animate:function(t,e,i){var n=Nt(t);t.style||(t.style={}),e.d&&(t.toD=e.d,e.d=1),n.stop(),e.opacity!==E&&t.attr&&(e.opacity+="px"),t.hasAnim=1,n.animate(e,i)},stop:function(t){t.hasAnim&&Nt(t).stop()}};var Ht=(ne=rt.HighchartsAdapter)||{};ne&&ne.init.call(ne,q);var Bt=Ht.adapterRun,Wt=Ht.getScript,Gt=Ht.inArray,Ut=it.each=Ht.each,Vt=Ht.grep,Qt=Ht.offset,Yt=Ht.map,Xt=Ht.addEvent,Kt=Ht.removeEvent,Jt=Ht.fireEvent,Zt=Ht.washMouseEvent,te=Ht.animate,ee=Ht.stop,ie=(M={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#2b908f,#f45b5b,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.1.3/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.1.3/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":it.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Ct,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\xe2\u2014\x8f</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:xt?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}}).plotOptions,ne=ie.line;T();var re=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,oe=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,se=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,ae=function(i){var n,r,s=[];return function(t){t&&t.stops?r=Yt(t.stops,(function(t){return ae(t[1])})):(n=re.exec(t))?s=[e(n[1]),e(n[2]),e(n[3]),parseFloat(n[4],10)]:(n=oe.exec(t))?s=[e(n[1],16),e(n[2],16),e(n[3],16),1]:(n=se.exec(t))&&(s=[e(n[1]),e(n[2]),e(n[3]),1])}(i),{get:function(e){var n;return r?((n=t(i)).stops=[].concat(n.stops),Ut(r,(function(t,i){n.stops[i]=[n.stops[i][0],t.get(e)]}))):n=s&&!isNaN(s[0])?"rgb"===e?"rgb("+s[0]+","+s[1]+","+s[2]+")":"a"===e?s[3]:"rgba("+s.join(",")+")":i,n},brighten:function(t){if(r)Ut(r,(function(e){e.brighten(t)}));else if(o(t)&&0!==t){var i;for(i=0;i<3;i++)s[i]+=e(255*t),s[i]<0&&(s[i]=0),s[i]>255&&(s[i]=255)}return this},rgba:s,setOpacity:function(t){return s[3]=t,this}}};A.prototype={opacity:1,textProps:"fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration,textShadow".split(","),init:function(t,e){this.element="span"===e?p(e):nt.createElementNS($t,e),this.renderer=t},animate:function(e,i,n){return i=Lt(i,N,!0),ee(this),i?(i=t(i,{}),n&&(i.complete=n),te(this,e,i)):(this.attr(e),n&&n()),this},colorGradient:function(e,i,n){var o,s,a,l,u,d,h,p,f,g,m=this.renderer,v=[];if(e.linearGradient?s="linearGradient":e.radialGradient&&(s="radialGradient"),s){for(g in a=e[s],l=m.gradients,d=e.stops,f=n.radialReference,r(a)&&(e[s]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===s&&f&&!c(a.gradientUnits)&&(a=t(a,{cx:f[0]-f[2]/2+a.cx*f[2],cy:f[1]-f[2]/2+a.cy*f[2],r:a.r*f[2],gradientUnits:"userSpaceOnUse"})),a)"id"!==g&&v.push(g,a[g]);for(g in d)v.push(d[g]);l[v=v.join(",")]?e=l[v].attr("id"):(a.id=e="highcharts-"+Tt++,l[v]=u=m.createElement(s).attr(a).add(m.defs),u.stops=[],Ut(d,(function(t){0===t[1].indexOf("rgba")?(o=ae(t[1]),h=o.get("rgb"),p=o.get("a")):(h=t[1],p=1),t=m.createElement("stop").attr({offset:t[0],"stop-color":h,"stop-opacity":p}).add(u),u.stops.push(t)}))),n.setAttribute(i,"url("+m.url+"#"+e+")")}},applyTextShadow:function(t){var i,n=this.element,r=-1!==t.indexOf("contrast"),o=this.renderer.forExport||n.style.textShadow!==E&&!yt;r&&(t=t.replace(/contrast/g,this.renderer.getContrast(n.style.fill))),o?r&&h(n,{textShadow:t}):(this.fakeTS=!0,this.ySetter=this.xSetter,i=[].slice.call(n.getElementsByTagName("tspan")),Ut(t.split(/\s?,\s?/g),(function(t){var r,o,s=n.firstChild;t=t.split(" ");r=t[t.length-1],(o=t[t.length-2])&&Ut(i,(function(t,i){var a;0===i&&(t.setAttribute("x",n.getAttribute("x")),i=n.getAttribute("y"),t.setAttribute("y",i||0),null===i&&n.setAttribute("y",0)),u(a=t.cloneNode(1),{class:"highcharts-text-shadow",fill:r,stroke:r,"stroke-opacity":1/ct(e(o),3),"stroke-width":o,"stroke-linejoin":"round"}),n.insertBefore(a,s)}))})))},attr:function(t,e){var i,n,r,o,s=this.element,a=this;if("string"==typeof t&&e!==E&&(i=t,(t={})[i]=e),"string"==typeof t)a=(this[t+"Getter"]||this._defaultGetter).call(this,t,s);else{for(i in t)n=t[i],o=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i)&&(r||(this.symbolAttr(t),r=!0),o=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),o||(this[i+"Setter"]||this._defaultSetter).call(this,n,i,s),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,n);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return a},updateShadows:function(t,e){for(var i=this.shadows,n=i.length;n--;)i[n].setAttribute(t,"height"===t?ct(e-(i[n].cutHeight||0),0):"d"===t?this.d:e)},addClass:function(t){var e=this.element,i=u(e,"class")||"";return-1===i.indexOf(t)&&u(e,"class",i+" "+t),this},symbolAttr:function(t){var e=this;Ut("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),(function(i){e[i]=Lt(t[i],e[i])})),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":Pt)},crisp:function(t){var e,i,n={},r=t.strokeWidth||this.strokeWidth||0;for(e in i=st(r)%2/2,t.x=at(t.x||this.x||0)+i,t.y=at(t.y||this.y||0)+i,t.width=at((t.width||this.width||0)-2*i),t.height=at((t.height||this.height||0)-2*i),t.strokeWidth=r,t)this[e]!==t[e]&&(this[e]=n[e]=t[e]);return n},css:function(t){var i,n,r=this.styles,o={},s=this.element,a="";if(i=!r,t&&t.color&&(t.fill=t.color),r)for(n in t)t[n]!==r[n]&&(o[n]=t[n],i=!0);if(i){if(i=this.textWidth=t&&t.width&&"text"===s.nodeName.toLowerCase()&&e(t.width)||this.textWidth,r&&(t=qt(r,o)),this.styles=t,i&&(St||!Ct&&this.renderer.forExport)&&delete t.width,yt&&!Ct)h(this.element,t);else{for(n in r=function(t,e){return"-"+e.toLowerCase()},t)a+=n.replace(/([A-Z])/g,r)+":"+t[n]+";";u(s,"style",a)}i&&this.added&&this.renderer.buildText(this)}return this},on:function(t,e){var i=this,n=i.element;return O&&"click"===t?(n.ontouchstart=function(t){i.touchEventFired=z.now(),t.preventDefault(),e.call(n,t)},n.onclick=function(t){(-1===mt.indexOf("Android")||z.now()-(i.touchEventFired||0)>1100)&&e.call(n,t)}):n["on"+t]=e,this},setRadialReference:function(t){return this.element.radialReference=t,this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,i=this.scaleX,n=this.scaleY,r=this.inverted,o=this.rotation,s=this.element;r&&(t+=this.attr("width"),e+=this.attr("height")),t=["translate("+t+","+e+")"],r?t.push("rotate(90) scale(-1,1)"):o&&t.push("rotate("+o+" "+(s.getAttribute("x")||0)+" "+(s.getAttribute("y")||0)+")"),(c(i)||c(n))&&t.push("scale("+Lt(i,1)+" "+Lt(n,1)+")"),t.length&&s.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,n){var r,o,s,a,c={};return s=(o=this.renderer).alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!n||i(n))&&(this.alignTo=r=n||"renderer",l(s,this),s.push(this),n=null)):(t=this.alignOptions,e=this.alignByTranslate,r=this.alignTo),n=Lt(n,o[r],o),r=t.align,o=t.verticalAlign,s=(n.x||0)+(t.x||0),a=(n.y||0)+(t.y||0),"right"!==r&&"center"!==r||(s+=(n.width-(t.width||0))/{right:1,center:2}[r]),c[e?"translateX":"x"]=st(s),"bottom"!==o&&"middle"!==o||(a+=(n.height-(t.height||0))/({bottom:1,middle:2}[o]||1)),c[e?"translateY":"y"]=st(a),this[this.placed?"animate":"attr"](c),this.placed=!0,this.alignAttr=c,this},getBBox:function(t){var e,i,n=this.renderer,r=this.rotation,o=this.element,s=this.styles,a=r*gt;i=this.textStr;var l,c,u,d=o.style;if(i!==E&&(u=["",r||0,s&&s.fontSize,o.style.width].join(","),u=""===i||Ot.test(i)?"num:"+i.toString().length+u:i+u),u&&!t&&(e=n.cache[u]),!e){if(o.namespaceURI===$t||n.forExport){try{c=this.fakeTS&&function(t){Ut(o.querySelectorAll(".highcharts-text-shadow"),(function(e){e.style.display=t}))},wt&&d.textShadow?(l=d.textShadow,d.textShadow=""):c&&c(Pt),e=o.getBBox?qt({},o.getBBox()):{width:o.offsetWidth,height:o.offsetHeight},l?d.textShadow=l:c&&c("")}catch(t){}(!e||e.width<0)&&(e={width:0,height:0})}else e=this.htmlGetBBox();n.isSVG&&(t=e.width,i=e.height,yt&&s&&"11px"===s.fontSize&&"16.9"===i.toPrecision(3)&&(e.height=i=14),r&&(e.width=dt(i*pt(a))+dt(t*ht(a)),e.height=dt(i*ht(a))+dt(t*pt(a)))),n.cache[u]=e}return e},show:function(t){return t&&this.element.namespaceURI===$t?this.element.removeAttribute("visibility"):this.attr({visibility:t?"inherit":"visible"}),this},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,i=this.renderer,n=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(n),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,i=this,n=i.element||{},r=i.shadows,o=i.renderer.isSVG&&"SPAN"===n.nodeName&&i.parentGroup;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=n.point=null,ee(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(e=0;e<i.stops.length;e++)i.stops[e]=i.stops[e].destroy();i.stops=null}for(i.safeRemoveChild(n),r&&Ut(r,(function(t){i.safeRemoveChild(t)}));o&&o.div&&0===o.div.childNodes.length;)n=o.parentGroup,i.safeRemoveChild(o.div),delete o.div,o=n;for(t in i.alignTo&&l(i.renderer.alignedObjects,i),i)delete i[t];return null},shadow:function(t,e,i){var n,r,o,s,a,l,c=[],d=this.element;if(t){for(s=Lt(t.width,3),a=(t.opacity||.15)/s,l=this.parentInverted?"(-1,-1)":"("+Lt(t.offsetX,1)+", "+Lt(t.offsetY,1)+")",n=1;n<=s;n++)o=2*s+1-2*n,u(r=d.cloneNode(0),{isShadow:"true",stroke:t.color||"black","stroke-opacity":a*n,"stroke-width":o,transform:"translate"+l,fill:Pt}),i&&(u(r,"height",ct(u(r,"height")-o,0)),r.cutHeight=o),e?e.element.appendChild(r):d.parentNode.insertBefore(r,d),c.push(r);this.shadows=c}return this},xGetter:function(t){return"circle"===this.element.nodeName&&(t={x:"cx",y:"cy"}[t]||t),this._defaultGetter(t)},_defaultGetter:function(t){return t=Lt(this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,i){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),i.setAttribute(e,t),this[e]=t},dashstyleSetter:function(t){var i;if(t=t&&t.toLowerCase()){for(i=(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",")).length;i--;)t[i]=e(t[i])*this["stroke-width"];t=t.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,i){this[e]=t,i.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=nt.createElementNS($t,"title"),this.element.appendChild(e)),e.textContent=String(Lt(t),"").replace(/<[^>]*>/g,"")},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,i){"string"==typeof t?i.setAttribute(e,t):t&&this.colorGradient(t,e,i)},zIndexSetter:function(t,i){var n,r,o,s,a=this.renderer,l=this.parentGroup,d=(a=(l||a).element||a.box,this.element);if(c(t)&&(d.setAttribute(i,t),this[i]=+t),this.added){for((t=this.zIndex)&&l&&(l.handleZ=!0),l=a.childNodes,s=0;s<l.length&&!o;s++)r=u(n=l[s],"zIndex"),n!==d&&(e(r)>t||!c(t)&&c(r))&&(a.insertBefore(d,n),o=!0);o||a.appendChild(d)}return o},_defaultSetter:function(t,e,i){i.setAttribute(e,t)}},A.prototype.yGetter=A.prototype.xGetter,A.prototype.translateXSetter=A.prototype.translateYSetter=A.prototype.rotationSetter=A.prototype.verticalAlignSetter=A.prototype.scaleXSetter=A.prototype.scaleYSetter=function(t,e){this[e]=t,this.doTransform=!0},A.prototype["stroke-widthSetter"]=A.prototype.strokeSetter=function(t,e,i){this[e]=t,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],A.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===e&&0===t&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)};var le,ce=function(){this.init.apply(this,arguments)};if(ce.prototype={Element:A,init:function(t,e,i,n,r){var o,s,a=location;o=(n=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(n))).element,t.appendChild(o),-1===t.innerHTML.indexOf("xmlns")&&u(o,"xmlns",$t),this.isSVG=!0,this.box=o,this.boxWrapper=n,this.alignedObjects=[],this.url=(wt||_t)&&nt.getElementsByTagName("base").length?a.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(nt.createTextNode("Created with Highcharts 4.1.3")),this.defs=this.createElement("defs").add(),this.forExport=r,this.gradients={},this.cache={},this.setSize(e,i,!1),wt&&t.getBoundingClientRect&&(this.subPixelFix=e=function(){h(t,{left:0,top:0}),s=t.getBoundingClientRect(),h(t,{left:lt(s.left)-s.left+"px",top:lt(s.top)-s.top+"px"})},e(),Xt(rt,"resize",e))},getStyle:function(t){return this.style=qt({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),$(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.subPixelFix&&Kt(rt,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},buildText:function(t){for(var i,n,r=t.element,o=this,s=o.forExport,a=Lt(t.textStr,"").toString(),l=-1!==a.indexOf("<"),c=r.childNodes,d=u(r,"x"),p=t.styles,f=t.textWidth,g=p&&p.lineHeight,m=p&&p.textShadow,v=p&&"ellipsis"===p.textOverflow,y=c.length,b=f&&!t.added&&this.box,_=function(t){return g?e(g):o.fontMetrics(/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:p&&p.fontSize||o.style.fontSize||12,t).h},w=function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")};y--;)r.removeChild(c[y]);l||m||v||-1!==a.indexOf(" ")?(i=/<.*style="([^"]+)".*>/,n=/<.*href="(http[^"]+)".*>/,b&&b.appendChild(r),""===(a=l?a.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[a])[a.length-1]&&a.pop(),Ut(a,(function(e,a){var l,c=0;e=e.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");l=e.split("|||"),Ut(l,(function(e){if(""!==e||1===l.length){var g,m={},y=nt.createElementNS($t,"tspan");if(i.test(e)&&u(y,"style",g=e.match(i)[1].replace(/(;| |^)color([ :])/,"$1fill$2")),n.test(e)&&!s&&(u(y,"onclick",'location.href="'+e.match(n)[1]+'"'),h(y,{cursor:"pointer"}))," "!==(e=w(e.replace(/<(.|\n)*?>/g,"")||" "))){if(y.appendChild(nt.createTextNode(e)),c?m.dx=0:a&&null!==d&&(m.x=d),u(y,m),r.appendChild(y),!c&&a&&(!Ct&&s&&h(y,{display:"block"}),u(y,"dy",_(y))),f){m=e.replace(/([^\^])-/g,"$1- ").split(" ");for(var b,x,$,C=l.length>1||a||m.length>1&&"nowrap"!==p.whiteSpace,k=[],S=_(y),j=t.rotation,T=e,A=T.length;(C||v)&&(m.length||k.length);)t.rotation=0,$=(b=t.getBBox(!0)).width,!Ct&&o.forExport&&($=o.measureSpanWidth(y.firstChild.data,t.styles)),b=$>f,void 0===x&&(x=b),v&&x?(A/=2,""===T||!b&&A<.5?m=[]:(b&&(x=!0),m=[(T=e.substring(0,T.length+(b?-1:1)*lt(A)))+"\xe2\u20ac\xa6"],y.removeChild(y.firstChild))):b&&1!==m.length?(y.removeChild(y.firstChild),k.unshift(m.pop())):(m=k,k=[],m.length&&(u(y=nt.createElementNS($t,"tspan"),{dy:S,x:d}),g&&u(y,"style",g),r.appendChild(y)),$>f&&(f=$)),m.length&&y.appendChild(nt.createTextNode(m.join(" ").replace(/- /g,"-")));x&&t.attr("title",t.textStr),t.rotation=j}c++}}}))})),b&&b.removeChild(r),m&&t.applyTextShadow&&t.applyTextShadow(m)):r.appendChild(nt.createTextNode(w(a)))},getContrast:function(t){return(t=ae(t).rgba)[0]+t[1]+t[2]>384?"#000":"#FFF"},button:function(e,i,n,r,o,s,a,l,c){var u,d,h,p,f,g,m=this.label(e,i,n,c,null,null,null,null,"button"),v=0;o=t({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:e={x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},o);return h=o.style,delete o.style,s=t(o,{stroke:"#68A",fill:{linearGradient:e,stops:[[0,"#FFF"],[1,"#ACF"]]}},s),p=s.style,delete s.style,a=t(o,{stroke:"#68A",fill:{linearGradient:e,stops:[[0,"#9BD"],[1,"#CDF"]]}},a),f=a.style,delete a.style,l=t(o,{style:{color:"#CCC"}},l),g=l.style,delete l.style,Xt(m.element,yt?"mouseover":"mouseenter",(function(){3!==v&&m.attr(s).css(p)})),Xt(m.element,yt?"mouseout":"mouseleave",(function(){3!==v&&(u=[o,s,a][v],d=[h,p,f][v],m.attr(u).css(d))})),m.setState=function(t){(m.state=v=t)?2===t?m.attr(a).css(f):3===t&&m.attr(l).css(g):m.attr(o).css(h)},m.on("click",(function(){3!==v&&r.call(m)})).attr(o).css(qt({cursor:"default"},h))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=st(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=st(t[2])+e%2/2),t},path:function(t){var e={fill:Pt};return r(t)?e.d=t:n(t)&&qt(e,t),this.createElement("path").attr(e)},circle:function(t,e,i){return t=n(t)?t:{x:t,y:e,r:i},(e=this.createElement("circle")).xSetter=function(t){this.element.setAttribute("cx",t)},e.ySetter=function(t){this.element.setAttribute("cy",t)},e.attr(t)},arc:function(t,e,i,r,o,s){return n(t)&&(e=t.y,i=t.r,r=t.innerR,o=t.start,s=t.end,t=t.x),(t=this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:r||0,start:o||0,end:s||0})).r=i,t},rect:function(t,e,i,r,o,s){o=n(t)?t.r:o;var a=this.createElement("rect");t=n(t)?t:t===E?{}:{x:t,y:e,width:ct(i,0),height:ct(r,0)};return s!==E&&(t.strokeWidth=s,t=a.crisp(t)),o&&(t.r=o),a.rSetter=function(t){u(this.element,{rx:t,ry:t})},a.attr(t)},setSize:function(t,e,i){var n=this.alignedObjects,r=n.length;for(this.width=t,this.height=e,this.boxWrapper[Lt(i,!0)?"animate":"attr"]({width:t,height:e});r--;)n[r].align()},g:function(t){var e=this.createElement("g");return c(t)?e.attr({class:"highcharts-"+t}):e},image:function(t,e,i,n,r){var o={preserveAspectRatio:Pt};return arguments.length>1&&qt(o,{x:e,y:i,width:n,height:r}),(o=this.createElement("image").attr(o)).element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):o.element.setAttribute("hc-svg-href",t),o},symbol:function(t,e,i,n,r,o){var s,a,l,c,u=/^url\((.*?)\)$/;return(a=(a=this.symbols[t])&&a(st(e),st(i),n,r,o))?(s=this.path(a),qt(s,{symbolName:t,x:e,y:i,width:n,height:r}),o&&qt(s,o)):u.test(t)&&(c=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(st((n-e[0])/2),st((r-e[1])/2)))},l=t.match(u)[1],t=jt[l]||o&&o.width&&o.height&&[o.width,o.height],(s=this.image(l).attr({x:e,y:i})).isImg=!0,t?c(s,t):(s.attr({width:0,height:0}),p("img",{onload:function(){c(s,jt[l]=[this.width,this.height])},src:l}))),s},symbols:{circle:function(t,e,i,n){var r=.166*i;return["M",t+i/2,e,"C",t+i+r,e,t+i+r,e+n,t+i/2,e+n,"C",t-r,e+n,t-r,e,t+i/2,e,"Z"]},square:function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,r){var o=r.start,s=(i=r.r||i||n,r.end-.001),a=(n=r.innerR,r.open),l=ht(o),c=pt(o),u=ht(s);s=pt(s);return["M",t+i*l,e+i*c,"A",i,i,0,r=r.end-o<ft?0:1,1,t+i*u,e+i*s,a?"M":"L",t+n*u,e+n*s,"A",n,n,0,r,0,t+n*l,e+n*c,a?"":"Z"]},callout:function(t,e,i,n,r){var o=ut(r&&r.r||0,i,n),s=o+6,a=r&&r.anchorX,l=r&&r.anchorY;return r=["M",(t+=r=st(r.strokeWidth||0)%2/2)+o,e+=r,"L",t+i-o,e,"C",t+i,e,t+i,e,t+i,e+o,"L",t+i,e+n-o,"C",t+i,e+n,t+i,e+n,t+i-o,e+n,"L",t+o,e+n,"C",t,e+n,t,e+n,t,e+n-o,"L",t,e+o,"C",t,e,t,e,t+o,e],a&&a>i&&l>e+s&&l<e+n-s?r.splice(13,3,"L",t+i,l-6,t+i+6,l,t+i,l+6,t+i,e+n-o):a&&a<0&&l>e+s&&l<e+n-s?r.splice(33,3,"L",t,l+6,t-6,l,t,l-6,t,e+o):l&&l>n&&a>t+s&&a<t+i-s?r.splice(23,3,"L",a+6,e+n,a,e+n+6,a-6,e+n,t+o,e+n):l&&l<0&&a>t+s&&a<t+i-s&&r.splice(3,3,"L",a-6,e,a,e-6,a+6,e,i-o,e),r}},clipRect:function(t,e,i,n){var r="highcharts-"+Tt++,o=this.createElement("clipPath").attr({id:r}).add(this.defs);return(t=this.rect(t,e,i,n,0).add(o)).id=r,t.clipPath=o,t.count=0,t},text:function(t,e,i,n){var r=St||!Ct&&this.forExport,o={};return n&&!this.forExport?this.html(t,e,i):(o.x=Math.round(e||0),i&&(o.y=Math.round(i)),(t||0===t)&&(o.text=t),t=this.createElement("text").attr(o),r&&t.css({position:"absolute"}),n||(t.xSetter=function(t,e,i){var n,r,o=i.getElementsByTagName("tspan"),s=i.getAttribute(e);for(r=0;r<o.length;r++)(n=o[r]).getAttribute(e)===s&&n.setAttribute(e,t);i.setAttribute(e,t)}),t)},fontMetrics:function(t,i){t=t||this.style.fontSize,i&&rt.getComputedStyle&&(i=i.element||i,t=rt.getComputedStyle(i,"").fontSize);var n=(t=/px/.test(t)?e(t):/em/.test(t)?12*parseFloat(t):12)<24?t+3:st(1.2*t);return{h:n,b:st(.8*n),f:t}},rotCorr:function(t,e,i){var n=t;return e&&i&&(n=ct(n*ht(e*gt),4)),{x:-t/3*pt(e*gt),y:n}},label:function(e,i,n,r,o,s,a,l,u){function d(){var t,e;t=C.element.style,g=(void 0===m||void 0===v||$.styles.textAlign)&&c(C.textStr)&&C.getBBox(),$.width=(m||g.width||0)+2*S+j,$.height=(v||g.height||0)+2*S,_=S+x.fontMetrics(t&&t.fontSize,C).b,w&&(f||(t=st(-k*S),e=l?-_:0,$.box=f=r?x.symbol(r,t,e,$.width,$.height,D):x.rect(t,e,$.width,$.height,0,D[Mt]),f.attr("fill",Pt).add($)),f.isImg||f.attr(qt({width:st($.width),height:st($.height)},D)),D=null)}function h(){var t,e=(e=$.styles)&&e.textAlign,i=j+S*(1-k);t=l?0:_,c(m)&&g&&("center"===e||"right"===e)&&(i+={center:.5,right:1}[e]*(m-g.width)),i===C.x&&t===C.y||(C.attr("x",i),t!==E&&C.attr("y",t)),C.x=i,C.y=t}function p(t,e){f?f.attr(t,e):D[t]=e}var f,g,m,v,y,b,_,w,x=this,$=x.g(u),C=x.text("",0,0,a).attr({zIndex:1}),k=0,S=3,j=0,T=0,D={};$.onAdd=function(){C.add($),$.attr({text:e||0===e?e:"",x:i,y:n}),f&&c(o)&&$.attr({anchorX:o,anchorY:s})},$.widthSetter=function(t){m=t},$.heightSetter=function(t){v=t},$.paddingSetter=function(t){c(t)&&t!==S&&(S=$.padding=t,h())},$.paddingLeftSetter=function(t){c(t)&&t!==j&&(j=t,h())},$.alignSetter=function(t){k={left:0,center:.5,right:1}[t]},$.textSetter=function(t){t!==E&&C.textSetter(t),d(),h()},$["stroke-widthSetter"]=function(t,e){t&&(w=!0),T=t%2/2,p(e,t)},$.strokeSetter=$.fillSetter=$.rSetter=function(t,e){"fill"===e&&t&&(w=!0),p(e,t)},$.anchorXSetter=function(t,e){o=t,p(e,t+T-y)},$.anchorYSetter=function(t,e){s=t,p(e,t-b)},$.xSetter=function(t){$.x=t,k&&(t-=k*((m||g.width)+S)),y=st(t),$.attr("translateX",y)},$.ySetter=function(t){b=$.y=st(t),$.attr("translateY",b)};var I=$.css;return qt($,{css:function(e){if(e){var i={};e=t(e);Ut($.textProps,(function(t){e[t]!==E&&(i[t]=e[t],delete e[t])})),C.css(i)}return I.call($,e)},getBBox:function(){return{width:g.width+2*S,height:g.height+2*S,x:g.x-S,y:g.y-S}},shadow:function(t){return f&&f.shadow(t),$},destroy:function(){Kt($.element,"mouseenter"),Kt($.element,"mouseleave"),C&&(C=C.destroy()),f&&(f=f.destroy()),A.prototype.destroy.call($),$=x=d=h=p=null}})}},P=ce,qt(A.prototype,{htmlCss:function(t){var e=this.element;return(e=t&&"SPAN"===e.tagName&&t.width)&&(delete t.width,this.textWidth=e,this.updateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=qt(this.styles,t),h(this.element,t),this},htmlGetBBox:function(){var t=this.element;return"text"===t.nodeName&&(t.style.position="absolute"),{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,i=this.element,n=this.translateX||0,r=this.translateY||0,o=this.x||0,s=this.y||0,a=this.textAlign||"left",l={left:0,center:.5,right:1}[a],u=this.shadows,d=this.styles;if(h(i,{marginLeft:n,marginTop:r}),u&&Ut(u,(function(t){h(t,{marginLeft:n+1,marginTop:r+1})})),this.inverted&&Ut(i.childNodes,(function(e){t.invertChild(e,i)})),"SPAN"===i.tagName){var p,f=this.rotation,g=e(this.textWidth),m=[f,a,i.innerHTML,this.textWidth].join(",");m!==this.cTT&&(p=t.fontMetrics(i.style.fontSize).b,c(f)&&this.setSpanRotation(f,l,p),(u=Lt(this.elemWidth,i.offsetWidth))>g&&/[ \-]/.test(i.textContent||i.innerText)&&(h(i,{width:g+"px",display:"block",whiteSpace:d&&d.whiteSpace||"normal"}),u=g),this.getSpanCorrection(u,p,l,f,a)),h(i,{left:o+(this.xCorr||0)+"px",top:s+(this.yCorr||0)+"px"}),_t&&(p=i.offsetHeight),this.cTT=m}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,i){var n={},r=yt?"-ms-transform":_t?"-webkit-transform":wt?"MozTransform":vt?"-o-transform":"";n[r]=n.transform="rotate("+t+"deg)",n[r+(wt?"Origin":"-origin")]=n.transformOrigin=100*e+"% "+i+"px",h(this.element,n)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),qt(ce.prototype,{html:function(t,e,i){var n=this.createElement("span"),r=n.element,o=n.renderer;return n.textSetter=function(t){t!==r.innerHTML&&delete this.bBox,r.innerHTML=this.textStr=t},n.xSetter=n.ySetter=n.alignSetter=n.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),n[e]=t,n.htmlUpdateTransform()},n.attr({text:t,x:st(e),y:st(i)}).css({position:"absolute",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),r.style.whiteSpace="nowrap",n.css=n.htmlCss,o.isSVG&&(n.add=function(t){var e,i=o.box.parentNode,s=[];if(this.parentGroup=t){if(!(e=t.div)){for(;t;)s.push(t),t=t.parentGroup;Ut(s.reverse(),(function(t){var n;e=t.div=t.div||p(Et,{className:u(t.element,"class")},{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px"},e||i),n=e.style,qt(t,{translateXSetter:function(e,i){n.left=e+"px",t[i]=e,t.doTransform=!0},translateYSetter:function(e,i){n.top=e+"px",t[i]=e,t.doTransform=!0},visibilitySetter:function(t,e){n[e]=t}})}))}}else e=i;return e.appendChild(r),n.added=!0,n.alignOnAdd&&n.htmlUpdateTransform(),n}),n}}),!Ct&&!St){Ht={init:function(t,e){var i=["<",e,' filled="f" stroked="f"'],n=["position: ","absolute",";"],r=e===Et;("shape"===e||r)&&n.push("left:0;top:0;width:1px;height:1px;"),n.push("visibility: ",r?"hidden":"visible"),i.push(' style="',n.join(""),'"/>'),e&&(i=r||"span"===e||"img"===e?i.join(""):t.prepVML(i),this.element=p(i)),this.renderer=t},add:function(t){
var e=this.renderer,i=this.element,n=e.box;n=t?t.element||t:n;return t&&t.inverted&&e.invertChild(i,n),n.appendChild(i),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:A.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=ht(t*gt),i=pt(t*gt);h(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-i,", M21=",i,", M22=",e,", sizingMethod='auto expand')"].join(""):Pt})},getSpanCorrection:function(t,e,i,n,r){var o,s=n?ht(n*gt):1,a=n?pt(n*gt):0,l=Lt(this.elemHeight,this.element.offsetHeight);this.xCorr=s<0&&-t,this.yCorr=a<0&&-l,o=s*a<0,this.xCorr+=a*e*(o?1-i:i),this.yCorr-=s*e*(n?o?i:1-i:1),r&&"left"!==r&&(this.xCorr-=t*i*(s<0?-1:1),n&&(this.yCorr-=l*i*(a<0?-1:1)),h(this.element,{textAlign:r}))},pathToVML:function(t){for(var e=t.length,i=[];e--;)o(t[e])?i[e]=st(10*t[e])-5:"Z"===t[e]?i[e]="x":(i[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(i[e+5]===i[e+7]&&(i[e+7]+=t[e+7]>t[e+5]?1:-1),i[e+6]===i[e+8]&&(i[e+8]+=t[e+8]>t[e+6]?1:-1)));return i.join(" ")||"x"},clip:function(t){var e,i=this;return t?(l(e=t.members,i),e.push(i),i.destroyClip=function(){l(e,i)},t=t.getCSS(i)):(i.destroyClip&&i.destroyClip(),t={clip:bt?"inherit":"rect(auto)"}),i.css(t)},css:A.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&C(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),A.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=rt.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,i){var n;return 9!==(n=(t=t.split(/[ ,]/)).length)&&11!==n||(t[n-4]=t[n-2]=e(t[n-2])-10*i),t.join(" ")},shadow:function(t,i,n){var r,o,s,a,l,c,u,d=[],h=this.element,f=this.renderer,g=h.style,m=h.path;if(m&&"string"!=typeof m.value&&(m="x"),l=m,t){for(c=Lt(t.width,3),u=(t.opacity||.15)/c,r=1;r<=3;r++)a=2*c+1-2*r,n&&(l=this.cutOffPath(m.value,a+.5)),s=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',l,'" coordsize="10 10" style="',h.style.cssText,'" />'],o=p(f.prepVML(s),null,{left:e(g.left)+Lt(t.offsetX,1),top:e(g.top)+Lt(t.offsetY,1)}),n&&(o.cutOff=a+1),s=['<stroke color="',t.color||"black",'" opacity="',u*r,'"/>'],p(f.prepVML(s),null,null,o),i?i.element.appendChild(o):h.parentNode.insertBefore(o,h),d.push(o);this.shadows=d}return this},updateShadows:At,setAttr:function(t,e){bt?this.element[t]=e:this.element.setAttribute(t,e)},classSetter:function(t){this.element.className=t},dashstyleSetter:function(t,e,i){(i.getElementsByTagName("stroke")[0]||p(this.renderer.prepVML(["<stroke/>"]),null,null,i))[e]=t||"solid",this[e]=t},dSetter:function(t,e,i){var n=this.shadows;t=t||[];if(this.d=t.join&&t.join(" "),i.path=t=this.pathToVML(t),n)for(i=n.length;i--;)n[i].path=n[i].cutOff?this.cutOffPath(t,n[i].cutOff):t;this.setAttr(e,t)},fillSetter:function(t,e,i){var n=i.nodeName;"SPAN"===n?i.style.color=t:"IMG"!==n&&(i.filled=t!==Pt,this.setAttr("fillcolor",this.renderer.color(t,i,e,this)))},opacitySetter:At,rotationSetter:function(t,e,i){i=i.style,this[e]=i[e]=t,i.left=-st(pt(t*gt)+1)+"px",i.top=st(ht(t*gt))+"px"},strokeSetter:function(t,e,i){this.setAttr("strokecolor",this.renderer.color(t,i,e))},"stroke-widthSetter":function(t,e,i){i.stroked=!!t,this[e]=t,o(t)&&(t+="px"),this.setAttr("strokeweight",t)},titleSetter:function(t,e){this.setAttr(e,t)},visibilitySetter:function(t,e,i){"inherit"===t&&(t="visible"),this.shadows&&Ut(this.shadows,(function(i){i.style[e]=t})),"DIV"===i.nodeName&&(t="hidden"===t?"-999em":0,bt||(i.style[e]=t?"visible":"hidden"),e="top"),i.style[e]=t},xSetter:function(t,e,i){this[e]=t,"x"===e?e="left":"y"===e&&(e="top"),this.updateClipping?(this[e]=t,this.updateClipping()):i.style[e]=t},zIndexSetter:function(t,e,i){i.style[e]=t}},it.VMLElement=Ht=f(A,Ht),Ht.prototype.ySetter=Ht.prototype.widthSetter=Ht.prototype.heightSetter=Ht.prototype.xSetter;var ue={Element:Ht,isIE8:mt.indexOf("MSIE 8.0")>-1,init:function(t,e,i,n){var r;if(this.alignedObjects=[],r=(n=this.createElement(Et).css(qt(this.getStyle(n),{position:"relative"}))).element,t.appendChild(n.element),this.isVML=!0,this.box=r,this.boxWrapper=n,this.cache={},this.setSize(e,i,!1),!nt.namespaces.hcv){nt.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{nt.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(t){nt.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,e,i,r){var o=this.createElement(),s=n(t);return qt(o,{members:[],count:0,left:(s?t.x:t)+1,top:(s?t.y:e)+1,width:(s?t.width:i)-1,height:(s?t.height:r)-1,getCSS:function(t){var e=(r=t.element).nodeName,i=(t=t.inverted,this.top-("shape"===e?r.offsetTop:0)),n=this.left,r=n+this.width,o=i+this.height;i={clip:"rect("+st(t?n:i)+"px,"+st(t?o:r)+"px,"+st(t?r:o)+"px,"+st(t?i:n)+"px)"};return!t&&bt&&"DIV"===e&&qt(i,{width:r+"px",height:o+"px"}),i},updateClipping:function(){Ut(o.members,(function(t){t.element&&t.css(o.getCSS(t))}))}})},color:function(t,e,i,n){var r,o,s,a=this,l=/^rgba/,c=Pt;if(t&&t.linearGradient?s="gradient":t&&t.radialGradient&&(s="pattern"),s){var u,d,h,f,g,m,v,y,b=t.linearGradient||t.radialGradient,_="",w=(t=t.stops,[]),x=function(){o=['<fill colors="'+w.join(",")+'" opacity="',g,'" o:opacity2="',f,'" type="',s,'" ',_,'focus="100%" method="any" />'],p(a.prepVML(o),null,null,e)};if(h=t[0],y=t[t.length-1],h[0]>0&&t.unshift([0,h[1]]),y[0]<1&&t.push([1,y[1]]),Ut(t,(function(t,e){l.test(t[1])?(r=ae(t[1]),u=r.get("rgb"),d=r.get("a")):(u=t[1],d=1),w.push(100*t[0]+"% "+u),e?(g=d,m=u):(f=d,v=u)})),"fill"===i)if("gradient"===s)i=b.x1||b[0]||0,t=b.y1||b[1]||0,h=b.x2||b[2]||0,b=b.y2||b[3]||0,_='angle="'+(90-180*ot.atan((b-t)/(h-i))/ft)+'"',x();else{var $,C=2*(c=b.r),k=2*c,S=b.cx,j=b.cy,T=e.radialReference;c=function(){T&&($=n.getBBox(),S+=(T[0]-$.x)/$.width-.5,j+=(T[1]-$.y)/$.height-.5,C*=T[2]/$.width,k*=T[2]/$.height),_='src="'+M.global.VMLRadialGradientURL+'" size="'+C+","+k+'" origin="0.5,0.5" position="'+S+","+j+'" color2="'+v+'" ',x()};n.added?c():n.onAdd=c,c=m}else c=u}else l.test(t)&&"IMG"!==e.tagName?(r=ae(t),o=["<",i,' opacity="',r.get("a"),'"/>'],p(this.prepVML(o),null,null,e),c=r.get("rgb")):((c=e.getElementsByTagName(i)).length&&(c[0].opacity=1,c[0].type="solid"),c=t);return c},prepVML:function(t){var e=this.isIE8;t=t.join("");return e?t=-1===(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />')).indexOf('style="')?t.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):t.replace('style="','style="display:inline-block;behavior:url(#default#VML);'):t=t.replace("<","<hcv:"),t},text:ce.prototype.html,path:function(t){var e={coordsize:"10 10"};return r(t)?e.d=t:n(t)&&qt(e,t),this.createElement("shape").attr(e)},circle:function(t,e,i){var r=this.symbol("circle");return n(t)&&(i=t.r,e=t.y,t=t.x),r.isCircle=!0,r.r=i,r.attr({x:t,y:e})},g:function(t){var e;return t&&(e={className:"highcharts-"+t,class:"highcharts-"+t}),this.createElement(Et).attr(e)},image:function(t,e,i,n,r){var o=this.createElement("img").attr({src:t});return arguments.length>1&&o.attr({x:e,y:i,width:n,height:r}),o},createElement:function(t){return"rect"===t?this.symbol(t):ce.prototype.createElement.call(this,t)},invertChild:function(t,i){var n=this,r=i.style,o="IMG"===t.tagName&&t.style;h(t,{flip:"x",left:e(r.width)-(o?e(o.top):1),top:e(r.height)-(o?e(o.left):1),rotation:-90}),Ut(t.childNodes,(function(e){n.invertChild(e,t)}))},symbols:{arc:function(t,e,i,n,r){var o=r.start,s=r.end,a=r.r||i||n,l=(i=r.innerR,n=ht(o),pt(o)),c=ht(s),u=pt(s);return s-o==0?["x"]:(o=["wa",t-a,e-a,t+a,e+a,t+a*n,e+a*l,t+a*c,e+a*u],r.open&&!i&&o.push("e","M",t,e),o.push("at",t-i,e-i,t+i,e+i,t+i*c,e+i*u,t+i*n,e+i*l,"x","e"),o.isArc=!0,o)},circle:function(t,e,i,n,r){return r&&(i=n=2*r.r),r&&r.isCircle&&(t-=i/2,e-=n/2),["wa",t,e,t+i,e+n,t+i,e+n/2,t+i,e+n/2,"e"]},rect:function(t,e,i,n,r){return ce.prototype.symbols[c(r)&&r.r?"callout":"square"].call(0,t,e,i,n,r)}}};it.VMLRenderer=Ht=function(){this.init.apply(this,arguments)},Ht.prototype=t(ce.prototype,ue),P=Ht}ce.prototype.measureSpanWidth=function(t,e){var i,n=nt.createElement("span");return i=nt.createTextNode(t),n.appendChild(i),h(n,e),this.box.appendChild(n),i=n.offsetWidth,C(n),i},St&&(it.CanVGRenderer=Ht=function(){$t="http://www.w3.org/1999/xhtml"},Ht.prototype.symbols={},le=function(){function t(){var t,i=e.length;for(t=0;t<i;t++)e[t]();e=[]}var e=[];return{push:function(i,n){0===e.length&&Wt(n,t),e.push(i)}}}(),P=Ht),D.prototype={addLabel:function(){var e,i=this.axis,n=i.options,r=i.chart,o=i.categories,s=i.names,l=this.pos,u=n.labels,d=l===(p=i.tickPositions)[0],h=l===p[p.length-1],p=(s=o?Lt(o[l],s[l],l):l,o=this.label,p.info);i.isDatetimeAxis&&p&&(e=n.dateTimeLabelFormats[p.higherRanks[l]||p.unitName]),this.isFirst=d,this.isLast=h,n=i.labelFormatter.call({axis:i,chart:r,isFirst:d,isLast:h,dateTimeLabelFormat:e,value:i.isLog?S(a(s)):s}),c(o)?o&&o.attr({text:n}):(this.labelLength=(this.label=o=c(n)&&u.enabled?r.renderer.text(n,0,0,u.useHTML).css(t(u.style)).add(i.labelGroup):null)&&o.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,i=this.axis,n=t.x,r=i.chart.chartWidth,o=i.chart.spacing,s=Lt(i.labelLeft,o[3]),a=(o=Lt(i.labelRight,r-o[1]),this.label),l=this.rotation,c={left:0,center:.5,right:1}[i.labelAlign],u=a.getBBox().width;i=i.slotWidth;l?l<0&&n-c*u<s?e=st(n/ht(l*gt)-s):l>0&&n+c*u>o&&(e=st((r-n)/ht(l*gt))):(r=n-c*u,n+=c*u,r<s?(i-=s-r,t.x=s,a.attr({align:"left"})):n>o&&(i-=n-o,t.x=o,a.attr({align:"right"})),u>i&&(e=i)),e&&a.css({width:e,textOverflow:"ellipsis"})},getPosition:function(t,e,i,n){var r=this.axis,o=r.chart,s=n&&o.oldChartHeight||o.chartHeight;return{x:t?r.translate(e+i,null,null,n)+r.transB:r.left+r.offset+(r.opposite?(n&&o.oldChartWidth||o.chartWidth)-r.right-r.left:0),y:t?s-r.bottom+r.offset-(r.opposite?r.height:0):s-r.translate(e+i,null,null,n)-r.transB}},getLabelPosition:function(t,e,i,n,r,o,s,a){var l=this.axis,c=l.transA,u=l.reversed,d=l.staggerLines,h=l.tickRotCorr||{x:0,y:0};i=Lt(r.y,h.y+(2===l.side?8:-i.getBBox().height/2)),t=t+r.x+h.x-(o&&n?o*c*(u?-1:1):0),e=e+i-(o&&!n?o*c*(u?1:-1):0);return d&&(e+=s/(a||1)%d*(l.labelOffset/d)),{x:t,y:st(e)}},getMarkPath:function(t,e,i,n,r,o){return o.crispLine(["M",t,e,"L",t+(r?0:-i),e+(r?i:0)],n)},render:function(t,e,i){var n=this.axis,r=n.options,o=n.chart.renderer,s=n.horiz,a=this.type,l=this.label,c=this.pos,u=r.labels,d=this.gridLine,h=a?a+"Tick":"tick",p=r[(v=a?a+"Grid":"grid")+"LineWidth"],f=r[v+"LineColor"],g=r[v+"LineDashStyle"],m=r[h+"Length"],v=r[h+"Width"]||0,y=r[h+"Color"],b=r[h+"Position"],_=(h=this.mark,u.step),w=!0,x=n.tickmarkOffset,$=(C=this.getPosition(s,c,x,e)).x,C=C.y,k=s&&$===n.pos+n.len||!s&&C===n.pos?-1:1;i=Lt(i,1);this.isActive=!0,p&&(c=n.getPlotLinePath(c+x,p*k,e,!0),d===E&&(d={stroke:f,"stroke-width":p},g&&(d.dashstyle=g),a||(d.zIndex=1),e&&(d.opacity=0),this.gridLine=d=p?o.path(c).attr(d).add(n.gridGroup):null),!e&&d&&c&&d[this.isNew?"attr":"animate"]({d:c,opacity:i})),v&&m&&("inside"===b&&(m=-m),n.opposite&&(m=-m),a=this.getMarkPath($,C,m,v*k,s,o),h?h.animate({d:a,opacity:i}):this.mark=o.path(a).attr({stroke:y,"stroke-width":v,opacity:i}).add(n.axisGroup)),l&&!isNaN($)&&(l.xy=C=this.getLabelPosition($,C,l,s,u,x,t,_),this.isFirst&&!this.isLast&&!Lt(r.showFirstLabel,1)||this.isLast&&!this.isFirst&&!Lt(r.showLastLabel,1)?w=!1:s&&!n.isRadial&&!u.step&&!u.rotation&&!e&&0!==i&&this.handleOverflow(C),_&&t%_&&(w=!1),w&&!isNaN(C.y)?(C.opacity=i,l[this.isNew?"attr":"animate"](C),this.isNew=!1):l.attr("y",-9999))},destroy:function(){$(this,this.axis)}},it.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},it.PlotLineOrBand.prototype={render:function(){var e,i=this,n=i.axis,r=n.horiz,o=i.options,a=o.label,l=i.label,u=o.width,d=o.to,h=o.from,p=c(h)&&c(d),f=o.value,g=o.dashStyle,m=i.svgElem,v=[],y=o.color,b=o.zIndex,_=o.events,$={},C=n.chart.renderer;if(n.isLog&&(h=s(h),d=s(d),f=s(f)),u)v=n.getPlotLinePath(f,u),$={stroke:y,"stroke-width":u},g&&($.dashstyle=g);else{if(!p)return;v=n.getPlotBandPath(h,d,o),y&&($.fill=y),o.borderWidth&&($.stroke=o.borderColor,$["stroke-width"]=o.borderWidth)}if(c(b)&&($.zIndex=b),m)v?m.animate({d:v},null,m.onGetPath):(m.hide(),m.onGetPath=function(){m.show()},l&&(i.label=l=l.destroy()));else if(v&&v.length&&(i.svgElem=m=C.path(v).attr($).add(),_))for(e in o=function(t){m.on(t,(function(e){_[t].apply(i,[e])}))},_)o(e);return a&&c(a.text)&&v&&v.length&&n.width>0&&n.height>0?(a=t({align:r&&p&&"center",x:r?!p&&4:10,verticalAlign:!r&&p&&"middle",y:r?p?16:10:p?6:-4,rotation:r&&!p&&90},a),l||($={align:a.textAlign||a.align,rotation:a.rotation},c(b)&&($.zIndex=b),i.label=l=C.text(a.text,0,0,a.useHTML).attr($).css(a.style).add()),n=[v[1],v[4],p?v[6]:v[1]],p=[v[2],v[5],p?v[7]:v[2]],v=w(n),r=w(p),l.align(a,!1,{x:v,y:r,width:x(n)-v,height:x(p)-r}),l.show()):l&&l.hide(),i},destroy:function(){l(this.axis.plotLinesAndBands,this),delete this.axis,$(this)}};var de=it.Axis=function(){this.init.apply(this,arguments)};de.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return it.numberFormat(this.total,-1)},style:t(ie.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(t,e){var i=e.isX;this.horiz=t.inverted?!i:i,this.coll=(this.isXAxis=i)?"xAxis":"yAxis",this.opposite=e.opposite,this.side=e.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(e);var n=(o=this.options).type;this.labelFormatter=o.labels.formatter||this.defaultLabelFormatter,this.userOptions=e,this.minPixelPadding=0,this.chart=t,this.reversed=o.reversed,this.zoomEnabled=!1!==o.zoomEnabled,this.categories=o.categories||"category"===n,this.names=this.names||[],this.isLog="logarithmic"===n,this.isDatetimeAxis="datetime"===n,this.isLinked=c(o.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=o.minRange||o.maxZoom,this.range=o.range,this.offset=o.offset||0,this.stacks={},this.oldStacks={},this.min=this.max=null,this.crosshair=Lt(o.crosshair,d(t.options.tooltip.crosshairs)[i?0:1],!1);var r,o=this.options.events;for(r in-1===Gt(this,t.axes)&&(i&&!this.isColorAxis?t.axes.splice(t.xAxis.length,0,this):t.axes.push(this),t[this.coll].push(this)),this.series=this.series||[],t.inverted&&i&&this.reversed===E&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine,o)Xt(this,r,o[r]);this.isLog&&(this.val2lin=s,this.lin2val=a)},setOptions:function(e){this.options=t(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],t(M[this.coll],e))},defaultLabelFormatter:function(){var t,e=this.axis,i=this.value,n=e.categories,r=this.dateTimeLabelFormat,o=M.lang.numericSymbols,s=o&&o.length,a=e.options.labels.format;e=e.isLog?i:e.tickInterval;if(a)t=v(a,this);else if(n)t=i;else if(r)t=R(r,i);else if(s&&e>=1e3)for(;s--&&t===E;)e>=(n=Math.pow(1e3,s+1))&&null!==o[s]&&(t=it.numberFormat(i/n,-1)+o[s]);return t===E&&(t=dt(i)>=1e4?it.numberFormat(i,0):it.numberFormat(i,-1,E,"")),t},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.ignoreMinPadding=t.ignoreMaxPadding=null,t.buildStacks&&t.buildStacks(),Ut(t.series,(function(i){var n,r;!i.visible&&e.options.chart.ignoreHiddenSeries||(n=i.options.threshold,t.hasVisibleSeries=!0,t.isLog&&n<=0&&(n=null),t.isXAxis?(n=i.xData).length&&(t.dataMin=ut(Lt(t.dataMin,n[0]),w(n)),t.dataMax=ct(Lt(t.dataMax,n[0]),x(n))):(i.getExtremes(),r=i.dataMax,c(i=i.dataMin)&&c(r)&&(t.dataMin=ut(Lt(t.dataMin,i),i),t.dataMax=ct(Lt(t.dataMax,r),r)),c(n)&&(t.dataMin>=n?(t.dataMin=n,t.ignoreMinPadding=!0):t.dataMax<n&&(t.dataMax=n,t.ignoreMaxPadding=!0))))}))},translate:function(t,e,i,n,r,s){var a=1,l=0,c=n?this.oldTransA:this.transA,u=(n=n?this.oldMin:this.min,this.minPixelPadding);r=(this.doPostTranslate||this.isLog&&r)&&this.lin2val;return c||(c=this.transA),i&&(a*=-1,l=this.len),this.reversed&&(l-=(a*=-1)*(this.sector||this.len)),e?(t=t*a+l,t=(t-=u)/c+n,r&&(t=this.lin2val(t))):(r&&(t=this.val2lin(t)),"between"===s&&(s=.5),t=a*(t-n)*c+l+a*u+(o(s)?c*s*this.pointRange:0)),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,n,r){var o,s,a,l=this.chart,c=this.left,u=this.top,d=i&&l.oldChartHeight||l.chartHeight,h=i&&l.oldChartWidth||l.chartWidth;o=this.transB;var p=function(t,e,i){return(t<e||t>i)&&(n?t=ut(ct(e,t),i):a=!0),t};r=Lt(r,this.translate(t,null,null,i)),t=i=st(r+o);return o=s=st(d-r-o),isNaN(r)?a=!0:this.horiz?(o=u,s=d-this.bottom,t=i=p(t,c,c+this.width)):(t=c,i=h-this.right,o=s=p(o,u,u+this.height)),a&&!n?null:l.renderer.crispLine(["M",t,o,"L",i,s],e||1)},getLinearTickPositions:function(t,e,i){var n,r=S(at(e/t)*t),s=S(lt(i/t)*t),a=[];if(e===i&&o(e))return[e];for(e=r;e<=s&&(a.push(e),(e=S(e+t))!==n);)n=e;return a},getMinorTickPositions:function(){var t,e=this.options,i=this.tickPositions,n=this.minorTickInterval,r=[],o=this.min,s=(t=this.max)-o;if(s&&s/n<this.len/3)if(this.isLog)for(e=i.length,t=1;t<e;t++)r=r.concat(this.getLogTickPositions(n,i[t-1],i[t],!0));else if(this.isDatetimeAxis&&"auto"===e.minorTickInterval)r=r.concat(this.getTimeTicks(this.normalizeTimeTickInterval(n),o,t,e.startOfWeek));else for(i=o+(i[0]-o)%n;i<=t;i+=n)r.push(i);return this.trimTicks(r),r},adjustForMinRange:function(){var t,e,i,n,r,o=this.options,s=this.min,a=this.max,l=this.dataMax-this.dataMin>=this.minRange;if(this.isXAxis&&this.minRange===E&&!this.isLog&&(c(o.min)||c(o.max)?this.minRange=null:(Ut(this.series,(function(t){for(r=t.xData,i=t.xIncrement?1:r.length-1;i>0;i--)n=r[i]-r[i-1],(e===E||n<e)&&(e=n)})),this.minRange=ut(5*e,this.dataMax-this.dataMin))),a-s<this.minRange){var u=this.minRange;t=[s-(t=(u-a+s)/2),Lt(o.min,s-t)],l&&(t[2]=this.dataMin),a=[(s=x(t))+u,Lt(o.max,s+u)],l&&(a[2]=this.dataMax),(a=w(a))-s<u&&(t[0]=a-u,t[1]=Lt(o.min,a-u),s=x(t))}this.min=s,this.max=a},setAxisTranslation:function(t){var e,n=this,r=n.max-n.min,o=n.axisPointRange||0,s=0,a=0,l=n.linkedParent,u=!!n.categories,d=n.transA;(n.isXAxis||u||o)&&(l?(s=l.minPointOffset,a=l.pointRangePadding):Ut(n.series,(function(t){var l=u?1:n.isXAxis?t.pointRange:n.axisPointRange||0,d=t.options.pointPlacement,h=t.closestPointRange;l>r&&(l=0),o=ct(o,l),n.single||(s=ct(s,i(d)?0:l/2),a=ct(a,"on"===d?0:l)),!t.noSharedTooltip&&c(h)&&(e=c(e)?ut(e,h):h)})),l=n.ordinalSlope&&e?n.ordinalSlope/e:1,n.minPointOffset=s*=l,n.pointRangePadding=a*=l,n.pointRange=ut(o,r),n.closestPointRange=e),t&&(n.oldTransA=d),n.translationSlope=n.transA=d=n.len/(r+a||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=d*s},setTickInterval:function(t){var e=this,i=e.chart,n=e.options,r=e.isLog,a=e.isDatetimeAxis,l=e.isXAxis,u=e.isLinked,d=n.maxPadding,h=n.minPadding,p=n.tickInterval,f=n.tickPixelInterval,g=e.categories;!a&&!g&&!u&&this.getTickAmount(),u?(e.linkedParent=i[e.coll][n.linkedTo],i=e.linkedParent.getExtremes(),e.min=Lt(i.min,i.dataMin),e.max=Lt(i.max,i.dataMax),n.type!==e.linkedParent.options.type&&k(11,1)):(e.min=Lt(e.userMin,n.min,e.dataMin),e.max=Lt(e.userMax,n.max,e.dataMax)),r&&(!t&&ut(e.min,Lt(e.dataMin,e.min))<=0&&k(10,1),e.min=S(s(e.min)),e.max=S(s(e.max))),e.range&&c(e.max)&&(e.userMin=e.min=ct(e.min,e.max-e.range),e.userMax=e.max,e.range=null),e.beforePadding&&e.beforePadding(),e.adjustForMinRange(),g||e.axisPointRange||e.usePercentage||u||!c(e.min)||!c(e.max)||!(i=e.max-e.min)||(c(n.min)||c(e.userMin)||!h||!(e.dataMin<0)&&e.ignoreMinPadding||(e.min-=i*h),c(n.max)||c(e.userMax)||!d||!(e.dataMax>0)&&e.ignoreMaxPadding||(e.max+=i*d)),o(n.floor)&&(e.min=ct(e.min,n.floor)),o(n.ceiling)&&(e.max=ut(e.max,n.ceiling)),e.tickInterval=e.min===e.max||void 0===e.min||void 0===e.max?1:u&&!p&&f===e.linkedParent.options.tickPixelInterval?e.linkedParent.tickInterval:Lt(p,this.tickAmount?(e.max-e.min)/ct(this.tickAmount-1,1):void 0,g?1:(e.max-e.min)*f/ct(e.len,f)),l&&!t&&Ut(e.series,(function(t){t.processData(e.min!==e.oldMin||e.max!==e.oldMax)})),e.setAxisTranslation(!0),e.beforeSetTickPositions&&e.beforeSetTickPositions(),e.postProcessTickInterval&&(e.tickInterval=e.postProcessTickInterval(e.tickInterval)),e.pointRange&&(e.tickInterval=ct(e.pointRange,e.tickInterval)),t=Lt(n.minTickInterval,e.isDatetimeAxis&&e.closestPointRange),!p&&e.tickInterval<t&&(e.tickInterval=t),a||r||p||(e.tickInterval=b(e.tickInterval,null,y(e.tickInterval),Lt(n.allowDecimals,!(e.tickInterval>.5&&e.tickInterval<5&&e.max>1e3&&e.max<9999)),!!this.tickAmount)),!this.tickAmount&&this.len&&(e.tickInterval=e.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e,i=this.options,n=i.tickPositions,r=i.tickPositioner,o=i.startOnTick,s=i.endOnTick;this.tickmarkOffset=this.categories&&"between"===i.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===i.minorTickInterval&&this.tickInterval?this.tickInterval/5:i.minorTickInterval,this.tickPositions=t=i.tickPositions&&i.tickPositions.slice(),!t&&(this.tickPositions=t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,i.units),this.min,this.max,i.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),r&&(r=r.apply(this,[this.min,this.max])))&&(this.tickPositions=t=r),this.isLinked||(this.trimTicks(t,o,s),this.min===this.max&&c(this.min)&&!this.tickAmount&&(e=!0,this.min-=.5,this.max+=.5),this.single=e,!n&&!r&&this.adjustTickAmount())},trimTicks:function(t,e,i){var n=t[0],r=t[t.length-1],o=this.minPointOffset||0;e?this.min=n:this.min-o>n&&t.shift(),i?this.max=r:this.max+o<r&&t.pop(),0===t.length&&c(n)&&t.push((r+n)/2)},getTickAmount:function(){var t,e={},i=this.options,n=i.tickAmount,r=i.tickPixelInterval;!c(i.tickInterval)&&this.len<r&&!this.isRadial&&!this.isLog&&i.startOnTick&&i.endOnTick&&(n=2),!n&&!1!==this.chart.options.chart.alignTicks&&!1!==i.alignTicks&&(Ut(this.chart[this.coll],(function(i){var n=i.options;n=[(i=i.horiz)?n.left:n.top,i?n.width:n.height,n.pane].join(",");e[n]?t=!0:e[n]=1})),t&&(n=lt(this.len/r)+1)),n<4&&(this.finalTickAmt=n,n=5),this.tickAmount=n},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,i=this.tickAmount,n=this.finalTickAmt,r=e&&e.length;if(r<i){for(;e.length<i;)e.push(S(e[e.length-1]+t));this.transA*=(r-1)/(i-1),this.max=e[e.length-1]}else r>i&&(this.tickInterval*=2,this.setTickPositions());if(c(n)){for(t=i=e.length;t--;)(3===n&&t%2==1||n<=2&&t>0&&t<i-1)&&e.splice(t,1);this.finalTickAmt=E}},setScale:function(){var t,e,i,n,r=this.stacks;if(this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),n=this.len!==this.oldAxisLength,Ut(this.series,(function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(i=!0)})),n||i||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(t in r)for(e in r[t])r[t][e].total=null,r[t][e].cum=0;this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=n||this.min!==this.oldMin||this.max!==this.oldMax)}else if(!this.isXAxis)for(t in this.oldStacks&&(r=this.stacks=this.oldStacks),r)for(e in r[t])r[t][e].cum=r[t][e].total},setExtremes:function(t,e,i,n,r){var o=this,s=o.chart;i=Lt(i,!0);Ut(o.series,(function(t){delete t.kdTree})),r=qt(r,{min:t,max:e}),Jt(o,"setExtremes",r,(function(){o.userMin=t,o.userMax=e,o.eventArgs=r,o.isDirtyExtremes=!0,i&&s.redraw(n)}))},zoom:function(t,e){var i=this.dataMin,n=this.dataMax,r=this.options;return this.allowZoomOutside||(c(i)&&t<=ut(i,Lt(r.min,i))&&(t=E),c(n)&&e>=ct(n,Lt(r.max,n))&&(e=E)),this.displayBtn=t!==E||e!==E,this.setExtremes(t,e,!1,E,{trigger:"zoom"}),!0},setAxisSize:function(){var t=this.chart,e=(s=this.options).offsetLeft||0,i=this.horiz,n=Lt(s.width,t.plotWidth-e+(s.offsetRight||0)),r=Lt(s.height,t.plotHeight),o=Lt(s.top,t.plotTop),s=Lt(s.left,t.plotLeft+e);(e=/%$/).test(r)&&(r=parseFloat(r)/100*t.plotHeight),e.test(o)&&(o=parseFloat(o)/100*t.plotHeight+t.plotTop),this.left=s,this.top=o,this.width=n,this.height=r,this.bottom=t.chartHeight-r-o,this.right=t.chartWidth-n-s,this.len=ct(i?n:r,0),this.pos=i?s:o},getExtremes:function(){var t=this.isLog;return{min:t?S(a(this.min)):this.min,max:t?S(a(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=(i=this.isLog)?a(this.min):this.min,i=i?a(this.max):this.max;return e>t||null===t?t=e:i<t&&(t=i),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return(t=(Lt(t,0)-90*this.side+720)%360)>15&&t<165?"right":t>195&&t<345?"left":"center"},unsquish:function(){var t,e,i,n=this.ticks,r=this.options.labels,o=this.horiz,s=this.tickInterval,a=s,l=this.len/(((this.categories?1:0)+this.max-this.min)/s),u=r.rotation,d=this.chart.renderer.fontMetrics(r.style.fontSize,n[0]&&n[0].label),h=Number.MAX_VALUE,p=function(t){return(t=(t/=l||1)>1?lt(t):1)*s};return o?(i=c(u)?[u]:l<80&&!r.staggerLines&&!r.step&&r.autoRotation)&&Ut(i,(function(i){var n;i&&i>=-90&&i<=90&&((n=(e=p(dt(d.h/pt(gt*i))))+dt(i/360))<h&&(h=n,t=i,a=e))})):a=p(d.h),this.autoRotation=i,this.labelRotation=t,a},renderUnsquish:function(){var e,n=this.chart,r=n.renderer,o=this.tickPositions,s=this.ticks,a=this.options.labels,l=this.horiz,c=n.margin,u=this.slotWidth=l&&!a.step&&!a.rotation&&(this.staggerLines||1)*n.plotWidth/o.length||!l&&(c[3]&&c[3]-n.spacing[3]||.33*n.chartWidth),d=ct(1,st(u-2*(a.padding||5))),h={},p=(c=r.fontMetrics(a.style.fontSize,s[0]&&s[0].label),0);if(i(a.rotation)||(h.rotation=a.rotation),this.autoRotation)Ut(o,(function(t){(t=s[t])&&t.labelLength>p&&(p=t.labelLength)})),p>d&&p>c.h?h.rotation=this.labelRotation:this.labelRotation=0;else if(u)for(e={width:d+"px",textOverflow:"clip"},u=o.length;!l&&u--;)d=o[u],(d=s[d].label)&&this.len/o.length-4<d.getBBox().height&&(d.specCss={textOverflow:"ellipsis"});h.rotation&&(e={width:(p>.5*n.chartHeight?.33*n.chartHeight:n.chartHeight)+"px",textOverflow:"ellipsis"}),this.labelAlign=h.align=a.align||this.autoLabelAlign(this.labelRotation),Ut(o,(function(i){var n=(i=s[i])&&i.label;n&&(e&&n.css(t(e,n.specCss)),delete n.specCss,n.attr(h),i.rotation=h.rotation)})),this.tickRotCorr=r.rotCorr(c.b,this.labelRotation||0,2===this.side)},getOffset:function(){var t,e,i,n,r=this,o=(b=r.chart).renderer,s=r.options,a=r.tickPositions,l=r.ticks,u=r.horiz,d=r.side,h=b.inverted?[1,0,3,2][d]:d,p=0,f=0,g=s.title,m=s.labels,v=0,y=b.axisOffset,b=b.clipOffset,_=[-1,1,1,-1][d];if(r.hasData=t=r.hasVisibleSeries||c(r.min)&&c(r.max)&&!!a,r.showAxis=e=t||Lt(s.showEmpty,!0),r.staggerLines=r.horiz&&m.staggerLines,r.axisGroup||(r.gridGroup=o.g("grid").attr({zIndex:s.gridZIndex||1}).add(),r.axisGroup=o.g("axis").attr({zIndex:s.zIndex||2}).add(),r.labelGroup=o.g("axis-labels").attr({zIndex:m.zIndex||7}).addClass("highcharts-"+r.coll.toLowerCase()+"-labels").add()),t||r.isLinked)Ut(a,(function(t){l[t]?l[t].addLabel():l[t]=new D(r,t)})),r.renderUnsquish(),Ut(a,(function(t){0!==d&&2!==d&&{1:"left",3:"right"}[d]!==r.labelAlign||(v=ct(l[t].getLabelSize(),v))})),r.staggerLines&&(v*=r.staggerLines,r.labelOffset=v);else for(n in l)l[n].destroy(),delete l[n];g&&g.text&&!1!==g.enabled&&(r.axisTitle||(r.axisTitle=o.text(g.text,0,0,g.useHTML).attr({zIndex:7,rotation:g.rotation||0,align:g.textAlign||{low:"left",middle:"center",high:"right"}[g.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(g.style).add(r.axisGroup),r.axisTitle.isNew=!0),e&&(p=r.axisTitle.getBBox()[u?"height":"width"],f=c(i=g.offset)?0:Lt(g.margin,u?5:10)),r.axisTitle[e?"show":"hide"]()),r.offset=_*Lt(s.offset,y[d]),r.tickRotCorr=r.tickRotCorr||{x:0,y:0},o=2===d?r.tickRotCorr.y:0,u=v+f+(v&&_*(u?Lt(m.y,r.tickRotCorr.y+8):m.x)-o),r.axisTitleMargin=Lt(i,u),y[d]=ct(y[d],r.axisTitleMargin+p+_*r.offset,u),b[h]=ct(b[h],2*at(s.lineWidth/2))},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,r=this.horiz,o=this.left+(i?this.width:0)+n;n=e.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(t*=-1),e.renderer.crispLine(["M",r?this.left:o,r?n:this.top,"L",r?e.chartWidth-this.right:o,r?n:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,i=this.left,n=this.top,r=this.len,o=this.options.title,s=t?i:n,a=this.opposite,l=this.offset,c=e(o.style.fontSize||12);r={low:s+(t?0:r),middle:s+r/2,high:s+(t?r:0)}[o.align],i=(t?n+this.height:i)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+(2===this.side?c:0);return{x:t?r:i+(a?this.width:0)+l+(o.x||0),y:t?i-(a?this.height:0)+l:r+(o.y||0)}},render:function(){var t,e=this,i=e.chart,n=i.renderer,r=e.options,o=e.isLog,s=e.isLinked,l=e.tickPositions,u=e.axisTitle,d=e.ticks,h=e.minorTicks,p=e.alternateBands,f=r.stackLabels,g=r.alternateGridColor,m=e.tickmarkOffset,v=r.lineWidth,y=i.hasRendered&&c(e.oldMin)&&!isNaN(e.oldMin);t=e.hasData;var b,_,w=e.showAxis;e.labelEdge.length=0,e.overlap=!1,Ut([d,h,p],(function(t){for(var e in t)t[e].isActive=!1})),(t||s)&&(e.minorTickInterval&&!e.categories&&Ut(e.getMinorTickPositions(),(function(t){h[t]||(h[t]=new D(e,t,"minor")),y&&h[t].isNew&&h[t].render(null,!0),h[t].render(null,!1,1)})),l.length&&(Ut(l,(function(t,i){(!s||t>=e.min&&t<=e.max)&&(d[t]||(d[t]=new D(e,t)),y&&d[t].isNew&&d[t].render(i,!0,.1),d[t].render(i))})),m&&(0===e.min||e.single))&&(d[-1]||(d[-1]=new D(e,-1,null,!0)),d[-1].render(-1)),g&&Ut(l,(function(t,i){i%2==0&&t<e.max&&(p[t]||(p[t]=new it.PlotLineOrBand(e)),b=t+m,_=l[i+1]!==E?l[i+1]+m:e.max,p[t].options={from:o?a(b):b,to:o?a(_):_,color:g},p[t].render(),p[t].isActive=!0)})),e._addedPlotLB||(Ut((r.plotLines||[]).concat(r.plotBands||[]),(function(t){e.addPlotBandOrLine(t)})),e._addedPlotLB=!0)),Ut([d,h,p],(function(t){var e,n,r=[],o=N?N.duration||500:0,s=function(){for(n=r.length;n--;)t[r[n]]&&!t[r[n]].isActive&&(t[r[n]].destroy(),delete t[r[n]])};for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,r.push(e));t!==p&&i.hasRendered&&o?o&&setTimeout(s,o):s()})),v&&(t=e.getLinePath(v),e.axisLine?e.axisLine.animate({d:t}):e.axisLine=n.path(t).attr({stroke:r.lineColor,"stroke-width":v,zIndex:7}).add(e.axisGroup),e.axisLine[w?"show":"hide"]()),u&&w&&(u[u.isNew?"attr":"animate"](e.getTitlePosition()),u.isNew=!1),f&&f.enabled&&e.renderStackTotals(),e.isDirty=!1},redraw:function(){this.render(),Ut(this.plotLinesAndBands,(function(t){t.render()})),Ut(this.series,(function(t){t.isDirty=!0}))},destroy:function(t){var e,i=this,n=i.stacks,r=i.plotLinesAndBands;for(e in t||Kt(i),n)$(n[e]),n[e]=null;for(Ut([i.ticks,i.minorTicks,i.alternateBands],(function(t){$(t)})),t=r.length;t--;)r[t].destroy();Ut("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),(function(t){i[t]&&(i[t]=i[t].destroy())})),this.cross&&this.cross.destroy()},drawCrosshair:function(t,e){var i,n=this.crosshair,r=n.animation;this.crosshair&&!1!==(c(e)||!Lt(this.crosshair.snap,!0))?(Lt(n.snap,!0)?c(e)&&(i=this.isXAxis?e.plotX:this.len-e.plotY):i=this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos,
null===(i=this.isRadial?this.getPlotLinePath(this.isXAxis?e.x:Lt(e.stackY,e.y))||null:this.getPlotLinePath(null,null,null,null,i)||null)?this.hideCrosshair():this.cross?this.cross.attr({visibility:"visible"})[r?"animate":"attr"]({d:i},r):(r=this.categories&&!this.isRadial,r={"stroke-width":n.width||(r?this.transA:1),stroke:n.color||(r?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:n.zIndex||2},n.dashStyle&&(r.dashstyle=n.dashStyle),this.cross=this.chart.renderer.path(i).attr(r).add())):this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}},qt(de.prototype,{getPlotBandPath:function(t,e){var i=this.getPlotLinePath(e,null,null,!0),n=this.getPlotLinePath(t,null,null,!0);return n&&i&&n.toString()!==i.toString()?n.push(i[4],i[5],i[1],i[2]):n=null,n},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var i=new it.PlotLineOrBand(this,t).render(),n=this.userOptions;return i&&(e&&(n[e]=n[e]||[],n[e].push(t)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,n=this.userOptions,r=e.length;r--;)e[r].id===t&&e[r].destroy();Ut([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],(function(e){for(r=e.length;r--;)e[r].id===t&&l(e,e[r])}))}}),de.prototype.getTimeTicks=function(t,e,i,n){var r,o=[],s={},a=M.global.useUTC,l=new z(e-m(e)),u=t.unitRange,d=t.count;if(c(e)){l.setMilliseconds(u>=L.second?0:d*at(l.getMilliseconds()/d)),u>=L.second&&l.setSeconds(u>=L.minute?0:d*at(l.getSeconds()/d)),u>=L.minute&&l[K](u>=L.hour?0:d*at(l[G]()/d)),u>=L.hour&&l[J](u>=L.day?0:d*at(l[U]()/d)),u>=L.day&&l[Z](u>=L.month?1:d*at(l[Q]()/d)),u>=L.month&&(l[tt](u>=L.year?0:d*at(l[Y]()/d)),r=l[X]()),u>=L.year&&(r-=r%d,l[et](r)),u===L.week&&l[Z](l[Q]()-l[V]()+Lt(n,1)),e=1,(B||W)&&(l=l.getTime(),l=new z(l+m(l))),r=l[X]();n=l.getTime();for(var h=l[Y](),p=l[Q](),f=(L.day+(a?m(l):6e4*l.getTimezoneOffset()))%L.day;n<i;)o.push(n),u===L.year?n=H(r+e*d,0):u===L.month?n=H(r,h+e*d):a||u!==L.day&&u!==L.week?n+=u*d:n=H(r,h,p+e*d*(u===L.day?1:7)),e++;o.push(n),Ut(Vt(o,(function(t){return u<=L.hour&&t%L.day===f})),(function(t){s[t]="day"}))}return o.info=qt(t,{higherRanks:s,totalRange:u*d}),o},de.prototype.normalizeTimeTickInterval=function(t,e){var i,n=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],r=n[n.length-1],o=L[r[0]],s=r[1];for(i=0;i<n.length&&(r=n[i],o=L[r[0]],s=r[1],!(n[i+1]&&t<=(o*s[s.length-1]+L[n[i+1][0]])/2));i++);return o===L.year&&t<5*o&&(s=[1,2,5]),{unitRange:o,count:n=b(t/o,s,"year"===r[0]?ct(y(t/o),1):1),unitName:r[0]}},de.prototype.getLogTickPositions=function(t,e,i,n){var r=this.options,o=this.len,l=[];if(n||(this._minorAutoInterval=null),t>=.5)t=st(t),l=this.getLinearTickPositions(t,e,i);else if(t>=.08){var c,u,d,h,p;for(o=at(e),r=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];o<i+1&&!p;o++)for(u=r.length,c=0;c<u&&!p;c++)(d=s(a(o)*r[c]))>e&&(!n||h<=i)&&h!==E&&l.push(h),h>i&&(p=!0),h=d}else e=a(e),i=a(i),t=r[n?"minorTickInterval":"tickInterval"],t=b(t=Lt("auto"===t?null:t,this._minorAutoInterval,(i-e)*(r.tickPixelInterval/(n?5:1))/((n?o/this.tickPositions.length:o)||1)),null,y(t)),l=Yt(this.getLinearTickPositions(t,e,i),s),n||(this._minorAutoInterval=t/5);return n||(this.tickInterval=t),l};var he,pe=it.Tooltip=function(){this.init.apply(this,arguments)};pe.prototype={init:function(t,i){var n=i.borderWidth,r=i.style,o=e(r.padding);this.chart=t,this.options=i,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,i.shape||"callout",null,null,i.useHTML,null,"tooltip").attr({padding:o,fill:i.backgroundColor,"stroke-width":n,r:i.borderRadius,zIndex:8}).css(r).css({padding:0}).add().attr({y:-9999}),St||this.label.shadow(i.shadow),this.shared=i.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,e,i,n){var r=this,o=r.now,s=!1!==r.options.animation&&!r.isHidden&&(dt(t-o.x)>1||dt(e-o.y)>1),a=r.followPointer||r.len>1;qt(o,{x:s?(2*o.x+t)/3:t,y:s?(o.y+e)/2:e,anchorX:a?E:s?(2*o.anchorX+i)/3:i,anchorY:a?E:s?(o.anchorY+n)/2:n}),r.label.attr(o),s&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout((function(){r&&r.move(t,e,i,n)}),32))},hide:function(t){var e,i=this;clearTimeout(this.hideTimer),this.isHidden||(e=this.chart.hoverPoints,this.hideTimer=setTimeout((function(){i.label.fadeOut(),i.isHidden=!0}),Lt(t,this.options.hideDelay,500)),e&&Ut(e,(function(t){t.setState()})),this.chart.hoverPoints=null,this.chart.hoverSeries=null)},getAnchor:function(t,e){var i,n,r,o=this.chart,s=o.inverted,a=o.plotTop,l=o.plotLeft,c=0,u=0;return i=(t=d(t))[0].tooltipPos,this.followPointer&&e&&(e.chartX===E&&(e=o.pointer.normalize(e)),i=[e.chartX-o.plotLeft,e.chartY-a]),i||(Ut(t,(function(t){n=t.series.yAxis,r=t.series.xAxis,c+=t.plotX+(!s&&r?r.left-l:0),u+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!s&&n?n.top-a:0)})),c/=t.length,u/=t.length,i=[s?o.plotWidth-u:c,this.shared&&!s&&t.length>1&&e?e.chartY-a:s?o.plotHeight-c:u]),Yt(i,st)},getPosition:function(t,e,i){var n,r=this.chart,o=this.distance,s={},a=["y",r.chartHeight,e,i.plotY+r.plotTop],l=["x",r.chartWidth,t,i.plotX+r.plotLeft],c=Lt(i.ttBelow,r.inverted&&!i.negative||!r.inverted&&i.negative),u=function(t,e,i,n){var r=i<n-o;e=n+o+i<e,i=n-o-i;if(n+=o,c&&e)s[t]=n;else if(!c&&r)s[t]=i;else if(r)s[t]=i;else{if(!e)return!1;s[t]=n}},d=function(t,e,i,n){if(n<o||n>e-o)return!1;s[t]=n<i/2?1:n>e-i/2?e-i-2:n-i/2},h=function(t){var e=a;a=l,l=e,n=t},p=function(){!1!==u.apply(0,a)?!1===d.apply(0,l)&&!n&&(h(!0),p()):n?s.x=s.y=0:(h(!0),p())};return(r.inverted||this.len>1)&&h(),p(),s},defaultFormatter:function(t){var e,i=this.points||d(this);return(e=(e=[t.tooltipFooterHeaderFormatter(i[0])]).concat(t.bodyFormatter(i))).push(t.tooltipFooterHeaderFormatter(i[0],!0)),e.join("")},refresh:function(t,e){var i,n,r,o=this.chart,s=this.label,a=this.options,l={},c=[];r=a.formatter||this.defaultFormatter;l=o.hoverPoints;var u,h=this.shared;clearTimeout(this.hideTimer),this.followPointer=d(t)[0].series.tooltipOptions.followPointer,i=(n=this.getAnchor(t,e))[0],n=n[1],!h||t.series&&t.series.noSharedTooltip?l=t.getLabelConfig():(o.hoverPoints=t,l&&Ut(l,(function(t){t.setState()})),Ut(t,(function(t){t.setState("hover"),c.push(t.getLabelConfig())})),(l={x:t[0].category,y:t[0].y}).points=c,this.len=c.length,t=t[0]),r=r.call(l,this),l=t.series,this.distance=Lt(l.tooltipOptions.distance,16),!1===r?this.hide():(this.isHidden&&(ee(s),s.attr("opacity",1).show()),s.attr({text:r}),u=a.borderColor||t.color||l.color||"#606060",s.attr({stroke:u}),this.updatePosition({plotX:i,plotY:n,negative:t.negative,ttBelow:t.ttBelow}),this.isHidden=!1),Jt(o,"tooltipRefresh",{text:r,x:i+o.plotLeft,y:n+o.plotTop,borderColor:u})},updatePosition:function(t){var e=this.chart,i=this.label;i=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(st(i.x),st(i.y),t.plotX+e.plotLeft,t.plotY+e.plotTop)},getXDateFormat:function(t,e,i){e=e.dateTimeLabelFormats;var n,r,o,s,a=i&&i.closestPointRange,l={millisecond:15,second:12,minute:9,hour:6,day:3};if(a){for(r in o=R("%m-%d %H:%M:%S.%L",t.x),L){if(a===L.week&&+R("%w",t.x)===i.options.startOfWeek&&"00:00:00.000"===o.substr(6)){r="week";break}if(L[r]>a){r=s;break}if(l[r]&&o.substr(l[r])!=="01-01 00:00:00.000".substr(l[r]))break;"week"!==r&&(s=r)}r&&(n=e[r])}else n=e.day;return n||e.year},tooltipFooterHeaderFormatter:function(t,e){var i=e?"footer":"header",n=t.series,r=n.tooltipOptions,s=r.xDateFormat,a=n.xAxis,l=a&&"datetime"===a.options.type&&o(t.key);i=r[i+"Format"];return l&&!s&&(s=this.getXDateFormat(t,r,a)),l&&s&&(i=i.replace("{point.key}","{point.key:"+s+"}")),v(i,{point:t,series:n})},bodyFormatter:function(t){return Yt(t,(function(t){var e=t.series.tooltipOptions;return(e.pointFormatter||t.point.tooltipFormatter).call(t.point,e.pointFormat)}))}},O=nt.documentElement.ontouchstart!==E;var fe=it.Pointer=function(t,e){this.init(t,e)};if(fe.prototype={init:function(t,e){var i,n=(o=e.chart).events,r=St?"":o.zoomType,o=t.inverted;this.options=e,this.chart=t,this.zoomX=i=/x/.test(r),this.zoomY=r=/y/.test(r),this.zoomHor=i&&!o||r&&o,this.zoomVert=r&&!o||i&&o,this.hasZoom=i||r,this.runChartClick=n&&!!n.click,this.pinchDown=[],this.lastValidTouch={},it.Tooltip&&e.tooltip.enabled&&(t.tooltip=new pe(t,e.tooltip),this.followTouchMove=Lt(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(t,e){var i,n;t=t||window.event;return(t=Zt(t)).target||(t.target=t.srcElement),n=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=Qt(this.chart.container)),n.pageX===E?(i=ct(t.x,t.clientX-e.left),n=t.y):(i=n.pageX-e.left,n=n.pageY-e.top),qt(t,{chartX:st(i),chartY:st(n)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return Ut(this.chart.axes,(function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})})),e},runPointActions:function(t){var e,i,n,r,o=this,s=o.chart,a=s.series,l=s.tooltip,u=!!l&&l.shared,d=s.hoverPoint,h=s.hoverSeries,p=s.chartWidth,f=s.chartWidth,g=[];if(!u&&!h)for(e=0;e<a.length;e++)!a[e].directTouch&&a[e].options.stickyTracking||(a=[]);if(h&&h.noSharedTooltip||!u&&h?n=h?h.searchPoint(t):E:(Ut(a,(function(e){i=e.noSharedTooltip&&u,e.visible&&!i&&Lt(e.options.enableMouseTracking,!0)&&(r=e.searchPoint(t))&&g.push(r)})),Ut(g,(function(t){t&&c(t.plotX)&&c(t.plotY)&&(t.dist.distX<p||(t.dist.distX===p||t.series.kdDimensions>1)&&t.dist.distR<f)&&(p=t.dist.distX,f=t.dist.distR,n=t)}))),n&&n!==d)if(u&&!n.series.noSharedTooltip){for(e=g.length,a=n.clientX;e--;)h=g[e].clientX,(g[e].x!==n.x||h!==a||!c(g[e].y)||g[e].series.noSharedTooltip)&&g.splice(e,1);l&&l.refresh(g,t),Ut(g,(function(e){e.onMouseOver(t)}))}else l&&l.refresh(n,t),n.onMouseOver(t);else e=h&&h.tooltipOptions.followPointer,l&&e&&!l.isHidden&&(e=l.getAnchor([{}],t),l.updatePosition({plotX:e[0],plotY:e[1]}));l&&!o._onDocumentMouseMove&&(o._onDocumentMouseMove=function(t){o.onDocumentMouseMove(t)},Xt(nt,"mousemove",o._onDocumentMouseMove)),Ut(s.axes,(function(e){e.drawCrosshair(t,Lt(n,d))}))},reset:function(t,e){var i=this.chart,n=i.hoverSeries,r=i.hoverPoint,o=i.tooltip,s=o&&o.shared?i.hoverPoints:r;(t=t&&o&&s)&&d(s)[0].plotX===E&&(t=!1),t?(o.refresh(s),r&&(r.setState(r.state,!0),Ut(i.axes,(function(e){Lt(e.options.crosshair&&e.options.crosshair.snap,!0)?e.drawCrosshair(null,t):e.hideCrosshair()})))):(r&&r.onMouseOut(),n&&n.onMouseOut(),o&&o.hide(e),this._onDocumentMouseMove&&(Kt(nt,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),Ut(i.axes,(function(t){t.hideCrosshair()})),this.hoverX=null)},scaleGroups:function(t,e){var i,n=this.chart;Ut(n.series,(function(r){i=t||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&(r.group.attr(i),r.markerGroup&&(r.markerGroup.attr(i),r.markerGroup.clip(e?n.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(i))})),n.clipRect.attr(e||n.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i=this.chart,n=i.options.chart,r=t.chartX,o=t.chartY,s=this.zoomHor,a=this.zoomVert,l=i.plotLeft,c=i.plotTop,u=i.plotWidth,d=i.plotHeight,h=this.mouseDownX,p=this.mouseDownY,f=n.panKey&&t[n.panKey+"Key"];r<l?r=l:r>l+u&&(r=l+u),o<c?o=c:o>c+d&&(o=c+d),this.hasDragged=Math.sqrt(Math.pow(h-r,2)+Math.pow(p-o,2)),this.hasDragged>10&&(e=i.isInsidePlot(h-l,p-c),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!f&&!this.selectionMarker&&(this.selectionMarker=i.renderer.rect(l,c,s?1:u,a?1:d,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),this.selectionMarker&&s&&(r-=h,this.selectionMarker.attr({width:dt(r),x:(r>0?0:r)+h})),this.selectionMarker&&a&&(r=o-p,this.selectionMarker.attr({height:dt(r),y:(r>0?0:r)+p})),e&&!this.selectionMarker&&n.panning&&i.pan(t,n.panning))},drop:function(t){var e=this,i=this.chart,n=this.hasPinched;if(this.selectionMarker){var r,o={xAxis:[],yAxis:[],originalEvent:t.originalEvent||t},s=this.selectionMarker,a=s.attr?s.attr("x"):s.x,l=s.attr?s.attr("y"):s.y,u=s.attr?s.attr("width"):s.width,d=s.attr?s.attr("height"):s.height;(this.hasDragged||n)&&(Ut(i.axes,(function(i){if(i.zoomEnabled&&c(i.min)&&(n||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var s=i.horiz,h="touchend"===t.type?i.minPixelPadding:0,p=i.toValue((s?a:l)+h);s=i.toValue((s?a+u:l+d)-h);o[i.coll].push({axis:i,min:ut(p,s),max:ct(p,s)}),r=!0}})),r&&Jt(i,"selection",o,(function(t){i.zoom(qt(t,n?{animation:!1}:null))}))),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}i&&(h(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){(t=this.normalize(t)).preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){Dt[he]&&Dt[he].pointer.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition;t=this.normalize(t,i);i&&!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&this.reset()},onContainerMouseLeave:function(){var t=Dt[he];t&&(t.pointer.reset(),t.pointer.chartPosition=null)},onContainerMouseMove:function(t){var e=this.chart;he=e.index,(t=this.normalize(t)).returnValue=!1,"mousedown"===e.mouseIsDown&&this.drag(t),(this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop))&&!e.openMenu&&this.runPointActions(t)},inClass:function(t,e){for(var i;t;){if(i=u(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries,i=(t=t.relatedTarget||t.toElement)&&t.point&&t.point.series;!e||e.options.stickyTracking||this.inClass(t,"highcharts-tooltip")||i===e||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,i=e.hoverPoint,n=e.plotLeft,r=e.plotTop;(t=this.normalize(t)).cancelBubble=!0,e.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(Jt(i.series,"click",qt(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(qt(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-n,t.chartY-r)&&Jt(e,"click",t)))},setDOMEvents:function(){var t=this,e=t.chart.container;e.onmousedown=function(e){t.onContainerMouseDown(e)},e.onmousemove=function(e){t.onContainerMouseMove(e)},e.onclick=function(e){t.onContainerClick(e)},Xt(e,"mouseleave",t.onContainerMouseLeave),1===It&&Xt(nt,"mouseup",t.onDocumentMouseUp),O&&(e.ontouchstart=function(e){t.onContainerTouchStart(e)},e.ontouchmove=function(e){t.onContainerTouchMove(e)},1===It&&Xt(nt,"touchend",t.onDocumentTouchEnd))},destroy:function(){var t;for(t in Kt(this.chart.container,"mouseleave",this.onContainerMouseLeave),It||(Kt(nt,"mouseup",this.onDocumentMouseUp),Kt(nt,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout),this)this[t]=null}},qt(it.Pointer.prototype,{pinchTranslate:function(t,e,i,n,r,o){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,t,e,i,n,r,o),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,t,e,i,n,r,o)},pinchTranslateDirection:function(t,e,i,n,r,o,s,a){var l,c,u,d=this.chart,h=t?"x":"y",p=t?"X":"Y",f="chart"+p,g=t?"width":"height",m=d["plot"+(t?"Left":"Top")],v=a||1,y=d.inverted,b=d.bounds[t?"h":"v"],_=1===e.length,w=e[0][f],x=i[0][f],$=!_&&e[1][f],C=!_&&i[1][f];(i=function(){!_&&dt(w-$)>20&&(v=a||dt(x-C)/dt(w-$)),c=(m-x)/v+w,l=d["plot"+(t?"Width":"Height")]/v})(),(e=c)<b.min?(e=b.min,u=!0):e+l>b.max&&(e=b.max-l,u=!0),u?(x-=.8*(x-s[h][0]),_||(C-=.8*(C-s[h][1])),i()):s[h]=[x,C],y||(o[h]=c-m,o[g]=l),o=y?1/v:v,r[g]=l,r[h]=e,n[y?t?"scaleY":"scaleX":"scale"+p]=v,n["translate"+p]=o*m+(x-o*w)},pinch:function(t){var e=this,i=e.chart,n=e.pinchDown,r=t.touches,o=r.length,s=e.lastValidTouch,a=e.hasZoom,l=e.selectionMarker,c={},u=1===o&&(e.inClass(t.target,"highcharts-tracker")&&i.runTrackerClick||e.runChartClick),d={};a&&!u&&t.preventDefault(),Yt(r,(function(t){return e.normalize(t)})),"touchstart"===t.type?(Ut(r,(function(t,e){n[e]={chartX:t.chartX,chartY:t.chartY}})),s.x=[n[0].chartX,n[1]&&n[1].chartX],s.y=[n[0].chartY,n[1]&&n[1].chartY],Ut(i.axes,(function(t){if(t.zoomEnabled){var e=i.bounds[t.horiz?"h":"v"],n=t.minPixelPadding,r=t.toPixels(Lt(t.options.min,t.dataMin)),o=t.toPixels(Lt(t.options.max,t.dataMax)),s=ut(r,o);r=ct(r,o);e.min=ut(t.pos,s-n),e.max=ct(t.pos+t.len,r+n)}})),e.res=!0):n.length&&(l||(e.selectionMarker=l=qt({destroy:At},i.plotBox)),e.pinchTranslate(n,r,c,l,d,s),e.hasPinched=a,e.scaleGroups(c,d),!a&&e.followTouchMove&&1===o?this.runPointActions(e.normalize(t)):e.res&&(e.res=!1,this.reset(!1,0)))},onContainerTouchStart:function(t){var e=this.chart;he=e.index,1===t.touches.length?(t=this.normalize(t),e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&!e.openMenu?(this.runPointActions(t),this.pinch(t)):this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchMove:function(t){(1===t.touches.length||2===t.touches.length)&&this.pinch(t)},onDocumentTouchEnd:function(t){Dt[he]&&Dt[he].pointer.drop(t)}}),rt.PointerEvent||rt.MSPointerEvent){var ge={},me=!!rt.PointerEvent,ve=function(){var t,e=[];for(t in e.item=function(t){return this[t]},ge)ge.hasOwnProperty(t)&&e.push({pageX:ge[t].pageX,pageY:ge[t].pageY,target:ge[t].target});return e},ye=function(t,e,i,n){"touch"!==(t=t.originalEvent||t).pointerType&&t.pointerType!==t.MSPOINTER_TYPE_TOUCH||!Dt[he]||(n(t),(n=Dt[he].pointer)[e]({type:i,target:t.currentTarget,preventDefault:At,touches:ve()}))};qt(fe.prototype,{onContainerPointerDown:function(t){ye(t,"onContainerTouchStart","touchstart",(function(t){ge[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}}))},onContainerPointerMove:function(t){ye(t,"onContainerTouchMove","touchmove",(function(t){ge[t.pointerId]={pageX:t.pageX,pageY:t.pageY},ge[t.pointerId].target||(ge[t.pointerId].target=t.currentTarget)}))},onDocumentPointerUp:function(t){ye(t,"onContainerTouchEnd","touchend",(function(t){delete ge[t.pointerId]}))},batchMSEvents:function(t){t(this.chart.container,me?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,me?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(nt,me?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),zt(fe.prototype,"init",(function(t,e,i){t.call(this,e,i),(this.hasZoom||this.followTouchMove)&&h(e.container,{"-ms-touch-action":Pt,"touch-action":Pt})})),zt(fe.prototype,"setDOMEvents",(function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(Xt)})),zt(fe.prototype,"destroy",(function(t){this.batchMSEvents(Kt),t.call(this)}))}var be=it.Legend=function(t,e){this.init(t,e)};be.prototype={init:function(e,i){var n=this,r=i.itemStyle,o=i.itemMarginTop||0;this.options=i,i.enabled&&(n.itemStyle=r,n.itemHiddenStyle=t(r,i.itemHiddenStyle),n.itemMarginTop=o,n.padding=r=Lt(i.padding,8),n.initialItemX=r,n.initialItemY=r-5,n.maxItemWidth=0,n.chart=e,n.itemHeight=0,n.symbolWidth=Lt(i.symbolWidth,16),n.pages=[],n.render(),Xt(n.chart,"endResize",(function(){n.positionCheckboxes()})))},colorizeItem:function(t,e){var i,n=this.options,r=t.legendItem,o=t.legendLine,s=t.legendSymbol,a=this.itemHiddenStyle.color,l=(n=e?n.itemStyle.color:a,e?t.legendColor||t.color||"#CCC":a),c=(a=t.options&&t.options.marker,{fill:l});if(r&&r.css({fill:n,color:n}),o&&o.attr({stroke:l}),s){if(a&&s.isMarker)for(i in c.stroke=l,a=t.convertAttribs(a))(r=a[i])!==E&&(c[i]=r);s.attr(c)}},positionItem:function(t){var e=(i=this.options).symbolPadding,i=!i.rtl,n=(r=t._legendItemPos)[0],r=r[1],o=t.checkbox;t.legendGroup&&t.legendGroup.translate(i?n:this.legendWidth-n-2*e-4,r),o&&(o.x=n,o.y=r)},destroyItem:function(t){var e=t.checkbox;Ut(["legendItem","legendLine","legendSymbol","legendGroup"],(function(e){t[e]&&(t[e]=t[e].destroy())})),e&&C(t.checkbox)},clearItems:function(){var t=this;Ut(t.getAllItems(),(function(e){t.destroyItem(e)}))},destroy:function(){var t=this.group,e=this.box;e&&(this.box=e.destroy()),t&&(this.group=t.destroy())},positionCheckboxes:function(t){var e,i=this.group.alignAttr,n=this.clipHeight||this.legendHeight;i&&(e=i.translateY,Ut(this.allItems,(function(r){var o,s=r.checkbox;s&&(o=e+s.y+(t||0)+3,h(s,{left:i.translateX+r.checkboxOffset+s.x-20+"px",top:o+"px",display:o>e-6&&o<e+n-6?"":Pt}))})))},renderTitle:function(){var t=this.padding,e=this.options.title,i=0;e.text&&(this.title||(this.title=this.chart.renderer.label(e.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(e.style).add(this.group)),i=(t=this.title.getBBox()).height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},renderItem:function(e){var i=this.chart,n=i.renderer,r=this.options,o="horizontal"===r.layout,s=this.symbolWidth,a=r.symbolPadding,l=this.itemStyle,c=this.itemHiddenStyle,u=this.padding,d=o?Lt(r.itemDistance,20):0,h=!r.rtl,p=r.width,f=r.itemMarginBottom||0,g=this.itemMarginTop,m=this.initialItemX,y=e.legendItem,b=e.series&&e.series.drawLegendSymbol?e.series:e,_=b.options,w=(_=this.createCheckboxForItem&&_&&_.showCheckbox,r.useHTML);y||(e.legendGroup=n.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),e.legendItem=y=n.text(r.labelFormat?v(r.labelFormat,e):r.labelFormatter.call(e),h?s+a:-a,this.baseline||0,w).css(t(e.visible?l:c)).attr({align:h?"left":"right",zIndex:2}).add(e.legendGroup),this.baseline||(this.baseline=n.fontMetrics(l.fontSize,y).f+3+g,y.attr("y",this.baseline)),b.drawLegendSymbol(this,e),this.setItemEvents&&this.setItemEvents(e,y,w,l,c),this.colorizeItem(e,e.visible),_&&this.createCheckboxForItem(e)),n=y.getBBox(),s=e.checkboxOffset=r.itemWidth||e.legendItemWidth||s+a+n.width+d+(_?20:0),this.itemHeight=a=st(e.legendItemHeight||n.height),o&&this.itemX-m+s>(p||i.chartWidth-2*u-m-r.x)&&(this.itemX=m,this.itemY+=g+this.lastLineHeight+f),this.maxItemWidth=ct(this.maxItemWidth,s),this.lastItemY=g+this.itemY+f,this.lastLineHeight=ct(a,this.lastLineHeight),e._legendItemPos=[this.itemX,this.itemY],o?this.itemX+=s:(this.itemY+=g+a+f,this.lastLineHeight=a),this.offsetWidth=p||ct((o?this.itemX-m-d:s)+u,this.offsetWidth)},getAllItems:function(){var t=[];return Ut(this.chart.series,(function(e){var i=e.options;Lt(i.showInLegend,!c(i.linkedTo)&&E,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))})),t},adjustMargins:function(t,e){var i=this.chart,n=this.options,r=n.align[0]+n.verticalAlign[0]+n.layout[0];this.display&&!n.floating&&Ut([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],(function(o,s){o.test(r)&&!c(t[s])&&(i[Ft[s]]=ct(i[Ft[s]],i.legend[(s+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][s]*n[s%2?"x":"y"]+Lt(n.margin,12)+e[s]))}))},render:function(){var t,e,i,n,r=this,o=r.chart,s=o.renderer,a=r.group,l=r.box,c=r.options,u=r.padding,d=c.borderWidth,h=c.backgroundColor;r.itemX=r.initialItemX,r.itemY=r.initialItemY,r.offsetWidth=0,r.lastItemY=0,a||(r.group=a=s.g("legend").attr({zIndex:7}).add(),r.contentGroup=s.g().attr({zIndex:1}).add(a),r.scrollGroup=s.g().add(r.contentGroup)),r.renderTitle(),_(t=r.getAllItems(),(function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)})),c.reversed&&t.reverse(),r.allItems=t,r.display=e=!!t.length,r.lastLineHeight=0,Ut(t,(function(t){r.renderItem(t)})),i=(c.width||r.offsetWidth)+u,n=r.lastItemY+r.lastLineHeight+r.titleHeight,n=r.handleOverflow(n),n+=u,(d||h)&&(l?i>0&&n>0&&(l[l.isNew?"attr":"animate"](l.crisp({width:i,height:n})),l.isNew=!1):(r.box=l=s.rect(0,0,i,n,c.borderRadius,d||0).attr({stroke:c.borderColor,"stroke-width":d||0,fill:h||Pt}).add(a).shadow(c.shadow),l.isNew=!0),l[e?"show":"hide"]()),r.legendWidth=i,r.legendHeight=n,Ut(t,(function(t){r.positionItem(t)})),e&&a.align(qt({width:i,height:n},c),!0,"spacingBox"),o.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,i,n=this,r=this.chart,o=r.renderer,s=this.options,a=s.y,l=(a=r.spacingBox.height+("top"===s.verticalAlign?-a:a)-this.padding,s.maxHeight),c=this.clipRect,u=s.navigation,d=Lt(u.animation,!0),h=u.arrowSize||12,p=this.nav,f=this.pages,g=this.allItems;return"horizontal"===s.layout&&(a/=2),l&&(a=ut(a,l)),f.length=0,t>a&&!s.useHTML?(this.clipHeight=e=ct(a-20-this.titleHeight-this.padding,0),this.currentPage=Lt(this.currentPage,1),this.fullHeight=t,Ut(g,(function(t,n){var r=t._legendItemPos[1],o=st(t.legendItem.getBBox().height),s=f.length;(!s||r-f[s-1]>e&&(i||r)!==f[s-1])&&(f.push(i||r),s++),n===g.length-1&&r+o-f[s-1]>e&&f.push(r),r!==i&&(i=r)})),c||(c=n.clipRect=o.clipRect(0,this.padding,9999,0),n.contentGroup.clip(c)),c.attr({height:e}),p||(this.nav=p=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,h,h).on("click",(function(){n.scroll(-1,d)})).add(p),this.pager=o.text("",15,10).css(u.style).add(p),this.down=o.symbol("triangle-down",0,0,h,h).on("click",(function(){n.scroll(1,d)})).add(p)),n.scroll(0),t=a):p&&(c.attr({height:r.chartHeight}),p.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pages,n=i.length,r=this.currentPage+t,o=this.clipHeight,s=(a=this.options.navigation).activeColor,a=a.inactiveColor,l=this.pager,c=this.padding;r>n&&(r=n),r>0&&(e!==E&&j(e,this.chart),this.nav.attr({translateX:c,translateY:o+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===r?a:s}).css({cursor:1===r?"default":"pointer"}),l.attr({text:r+"/"+n}),this.down.attr({x:18+this.pager.getBBox().width,fill:r===n?a:s}).css({cursor:r===n?"default":"pointer"}),i=-i[r-1]+this.initialItemY,this.scrollGroup.animate({translateY:i}),this.currentPage=r,this.positionCheckboxes(i))}},ue=it.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.options.symbolHeight||12;e.legendSymbol=this.chart.renderer.rect(0,t.baseline-5-i/2,t.symbolWidth,i,t.options.symbolRadius||0).attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,i=this.options,n=i.marker;e=t.symbolWidth;var r,o=this.chart.renderer,s=this.legendGroup;t=t.baseline-st(.3*o.fontMetrics(t.options.itemStyle.fontSize,this.legendItem).b);i.lineWidth&&(r={"stroke-width":i.lineWidth},i.dashStyle&&(r.dashstyle=i.dashStyle),this.legendLine=o.path(["M",0,t,"L",e,t]).attr(r).add(s)),n&&!1!==n.enabled&&(i=n.radius,this.legendSymbol=e=o.symbol(this.symbol,e/2-i,t-i,2*i,2*i).add(s),e.isMarker=!0)}},(/Trident\/7\.0/.test(mt)||wt)&&zt(be.prototype,"positionItem",(function(t,e){var i=this,n=function(){e._legendItemPos&&t.call(i,e)};n(),setTimeout(n)})),Ht=it.Chart=function(){this.init.apply(this,arguments)},Ht.prototype={callbacks:[],init:function(e,i){var n,r=e.series;e.series=null,(n=t(M,e)).series=e.series=r,this.userOptions=e,r=n.chart,this.margin=this.splashArray("margin",r),this.spacing=this.splashArray("spacing",r);var o=r.events;this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=r.showAxes;var s,a=this;if(a.index=Dt.length,Dt.push(a),It++,!1!==r.reflow&&Xt(a,"load",(function(){a.initReflow()})),o)for(s in o)Xt(a,s,o[s]);a.xAxis=[],a.yAxis=[],a.animation=!St&&Lt(r.animation,!0),a.pointCount=a.colorCounter=a.symbolCounter=0,a.firstRender()},initSeries:function(t){var e=this.options.chart;return(e=Rt[t.type||e.type||e.defaultSeriesType])||k(17,!0),(e=new e).init(this,t),e},isInsidePlot:function(t,e,i){var n=i?e:t;t=i?t:e;return n>=0&&n<=this.plotWidth&&t>=0&&t<=this.plotHeight},redraw:function(t){var e,i,n=this.axes,r=this.series,o=this.pointer,s=this.legend,a=this.isDirtyLegend,l=this.hasCartesianSeries,c=this.isDirtyBox,u=r.length,d=u,h=this.renderer,p=h.isHidden(),f=[];for(j(t,this),p&&this.cloneRenderTo(),this.layOutTitles();d--;)if((t=r[d]).options.stacking&&(e=!0,t.isDirty)){i=!0;break}if(i)for(d=u;d--;)(t=r[d]).options.stacking&&(t.isDirty=!0);Ut(r,(function(t){t.isDirty&&"point"===t.options.legendType&&(a=!0)})),a&&s.options.enabled&&(s.render(),this.isDirtyLegend=!1),e&&this.getStacks(),l&&!this.isResizing&&(this.maxTicks=null,Ut(n,(function(t){t.setScale()}))),this.getMargins(),l&&(Ut(n,(function(t){t.isDirty&&(c=!0)})),Ut(n,(function(t){t.isDirtyExtremes&&(t.isDirtyExtremes=!1,f.push((function(){Jt(t,"afterSetExtremes",qt(t.eventArgs,t.getExtremes())),delete t.eventArgs}))),(c||e)&&t.redraw()}))),c&&this.drawChartBox(),Ut(r,(function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()})),o&&o.reset(!0),h.draw(),Jt(this,"redraw"),p&&this.cloneRenderTo(!0),Ut(f,(function(t){t.call()}))},get:function(t){var e,i,n=this.axes,r=this.series;for(e=0;e<n.length;e++)if(n[e].options.id===t)return n[e];for(e=0;e<r.length;e++)if(r[e].options.id===t)return r[e];for(e=0;e<r.length;e++)for(i=r[e].points||[],n=0;n<i.length;n++)if(i[n].id===t)return i[n];return null},getAxes:function(){var t=this,e=(i=this.options).xAxis=d(i.xAxis||{}),i=i.yAxis=d(i.yAxis||{});Ut(e,(function(t,e){t.index=e,t.isX=!0})),Ut(i,(function(t,e){t.index=e})),e=e.concat(i),Ut(e,(function(e){new de(t,e)}))},getSelectedPoints:function(){var t=[];return Ut(this.series,(function(e){t=t.concat(Vt(e.points||[],(function(t){return t.selected})))})),t},getSelectedSeries:function(){return Vt(this.series,(function(t){return t.selected}))},getStacks:function(){var t=this;Ut(t.yAxis,(function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)})),Ut(t.series,(function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+Lt(e.options.stack,""))}))},setTitle:function(e,i,n){var r,o,s=this,a=s.options;o=a.title=t(a.title,e),r=a.subtitle=t(a.subtitle,i),Ut([["title",e,o],["subtitle",i,a=r]],(function(t){var e=t[0],i=s[e],n=t[1];t=t[2];i&&n&&(s[e]=i=i.destroy()),t&&t.text&&!i&&(s[e]=s.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,class:"highcharts-"+e,zIndex:t.zIndex||4}).css(t.style).add())})),s.layOutTitles(n)},layOutTitles:function(t){var e=0,i=this.title,n=this.subtitle,r=(o=this.options).title,o=o.subtitle,s=this.renderer,a=this.spacingBox.width-44;!i||(i.css({width:(r.width||a)+"px"}).align(qt({y:s.fontMetrics(r.style.fontSize,i).b-3},r),!1,"spacingBox"),r.floating||r.verticalAlign)||(e=i.getBBox().height),n&&(n.css({width:(o.width||a)+"px"}).align(qt({y:e+(r.margin-13)+s.fontMetrics(r.style.fontSize,n).b},o),!1,"spacingBox"),!o.floating&&!o.verticalAlign&&(e=lt(e+n.getBBox().height))),i=this.titleOffset!==e,this.titleOffset=e,!this.isDirtyBox&&i&&(this.isDirtyBox=i,this.hasRendered&&Lt(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=(e=this.options.chart).width,e=e.height,i=this.renderToClone||this.renderTo;c(t)||(this.containerWidth=Bt(i,"width")),c(e)||(this.containerHeight=Bt(i,"height")),this.chartWidth=ct(0,t||this.containerWidth||600),this.chartHeight=ct(0,Lt(e,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,i=this.container;t?e&&(this.renderTo.appendChild(i),C(e),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=e=this.renderTo.cloneNode(0),h(e,{position:"absolute",top:"-9999px",display:"block"}),e.style.setProperty&&e.style.setProperty("display","block","important"),nt.body.appendChild(e),i&&e.appendChild(i))},getContainer:function(){var t,n,r,o,s=this.options.chart;this.renderTo=t=s.renderTo,o="highcharts-"+Tt++,i(t)&&(this.renderTo=t=nt.getElementById(t)),t||k(13,!0),n=e(u(t,"data-highcharts-chart")),!isNaN(n)&&Dt[n]&&Dt[n].hasRendered&&Dt[n].destroy(),u(t,"data-highcharts-chart",this.index),t.innerHTML="",!s.skipClone&&!t.offsetWidth&&this.cloneRenderTo(),this.getChartSize(),n=this.chartWidth,r=this.chartHeight,this.container=t=p(Et,{className:"highcharts-container"+(s.className?" "+s.className:""),id:o},qt({position:"relative",overflow:"hidden",width:n+"px",height:r+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},s.style),this.renderToClone||t),this._cursor=t.style.cursor,this.renderer=s.forExport?new ce(t,n,r,s.style,!0):new P(t,n,r,s.style),St&&this.renderer.create(this,t,n,r),this.renderer.chartIndex=this.index},getMargins:function(t){var e=this.spacing,i=this.margin,n=this.titleOffset;this.resetMargins(),n&&!c(i[0])&&(this.plotTop=ct(this.plotTop,n+this.options.title.margin+e[0])),this.legend.adjustMargins(i,e),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],i=t.margin
;t.hasCartesianSeries&&Ut(t.axes,(function(t){t.getOffset()})),Ut(Ft,(function(n,r){c(i[r])||(t[n]+=e[r])})),t.setChartSize()},reflow:function(t){var e=this,i=e.options.chart,n=e.renderTo,r=i.width||Bt(n,"width"),o=i.height||Bt(n,"height");i=t?t.target:rt,n=function(){e.container&&(e.setSize(r,o,!1),e.hasUserSize=null)};e.hasUserSize||!r||!o||i!==rt&&i!==nt||(r===e.containerWidth&&o===e.containerHeight||(clearTimeout(e.reflowTimeout),t?e.reflowTimeout=setTimeout(n,100):n()),e.containerWidth=r,e.containerHeight=o)},initReflow:function(){var t=this,e=function(e){t.reflow(e)};Xt(rt,"resize",e),Xt(t,"destroy",(function(){Kt(rt,"resize",e)}))},setSize:function(t,e,i){var n,r,o,s=this;s.isResizing+=1,o=function(){s&&Jt(s,"endResize",null,(function(){s.isResizing-=1}))},j(i,s),s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,c(t)&&(s.chartWidth=n=ct(0,st(t)),s.hasUserSize=!!n),c(e)&&(s.chartHeight=r=ct(0,st(e))),(N?te:h)(s.container,{width:n+"px",height:r+"px"},N),s.setChartSize(!0),s.renderer.setSize(n,r,i),s.maxTicks=null,Ut(s.axes,(function(t){t.isDirty=!0,t.setScale()})),Ut(s.series,(function(t){t.isDirty=!0})),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.layOutTitles(),s.getMargins(),s.redraw(i),s.oldChartHeight=null,Jt(s,"resize"),!1===N?o():setTimeout(o,N&&N.duration||500)},setChartSize:function(t){var e,i,n,r,o=this.inverted,s=this.renderer,a=this.chartWidth,l=this.chartHeight,c=this.options.chart,u=this.spacing,d=this.clipOffset;this.plotLeft=e=st(this.plotLeft),this.plotTop=i=st(this.plotTop),this.plotWidth=n=ct(0,st(a-e-this.marginRight)),this.plotHeight=r=ct(0,st(l-i-this.marginBottom)),this.plotSizeX=o?r:n,this.plotSizeY=o?n:r,this.plotBorderWidth=c.plotBorderWidth||0,this.spacingBox=s.spacingBox={x:u[3],y:u[0],width:a-u[3]-u[1],height:l-u[0]-u[2]},this.plotBox=s.plotBox={x:e,y:i,width:n,height:r},a=2*at(this.plotBorderWidth/2),o=lt(ct(a,d[3])/2),s=lt(ct(a,d[0])/2),this.clipBox={x:o,y:s,width:at(this.plotSizeX-ct(a,d[1])/2-o),height:ct(0,at(this.plotSizeY-ct(a,d[2])/2-s))},t||Ut(this.axes,(function(t){t.setAxisSize(),t.setAxisTranslation()}))},resetMargins:function(){var t=this;Ut(Ft,(function(e,i){t[e]=Lt(t.margin[i],t.spacing[i])})),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e=this.options.chart,i=this.renderer,n=this.chartWidth,r=this.chartHeight,o=this.chartBackground,s=this.plotBackground,a=this.plotBorder,l=this.plotBGImage,c=e.borderWidth||0,u=e.backgroundColor,d=e.plotBackgroundColor,h=e.plotBackgroundImage,p=e.plotBorderWidth||0,f=this.plotLeft,g=this.plotTop,m=this.plotWidth,v=this.plotHeight,y=this.plotBox,b=this.clipRect,_=this.clipBox;t=c+(e.shadow?8:0),(c||u)&&(o?o.animate(o.crisp({width:n-t,height:r-t})):(o={fill:u||Pt},c&&(o.stroke=e.borderColor,o["stroke-width"]=c),this.chartBackground=i.rect(t/2,t/2,n-t,r-t,e.borderRadius,c).attr(o).addClass("highcharts-background").add().shadow(e.shadow))),d&&(s?s.animate(y):this.plotBackground=i.rect(f,g,m,v,0).attr({fill:d}).add().shadow(e.plotShadow)),h&&(l?l.animate(y):this.plotBGImage=i.image(h,f,g,m,v).add()),b?b.animate({width:_.width,height:_.height}):this.clipRect=i.clipRect(_),p&&(a?a.animate(a.crisp({x:f,y:g,width:m,height:v,strokeWidth:-p})):this.plotBorder=i.rect(f,g,m,v,0,-p).attr({stroke:e.plotBorderColor,"stroke-width":p,fill:Pt,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var t,e,i,n=this,r=n.options.chart,o=n.options.series;Ut(["inverted","angular","polar"],(function(s){for(t=Rt[r.type||r.defaultSeriesType],i=n[s]||r[s]||t&&t.prototype[s],e=o&&o.length;!i&&e--;)(t=Rt[o[e].type])&&t.prototype[s]&&(i=!0);n[s]=i}))},linkSeries:function(){var t=this,e=t.series;Ut(e,(function(t){t.linkedSeries.length=0})),Ut(e,(function(e){var n=e.options.linkedTo;i(n)&&(n=":previous"===n?t.series[e.index-1]:t.get(n))&&(n.linkedSeries.push(e),e.linkedParent=n)}))},renderSeries:function(){Ut(this.series,(function(t){t.translate(),t.render()}))},renderLabels:function(){var t=this,i=t.options.labels;i.items&&Ut(i.items,(function(n){var r=qt(i.style,n.style),o=e(r.left)+t.plotLeft,s=e(r.top)+t.plotTop+12;delete r.left,delete r.top,t.renderer.text(n.html,o,s).attr({zIndex:2}).css(r).add()}))},render:function(){var t,e,i,n,r=this.axes,o=this.renderer,s=this.options;this.setTitle(),this.legend=new be(this,s.legend),this.getStacks(),this.getMargins(!0),this.setChartSize(),t=this.plotWidth,e=this.plotHeight-=13,Ut(r,(function(t){t.setScale()})),this.getAxisMargins(),i=t/this.plotWidth>1.2,n=e/this.plotHeight>1.1,(i||n)&&(this.maxTicks=null,Ut(r,(function(t){(t.horiz&&i||!t.horiz&&n)&&t.setTickInterval(!0)})),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&Ut(r,(function(t){t.render()})),this.seriesGroup||(this.seriesGroup=o.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.showCredits(s.credits),this.hasRendered=!0},showCredits:function(t){t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text,0,0).on("click",(function(){t.href&&(location.href=t.href)})).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position))},destroy:function(){var t,e=this,i=e.axes,n=e.series,r=e.container,o=r&&r.parentNode;for(Jt(e,"destroy"),Dt[e.index]=E,It--,e.renderTo.removeAttribute("data-highcharts-chart"),Kt(e),t=i.length;t--;)i[t]=i[t].destroy();for(t=n.length;t--;)n[t]=n[t].destroy();for(t in Ut("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),(function(t){var i=e[t];i&&i.destroy&&(e[t]=i.destroy())})),r&&(r.innerHTML="",Kt(r),o&&C(r)),e)delete e[t]},isReadyToRender:function(){var t=this;return!(!Ct&&rt==rt.top&&"complete"!==nt.readyState||St&&!rt.canvg)||(St?le.push((function(){t.firstRender()}),t.options.global.canvasToolsURL):nt.attachEvent("onreadystatechange",(function(){nt.detachEvent("onreadystatechange",t.firstRender),"complete"===nt.readyState&&t.firstRender()})),!1)},firstRender:function(){var t=this,e=t.options,i=t.callback;t.isReadyToRender()&&(t.getContainer(),Jt(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),Ut(e.series||[],(function(e){t.initSeries(e)})),t.linkSeries(),Jt(t,"beforeRender"),it.Pointer&&(t.pointer=new fe(t,e)),t.render(),t.renderer.draw(),i&&i.apply(t,[t]),Ut(t.callbacks,(function(e){t.index!==E&&e.apply(t,[t])})),Jt(t,"load"),t.cloneRenderTo(!0))},splashArray:function(t,e){var i=n(i=e[t])?i:[i,i,i,i];return[Lt(e[t+"Top"],i[0]),Lt(e[t+"Right"],i[1]),Lt(e[t+"Bottom"],i[2]),Lt(e[t+"Left"],i[3])]}};var _e=it.CenteredSeriesMixin={getCenter:function(){var t,i,n,r=this.options,o=this.chart,s=2*(r.slicedOffset||0),a=o.plotWidth-2*s,l=(o=o.plotHeight-2*s,r.center),c=(l=[Lt(l[0],"50%"),Lt(l[1],"50%"),r.size||"100%",r.innerSize||0],ut(a,o));for(i=0;i<4;++i)n=l[i],t=/%$/.test(n),r=i<2||2===i&&t,l[i]=(t?[a,o,c,l[2]][i]*e(n)/100:e(n))+(r?s:0);return l}},we=function(){};we.prototype={init:function(t,e,i){return this.series=t,this.color=t.color,this.applyOptions(e,i),this.pointAttr={},t.options.colorByPoint&&(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter++],t.colorCounter===e.length)&&(t.colorCounter=0),t.chart.pointCount++,this},applyOptions:function(t,e){var i=this.series,n=i.options.pointValKey||i.pointValKey;t=we.prototype.optionsToObject.call(this,t);return qt(this,t),this.options=this.options?qt(this.options,t):t,n&&(this.y=this[n]),this.x===E&&i&&(this.x=e===E?i.autoIncrement():e),this},optionsToObject:function(t){var e={},i=this.series,n=i.pointArrayMap||["y"],o=n.length,s=0,a=0;if("number"==typeof t||null===t)e[n[0]]=t;else if(r(t))for(t.length>o&&("string"===(i=typeof t[0])?e.name=t[0]:"number"===i&&(e.x=t[0]),s++);a<o;)e[n[a++]]=t[s++];else"object"==typeof t&&(e=t,t.dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return e},destroy:function(){var t,e=this.series.chart,i=e.hoverPoints;for(t in e.pointCount--,i&&(this.setState(),l(i,this),!i.length)&&(e.hoverPoints=null),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(Kt(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this),this)this[t]=null},destroyElements:function(){for(var t,e="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),i=6;i--;)this[t=e[i]]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,n=Lt(i.valueDecimals,""),r=i.valuePrefix||"",o=i.valueSuffix||"";return Ut(e.pointArrayMap||["y"],(function(e){e="{point."+e,(r||o)&&(t=t.replace(e+"}",r+e+"}"+o)),t=t.replace(e+"}",e+":,."+n+"f}")})),v(t,{point:this,series:this.series})},firePointEvent:function(t,e,i){var n=this,r=this.series.options;(r.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),"click"===t&&r.allowPointSelect&&(i=function(t){n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),Jt(this,t,e,i)}};var xe=it.Series=function(){};xe.prototype={isCartesian:!0,type:"line",pointClass:we,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(t,e){var i,n,r=this,o=t.series,s=function(t,e){return Lt(t.options.index,t._i)-Lt(e.options.index,e._i)};for(i in r.chart=t,r.options=e=r.setOptions(e),r.linkedSeries=[],r.bindAxes(),qt(r,{name:e.name,state:"",pointAttr:{},visible:!1!==e.visible,selected:!0===e.selected}),St&&(e.animation=!1),n=e.events)Xt(r,i,n[i]);(n&&n.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect)&&(t.runTrackerClick=!0),r.getColor(),r.getSymbol(),Ut(r.parallelArrays,(function(t){r[t+"Data"]=[]})),r.setData(e.data,!1),r.isCartesian&&(t.hasCartesianSeries=!0),o.push(r),r._i=o.length-1,_(o,s),this.yAxis&&_(this.yAxis.series,s),Ut(o,(function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)}))},bindAxes:function(){var t,e=this,i=e.options,n=e.chart;Ut(e.axisTypes||[],(function(r){Ut(n[r],(function(n){t=n.options,(i[r]===t.index||i[r]!==E&&i[r]===t.id||i[r]===E&&0===t.index)&&(n.series.push(e),e[r]=n,n.isDirty=!0)})),!e[r]&&e.optionalAxis!==r&&k(18,!0)}))},updateParallelArrays:function(t,e){var i=t.series,n=arguments;Ut(i.parallelArrays,"number"==typeof e?function(n){var r="y"===n&&i.toYData?i.toYData(t):t[n];i[n+"Data"][e]=r}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(n,2))})},autoIncrement:function(){var t,e=this.options,i=this.xIncrement,n=e.pointIntervalUnit;i=Lt(i,e.pointStart,0);return this.pointInterval=t=Lt(this.pointInterval,e.pointInterval,1),"month"!==n&&"year"!==n||(e=new z(i),t=(e="month"===n?+e[tt](e[Y]()+t):+e[et](e[X]()+t))-i),this.xIncrement=i+t,i},getSegments:function(){var t,e=-1,i=[],n=this.points,r=n.length;if(r)if(this.options.connectNulls){for(t=r;t--;)null===n[t].y&&n.splice(t,1);n.length&&(i=[n])}else Ut(n,(function(t,o){null===t.y?(o>e+1&&i.push(n.slice(e+1,o)),e=o):o===r-1&&i.push(n.slice(e+1,o+1))}));this.segments=i},setOptions:function(e){var i,n=(i=this.chart).options.plotOptions,r=(i=i.userOptions||{}).plotOptions||{},o=n[this.type];return this.userOptions=e,n=t(o,n.series,e),this.tooltipOptions=t(M.tooltip,M.plotOptions[this.type].tooltip,i.tooltip,r.series&&r.series.tooltip,r[this.type]&&r[this.type].tooltip,e.tooltip),null===o.marker&&delete n.marker,this.zoneAxis=n.zoneAxis,e=this.zones=(n.zones||[]).slice(),!n.negativeColor&&!n.negativeFillColor||n.zones||e.push({value:n[this.zoneAxis+"Threshold"]||n.threshold||0,color:n.negativeColor,fillColor:n.negativeFillColor}),e.length&&c(e[e.length-1].value)&&e.push({color:this.color,fillColor:this.fillColor}),n},getCyclic:function(t,e,i){var n=this.userOptions,r="_"+t+"Index",o=t+"Counter";e||(c(n[r])?e=n[r]:(n[r]=e=this.chart[o]%i.length,this.chart[o]+=1),e=i[e]),this[t]=e},getColor:function(){this.options.colorByPoint||this.getCyclic("color",this.options.color||ie[this.type].color,this.chart.options.colors)},getSymbol:function(){var t=this.options.marker;this.getCyclic("symbol",t.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(t.radius=0)},drawLegendSymbol:ue.drawLineMarker,setData:function(t,e,n,s){var a,l=this,c=l.points,u=c&&c.length||0,d=l.options,h=l.chart,p=null,f=l.xAxis,g=f&&!!f.categories,m=d.turboThreshold,v=this.xData,y=this.yData,b=(a=l.pointArrayMap)&&a.length;if(a=(t=t||[]).length,e=Lt(e,!0),!1!==s&&a&&u===a&&!l.cropped&&!l.hasGroupedData&&l.visible)Ut(t,(function(t,e){c[e].update(t,!1,null,!1)}));else{if(l.xIncrement=null,l.pointRange=g?1:d.pointRange,l.colorCounter=0,Ut(this.parallelArrays,(function(t){l[t+"Data"].length=0})),m&&a>m){for(n=0;null===p&&n<a;)p=t[n],n++;if(o(p)){for(g=Lt(d.pointStart,0),d=Lt(d.pointInterval,1),n=0;n<a;n++)v[n]=g,y[n]=t[n],g+=d;l.xIncrement=g}else if(r(p))if(b)for(n=0;n<a;n++)d=t[n],v[n]=d[0],y[n]=d.slice(1,b+1);else for(n=0;n<a;n++)d=t[n],v[n]=d[0],y[n]=d[1];else k(12)}else for(n=0;n<a;n++)t[n]!==E&&(d={series:l},l.pointClass.prototype.applyOptions.apply(d,[t[n]]),l.updateParallelArrays(d,n),g&&d.name)&&(f.names[d.x]=d.name);for(i(y[0])&&k(14,!0),l.data=[],l.options.data=t,n=u;n--;)c[n]&&c[n].destroy&&c[n].destroy();f&&(f.minRange=f.userMinRange),l.isDirty=l.isDirtyData=h.isDirtyBox=!0,n=!1}e&&h.redraw(n)},processData:function(t){var e,i=this.xData,n=this.yData,r=i.length;e=0;var o,s,a,l=this.xAxis,c=this.options;a=c.cropThreshold;var u,d,h=this.isCartesian;if(h&&!this.isDirty&&!l.isDirty&&!this.yAxis.isDirty&&!t)return!1;for(l&&(u=(t=l.getExtremes()).min,d=t.max),h&&this.sorted&&(!a||r>a||this.forceCrop)&&(i[r-1]<u||i[0]>d?(i=[],n=[]):(i[0]<u||i[r-1]>d)&&(i=(e=this.cropData(this.xData,this.yData,u,d)).xData,n=e.yData,e=e.start,o=!0)),a=i.length-1;a>=0;a--)(r=i[a]-i[a-1])>0&&(s===E||r<s)?s=r:r<0&&this.requireSorting&&k(15);this.cropped=o,this.cropStart=e,this.processedXData=i,this.processedYData=n,null===c.pointRange&&(this.pointRange=s||1),this.closestPointRange=s},cropData:function(t,e,i,n){var r,o=t.length,s=0,a=o,l=Lt(this.cropShoulder,1);for(r=0;r<o;r++)if(t[r]>=i){s=ct(0,r-l);break}for(;r<o;r++)if(t[r]>n){a=r+l;break}return{xData:t.slice(s,a),yData:e.slice(s,a),start:s,end:a}},generatePoints:function(){var t,e,i,n,r=this.options.data,o=this.data,s=this.processedXData,a=this.processedYData,l=this.pointClass,c=s.length,u=this.cropStart||0,h=this.hasGroupedData,p=[];for(o||h||((o=[]).length=r.length,o=this.data=o),n=0;n<c;n++)e=u+n,h?p[n]=(new l).init(this,[s[n]].concat(d(a[n]))):(o[e]?i=o[e]:r[e]!==E&&(o[e]=i=(new l).init(this,r[e],s[n])),p[n]=i),p[n].index=e;if(o&&(c!==(t=o.length)||h))for(n=0;n<t;n++)n===u&&!h&&(n+=c),o[n]&&(o[n].destroyElements(),o[n].plotX=E);this.data=o,this.points=p},getExtremes:function(t){var e,i,n,r,o,s=this.yAxis,a=this.processedXData,l=[],c=0,u=(e=this.xAxis.getExtremes()).min,d=e.max;for(e=(t=t||this.stackedYData||this.processedYData).length,o=0;o<e;o++)if(n=a[o],i=null!==(r=t[o])&&r!==E&&(!s.isLog||r.length||r>0),n=this.getExtremesFromAll||this.cropped||(a[o+1]||n)>=u&&(a[o-1]||n)<=d,i&&n)if(i=r.length)for(;i--;)null!==r[i]&&(l[c++]=r[i]);else l[c++]=r;this.dataMin=Lt(void 0,w(l)),this.dataMax=Lt(void 0,x(l))},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var t,e,i,n=(m=this.options).stacking,r=this.xAxis,s=r.categories,a=this.yAxis,l=this.points,u=l.length,d=!!this.modifyValue,h=m.pointPlacement,p="between"===h||o(h),f=m.threshold,g=Number.MAX_VALUE,m=0;m<u;m++){var v=l[m],y=v.x,b=v.y;e=v.low;var _=n&&a.stacks[(this.negStacks&&b<f?"-":"")+this.stackKey];a.isLog&&null!==b&&b<=0&&(v.y=b=null,k(10)),v.plotX=t=r.translate(y,0,0,0,1,h,"flags"===this.type),n&&this.visible&&_&&_[y]&&(e=(b=(_=_[y]).points[this.index+","+m])[0],b=b[1],0===e&&(e=Lt(f,a.min)),a.isLog&&e<=0&&(e=null),v.total=v.stackTotal=_.total,v.percentage=_.total&&v.y/_.total*100,v.stackY=b,_.setOffset(this.pointXOffset||0,this.barW||0)),v.yBottom=c(e)?a.translate(e,0,1,0,1):null,d&&(b=this.modifyValue(b,v)),v.plotY=e="number"==typeof b&&b!==1/0?ut(ct(-1e5,a.translate(b,0,1,0,1)),1e5):E,v.isInside=e!==E&&e>=0&&e<=a.len&&t>=0&&t<=r.len,v.clientX=p?r.translate(y,0,0,0,1):t,v.negative=v.y<(f||0),v.category=s&&s[v.x]!==E?s[v.x]:v.x,m&&(g=ut(g,dt(t-i))),i=t}this.closestPointRangePx=g,this.getSegments()},setClip:function(t){var e=this.chart,i=e.renderer,n=e.inverted,r=this.clipBox,o=r||e.clipBox,s=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,o.height].join(","),a=e[s],l=e[s+"m"];a||(t&&(o.width=0,e[s+"m"]=l=i.clipRect(-99,n?-e.plotLeft:-e.plotTop,99,n?e.chartWidth:e.chartHeight)),e[s]=a=i.clipRect(o)),t&&(a.count+=1),!1!==this.options.clip&&(this.group.clip(t||r?a:e.clipRect),this.markerGroup.clip(l),this.sharedClipKey=s),t||(a.count-=1,a.count<=0&&s&&e[s]&&(r||(e[s]=e[s].destroy()),e[s+"m"]&&(e[s+"m"]=e[s+"m"].destroy())))},animate:function(t){var e,i=this.chart,r=this.options.animation;r&&!n(r)&&(r=ie[this.type].animation),t?this.setClip(r):((t=i[e=this.sharedClipKey])&&t.animate({width:i.plotSizeX},r),i[e+"m"]&&i[e+"m"].animate({width:i.plotSizeX+99},r),this.animate=null)},afterAnimate:function(){this.setClip(),Jt(this,"afterAnimate")},drawPoints:function(){var t,e,i,n,r,o,s,a,l,c,u,d,h=this.points,p=this.chart,f=this.options.marker,g=this.pointAttr[""],m=this.markerGroup,v=Lt(f.enabled,this.xAxis.isRadial,this.closestPointRangePx>2*f.radius);if(!1!==f.enabled||this._hasPointMarkers)for(n=h.length;n--;)r=h[n],e=at(r.plotX),i=r.plotY,l=r.graphic,c=r.marker||{},u=!!r.marker,t=v&&c.enabled===E||c.enabled,d=r.isInside,t&&i!==E&&!isNaN(i)&&null!==r.y?(o=(t=r.pointAttr[r.selected?"select":""]||g).r,a=0===(s=Lt(c.symbol,this.symbol)).indexOf("url"),l?l[d?"show":"hide"](!0).animate(qt({x:e-o,y:i-o},l.symbolName?{width:2*o,height:2*o}:{})):d&&(o>0||a)&&(r.graphic=p.renderer.symbol(s,e-o,i-o,2*o,2*o,u?c:f).attr(t).add(m))):l&&(r.graphic=l.destroy())},convertAttribs:function(t,e,i,n){var r,o,s=this.pointAttrToOptions,a={};t=t||{},e=e||{},i=i||{},n=n||{};for(r in s)o=s[r],a[r]=Lt(t[o],e[r],i[r],n[r]);return a},getAttribs:function(){var t,e=this,i=e.options,n=ie[e.type].marker?i.marker:i,r=n.states,o=r.hover,s=e.color,a=e.options.negativeColor;t={stroke:s,fill:s};var l,u,d=e.points||[],h=[],p=e.pointAttrToOptions;u=e.hasPointSpecificOptions;var f=n.lineColor,g=n.fillColor;l=i.turboThreshold;var m,v=e.zones,y=e.zoneAxis||"y";if(i.marker?(o.radius=o.radius||n.radius+o.radiusPlus,o.lineWidth=o.lineWidth||n.lineWidth+o.lineWidthPlus):(o.color=o.color||ae(o.color||s).brighten(o.brightness).get(),o.negativeColor=o.negativeColor||ae(o.negativeColor||a).brighten(o.brightness).get()),h[""]=e.convertAttribs(n,t),Ut(["hover","select"],(function(t){h[t]=e.convertAttribs(r[t],h[""])})),e.pointAttr=h,s=d.length,!l||s<l||u)for(;s--;){if((n=(l=d[s]).options&&l.options.marker||l.options)&&!1===n.enabled&&(n.radius=0),v.length){for(t=v[u=0];l[y]>=t.value;)t=v[++u];l.color=l.fillColor=t.color}if(u=i.colorByPoint||l.color,l.options)for(m in p)c(n[p[m]])&&(u=!0);u?(u=[],t=(r=(n=n||{}).states||{}).hover=r.hover||{},i.marker||(t.color=t.color||!l.options.color&&o[l.negative&&a?"negativeColor":"color"]||ae(l.color).brighten(t.brightness||o.brightness).get()),t={color:l.color},g||(t.fillColor=l.color),f||(t.lineColor=l.color),u[""]=e.convertAttribs(qt(t,n),h[""]),u.hover=e.convertAttribs(r.hover,h.hover,u[""]),u.select=e.convertAttribs(r.select,h.select,u[""])):u=h,l.pointAttr=u}},destroy:function(){var t,e,i,n,r,o=this,s=o.chart,a=/AppleWebKit\/533/.test(mt),c=o.data||[];for(Jt(o,"destroy"),Kt(o),Ut(o.axisTypes||[],(function(t){(r=o[t])&&(l(r.series,o),r.isDirty=r.forceRedraw=!0)})),o.legendItem&&o.chart.legend.destroyItem(o),e=c.length;e--;)(i=c[e])&&i.destroy&&i.destroy();for(n in o.points=null,clearTimeout(o.animationTimeout),Ut("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","),(function(e){o[e]&&(t=a&&"group"===e?"hide":"destroy",o[e][t]())})),s.hoverSeries===o&&(s.hoverSeries=null),l(s.series,o),o)delete o[n]},getSegmentPath:function(t){var e=this,i=[],n=e.options.step;return Ut(t,(function(r,o){var s,a=r.plotX,l=r.plotY;e.getPointSpline?i.push.apply(i,e.getPointSpline(t,r,o)):(i.push(o?"L":"M"),n&&o&&(s=t[o-1],"right"===n?i.push(s.plotX,l):"center"===n?i.push((s.plotX+a)/2,s.plotY,(s.plotX+a)/2,l):i.push(a,s.plotY)),i.push(r.plotX,r.plotY))})),i},getGraphPath:function(){var t,e=this,i=[],n=[];return Ut(e.segments,(function(r){t=e.getSegmentPath(r),r.length>1?i=i.concat(t):n.push(r[0])})),e.singlePoints=n,e.graphPath=i},drawGraph:function(){var t=this,e=this.options,i=[["graph",e.lineColor||this.color,e.dashStyle]],n=e.lineWidth,r="square"!==e.linecap,o=this.getGraphPath(),s=this.fillGraph&&this.color||Pt;Ut(this.zones,(function(n,r){i.push(["colorGraph"+r,n.color||t.color,n.dashStyle||e.dashStyle])})),Ut(i,(function(i,a){var l=i[0],c=t[l];c?(ee(c),c.animate({d:o})):(n||s)&&o.length&&(c={stroke:i[1],"stroke-width":n,fill:s,zIndex:1},i[2]?c.dashstyle=i[2]:r&&(c["stroke-linecap"]=c["stroke-linejoin"]="round"),t[l]=t.chart.renderer.path(o).attr(c).add(t.group).shadow(!a&&e.shadow))}))},applyZones:function(){var t,e,i,n=this,r=this.chart,o=r.renderer,s=this.zones,a=this.clips||[],l=this.graph,c=this.area,u=ct(r.chartWidth,r.chartHeight),d=this[(this.zoneAxis||"y")+"Axis"],h=d.reversed,p=d.horiz,f=!1;s.length&&(l||c)&&(l.hide(),c&&c.hide(),Ut(s,(function(s,l){t=Lt(e,h?p?r.plotWidth:0:p?0:d.toPixels(d.min)),e=st(d.toPixels(Lt(s.value,d.max),!0)),f&&(t=e=d.toPixels(d.max)),d.isXAxis?(i={x:h?e:t,y:0,width:Math.abs(t-e),height:u},p||(i.x=r.plotHeight-i.x)):(i={x:0,y:h?t:e,width:u,height:Math.abs(t-e)},p&&(i.y=r.plotWidth-i.y)),r.inverted&&o.isVML&&(i=d.isXAxis?{x:0,y:h?t:e,height:i.width,width:r.chartWidth}:{x:i.y-r.plotLeft-r.spacingBox.x,y:0,width:i.height,height:r.chartHeight}),a[l]?a[l].animate(i):(a[l]=o.clipRect(i),n["colorGraph"+l].clip(a[l]),c&&n["colorArea"+l].clip(a[l])),f=s.value>d.max})),this.clips=a)},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};Ut(["group","markerGroup"],(function(i){e[i]&&e[i].attr(t).invert()}))}var e=this,i=e.chart;e.xAxis&&(Xt(i,"resize",t),Xt(e,"destroy",(function(){Kt(i,"resize",t)})),t(),e.invertGroups=t)},plotGroup:function(t,e,i,n,r){var o=this[t],s=!o;return s&&(this[t]=o=this.chart.renderer.g(e).attr({visibility:i,zIndex:n||.1}).add(r)),o[s?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var t=this.chart,e=this.xAxis,i=this.yAxis;return t.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,i=e.chart,n=e.options,r=(t=n.animation)&&!!e.animate&&i.renderer.isSVG&&Lt(t.duration,500)||0,o=e.visible?"visible":"hidden",s=n.zIndex,a=e.hasRendered,l=i.seriesGroup;t=e.plotGroup("group","series",o,s,l),e.markerGroup=e.plotGroup("markerGroup","markers",o,s,l),r&&e.animate(!0),e.getAttribs(),t.inverted=!!e.isCartesian&&i.inverted,e.drawGraph&&(e.drawGraph(),e.applyZones()),Ut(e.points,(function(t){t.redraw&&t.redraw()})),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),i.inverted&&e.invertGroups(),!1!==n.clip&&!e.sharedClipKey&&!a&&t.clip(i.clipRect),r&&e.animate(),a||(r?e.animationTimeout=setTimeout((function(){e.afterAnimate()}),r):e.afterAnimate()),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this.chart,e=this.isDirtyData,i=this.group,n=this.xAxis,r=this.yAxis;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:Lt(n&&n.left,t.plotLeft),translateY:Lt(r&&r.top,t.plotTop)})),this.translate(),this.render(),e&&(delete this.kdTree,Jt(this,"updatedData"))},kdDimensions:1,kdTree:null,kdAxisArray:["plotX","plotY"],kdComparer:"distX",searchPoint:function(t){var e=this.xAxis,i=this.yAxis,n=this.chart.inverted;return t.plotX=n?e.len-t.chartY+e.pos:t.chartX-e.pos,t.plotY=n?i.len-t.chartX+i.pos:t.chartY-i.pos,this.searchKDTree(t)},buildKDTree:function(){function t(e,n,r){var o,s;if(s=e&&e.length)return o=i.kdAxisArray[n%r],e.sort((function(t,e){return t[o]-e[o]})),{point:e[s=Math.floor(s/2)],left:t(e.slice(0,s),n+1,r),right:t(e.slice(s+1),n+1,r)}}function e(){i.kdTree=t(i.points.slice(),n,n)}var i=this,n=i.kdDimensions;delete i.kdTree,i.options.kdSync?e():setTimeout(e)},searchKDTree:function(t){function e(t,s,a,l){var u,d=s.point,h=i.kdAxisArray[a%l],p=d;u=c(t[r])&&c(d[r])?Math.pow(t[r]-d[r],2):null;var f=c(t[o])&&c(d[o])?Math.pow(t[o]-d[o],2):null,g=(u||0)+(f||0);return u={distX:c(u)?Math.sqrt(u):Number.MAX_VALUE,distY:c(f)?Math.sqrt(f):Number.MAX_VALUE,distR:c(g)?Math.sqrt(g):Number.MAX_VALUE},d.dist=u,s[u=(h=t[h]-d[h])<0?"left":"right"]&&(p=(u=e(t,s[u],a+1,l)).dist[n]<p.dist[n]?u:d,s[d=h<0?"right":"left"]&&Math.sqrt(h*h)<p.dist[n]&&(p=(t=e(t,s[d],a+1,l)).dist[n]<p.dist[n]?t:p)),p}var i=this,n=this.kdComparer,r=this.kdAxisArray[0],o=this.kdAxisArray[1];if(this.kdTree||this.buildKDTree(),this.kdTree)return e(t,this.kdTree,this.kdDimensions,this.kdDimensions)}},I.prototype={destroy:function(){$(this,this.axis)},render:function(t){var e=this.options,i=(i=e.format)?v(i,this):e.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var i=(s=this.axis).chart,n=i.inverted,r=this.isNegative,o=s.translate(s.usePercentage?100:this.total,0,0,0,1),s=s.translate(0),a=(s=dt(o-s),i.xAxis[0].translate(this.x)+t),l=i.plotHeight;r={x:n?r?o:o-s:a,y:n?l-a-e:r?l-o-s:l-o,width:n?s:e,height:n?e:s};(n=this.label)&&(n.align(this.alignOptions,null,r),r=n.alignAttr,n[!1===this.options.crop||i.isInsidePlot(r.x,r.y)?"show":"hide"](!0))}},de.prototype.buildStacks=function(){var t=this.series,e=Lt(this.options.reversedStacks,!0),i=t.length;if(!this.isXAxis){for(this.usePercentage=!1;i--;)t[e?i:t.length-i-1].setStackedPoints();if(this.usePercentage)for(i=0;i<t.length;i++)t[i].setPercentStacks()}},de.prototype.renderStackTotals=function(){var t,e,i=this.chart,n=i.renderer,r=this.stacks,o=this.stackTotalGroup;for(t in o||(this.stackTotalGroup=o=n.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),o.translate(i.plotLeft,i.plotTop),r)for(e in i=r[t])i[e].render(o)},xe.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var t,e,i,n,r,o,s=this.processedXData,a=this.processedYData,l=[],c=a.length,u=(h=this.options).threshold,d=h.stack,h=h.stacking,p=this.stackKey,f="-"+p,g=this.negStacks,m=this.yAxis,v=m.stacks,y=m.oldStacks;for(n=0;n<c;n++)r=s[n],o=a[n],i=this.index+","+n,v[e=(t=g&&o<u)?f:p]||(v[e]={}),v[e][r]||(y[e]&&y[e][r]?(v[e][r]=y[e][r],v[e][r].total=null):v[e][r]=new I(m,m.options.stackLabels,t,r,d)),(e=v[e][r]).points[i]=[e.cum||0],"percent"===h?(t=t?p:f,g&&v[t]&&v[t][r]?(t=v[t][r],e.total=t.total=ct(t.total,e.total)+dt(o)||0):e.total=S(e.total+(dt(o)||0))):e.total=S(e.total+(o||0)),e.cum=(e.cum||0)+(o||0),e.points[i].push(e.cum),l[n]=e.cum;"percent"===h&&(m.usePercentage=!0),this.stackedYData=l,m.oldStacks={}}},xe.prototype.setPercentStacks=function(){var t=this,e=t.stackKey,i=t.yAxis.stacks,n=t.processedXData;Ut([e,"-"+e],(function(e){for(var r,o,s=n.length;s--;)r=n[s],(r=(o=i[e]&&i[e][r])&&o.points[t.index+","+s])&&(o=o.total?100/o.total:0,r[0]=S(r[0]*o),r[1]=S(r[1]*o),t.stackedYData[s]=r[1])}))},qt(Ht.prototype,{addSeries:function(t,e,i){var n,r=this;return t&&(e=Lt(e,!0),Jt(r,"addSeries",{options:t},(function(){n=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),e&&r.redraw(i)}))),n},addAxis:function(e,i,n,r){var o=i?"xAxis":"yAxis",s=this.options;new de(this,t(e,{index:this[o].length,isX:i})),s[o]=d(s[o]||{}),s[o].push(e),Lt(n,!0)&&this.redraw(r)},showLoading:function(t){var e=this,i=e.options,n=e.loadingDiv,r=i.loading,o=function(){n&&h(n,{left:e.plotLeft+"px",top:e.plotTop+"px",width:e.plotWidth+"px",height:e.plotHeight+"px"})};n||(e.loadingDiv=n=p(Et,{className:"highcharts-loading"},qt(r.style,{zIndex:10,display:Pt}),e.container),e.loadingSpan=p("span",null,r.labelStyle,n),Xt(e,"redraw",o)),e.loadingSpan.innerHTML=t||i.lang.loading,e.loadingShown||(h(n,{opacity:0,display:""}),te(n,{opacity:r.style.opacity},{duration:r.showDuration||0}),e.loadingShown=!0),o()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&te(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){h(e,{display:Pt})}}),this.loadingShown=!1}}),qt(we.prototype,{update:function(t,e,i,o){function s(){l.applyOptions(t),n(t)&&!r(t)&&(l.redraw=function(){u&&(t&&t.marker&&t.marker.symbol?l.graphic=u.destroy():u.attr(l.pointAttr[l.state||""])),t&&t.dataLabels&&l.dataLabel&&(l.dataLabel=l.dataLabel.destroy()),l.redraw=null}),a=l.index,c.updateParallelArrays(l,a),p&&l.name&&(p[l.x]=l.name),h.data[a]=l.options,c.isDirty=c.isDirtyData=!0,!c.fixedBox&&c.hasCartesianSeries&&(d.isDirtyBox=!0),"point"===h.legendType&&(c.updateTotals(),d.legend.clearItems()),e&&d.redraw(i)}var a,l=this,c=l.series,u=l.graphic,d=c.chart,h=c.options,p=c.xAxis&&c.xAxis.names;e=Lt(e,!0);!1===o?s():l.firePointEvent("update",{options:t},s)},remove:function(t,e){this.series.removePoint(Gt(this,this.series.data),t,e)}}),qt(xe.prototype,{addPoint:function(t,e,i,n){var r,o=this.options,s=this.data,a=this.graph,l=this.area,c=this.chart,u=this.xAxis&&this.xAxis.names,d=a&&a.shift||0,h=o.data,p=this.xData;if(j(n,c),i&&Ut([a,l,this.graphNeg,this.areaNeg],(function(t){t&&(t.shift=d+1)})),l&&(l.isArea=!0),e=Lt(e,!0),n={series:this},this.pointClass.prototype.applyOptions.apply(n,[t]),a=n.x,l=p.length,this.requireSorting&&a<p[l-1])for(r=!0;l&&p[l-1]>a;)l--;this.updateParallelArrays(n,"splice",l,0,0),this.updateParallelArrays(n,l),u&&n.name&&(u[a]=n.name),h.splice(l,0,t),r&&(this.data.splice(l,0,null),this.processData()),"point"===o.legendType&&this.generatePoints(),i&&(s[0]&&s[0].remove?s[0].remove(!1):(s.shift(),this.updateParallelArrays(n,"shift"),h.shift())),this.isDirtyData=this.isDirty=!0,e&&(this.getAttribs(),c.redraw())},removePoint:function(t,e,i){var n=this,r=n.data,o=r[t],s=n.points,a=n.chart,l=function(){r.length===s.length&&s.splice(t,1),r.splice(t,1),n.options.data.splice(t,1),n.updateParallelArrays(o||{series:n},"splice",t,1),o&&o.destroy(),n.isDirty=!0,n.isDirtyData=!0,e&&a.redraw()};j(i,a),e=Lt(e,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(t,e){var i=this,n=i.chart;t=Lt(t,!0);i.isRemoving||(i.isRemoving=!0,Jt(i,"remove",null,(function(){i.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(),t&&n.redraw(e)}))),i.isRemoving=!1},update:function(e,i){var n,r=this,o=this.chart,s=this.userOptions,a=this.type,l=Rt[a].prototype,c=["group","markerGroup","dataLabelsGroup"];for(n in(e.type&&e.type!==a||void 0!==e.zIndex)&&(c.length=0),Ut(c,(function(t){c[t]=r[t],delete r[t]})),e=t(s,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},e),this.remove(!1),l)this[n]=E;qt(this,Rt[e.type||a].prototype),Ut(c,(function(t){r[t]=c[t]})),this.init(o,e),o.linkSeries(),Lt(i,!0)&&o.redraw(!1)}}),qt(de.prototype,{update:function(e,i){var n=this.chart;e=n.options[this.coll][this.options.index]=t(this.userOptions,e);this.destroy(!0),this._addedPlotLB=E,this.init(n,qt(e,{events:E})),n.isDirtyBox=!0,Lt(i,!0)&&n.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,n=this.series,r=n.length;r--;)n[r]&&n[r].remove(!1);l(e.axes,this),l(e[i],this),e.options[i].splice(this.options.index,1),Ut(e[i],(function(t,e){t.options.index=e})),this.destroy(),e.isDirtyBox=!0,Lt(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}});var $e=f(xe);Rt.line=$e,ie.area=t(ne,{threshold:0});var Ce=f(xe,{type:"area",getSegments:function(){var t,e,i,n,r=this,o=[],s=[],a=[],l=this.xAxis,c=this.yAxis,u=c.stacks[this.stackKey],d={},h=this.points,p=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(i=0;i<h.length;i++)d[h[i].x]=h[i];for(n in u)null!==u[n].total&&a.push(+n);a.sort((function(t,e){return t-e})),Ut(a,(function(n){var o,a=0;if(!p||d[n]&&null!==d[n].y)if(d[n])s.push(d[n]);else{for(i=r.index;i<=c.series.length;i++)if(o=u[n].points[i+","+n]){a=o[1];break}t=l.translate(n),e=c.toPixels(a,!0),s.push({y:null,plotX:t,clientX:t,plotY:e,yBottom:e,onMouseOver:At})}})),s.length&&o.push(s)}else xe.prototype.getSegments.call(this),o=this.segments;this.segments=o},getSegmentPath:function(t){var e,i=xe.prototype.getSegmentPath.call(this,t),n=[].concat(i),r=this.options;e=i.length
;var o,s=this.yAxis.getThreshold(r.threshold);if(3===e&&n.push("L",i[1],i[2]),r.stacking&&!this.closedStacks)for(e=t.length-1;e>=0;e--)o=Lt(t[e].yBottom,s),e<t.length-1&&r.step&&n.push(t[e+1].plotX,o),n.push(t[e].plotX,o);else this.closeSegment(n,t,s);return this.areaPath=this.areaPath.concat(n),i},closeSegment:function(t,e,i){t.push("L",e[e.length-1].plotX,i,"L",e[0].plotX,i)},drawGraph:function(){this.areaPath=[],xe.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,i=this.options,n=[["area",this.color,i.fillColor]];Ut(this.zones,(function(e,r){n.push(["colorArea"+r,e.color||t.color,e.fillColor||i.fillColor])})),Ut(n,(function(n){var r=n[0],o=t[r];o?o.animate({d:e}):t[r]=t.chart.renderer.path(e).attr({fill:Lt(n[2],ae(n[1]).setOpacity(Lt(i.fillOpacity,.75)).get()),zIndex:0}).add(t.group)}))},drawLegendSymbol:ue.drawRectangle});Rt.area=Ce,ie.spline=t(ne),$e=f(xe,{type:"spline",getPointSpline:function(t,e,i){var n,r,o,s,a,l=e.plotX,c=e.plotY,u=t[i-1],d=t[i+1];u&&d&&(t=u.plotY,o=d.plotX,s=(1.5*c+(d=d.plotY))/2.5,s+=a=(s-(r=(1.5*c+t)/2.5))*((o=(1.5*l+o)/2.5)-l)/(o-(n=(1.5*l+u.plotX)/2.5))+c-s,(r+=a)>t&&r>c?s=2*c-(r=ct(t,c)):r<t&&r<c&&(s=2*c-(r=ut(t,c))),s>d&&s>c?r=2*c-(s=ct(d,c)):s<d&&s<c&&(r=2*c-(s=ut(d,c))),e.rightContX=o,e.rightContY=s);return i?(e=["C",u.rightContX||u.plotX,u.rightContY||u.plotY,n||l,r||c,l,c],u.rightContX=u.rightContY=null):e=["M",l,c],e}}),Rt.spline=$e,ie.areaspline=t(ie.area),$e=f($e,{type:"areaspline",closedStacks:!0,getSegmentPath:(Ce=Ce.prototype).getSegmentPath,closeSegment:Ce.closeSegment,drawGraph:Ce.drawGraph,drawLegendSymbol:ue.drawRectangle}),Rt.areaspline=$e,ie.column=t(ne,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0}),$e=f(xe,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){xe.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&Ut(e.series,(function(e){e.type===t.type&&(e.isDirty=!0)}))},getColumnMetrics:function(){var t,e,i=this,n=i.options,r=i.xAxis,o=i.yAxis,s=r.reversed,a={},l=0;!1===n.grouping?l=1:Ut(i.chart.series,(function(n){var r=n.options,s=n.yAxis;n.type===i.type&&n.visible&&o.len===s.len&&o.pos===s.pos&&(r.stacking?(t=n.stackKey,a[t]===E&&(a[t]=l++),e=a[t]):!1!==r.grouping&&(e=l++),n.columnIndex=e)}));var u=(r=ut(dt(r.transA)*(r.ordinalSlope||n.pointRange||r.closestPointRange||r.tickInterval||1),r.len))*n.groupPadding,d=(r-2*u)/l,h=(n=c(h=n.pointWidth)?(d-h)/2:d*n.pointPadding,Lt(h,d-2*n));return i.columnMetrics={width:h,offset:n+(u+((s?l-(i.columnIndex||0):i.columnIndex)||0)*d-r/2)*(s?-1:1)}},translate:function(){var t=this,e=t.chart,i=t.options,n=t.borderWidth=Lt(i.borderWidth,t.closestPointRange*t.xAxis.transA<2?0:1),r=t.yAxis,o=t.translatedThreshold=r.getThreshold(i.threshold),s=Lt(i.minPointLength,5),a=t.getColumnMetrics(),l=a.width,c=t.barW=ct(l,1+2*n),u=t.pointXOffset=a.offset,d=-(n%2?.5:0),h=n%2?.5:1;e.renderer.isVML&&e.inverted&&(h+=1),i.pointPadding&&(c=lt(c)),xe.prototype.translate.apply(t),Ut(t.points,(function(i){var n,a=Lt(i.yBottom,o),p=ut(ct(-999-a,i.plotY),r.len+999+a),f=i.plotX+u,g=c,m=ut(p,a);n=ct(p,a)-m,dt(n)<s&&s&&(n=s,m=st(dt(m-o)>s?a-s:o-(r.translate(i.y,0,1,0,1)<=o?s:0))),i.barX=f,i.pointWidth=l,i.tooltipPos=e.inverted?[r.len+r.pos-e.plotLeft-p,t.xAxis.len-f-g/2]:[f+g/2,p+r.pos-e.plotTop],g=st(f+g)+d,g-=f=st(f)+d,a=dt(m)<.5,n=ut(st(m+n)+h,9e4),n-=m=st(m)+h,a&&(m-=1,n+=1),i.shapeType="rect",i.shapeArgs={x:f,y:m,width:g,height:n}}))},getSymbol:At,drawLegendSymbol:ue.drawRectangle,drawGraph:At,drawPoints:function(){var e,i,n=this,r=this.chart,o=n.options,s=r.renderer,a=o.animationLimit||250;Ut(n.points,(function(l){var u=l.plotY,d=l.graphic;u===E||isNaN(u)||null===l.y?d&&(l.graphic=d.destroy()):(e=l.shapeArgs,u=c(n.borderWidth)?{"stroke-width":n.borderWidth}:{},i=l.pointAttr[l.selected?"select":""]||n.pointAttr[""],d?(ee(d),d.attr(u)[r.pointCount<a?"animate":"attr"](t(e))):l.graphic=s[l.shapeType](e).attr(u).attr(i).add(n.group).shadow(o.shadow,null,o.stacking&&!o.borderRadius))}))},animate:function(t){var e=this.yAxis,i=this.options,n=this.chart.inverted,r={};Ct&&(t?(r.scaleY=.001,t=ut(e.pos+e.len,ct(e.pos,e.toPixels(i.threshold))),n?r.translateX=t-e.len:r.translateY=t,this.group.attr(r)):(r.scaleY=1,r[n?"translateX":"translateY"]=e.pos,this.group.animate(r,this.options.animation),this.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&Ut(e.series,(function(e){e.type===t.type&&(e.isDirty=!0)})),xe.prototype.remove.apply(t,arguments)}}),Rt.column=$e,ie.bar=t(ie.column),Ce=f($e,{type:"bar",inverted:!0}),Rt.bar=Ce,ie.scatter=t(ne,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{series.color}">\xe2\u2014\x8f</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),Ce=f(xe,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,kdComparer:"distR",drawGraph:function(){this.options.lineWidth&&xe.prototype.drawGraph.call(this)}}),Rt.scatter=Ce,ie.pie=t(ne,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),ne={type:"pie",isCartesian:!1,pointClass:f(we,{init:function(){we.prototype.init.apply(this,arguments);var t,e=this;return qt(e,{visible:!1!==e.visible,name:Lt(e.name,"Slice")}),t=function(t){e.slice("select"===t.type)},Xt(e,"select",t),Xt(e,"unselect",t),e},setVisible:function(t){var e=this,i=e.series,n=i.chart,r=!i.isDirty&&i.options.ignoreHiddenPoint;e.visible=e.options.visible=t=t===E?!e.visible:t,i.options.data[Gt(e,i.data)]=e.options,Ut(["graphic","dataLabel","connector","shadowGroup"],(function(i){e[i]&&e[i][t?"show":"hide"](!0)})),e.legendItem&&(n.hasRendered&&(i.updateTotals(),n.legend.clearItems(),r||n.legend.render()),n.legend.colorizeItem(e,t)),r&&(i.isDirty=!0,n.redraw())},slice:function(t,e,i){var n=this.series;j(i,n.chart),Lt(e,!0),this.sliced=this.options.sliced=t=c(t)?t:!this.sliced,n.options.data[Gt(this,n.data)]=this.options,t=t?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(t),this.shadowGroup&&this.shadowGroup.animate(t)},haloPath:function(t){var e=this.shapeArgs,i=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(i.plotLeft+e.x,i.plotTop+e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:At,animate:function(t){var e=this,i=e.points,n=e.startAngleRad;t||(Ut(i,(function(t){var i=t.graphic;t=t.shapeArgs;i&&(i.attr({r:e.center[3]/2,start:n,end:n}),i.animate({r:t.r,start:t.start,end:t.end},e.options.animation))})),e.animate=null)},setData:function(t,e,i,n){xe.prototype.setData.call(this,t,!1,i,n),this.processData(),this.generatePoints(),Lt(e,!0)&&this.chart.redraw(i)},updateTotals:function(){var t,e,i,n,r=0,o=this.options.ignoreHiddenPoint;for(i=(e=this.points).length,t=0;t<i;t++)(n=e[t]).y<0&&(n.y=null),r+=o&&!n.visible?0:n.y;for(this.total=r,t=0;t<i;t++)(n=e[t]).percentage=r>0&&(n.visible||!o)?n.y/r*100:0,n.total=r},generatePoints:function(){xe.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,i,n,r,o,s=0,a=(p=this.options).slicedOffset,l=a+p.borderWidth,c=p.startAngle||0,u=this.startAngleRad=ft/180*(c-90),d=(c=(this.endAngleRad=ft/180*(Lt(p.endAngle,c+360)-90))-u,this.points),h=p.dataLabels.distance,p=p.ignoreHiddenPoint,f=d.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,i){return n=ot.asin(ut((e-t[1])/(t[2]/2+h),1)),t[0]+(i?-1:1)*ht(n)*(t[2]/2+h)},r=0;r<f;r++)o=d[r],e=u+s*c,p&&!o.visible||(s+=o.percentage/100),i=u+s*c,o.shapeType="arc",o.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:st(1e3*e)/1e3,end:st(1e3*i)/1e3},(n=(i+e)/2)>1.5*ft?n-=2*ft:n<-ft/2&&(n+=2*ft),o.slicedTranslation={translateX:st(ht(n)*a),translateY:st(pt(n)*a)},e=ht(n)*t[2]/2,i=pt(n)*t[2]/2,o.tooltipPos=[t[0]+.7*e,t[1]+.7*i],o.half=n<-ft/2||n>ft/2?1:0,o.angle=n,l=ut(l,h/2),o.labelPos=[t[0]+e+ht(n)*h,t[1]+i+pt(n)*h,t[0]+e+ht(n)*l,t[1]+i+pt(n)*l,t[0]+e,t[1]+i,h<0?"center":o.half?"right":"left",n]},drawGraph:null,drawPoints:function(){var t,e,i,n,r=this,o=r.chart.renderer,s=r.options.shadow;s&&!r.shadowGroup&&(r.shadowGroup=o.g("shadow").add(r.group)),Ut(r.points,(function(a){e=a.graphic,n=a.shapeArgs,i=a.shadowGroup,s&&!i&&(i=a.shadowGroup=o.g("shadow").add(r.shadowGroup)),t=a.sliced?a.slicedTranslation:{translateX:0,translateY:0},i&&i.attr(t),e?e.animate(qt(n,t)):a.graphic=e=o[a.shapeType](n).setRadialReference(r.center).attr(a.pointAttr[a.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(t).add(r.group).shadow(s,i),void 0!==a.visible&&a.setVisible(a.visible)}))},searchPoint:At,sortByAngle:function(t,e){t.sort((function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e}))},drawLegendSymbol:ue.drawRectangle,getCenter:_e.getCenter,getSymbol:At},ne=f(xe,ne),Rt.pie=ne,xe.prototype.drawDataLabels=function(){var e,i,n,r,o=this,s=o.options,a=s.cursor,l=s.dataLabels,u=o.points,d=o.hasRendered||0,h=o.chart.renderer;(l.enabled||o._hasPointLabels)&&(o.dlProcessOptions&&o.dlProcessOptions(l),r=o.plotGroup("dataLabelsGroup","data-labels",l.defer?"hidden":"visible",l.zIndex||6),Lt(l.defer,!0)&&(r.attr({opacity:+d}),d||Xt(o,"afterAnimate",(function(){o.visible&&r.show(),r[s.animation?"animate":"attr"]({opacity:1},{duration:200})}))),i=l,Ut(u,(function(u){var d,p,f,g,m=u.dataLabel,y=u.connector,b=!0,_={};if(e=u.dlOptions||u.options&&u.options.dataLabels,d=Lt(e&&e.enabled,i.enabled),m&&!d)u.dataLabel=m.destroy();else if(d){if(g=(l=t(i,e)).style,d=l.rotation,p=u.getLabelConfig(),n=l.format?v(l.format,p):l.formatter.call(p,l),g.color=Lt(l.color,g.color,o.color,"black"),m)c(n)?(m.attr({text:n}),b=!1):(u.dataLabel=m=m.destroy(),y&&(u.connector=y.destroy()));else if(c(n)){for(f in m={fill:l.backgroundColor,stroke:l.borderColor,"stroke-width":l.borderWidth,r:l.borderRadius||0,rotation:d,padding:l.padding,zIndex:1},"contrast"===g.color&&(_.color=l.inside||l.distance<0||s.stacking?h.getContrast(u.color||o.color):"#000000"),a&&(_.cursor=a),m)m[f]===E&&delete m[f];m=u.dataLabel=h[d?"text":"label"](n,0,-999,l.shape,null,null,l.useHTML).attr(m).css(qt(g,_)).add(r).shadow(l.shadow)}m&&o.alignDataLabel(u,m,l,null,b)}})))},xe.prototype.alignDataLabel=function(t,e,i,n,r){var o=this.chart,s=o.inverted,a=Lt(t.plotX,-999),l=Lt(t.plotY,-999),c=e.getBBox(),u=o.renderer.fontMetrics(i.style.fontSize).b,d=this.visible&&(t.series.forceDL||o.isInsidePlot(a,st(l),s)||n&&o.isInsidePlot(a,s?n.x+1:n.y+n.height-1,s));d&&(n=qt({x:s?o.plotWidth-l:a,y:st(s?o.plotHeight-a:l),width:0,height:0},n),qt(i,{width:c.width,height:c.height}),i.rotation?(t=o.renderer.rotCorr(u,i.rotation),e[r?"attr":"animate"]({x:n.x+i.x+n.width/2+t.x,y:n.y+i.y+n.height/2}).attr({align:i.align})):(e.align(i,null,n),s=e.alignAttr,"justify"===Lt(i.overflow,"justify")?this.justifyDataLabel(e,i,s,c,n,r):Lt(i.crop,!0)&&(d=o.isInsidePlot(s.x,s.y)&&o.isInsidePlot(s.x+c.width,s.y+c.height)),i.shape&&e.attr({anchorX:t.plotX,anchorY:t.plotY}))),d||(e.attr({y:-999}),e.placed=!1)},xe.prototype.justifyDataLabel=function(t,e,i,n,r,o){var s,a,l=this.chart,c=e.align,u=e.verticalAlign,d=t.box?0:t.padding||0;(s=i.x+d)<0&&("right"===c?e.align="left":e.x=-s,a=!0),(s=i.x+n.width-d)>l.plotWidth&&("left"===c?e.align="right":e.x=l.plotWidth-s,a=!0),(s=i.y+d)<0&&("bottom"===u?e.verticalAlign="top":e.y=-s,a=!0),(s=i.y+n.height-d)>l.plotHeight&&("top"===u?e.verticalAlign="bottom":e.y=l.plotHeight-s,a=!0),a&&(t.placed=!o,t.align(e,null,r))},Rt.pie&&(Rt.pie.prototype.drawDataLabels=function(){var t,e,i,n,r,o,s,a,l,c,u,d=this,h=d.data,p=d.chart,f=d.options.dataLabels,g=Lt(f.connectorPadding,10),m=Lt(f.connectorWidth,1),v=p.plotWidth,y=p.plotHeight,b=Lt(f.softConnector,!0),_=f.distance,w=d.center,$=w[2]/2,C=w[1],k=_>0,S=[[],[]],j=[0,0,0,0],T=function(t,e){return e.y-t.y};if(d.visible&&(f.enabled||d._hasPointLabels)){for(xe.prototype.drawDataLabels.apply(d),Ut(h,(function(t){t.dataLabel&&t.visible&&S[t.half].push(t)})),c=2;c--;){var A,D=[],I=[],E=S[c],P=E.length;if(P){for(d.sortByAngle(E,c-.5),u=h=0;!h&&E[u];)h=E[u]&&E[u].dataLabel&&(E[u].dataLabel.getBBox().height||21),u++;if(_>0){for(r=ut(C+$+_,p.plotHeight),u=ct(0,C-$-_);u<=r;u+=h)D.push(u);if(P>(r=D.length)){for((t=[].concat(E)).sort(T),u=P;u--;)t[u].rank=u;for(u=P;u--;)E[u].rank>=r&&E.splice(u,1);P=E.length}for(u=0;u<P;u++){var O,F;for(t=E[u],o=t.labelPos,t=9999,F=0;F<r;F++)(O=dt(D[F]-o[1]))<t&&(t=O,A=F);if(A<u&&null!==D[u])A=u;else for(r<P-u+A&&null!==D[u]&&(A=r-P+u);null===D[A];)A++;I.push({i:A,y:D[A]}),D[A]=null}I.sort(T)}for(u=0;u<P;u++)t=E[u],o=t.labelPos,n=t.dataLabel,l=!1===t.visible?"hidden":"visible",t=o[1],_>0?(A=(r=I.pop()).i,(t>(a=r.y)&&null!==D[A+1]||t<a&&null!==D[A-1])&&(a=ut(ct(0,t),p.plotHeight))):a=t,s=f.justify?w[0]+(c?-1:1)*($+_):d.getX(a===C-$-_||a===C+$+_?t:a,c),n._attr={visibility:l,align:o[6]},n._pos={x:s+f.x+({left:g,right:-g}[o[6]]||0),y:a+f.y-10},n.connX=s,n.connY=a,null===this.options.size&&(r=n.width,s-r<g?j[3]=ct(st(r-s+g),j[3]):s+r>v-g&&(j[1]=ct(st(s+r-v+g),j[1])),a-h/2<0?j[0]=ct(st(h/2-a),j[0]):a+h/2>y&&(j[2]=ct(st(a+h/2-y),j[2])))}}(0===x(j)||this.verifyDataLabelOverflow(j))&&(this.placeDataLabels(),k&&m&&Ut(this.points,(function(t){e=t.connector,o=t.labelPos,(n=t.dataLabel)&&n._pos?(l=n._attr.visibility,s=n.connX,a=n.connY,i=b?["M",s+("left"===o[6]?5:-5),a,"C",s,a,2*o[2]-o[4],2*o[3]-o[5],o[2],o[3],"L",o[4],o[5]]:["M",s+("left"===o[6]?5:-5),a,"L",o[2],o[3],"L",o[4],o[5]],e?(e.animate({d:i}),e.attr("visibility",l)):t.connector=e=d.chart.renderer.path(i).attr({"stroke-width":m,stroke:f.connectorColor||t.color||"#606060",visibility:l}).add(d.dataLabelsGroup)):e&&(t.connector=e.destroy())})))}},Rt.pie.prototype.placeDataLabels=function(){Ut(this.points,(function(t){var e;(t=t.dataLabel)&&((e=t._pos)?(t.attr(t._attr),t[t.moved?"animate":"attr"](e),t.moved=!0):t&&t.attr({y:-999}))}))},Rt.pie.prototype.alignDataLabel=At,Rt.pie.prototype.verifyDataLabelOverflow=function(t){var e,i=this.center,n=this.options,r=n.center,o=n=n.minSize||80;return null!==r[0]?o=ct(i[2]-ct(t[1],t[3]),n):(o=ct(i[2]-t[1]-t[3],n),i[0]+=(t[3]-t[1])/2),null!==r[1]?o=ct(ut(o,i[2]-ct(t[0],t[2])),n):(o=ct(ut(o,i[2]-t[0]-t[2]),n),i[1]+=(t[0]-t[2])/2),o<i[2]?(i[2]=o,this.translate(i),Ut(this.points,(function(t){t.dataLabel&&(t.dataLabel._pos=null)})),this.drawDataLabels&&this.drawDataLabels()):e=!0,e}),Rt.column&&(Rt.column.prototype.alignDataLabel=function(e,i,n,r,o){var s=this.chart.inverted,a=e.series,l=e.dlBox||e.shapeArgs,c=e.below||e.plotY>Lt(this.translatedThreshold,a.yAxis.len),u=Lt(n.inside,!!this.options.stacking);l&&(r=t(l),s&&(r={x:a.yAxis.len-r.y-r.height,y:a.xAxis.len-r.x-r.width,width:r.height,height:r.width}),!u)&&(s?(r.x+=c?0:r.width,r.width=0):(r.y+=c?r.height:0,r.height=0)),n.align=Lt(n.align,!s||u?"center":c?"right":"left"),n.verticalAlign=Lt(n.verticalAlign,s||u?"middle":c?"top":"bottom"),xe.prototype.alignDataLabel.call(this,e,i,n,r,o)}),function(t){var e=t.Chart,i=t.each,n=HighchartsAdapter.addEvent;e.prototype.callbacks.push((function(t){function e(){var e=[];i(t.series,(function(t){var n=t.options.dataLabels;(n.enabled||t._hasPointLabels)&&!n.allowOverlap&&t.visible&&i(t.points,(function(t){t.dataLabel&&(t.dataLabel.labelrank=t.labelrank,e.push(t.dataLabel))}))})),t.hideOverlappingLabels(e)}e(),n(t,"redraw",e)})),e.prototype.hideOverlappingLabels=function(t){var e,i,n,r,o=t.length;for(i=0;i<o;i++)(e=t[i])&&(e.oldOpacity=e.opacity,e.newOpacity=1);for(i=0;i<o;i++)for(n=t[i],e=i+1;e<o;++e)r=t[e],n&&r&&n.placed&&r.placed&&0!==n.newOpacity&&0!==r.newOpacity&&!(r.alignAttr.x>n.alignAttr.x+n.width||r.alignAttr.x+r.width<n.alignAttr.x||r.alignAttr.y>n.alignAttr.y+n.height||r.alignAttr.y+r.height<n.alignAttr.y)&&((n.labelrank<r.labelrank?n:r).newOpacity=0);for(i=0;i<o;i++)(e=t[i])&&(e.oldOpacity!==e.newOpacity&&e.placed&&(e.alignAttr.opacity=e.newOpacity,e[e.isOld&&e.newOpacity?"animate":"attr"](e.alignAttr)),e.isOld=!0)}}(it),ne=it.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,i=e.pointer,n=t.options.cursor,r=n&&{cursor:n},o=function(i){var n,r=i.target;for(e.hoverSeries!==t&&t.onMouseOver();r&&!n;)n=r.point,r=r.parentNode;n!==E&&n!==e.hoverPoint&&n.onMouseOver(i)};Ut(t.points,(function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)})),t._hasTracking||(Ut(t.trackerGroups,(function(e){t[e]&&(t[e].addClass("highcharts-tracker").on("mouseover",o).on("mouseout",(function(t){i.onTrackerMouseOut(t)})).css(r),O)&&t[e].on("touchstart",o)})),t._hasTracking=!0)},drawTrackerGraph:function(){var t,e=this,i=e.options,n=i.trackByArea,r=[].concat(n?e.areaPath:e.graphPath),o=r.length,s=e.chart,a=s.pointer,l=s.renderer,c=s.options.tooltip.snap,u=e.tracker,d=(h=i.cursor)&&{cursor:h},h=e.singlePoints,p=function(){s.hoverSeries!==e&&e.onMouseOver()},f="rgba(192,192,192,"+(Ct?1e-4:.002)+")";if(o&&!n)for(t=o+1;t--;)"M"===r[t]&&r.splice(t+1,0,r[t+1]-c,r[t+2],"L"),(t&&"M"===r[t]||t===o)&&r.splice(t,0,"L",r[t-2]+c,r[t-1]);for(t=0;t<h.length;t++)o=h[t],r.push("M",o.plotX-c,o.plotY,"L",o.plotX+c,o.plotY);u?u.attr({d:r}):(e.tracker=l.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:f,fill:n?f:Pt,"stroke-width":i.lineWidth+(n?0:2*c),zIndex:2}).add(e.group),Ut([e.tracker,e.markerGroup],(function(t){t.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",(function(t){a.onTrackerMouseOut(t)})).css(d),O&&t.on("touchstart",p)})))}},Rt.column&&($e.prototype.drawTracker=ne.drawTrackerPoint),Rt.pie&&(Rt.pie.prototype.drawTracker=ne.drawTrackerPoint),Rt.scatter&&(Ce.prototype.drawTracker=ne.drawTrackerPoint),qt(be.prototype,{setItemEvents:function(t,e,i,n,r){var o=this;(i?e:t.legendGroup).on("mouseover",(function(){t.setState("hover"),e.css(o.options.itemHoverStyle)})).on("mouseout",(function(){e.css(t.visible?n:r),t.setState()})).on("click",(function(e){var i=function(){t.setVisible()};e={browserEvent:e};t.firePointEvent?t.firePointEvent("legendItemClick",e,i):Jt(t,"legendItemClick",e,i)}))},createCheckboxForItem:function(t){t.checkbox=p("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),Xt(t.checkbox,"click",(function(e){Jt(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},(function(){t.select()}))}))}}),M.legend.itemStyle.cursor="pointer",qt(Ht.prototype,{showResetZoom:function(){var t=this,e=M.lang,i=t.options.chart.resetZoomButton,n=i.theme,r=n.states,o="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,(function(){t.zoomOut()}),n,r&&r.hover).attr({align:i.position.align,title:e.resetZoomTitle}).add().align(i.position,!1,o)},zoomOut:function(){var t=this;Jt(t,"selection",{resetSelection:!0},(function(){t.zoom()}))},zoom:function(t){var e,i,r=this.pointer,o=!1;!t||t.resetSelection?Ut(this.axes,(function(t){e=t.zoom()})):Ut(t.xAxis.concat(t.yAxis),(function(t){var i=t.axis,n=i.isXAxis;(r[n?"zoomX":"zoomY"]||r[n?"pinchX":"pinchY"])&&(e=i.zoom(t.min,t.max),i.displayBtn&&(o=!0))})),i=this.resetZoomButton,o&&!i?this.showResetZoom():!o&&n(i)&&(this.resetZoomButton=i.destroy()),e&&this.redraw(Lt(this.options.chart.animation,t&&t.animation,this.pointCount<100))},pan:function(t,e){var i,n=this,r=n.hoverPoints;r&&Ut(r,(function(t){t.setState()})),Ut("xy"===e?[1,0]:[1],(function(e){var r=t[e?"chartX":"chartY"],o=n[e?"xAxis":"yAxis"][0],s=n[e?"mouseDownX":"mouseDownY"],a=(o.pointRange||0)/2,l=o.getExtremes(),c=o.toValue(s-r,!0)+a;a=o.toValue(s+n[e?"plotWidth":"plotHeight"]-r,!0)-a,s=s>r;o.series.length&&(s||c>ut(l.dataMin,l.min))&&(!s||a<ct(l.dataMax,l.max))&&(o.setExtremes(c,a,!1,!1,{trigger:"pan"}),i=!0),n[e?"mouseDownX":"mouseDownY"]=r})),i&&n.redraw(!1),h(n.container,{cursor:"move"})}}),qt(we.prototype,{select:function(t,e){var i=this,n=i.series,r=n.chart;t=Lt(t,!i.selected);i.firePointEvent(t?"select":"unselect",{accumulate:e},(function(){i.selected=i.options.selected=t,n.options.data[Gt(i,n.data)]=i.options,i.setState(t&&"select"),e||Ut(r.getSelectedPoints(),(function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,n.options.data[Gt(t,n.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))}))}))},onMouseOver:function(t){var e=this.series,i=e.chart,n=i.tooltip,r=i.hoverPoint;r&&r!==this&&r.onMouseOut(),this.firePointEvent("mouseOver"),n&&(!n.shared||e.noSharedTooltip)&&n.refresh(this,t),this.setState("hover"),i.hoverPoint=this},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;this.firePointEvent("mouseOut"),e&&-1!==Gt(this,e)||(this.setState(),t.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var e,i=t(this.series.options.point,this.options).events;for(e in this.events=i,i)Xt(this,e,i[e]);this.hasImportedEvents=!0}},setState:function(e,i){var n,r=this.plotX,o=this.plotY,s=this.series,a=s.options.states,l=ie[s.type].marker&&s.options.marker,c=l&&!l.enabled,u=l&&l.states[e],d=u&&!1===u.enabled,h=s.stateMarkerGraphic,p=this.marker||{},f=s.chart,g=s.halo;e=e||"";n=this.pointAttr[e]||s.pointAttr[e],e===this.state&&!i||this.selected&&"select"!==e||a[e]&&!1===a[e].enabled||e&&(d||c&&!1===u.enabled)||e&&p.states&&p.states[e]&&!1===p.states[e].enabled||(this.graphic?(l=l&&this.graphic.symbolName&&n.r,this.graphic.attr(t(n,l?{x:r-l,y:o-l,width:2*l,height:2*l}:{})),h&&h.hide()):(e&&u&&(l=u.radius,p=p.symbol||s.symbol,h&&h.currentSymbol!==p&&(h=h.destroy()),h?h[i?"animate":"attr"]({x:r-l,y:o-l}):p&&(s.stateMarkerGraphic=h=f.renderer.symbol(p,r-l,o-l,2*l,2*l).attr(n).add(s.markerGroup),h.currentSymbol=p)),h&&h[e&&f.isInsidePlot(r,o,f.inverted)?"show":"hide"]()),(r=a[e]&&a[e].halo)&&r.size?(g||(s.halo=g=f.renderer.path().add(f.seriesGroup)),g.attr(qt({fill:ae(this.color||s.color).setOpacity(r.opacity).get()},r.attributes))[i?"animate":"attr"]({d:this.haloPath(r.size)})):g&&g.attr({d:[]}),this.state=e)},haloPath:function(t){var e=this.series,i=e.chart,n=e.getPlotBox(),r=i.inverted;return i.renderer.symbols.circle(n.translateX+(r?e.yAxis.len-this.plotY:this.plotX)-t,n.translateY+(r?e.xAxis.len-this.plotX:this.plotY)-t,2*t,2*t)}}),qt(xe.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&Jt(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,i=e.tooltip,n=e.hoverPoint;n&&n.onMouseOut(),this&&t.events.mouseOut&&Jt(this,"mouseOut"),i&&!t.stickyTracking&&(!i.shared||this.noSharedTooltip)&&i.hide(),this.setState(),e.hoverSeries=null},setState:function(t){var e=this.options,i=this.graph,n=this.graphNeg,r=e.states;e=e.lineWidth,t=t||"";this.state!==t&&(this.state=t,r[t]&&!1===r[t].enabled||(t&&(e=(r[t].lineWidth||e)+(r[t].lineWidthPlus||0)),i&&!i.dashstyle&&(t={"stroke-width":e},i.attr(t),n&&n.attr(t))))},setVisible:function(t,e){var i,n=this,r=n.chart,o=n.legendItem,s=r.options.chart.ignoreHiddenSeries,a=n.visible;i=(n.visible=t=n.userOptions.visible=t===E?!a:t)?"show":"hide",Ut(["group","dataLabelsGroup","markerGroup","tracker"],(function(t){n[t]&&n[t][i]()})),r.hoverSeries!==n&&(r.hoverPoint&&r.hoverPoint.series)!==n||n.onMouseOut(),o&&r.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&Ut(r.series,(function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)})),Ut(n.linkedSeries,(function(e){e.setVisible(t,!1)})),s&&(r.isDirtyBox=!0),!1!==e&&r.redraw(),Jt(n,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=t===E?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),Jt(this,t?"select":"unselect")},drawTracker:ne.drawTrackerGraph}),qt(it,{Color:ae,Point:we,Tick:D,Renderer:P,SVGElement:A,SVGRenderer:ce,arrayMin:w,arrayMax:x,charts:Dt,dateFormat:R,error:k,format:v,pathAnim:q,getOptions:function(){return M},hasBidiBug:kt,isTouchDevice:xt,setOptions:function(e){return M=t(!0,M,e),T(),M},addEvent:Xt,removeEvent:Kt,createElement:p,discardElement:C,css:h,each:Ut,map:Yt,merge:t,splat:d,extendClass:f,pInt:e,svg:Ct,canvas:St,vml:!Ct&&!St,product:"Highcharts",version:"4.1.3"})}(),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}((function(t){function e(e,n){var r,o,s,a=e.nodeName.toLowerCase();return"area"===a?(o=(r=e.parentNode).name,!(!e.href||!o||"map"!==r.nodeName.toLowerCase())&&(!!(s=t("img[usemap='#"+o+"']")[0])&&i(s))):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a&&e.href||n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter((function(){return"hidden"===t.css(this,"visibility")})).length}var n,r,o,s;t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var i=this.css("position"),n="absolute"===i,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter((function(){var e=t(this);return(!n||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))})).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},uniqueId:(n=0,function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++n)}))}),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")}))}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo((function(e){return function(i){return!!t.data(i,e)}})):function(e,i,n){return!!t.data(e,n[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,"tabindex")))},tabbable:function(i){var n=t.attr(i,"tabindex"),r=isNaN(n);return(r||n>=0)&&e(i,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],(function(e,i){function n(e,i,n,o){return t.each(r,(function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)})),i}var r="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?s["inner"+i].call(this):this.each((function(){t(this).css(o,n(this,e)+"px")}))},t.fn["outer"+i]=function(e,r){return"number"!=typeof e?s["outer"+i].call(this,e):this.each((function(){t(this).css(o,n(this,e,!0,r)+"px")}))}})),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=(r=t.fn.removeData,function(e){return arguments.length?r.call(this,t.camelCase(e)):r.call(this)})),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:(s=t.fn.focus,function(e,i){return"number"==typeof e?this.each((function(){var n=this;setTimeout((function(){t(n).focus(),i&&i.call(n)}),e)})):s.apply(this,arguments)}),disableSelection:(o="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.bind(o+".ui-disableSelection",(function(t){t.preventDefault()}))}),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,n,r=t(this[0]);r.length&&r[0]!==document;){if(("absolute"===(i=r.css("position"))||"relative"===i||"fixed"===i)&&(n=parseInt(r.css("zIndex"),10),!isNaN(n)&&0!==n))return n;r=r.parent()}return 0}}),t.ui.plugin={add:function(e,i,n){var r,o=t.ui[e].prototype;for(r in n)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([i,n[r]])},call:function(t,e,i,n){var r,o=t.plugins[e];if(o&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,i)}};var a=0,l=Array.prototype.slice;t.cleanData=function(e){return function(i){var n,r,o;for(o=0;null!=(r=i[o]);o++)try{(n=t._data(r,"events"))&&n.remove&&t(r).triggerHandler("remove")}catch(t){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var r,o,s,a,l={},c=e.split(".")[0];return e=e.split(".")[1],r=c+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[c]=t[c]||{},o=t[c][e],s=t[c][e]=function(t,e){if(!this._createWidget)return new s(t,e);arguments.length&&this._createWidget(t,e)},t.extend(s,o,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),(a=new i).options=t.widget.extend({},a.options),t.each(n,(function(e,n){var r,o;t.isFunction(n)?l[e]=(r=function(){return i.prototype[e].apply(this,arguments)},o=function(t){return i.prototype[e].apply(this,t)},function(){var t,e=this._super,i=this._superApply;return this._super=r,this._superApply=o,t=n.apply(this,arguments),this._super=e,this._superApply=i,t}):l[e]=n})),s.prototype=t.widget.extend(a,{widgetEventPrefix:o&&a.widgetEventPrefix||e},l,{constructor:s,namespace:c,widgetName:e,widgetFullName:r}),o?(t.each(o._childConstructors,(function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,s,i._proto)})),delete o._childConstructors):i._childConstructors.push(s),t.widget.bridge(e,s),s},t.widget.extend=function(e){for(var i,n,r=l.call(arguments,1),o=0,s=r.length;o<s;o++)for(i in r[o])n=r[o][i],r[o].hasOwnProperty(i)&&void 0!==n&&(t.isPlainObject(n)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],n):t.widget.extend({},n):e[i]=n);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(r){var o="string"==typeof r,s=l.call(arguments,1),a=this;return r=!o&&s.length?t.widget.extend.apply(null,[r].concat(s)):r,o?this.each((function(){var i,o=t.data(this,n);return"instance"===r?(a=o,!1):o?t.isFunction(o[r])&&"_"!==r.charAt(0)?(i=o[r].apply(o,s))!==o&&void 0!==i?(a=i&&i.jquery?a.pushStack(i.get()):i,!1):void 0:t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")})):this.each((function(){var e=t.data(this,n);e?(e.option(r||{}),e._init&&e._init()):t.data(this,n,new i(r,this))})),a}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=a++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},n=e.split("."),e=n.shift(),n.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;o<n.length-1;o++)r[n[o]]=r[n[o]]||{},r=r[n[o]];if(e=n.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=i}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},
_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,n){var r,o=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=r=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),t.each(n,(function(n,s){function a(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.delegate(u,c,a):i.bind(c,a)}))},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var r,o,s=this.options[e];if(n=n||{},(i=t.Event(i)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(r in o)r in i||(i[r]=o[r]);return this.element.trigger(i,n),!(t.isFunction(s)&&!1===s.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},(function(e,i){t.Widget.prototype["_"+e]=function(n,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?!0===r||"number"==typeof r?i:r.effect||i:e;"number"==typeof(r=r||{})&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&n.delay(r.delay),s&&t.effects&&t.effects.effect[a]?n[e](r):a!==e&&n[a]?n[a](r.duration,r.easing,o):n.queue((function(i){t(this)[e](),o&&o.call(n[0]),i()}))}}));t.widget;var c=!1;t(document).mouseup((function(){c=!1}));t.widget("ui.mouse",{version:"1.11.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,(function(t){return e._mouseDown(t)})).bind("click."+this.widgetName,(function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!c){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,n=1===e.which,r=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(n&&!r&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){i.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),c=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),c=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.11.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===t.axis||this._isFloating(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,(function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")}))},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var n=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each((function(){if(t.data(this,o.widgetName+"-item")===o)return n=t(this),!1})),t.data(e.target,o.widgetName+"-item")===o&&(n=t(e.target)),!!n&&(!(this.options.handle&&!i&&(t(this.options.handle,n).find("*").addBack().each((function(){this===e.target&&(r=!0)})),!r))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,i,n){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-t(document).scrollTop()<s.scrollSensitivity?a=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity&&(a=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed)),e.pageX-t(document).scrollLeft()<s.scrollSensitivity?a=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity&&(a=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(r=(n=this.items[i]).item[0],(o=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===r||t.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,(function(){n._clear(e)}))}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each((function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))})),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each((function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")})),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||n+c>a&&n+c<l,h="y"===this.options.axis||e+u>o&&e+u<s,p=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:o<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<s&&a<n+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=e&&i,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!n&&(this.floating?o&&"right"===o||"down"===r?2:1:r&&("down"===r?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&i||"left"===r&&!i:n&&("down"===n&&e||"up"===n&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){a.push(this)}var n,r,o,s,a=[],l=[],c=this._connectWith();if(c&&e)for(n=c.length-1;n>=0;n--)for(r=(o=t(c[n])).length-1;r>=0;r--)(s=t.data(o[r],this.widgetFullName))&&s!==this&&!s.options.disabled&&l.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,(function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0}))},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,r,o,s,a,l,c,u=this.items,d=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(i=h.length-1;i>=0;i--)for(n=(r=t(h[i])).length-1;n>=0;n--)(o=t.data(r[n],this.widgetFullName))&&o!==this&&!o.options.disabled&&(d.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=d.length-1;i>=0;i--)for(s=d[i][1],n=0,c=(a=d[i][0]).length;n<c;n++)(l=t(a[n])).data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var i,n,r,o;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.items.length-1;i>=0;i--)(n=this.items[i]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=r.outerWidth(),n.height=r.outerHeight()),o=r.offset(),n.left=o.left,n.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){var i,n=(e=e||this).options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+n+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===n?e.currentItem.children().each((function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(r)})):"img"===n&&r.attr("src",e.currentItem.attr("src")),i||r.css("visibility","hidden"),r},update:function(t,r){i&&!n.forcePlaceholderSize||(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_contactContainers:function(e){var i,n,r,o,s,a,l,c,u,d,h=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(h&&t.contains(this.containers[i].element[0],h.element[0]))continue;h=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(r=1e4,o=null,s=(u=h.floating||this._isFloating(this.currentItem))?"left":"top",a=u?"width":"height",d=u?"clientX":"clientY",n=this.items.length-1;n>=0;n--)t.contains(this.containers[p].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[s],c=!1,e[d]-l>this.items[n][a]/2&&(c=!0),Math.abs(e[d]-l)<r&&(r=Math.abs(e[d]-l),o=this.items[n],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],i=t(r.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*n}},_generatePosition:function(e){var i,n,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,n=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay((function(){r===this.counter&&this.refreshPositions(!n)}))},_clear:function(t,e){function i(t,e,i){return function(n){i._trigger(t,n,e._uiHash(e))}}this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push((function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push((function(t){this._trigger("update",t,this._uiHash())})),this!==this.currentContainer&&(e||(r.push((function(t){this._trigger("remove",t,this._uiHash())})),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||r.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(n=0;n<r.length;n++)r[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})})),jQuery((function(t){t("body").on("click","[data-toggle='dropdown-alt']",(function(){return t(this).parents(".dropdown-alt").toggleClass("open-alt"),t(this).next(".dropdown-alt-menu").find("input").focus(),!1}))})),function t(e,i,n){function r(s,a){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[s]={exports:{}};e[s][0].call(u.exports,(function(t){var i=e[s][1][t];return r(i||t)}),u,u.exports,t,e,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e){!function(i,n){"use strict";var r=i.document,o=t("./src/utils/get-by-class"),s=t("./src/utils/extend"),a=t("./src/utils/index-of"),l=t("./src/utils/events"),c=t("./src/utils/to-string"),u=t("./src/utils/natural-sort"),d=t("./src/utils/classes"),h=t("./src/utils/get-attribute"),p=t("./src/utils/to-array"),f=function(e,i,g){var m,v=this,y=t("./src/item")(v),b=t("./src/add-async")(v);m={start:function(){v.listClass="list",v.searchClass="search",v.sortClass="sort",v.page=1e4,v.i=1,v.items=[],v.visibleItems=[],v.matchingItems=[],v.searched=!1,v.filtered=!1,v.searchColumns=n,v.handlers={updated:[]},v.plugins={},v.valueNames=[],v.utils={getByClass:o,extend:s,indexOf:a,events:l,toString:c,naturalSort:u,classes:d,getAttribute:h,toArray:p},v.utils.extend(v,i),v.listContainer="string"==typeof e?r.getElementById(e):e,v.listContainer&&(v.list=o(v.listContainer,v.listClass,!0),v.parse=t("./src/parse")(v),v.templater=t("./src/templater")(v),v.search=t("./src/search")(v),v.filter=t("./src/filter")(v),v.sort=t("./src/sort")(v),this.handlers(),this.items(),v.update(),this.plugins())},handlers:function(){for(var t in v.handlers)v[t]&&v.on(t,v[t])},items:function(){v.parse(v.list),g!==n&&v.add(g)},plugins:function(){for(var t=0;t<v.plugins.length;t++){var e=v.plugins[t];v[e.name]=e,e.init(v,f)}}},this.reIndex=function(){v.items=[],v.visibleItems=[],v.matchingItems=[],v.searched=!1,v.filtered=!1,v.parse(v.list)},this.toJSON=function(){for(var t=[],e=0,i=v.items.length;i>e;e++)t.push(v.items[e].values());return t},this.add=function(t,e){if(0!==t.length){if(e)return void b(t,e);var i=[],r=!1;t[0]===n&&(t=[t]);for(var o=0,s=t.length;s>o;o++){var a=null;r=v.items.length>v.page,a=new y(t[o],n,r),v.items.push(a),i.push(a)}return v.update(),i}},this.show=function(t,e){return this.i=t,this.page=e,v.update(),v},this.remove=function(t,e,i){for(var n=0,r=0,o=v.items.length;o>r;r++)v.items[r].values()[t]==e&&(v.templater.remove(v.items[r],i),v.items.splice(r,1),o--,r--,n++);return v.update(),n},this.get=function(t,e){for(var i=[],n=0,r=v.items.length;r>n;n++){var o=v.items[n];o.values()[t]==e&&i.push(o)}return i},this.size=function(){return v.items.length},this.clear=function(){return v.templater.clear(),v.items=[],v},this.on=function(t,e){return v.handlers[t].push(e),v},this.off=function(t,e){var i=v.handlers[t],n=a(i,e);return n>-1&&i.splice(n,1),v},this.trigger=function(t){for(var e=v.handlers[t].length;e--;)v.handlers[t][e](v);return v},this.reset={filter:function(){for(var t=v.items,e=t.length;e--;)t[e].filtered=!1;return v},search:function(){for(var t=v.items,e=t.length;e--;)t[e].found=!1;return v}
},this.update=function(){var t=v.items,e=t.length;v.visibleItems=[],v.matchingItems=[],v.templater.clear();for(var i=0;e>i;i++)t[i].matching()&&v.matchingItems.length+1>=v.i&&v.visibleItems.length<v.page?(t[i].show(),v.visibleItems.push(t[i]),v.matchingItems.push(t[i])):t[i].matching()?(v.matchingItems.push(t[i]),t[i].hide()):t[i].hide();return v.trigger("updated"),v},m.start()};"function"==typeof define&&define.amd&&define((function(){return f})),e.exports=f,i.List=f}(window)},{"./src/add-async":2,"./src/filter":3,"./src/item":4,"./src/parse":5,"./src/search":6,"./src/sort":7,"./src/templater":8,"./src/utils/classes":9,"./src/utils/events":10,"./src/utils/extend":11,"./src/utils/get-attribute":12,"./src/utils/get-by-class":13,"./src/utils/index-of":14,"./src/utils/natural-sort":15,"./src/utils/to-array":16,"./src/utils/to-string":17}],2:[function(t,e){e.exports=function(t){var e=function(i,n,r){var o=i.splice(0,50);r=(r=r||[]).concat(t.add(o)),i.length>0?setTimeout((function(){e(i,n,r)}),1):(t.update(),n(r))};return e}},{}],3:[function(t,e){e.exports=function(t){return t.handlers.filterStart=t.handlers.filterStart||[],t.handlers.filterComplete=t.handlers.filterComplete||[],function(e){if(t.trigger("filterStart"),t.i=1,t.reset.filter(),void 0===e)t.filtered=!1;else{t.filtered=!0;for(var i=t.items,n=0,r=i.length;r>n;n++){var o=i[n];e(o)?o.filtered=!0:o.filtered=!1}}return t.update(),t.trigger("filterComplete"),t.visibleItems}}},{}],4:[function(t,e){e.exports=function(t){return function(e,i,n){var r=this;this._values={},this.found=!1,this.filtered=!1;var o=function(e,i,n){if(void 0===i)n?r.values(e,n):r.values(e);else{r.elm=i;var o=t.templater.get(r,e);r.values(o)}};this.values=function(e,i){if(void 0===e)return r._values;for(var n in e)r._values[n]=e[n];!0!==i&&t.templater.set(r,r.values())},this.show=function(){t.templater.show(r)},this.hide=function(){t.templater.hide(r)},this.matching=function(){return t.filtered&&t.searched&&r.found&&r.filtered||t.filtered&&!t.searched&&r.filtered||!t.filtered&&t.searched&&r.found||!t.filtered&&!t.searched},this.visible=function(){return!(!r.elm||r.elm.parentNode!=t.list)},o(e,i,n)}}},{}],5:[function(t,e){e.exports=function(e){var i=t("./item")(e),n=function(t){for(var e=t.childNodes,i=[],n=0,r=e.length;r>n;n++)void 0===e[n].data&&i.push(e[n]);return i},r=function(t,n){for(var r=0,o=t.length;o>r;r++)e.items.push(new i(n,t[r]))},o=function(t,i){var n=t.splice(0,50);r(n,i),t.length>0?setTimeout((function(){o(t,i)}),1):(e.update(),e.trigger("parseComplete"))};return e.handlers.parseComplete=e.handlers.parseComplete||[],function(){var t=n(e.list),i=e.valueNames;e.indexAsync?o(t,i):r(t,i)}}},{"./item":4}],6:[function(t,e){e.exports=function(t){var e,i,n,r,o={resetList:function(){t.i=1,t.templater.clear(),r=void 0},setOptions:function(t){2==t.length&&t[1]instanceof Array?i=t[1]:2==t.length&&"function"==typeof t[1]?r=t[1]:3==t.length&&(i=t[1],r=t[2])},setColumns:function(){0!==t.items.length&&void 0===i&&(i=void 0===t.searchColumns?o.toArray(t.items[0].values()):t.searchColumns)},setSearchString:function(e){e=(e=t.utils.toString(e).toLowerCase()).replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),n=e},toArray:function(t){var e=[];for(var i in t)e.push(i);return e}},s={list:function(){for(var e=0,i=t.items.length;i>e;e++)s.item(t.items[e])},item:function(t){t.found=!1;for(var e=0,n=i.length;n>e;e++)if(s.values(t.values(),i[e]))return void(t.found=!0)},values:function(i,r){return!!(i.hasOwnProperty(r)&&(e=t.utils.toString(i[r]).toLowerCase(),""!==n&&e.search(n)>-1))},reset:function(){t.reset.search(),t.searched=!1}},a=function(e){return t.trigger("searchStart"),o.resetList(),o.setSearchString(e),o.setOptions(arguments),o.setColumns(),""===n?s.reset():(t.searched=!0,r?r(n,i):s.list()),t.update(),t.trigger("searchComplete"),t.visibleItems};return t.handlers.searchStart=t.handlers.searchStart||[],t.handlers.searchComplete=t.handlers.searchComplete||[],t.utils.events.bind(t.utils.getByClass(t.listContainer,t.searchClass),"keyup",(function(e){var i=e.target||e.srcElement;""===i.value&&!t.searched||a(i.value)})),t.utils.events.bind(t.utils.getByClass(t.listContainer,t.searchClass),"input",(function(t){""===(t.target||t.srcElement).value&&a("")})),a}},{}],7:[function(t,e){e.exports=function(t){t.sortFunction=t.sortFunction||function(e,i,n){return n.desc="desc"==n.order,t.utils.naturalSort(e.values()[n.valueName],i.values()[n.valueName],n)};var e={els:void 0,clear:function(){for(var i=0,n=e.els.length;n>i;i++)t.utils.classes(e.els[i]).remove("asc"),t.utils.classes(e.els[i]).remove("desc")},getOrder:function(e){var i=t.utils.getAttribute(e,"data-order");return"asc"==i||"desc"==i?i:t.utils.classes(e).has("desc")?"asc":t.utils.classes(e).has("asc")?"desc":"asc"},getInSensitive:function(e,i){var n=t.utils.getAttribute(e,"data-insensitive");i.insensitive="false"!==n},setOrder:function(i){for(var n=0,r=e.els.length;r>n;n++){var o=e.els[n];if(t.utils.getAttribute(o,"data-sort")===i.valueName){var s=t.utils.getAttribute(o,"data-order");"asc"==s||"desc"==s?s==i.order&&t.utils.classes(o).add(i.order):t.utils.classes(o).add(i.order)}}}},i=function(){t.trigger("sortStart");var i={},n=arguments[0].currentTarget||arguments[0].srcElement||void 0;n?(i.valueName=t.utils.getAttribute(n,"data-sort"),e.getInSensitive(n,i),i.order=e.getOrder(n)):((i=arguments[1]||i).valueName=arguments[0],i.order=i.order||"asc",i.insensitive=void 0===i.insensitive||i.insensitive),e.clear(),e.setOrder(i),i.sortFunction=i.sortFunction||t.sortFunction,t.items.sort((function(t,e){var n="desc"===i.order?-1:1;return i.sortFunction(t,e,i)*n})),t.update(),t.trigger("sortComplete")};return t.handlers.sortStart=t.handlers.sortStart||[],t.handlers.sortComplete=t.handlers.sortComplete||[],e.els=t.utils.getByClass(t.listContainer,t.sortClass),t.utils.events.bind(e.els,"click",i),t.on("searchStart",e.clear),t.on("filterStart",e.clear),i}},{}],8:[function(t,e){var i=function(t){var e,i=this,n=function(){e=i.getItemSource(t.item),e=i.clearSourceItem(e,t.valueNames)};this.clearSourceItem=function(e,i){for(var n=0,r=i.length;r>n;n++){var o;if(i[n].data)for(var s=0,a=i[n].data.length;a>s;s++)e.setAttribute("data-"+i[n].data[s],"");else i[n].attr&&i[n].name?(o=t.utils.getByClass(e,i[n].name,!0))&&o.setAttribute(i[n].attr,""):(o=t.utils.getByClass(e,i[n],!0))&&(o.innerHTML="");o=void 0}return e},this.getItemSource=function(e){if(void 0===e){for(var i=t.list.childNodes,n=0,r=i.length;r>n;n++)if(void 0===i[n].data)return i[n].cloneNode(!0)}else{if(/^tr[\s>]/.exec(e)){var o=document.createElement("table");return o.innerHTML=e,o.firstChild}if(-1!==e.indexOf("<")){var s=document.createElement("div");return s.innerHTML=e,s.firstChild}var a=document.getElementById(t.item);if(a)return a}throw new Error("The list need to have at list one item on init otherwise you'll have to add a template.")},this.get=function(e,n){i.create(e);for(var r={},o=0,s=n.length;s>o;o++){var a;if(n[o].data)for(var l=0,c=n[o].data.length;c>l;l++)r[n[o].data[l]]=t.utils.getAttribute(e.elm,"data-"+n[o].data[l]);else n[o].attr&&n[o].name?(a=t.utils.getByClass(e.elm,n[o].name,!0),r[n[o].name]=a?t.utils.getAttribute(a,n[o].attr):""):(a=t.utils.getByClass(e.elm,n[o],!0),r[n[o]]=a?a.innerHTML:"");a=void 0}return r},this.set=function(e,n){var r=function(e){for(var i=0,n=t.valueNames.length;n>i;i++)if(t.valueNames[i].data){for(var r=t.valueNames[i].data,o=0,s=r.length;s>o;o++)if(r[o]===e)return{data:e}}else{if(t.valueNames[i].attr&&t.valueNames[i].name&&t.valueNames[i].name==e)return t.valueNames[i];if(t.valueNames[i]===e)return e}},o=function(i,n){var o,s=r(i);s&&(s.data?e.elm.setAttribute("data-"+s.data,n):s.attr&&s.name?(o=t.utils.getByClass(e.elm,s.name,!0))&&o.setAttribute(s.attr,n):(o=t.utils.getByClass(e.elm,s,!0))&&(o.innerHTML=n),o=void 0)};if(!i.create(e))for(var s in n)n.hasOwnProperty(s)&&o(s,n[s])},this.create=function(t){if(void 0!==t.elm)return!1;var n=e.cloneNode(!0);return n.removeAttribute("id"),t.elm=n,i.set(t,t.values()),!0},this.remove=function(e){e.elm.parentNode===t.list&&t.list.removeChild(e.elm)},this.show=function(e){i.create(e),t.list.appendChild(e.elm)},this.hide=function(e){void 0!==e.elm&&e.elm.parentNode===t.list&&t.list.removeChild(e.elm)},this.clear=function(){if(t.list.hasChildNodes())for(;t.list.childNodes.length>=1;)t.list.removeChild(t.list.firstChild)},n()};e.exports=function(t){return new i(t)}},{}],9:[function(t,e){function i(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}var n=t("./index-of"),r=/\s+/,o=Object.prototype.toString;e.exports=function(t){return new i(t)},i.prototype.add=function(t){if(this.list)return this.list.add(t),this;var e=this.array();return~n(e,t)||e.push(t),this.el.className=e.join(" "),this},i.prototype.remove=function(t){if("[object RegExp]"==o.call(t))return this.removeMatching(t);if(this.list)return this.list.remove(t),this;var e=this.array(),i=n(e,t);return~i&&e.splice(i,1),this.el.className=e.join(" "),this},i.prototype.removeMatching=function(t){for(var e=this.array(),i=0;i<e.length;i++)t.test(e[i])&&this.remove(e[i]);return this},i.prototype.toggle=function(t,e){return this.list?(void 0!==e?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t),this):(void 0!==e?e?this.add(t):this.remove(t):this.has(t)?this.remove(t):this.add(t),this)},i.prototype.array=function(){var t=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(r);return""===t[0]&&t.shift(),t},i.prototype.has=i.prototype.contains=function(t){return this.list?this.list.contains(t):!!~n(this.array(),t)}},{"./index-of":14}],10:[function(t,e,i){var n=window.addEventListener?"addEventListener":"attachEvent",r=window.removeEventListener?"removeEventListener":"detachEvent",o="addEventListener"!==n?"on":"",s=t("./to-array");i.bind=function(t,e,i,r){t=s(t);for(var a=0;a<t.length;a++)t[a][n](o+e,i,r||!1)},i.unbind=function(t,e,i,n){t=s(t);for(var a=0;a<t.length;a++)t[a][r](o+e,i,n||!1)}},{"./to-array":16}],11:[function(t,e){e.exports=function(t){for(var e,i=Array.prototype.slice.call(arguments,1),n=0;e=i[n];n++)if(e)for(var r in e)t[r]=e[r];return t}},{}],12:[function(t,e){e.exports=function(t,e){var i=t.getAttribute&&t.getAttribute(e)||null;if(!i)for(var n=t.attributes.length,r=0;n>r;r++)void 0!==e[r]&&e[r].nodeName===e&&(i=e[r].nodeValue);return i}},{}],13:[function(t,e){e.exports=document.getElementsByClassName?function(t,e,i){return i?t.getElementsByClassName(e)[0]:t.getElementsByClassName(e)}:document.querySelector?function(t,e,i){return e="."+e,i?t.querySelector(e):t.querySelectorAll(e)}:function(t,e,i){var n=[],r="*";null===t&&(t=document);for(var o=t.getElementsByTagName(r),s=o.length,a=new RegExp("(^|\\s)"+e+"(\\s|$)"),l=0,c=0;s>l;l++)if(a.test(o[l].className)){if(i)return o[l];n[c]=o[l],c++}return n}},{}],14:[function(t,e){var i=[].indexOf;e.exports=function(t,e){if(i)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},{}],15:[function(t,e){e.exports=function(t,e,i){var n,r,o=/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[\da-fA-F]+$|\d+)/g,s=/^\s+|\s+$/g,a=/\s+/g,l=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,c=/^0x[0-9a-f]+$/i,u=/^0/,d=i||{},h=function(t){return d.insensitive&&(""+t).toLowerCase()||""+t},p=h(t)||"",f=h(e)||"",g=p.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=f.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),v=parseInt(p.match(c),16)||1!==g.length&&Date.parse(p),y=parseInt(f.match(c),16)||v&&f.match(l)&&Date.parse(f)||null,b=function(t,e){return(!t.match(u)||1==e)&&parseFloat(t)||t.replace(a," ").replace(s,"")||0};if(y){if(y>v)return-1;if(v>y)return 1}for(var _=0,w=g.length,x=m.length,$=Math.max(w,x);$>_;_++){if(n=b(g[_],w),r=b(m[_],x),isNaN(n)!==isNaN(r))return isNaN(n)?1:-1;if(typeof n!=typeof r&&(n+="",r+=""),r>n)return-1;if(n>r)return 1}return 0}},{}],16:[function(t,e){function i(t){return"[object Array]"===Object.prototype.toString.call(t)}e.exports=function(t){if(void 0===t)return[];if(null===t)return[null];if(t===window)return[window];if("string"==typeof t)return[t];if(i(t))return t;if("number"!=typeof t.length)return[t];if("function"==typeof t&&t instanceof Function)return[t];for(var e=[],n=0;n<t.length;n++)(Object.prototype.hasOwnProperty.call(t,n)||n in t)&&e.push(t[n]);return e.length?e:[]}},{}],17:[function(t,e){e.exports=function(t){return(t=null===(t=void 0===t?"":t)?"":t).toString()}},{}]},{},[1]),$(document).on("submit","[data-close-modal]",(function(){$(this).closest("#aligni_modal").modal("hide"),$(".flash-msg").hide();var t="<div id='flash-message-success' class='flash-msg flash-msg-success'>\n                            <div class='flash-msg-content'>\n                              <a class=\"x pull-right\" style=\"color: white; margin-top: -12px; margin-right: -10px;\" href=\"#\">\n                                <svg><!-- SVG file not found: 'icons/cross.svg' --></svg>\n                              </a>\n                              <img class='flash-msg-icon' src="+"/assets/flash-msg-icon-4409b1e2149b48c281b6ad6fcc7f204e06a93decaca9eaee734ab2244f17c4c2.png"+" width='30' height='30'>\n                              <div class='flash-msg-body'><p>"+$(this).data("flash-message-notice")+"</p></div>\n                            </div>\n                          </div>";$("#flash").html(t),Aligni.Util.flash("flash-message-success",5e3)})),function(t){var e={init:function(e){var i;if(!this.length)return this;t.fastConfirm={defaults:{position:"bottom",offset:{top:0,left:0},zIndex:1e4,eventToBind:null,condition:null,questionText:"Are you sure?",proceedText:"Yes",cancelText:"No",targetElement:null,unique:!1,fastConfirmClass:"fast_confirm",onProceed:function(t){return t.fastConfirm("close"),!0},onCancel:function(t){return t.fastConfirm("close"),!1}}},i=t.extend(t.fastConfirm.defaults,e||{});var n=!1;return this.each((function(){var e,r,o,s,a,l=this,c=t(this),u=t('<button class="btn btn-success">'+i.proceedText+"</button>"),d=t('<button class="btn btn-danger">'+i.cancelText+"</button>"),h=t('<div class="'+i.fastConfirmClass+'"><div class="'+i.fastConfirmClass+'_arrow_border"></div><div class="'+i.fastConfirmClass+'_arrow"></div>'+i.questionText+"<br/></div>"),p=t("div."+i.fastConfirmClass+"_arrow",h),f=t("div."+i.fastConfirmClass+"_arrow_border",h),g=i.targetElement?t(i.targetElement,c):c,m=function(){if(!c.data("fast_confirm.box")){switch(c.data("fast_confirm.params.fastConfirmClass",i.fastConfirmClass),i.unique&&t("."+i.fastConfirmClass+"_trigger").fastConfirm("close"),u.bind("click.fast_confirm",(function(){var e;c.data("fast_confirm.box",h).addClass(i.fastConfirmClass+"_trigger"),e=i.onProceed(c),null!==i.eventToBind&&t.when(e).done((function(){n=!0,l[i.eventToBind](),n=!1}))})),d.bind("click.fast_confirm",(function(){c.data("fast_confirm.box",h).addClass(i.fastConfirmClass+"_trigger"),i.onCancel(c)})),h.attr("tabIndex",-1).bind("keydown.fast_confirm",(function(t){t.keyCode&&27===t.keyCode&&c.fastConfirm("close")})),h.append(u).append(d),t("body").append(h),o=g.offset(),i.position){case"top":e=i.fastConfirmClass+"_bottom",r=i.fastConfirmClass+"_bottom",p.addClass(e).css("left",h.outerWidth()/2-p.outerWidth()/2),f.addClass(r).css("left",h.outerWidth()/2-f.outerWidth()/2),s=o.top-h.outerHeight()-f.outerHeight()+i.offset.top,a=o.left-h.outerWidth()/2+g.outerWidth()/2+i.offset.left;break;case"right":e=i.fastConfirmClass+"_left",r=i.fastConfirmClass+"_left",p.addClass(e).css("top",h.outerHeight()/2-p.outerHeight()/2),f.addClass(r).css("top",h.outerHeight()/2-f.outerHeight()/2),s=o.top+g.outerHeight()/2-h.outerHeight()/2+i.offset.top,a=o.left+g.outerWidth()+f.outerWidth()+i.offset.left;break;case"bottom":e=i.fastConfirmClass+"_top",r=i.fastConfirmClass+"_top",p.addClass(e).css("left",h.outerWidth()/2-p.outerWidth()/2),f.addClass(r).css("left",h.outerWidth()/2-f.outerWidth()/2),s=o.top+g.outerHeight()+f.outerHeight()+i.offset.top,a=o.left-h.outerWidth()/2+g.outerWidth()/2+i.offset.left;break;case"left":e=i.fastConfirmClass+"_right",r=i.fastConfirmClass+"_right",p.addClass(e).css("top",h.outerHeight()/2-p.outerHeight()/2),f.addClass(r).css("top",h.outerHeight()/2-f.outerHeight()/2),s=o.top+g.outerHeight()/2-h.outerHeight()/2+i.offset.top,a=o.left-h.outerWidth()-f.outerWidth()+i.offset.left}h.css({top:s,left:a,zIndex:i.zIndex,outline:"none"}).focus(),c.data("fast_confirm.box",h).addClass(i.fastConfirmClass+"_trigger")}};null!==i.eventToBind?c.bind(i.eventToBind+".fast_confirm",(function(){return!(!n&&(null===i.condition||i.condition()))||(m(),!1)})):m()}))},close:function(){return this.each((function(){var e=t(this);e.data("fast_confirm.box").remove(),e.removeData("fast_confirm.box").removeClass(e.data("fast_confirm.params.fastConfirmClass")+"_trigger")}))}};t.fn.fastConfirm=function(i){return this.length?e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist on jQuery.fastConfirm"):e.init.apply(this,arguments):this}}(jQuery),function(t){function e(t,e){if(this.createTextRange){var i=this.createTextRange();i.collapse(!0),i.moveStart("character",t),i.moveEnd("character",e-t),i.select()}else this.setSelectionRange&&(this.focus(),this.setSelectionRange(t,e))}function i(t){var e,i=this.value.length;return t="start"==t.toLowerCase()?"Start":"End",document.selection?((e=(i=document.selection.createRange()).duplicate()).expand("textedit"),e.setEndPoint("EndToEnd",i),i=(e=e.text.length-i.text.length)+i.text.length,"Start"==t?e:i):(void 0!==this["selection"+t]&&(i=this["selection"+t]),i)}var n={codes:{188:44,109:45,190:46,191:47,192:96,220:92,222:39,221:93,219:91,173:45,187:61,186:59,189:45,110:46},shifts:{96:"~",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",48:")",45:"_",61:"+",91:"{",93:"}",92:"|",59:":",39:'"',44:"<",46:">",47:"?"}};t.fn.number=function(r,o,s,a){a=void 0===a?",":a,o=void 0===o?0:o;var l="\\u"+("0000"+(s=void 0===s?".":s).charCodeAt(0).toString(16)).slice(-4),c=RegExp("[^"+l+"0-9]","g"),u=RegExp(l,"g");return!0===r?this.is("input:text")?this.on({"keydown.format":function(r){var l=t(this),d=l.data("numFormat"),h=r.keyCode?r.keyCode:r.which,p="",f=i.apply(this,["start"]),g=i.apply(this,["end"]),m="";if(m=!1,n.codes.hasOwnProperty(h)&&(h=n.codes[h]),!r.shiftKey&&h>=65&&h<=90?h+=32:!r.shiftKey&&h>=69&&h<=105?h-=48:r.shiftKey&&n.shifts.hasOwnProperty(h)&&(p=n.shifts[h]),""==p&&(p=String.fromCharCode(h)),8!==h&&p!=s&&!p.match(/[0-9]/)){if(46==(l=r.keyCode?r.keyCode:r.which)||8==l||9==l||27==l||13==l||(65==l||82==l)&&!0===(r.ctrlKey||r.metaKey)||(86==l||67==l)&&!0===(r.ctrlKey||r.metaKey)||l>=35&&l<=39)return;return r.preventDefault(),!1}if(0==f&&g==this.value.length||0==l.val()?8===h?(f=g=1,this.value="",d.init=o>0?-1:0,d.c=o>0?-(o+1):0,e.apply(this,[0,0])):p===s?(f=g=1,this.value="0"+s+Array(o+1).join("0"),d.init=o>0?1:0,d.c=o>0?-(o+1):0):0===this.value.length&&(d.init=o>0?-1:0,d.c=o>0?-o:0):d.c=g-this.value.length,o>0&&p==s&&f==this.value.length-o-1)d.c++,d.init=Math.max(0,d.init),r.preventDefault(),m=this.value.length+d.c;else if(p==s)d.init=Math.max(0,d.init),r.preventDefault();else if(o>0&&8==h&&f==this.value.length-o)r.preventDefault(),d.c--,m=this.value.length+d.c;else if(o>0&&8==h&&f>this.value.length-o){if(""===this.value)return;"0"!=this.value.slice(f-1,f)&&(m=this.value.slice(0,f-1)+"0"+this.value.slice(f),l.val(m.replace(c,"").replace(u,s))),r.preventDefault(),d.c--,m=this.value.length+d.c}else 8==h&&this.value.slice(f-1,f)==a?(r.preventDefault(),d.c--,m=this.value.length+d.c):o>0&&f==g&&this.value.length>o+1&&f>this.value.length-o-1&&isFinite(+p)&&!r.metaKey&&!r.ctrlKey&&!r.altKey&&1===p.length&&(this.value=m=g===this.value.length?this.value.slice(0,f-1):this.value.slice(0,f)+this.value.slice(f+1),m=f);!1!==m&&e.apply(this,[m,m]),l.data("numFormat",d)},"keyup.format":function(n){var r=t(this),s=r.data("numFormat");n=n.keyCode?n.keyCode:n.which;var a=i.apply(this,["start"]);""===this.value||(n<48||n>57)&&(n<96||n>105)&&8!==n||(r.val(r.val()),o>0&&(s.init<1?(a=this.value.length-o-(s.init<0?1:0),s.c=a-this.value.length,s.init=1,r.data("numFormat",s)):a>this.value.length-o&&8!=n&&(s.c++,r.data("numFormat",s))),r=this.value.length+s.c,e.apply(this,[r,r]))},"paste.format":function(e){var i=t(this),n=e.originalEvent,r=null;return window.clipboardData&&window.clipboardData.getData?r=window.clipboardData.getData("Text"):n.clipboardData&&n.clipboardData.getData&&(r=n.clipboardData.getData("text/plain")),i.val(r),e.preventDefault(),!1}}).each((function(){var e=t(this).data("numFormat",{c:-(o+1),decimals:o,thousands_sep:a,dec_point:s,regex_dec_num:c,regex_dec:u,init:!1});""!==this.value&&e.val(e.val())})):this.each((function(){var e=t(this),i=+e.text().replace(c,"").replace(u,".");e.number(isFinite(i)?+i:0,o,s,a)})):this.text(t.number.apply(window,arguments))};var r=null,o=null;t.isPlainObject(t.valHooks.text)?(t.isFunction(t.valHooks.text.get)&&(r=t.valHooks.text.get),t.isFunction(t.valHooks.text.set)&&(o=t.valHooks.text.set)):t.valHooks.text={},t.valHooks.text.get=function(e){var i=t(e).data("numFormat");return i?""===e.value?"":(e=+e.value.replace(i.regex_dec_num,"").replace(i.regex_dec,"."),""+(isFinite(e)?e:0)):t.isFunction(r)?r(e):void 0},t.valHooks.text.set=function(e,i){var n=t(e).data("numFormat");return n?e.value=t.number(i,n.decimals,n.dec_point,n.thousands_sep):t.isFunction(o)?o(e,i):void 0},t.number=function(t,e,i,n){n=void 0===n?",":n,i=void 0===i?".":i,e=isFinite(+e)?Math.abs(e):0;var r="\\u"+("0000"+i.charCodeAt(0).toString(16)).slice(-4),o="\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4);return t=(t+"").replace(".",i).replace(RegExp(o,"g"),"").replace(RegExp(r,"g"),".").replace(RegExp("[^0-9+-Ee.]","g"),""),t=isFinite(+t)?+t:0,r="",r=function(t,e){var i=Math.pow(10,e);return""+Math.round(t*i)/i},(r=(e?r(t,e):""+Math.round(t)).split("."))[0].length>3&&(r[0]=r[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,n)),(r[1]||"").length<e&&(r[1]=r[1]||"",r[1]+=Array(e-r[1].length+1).join("0")),r.join(i)}}(jQuery),function(t){t.expander={version:"1.4.7",defaults:{slicePoint:100,preserveWords:!0,widow:4,expandText:"read more",expandPrefix:"&hellip; ",expandAfterSummary:!1,summaryClass:"summary",detailClass:"details",moreClass:"read-more",lessClass:"read-less",collapseTimer:0,expandEffect:"slideDown",expandSpeed:250,collapseEffect:"slideUp",collapseSpeed:200,userCollapse:!0,userCollapseText:"read less",userCollapsePrefix:" ",onSlice:null,beforeExpand:null,afterExpand:null,onCollapse:null,afterCollapse:null}},t.fn.expander=function(e){function i(t,e){var i="span",n=t.summary;return e?(i="div",g.test(n)&&!t.expandAfterSummary?n=n.replace(g,t.moreLabel+"$1"):n+=t.moreLabel,n='<div class="'+t.summaryClass+'">'+n+"</div>"):n+=t.moreLabel,[n," <",i+' class="'+t.detailClass+'"',">",t.details,"</"+i+">"].join("")}function n(t){return'<span class="'+t.moreClass+'">'+t.expandPrefix+'<a href="#">'+t.expandText+"</a></span>"}function r(e,i){return e.lastIndexOf("<")>e.lastIndexOf(">")&&(e=e.slice(0,e.lastIndexOf("<"))),i&&(e=e.replace(d,"")),t.trim(e)}function o(t,e){e.stop(!0,!0)[t.collapseEffect](t.collapseSpeed,(function(){e.prev("span."+t.moreClass).show().length||e.parent().children("div."+t.summaryClass).show().find("span."+t.moreClass).show(),t.afterCollapse&&t.afterCollapse.call(e)}))}function s(e,i,n){e.collapseTimer&&(l=setTimeout((function(){o(e,i),t.isFunction(e.onCollapse)&&e.onCollapse.call(n,!1)}),e.collapseTimer))}var a="init";"string"==typeof e&&(a=e,e={});var l,c=t.extend({},t.expander.defaults,e),u=/^<(?:area|br|col|embed|hr|img|input|link|meta|param).*>$/i,d=c.wordEnd||/(&(?:[^;]+;)?|[a-zA-Z\u00C0-\u0100]+)$/,h=/<\/?(\w+)[^>]*>/g,p=/<(\w+)[^>]*>/g,f=/<\/(\w+)>/g,g=/(<\/[^>]+>)\s*$/,m=/^(<[^>]+>)+.?/,v={init:function(){this.each((function(){var e,a,d,g,v,y,b,_,w,x,$,C,k,S,j=[],T=[],A={},D=this,I=t(this),E=t([]),P=t.extend({},c,I.data("expander")||t.meta&&I.data()||{}),O=!!I.find("."+P.detailClass).length,F=!!I.find("*").filter((function(){var e=t(this).css("display");return/^block|table|list/.test(e)})).length,M=(F?"div":"span")+"."+P.detailClass,R=P.moreClass+"",N=P.lessClass+"",q=P.expandSpeed||0,L=t.trim(I.html()),z=(t.trim(I.text()),L.slice(0,P.slicePoint));if(P.moreSelector="span."+R.split(" ").join("."),P.lessSelector="span."+N.split(" ").join("."),!t.data(this,"expanderInit")){for(t.data(this,"expanderInit",!0),t.data(this,"expander",P),t.each(["onSlice","beforeExpand","afterExpand","onCollapse","afterCollapse"],(function(e,i){A[i]=t.isFunction(P[i])})),v=(z=r(z)).replace(h,"").length;P.slicePoint>v;)"<"===(g=L.charAt(z.length))&&(g=L.slice(z.length).match(m)[0]),z+=g,v++;for(y=(z=r(z,P.preserveWords)).match(p)||[],b=z.match(f)||[],d=[],t.each(y,(function(t,e){u.test(e)||d.push(e)})),y=d,a=b.length,e=0;a>e;e++)b[e]=b[e].replace(f,"$1");if(t.each(y,(function(e,i){var n=i.replace(p,"$1"),r=t.inArray(n,b);-1===r?(j.push(i),T.push("</"+n+">")):b.splice(r,1)})),T.reverse(),O)w=I.find(M).remove().html(),L=(z=I.html())+w,_="";else{if(w=L.slice(z.length),""===(x=t.trim(w.replace(h,"")))||x.split(/\s+/).length<P.widow)return;_=T.pop()||"",z+=T.join(""),w=j.join("")+w}P.moreLabel=I.find(P.moreSelector).length?"":n(P),F&&(w=L),z+=_,P.summary=z,P.details=w,P.lastCloseTag=_,A.onSlice&&(d=P.onSlice.call(D,P),P=d&&d.details?d:P),$=i(P,F),I.html($),k=I.find(M),S=I.find(P.moreSelector),"slideUp"===P.collapseEffect&&"slideDown"!==P.expandEffect||I.is(":hidden")?k.css({display:"none"}):k[P.collapseEffect](0),E=I.find("div."+P.summaryClass),C=function(t){t.preventDefault(),S.hide(),E.hide(),A.beforeExpand&&P.beforeExpand.call(D),k.stop(!1,!0)[P.expandEffect](q,(function(){k.css({zoom:""}),A.afterExpand&&P.afterExpand.call(D),s(P,k,D)}))},S.find("a").unbind("click.expander").bind("click.expander",C),P.userCollapse&&!I.find(P.lessSelector).length&&I.find(M).append('<span class="'+P.lessClass+'">'+P.userCollapsePrefix+'<a href="#">'+P.userCollapseText+"</a></span>"),I.find(P.lessSelector+" a").unbind("click.expander").bind("click.expander",(function(e){e.preventDefault(),clearTimeout(l);var i=t(this).closest(M);o(P,i),A.onCollapse&&P.onCollapse.call(D,!0)}))}}))},destroy:function(){this.each((function(){var e,i,n=t(this);n.data("expanderInit")&&(e=t.extend({},n.data("expander")||{},c),i=n.find("."+e.detailClass).contents(),n.removeData("expanderInit"),n.removeData("expander"),n.find(e.moreSelector).remove(),n.find("."+e.summaryClass).remove(),n.find("."+e.detailClass).after(i).remove(),n.find(e.lessSelector).remove())}))}};return v[a]&&v[a].call(this),this},t.fn.expander.defaults=t.expander.defaults}(jQuery),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t||self).autosize=e()}(this,(function(){function t(t){var e=r.get(t);e&&e.destroy()}function e(t){var e=r.get(t);e&&e.update()}var i,n,r="function"==typeof Map?new Map:(i=[],n=[],{has:function(t){return i.indexOf(t)>-1},get:function(t){return n[i.indexOf(t)]},set:function(t,e){-1===i.indexOf(t)&&(i.push(t),n.push(e))},delete:function(t){var e=i.indexOf(t);e>-1&&(i.splice(e,1),n.splice(e,1))}}),o=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(i){o=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}var s=null;return"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((s=function(t){return t}).destroy=function(t){return t},s.update=function(t){return t}):((s=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],(function(t){return function(t){function e(e){var i=t.style.width;t.style.width="0px",t.style.width=i,t.style.overflowY=e}function i(){if(0!==t.scrollHeight){var e=function(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}(t),i=document.documentElement&&document.documentElement.scrollTop;t.style.height="",t.style.height=t.scrollHeight+a+"px",l=t.clientWidth,e.forEach((function(t){t.node.scrollTop=t.scrollTop})),i&&(document.documentElement.scrollTop=i)}}function n(){i();var n=Math.round(parseFloat(t.style.height)),r=window.getComputedStyle(t,null),s="content-box"===r.boxSizing?Math.round(parseFloat(r.height)):t.offsetHeight;if(s<n?"hidden"===r.overflowY&&(e("scroll"),i(),s="content-box"===r.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):"hidden"!==r.overflowY&&(e("hidden"),i(),s="content-box"===r.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),c!==s){c=s;var a=o("autosize:resized");try{t.dispatchEvent(a)}catch(t){}}}if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!r.has(t)){var s,a=null,l=null,c=null,u=function(){t.clientWidth!==l&&n()},d=function(e){window.removeEventListener("resize",u,!1),t.removeEventListener("input",n,!1),t.removeEventListener("keyup",n,!1),t.removeEventListener("autosize:destroy",d,!1),t.removeEventListener("autosize:update",n,!1),Object.keys(e).forEach((function(i){t.style[i]=e[i]})),r.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",d,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",n,!1),window.addEventListener("resize",u,!1),t.addEventListener("input",n,!1),t.addEventListener("autosize:update",n,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",r.set(t,{destroy:d,update:n}),"vertical"===(s=window.getComputedStyle(t,null)).resize?t.style.resize="none":"both"===s.resize&&(t.style.resize="horizontal"),a="content-box"===s.boxSizing?-(parseFloat(s.paddingTop)+parseFloat(s.paddingBottom)):parseFloat(s.borderTopWidth)+parseFloat(s.borderBottomWidth),isNaN(a)&&(a=0),n()}}(t)})),t}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],t),e},s.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],e),t}),s})),$.fn.draghover=function(){return this.each((function(){var t=$(),e=$(this);e.on("dragenter",(function(i){0===t.size()&&e.trigger("draghoverstart"),t=t.add(i.target)})),e.on("dragleave drop",(function(i){setTimeout((function(){0===(t=t.not(i.target)).size()&&e.trigger("draghoverend")}),1)}))}))},function(){"use strict";var t,e;t=jQuery,(e=function(e,i){var n,r,o=this;return this.options=t.extend({title:null,footer:null,remote:null},t.fn.ekkoLightbox.defaults,i||{}),this.$element=t(e),"",this.modal_id=this.options.modal_id?this.options.modal_id:"ekkoLightbox-"+Math.floor(1e3*Math.random()+1),r='<div class="modal-header"'+(this.options.title||this.options.always_show_close?"":' style="display:none"')+'><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title">'+(this.options.title||"&nbsp;")+"</h4></div>",n='<div class="modal-footer"'+(this.options.footer?"":' style="display:none"')+">"+this.options.footer+"</div>",t(document.body).append('<div id="'+this.modal_id+'" class="ekko-lightbox modal fade" tabindex="-1"><div class="modal-dialog"><div class="modal-content">'+r+'<div class="modal-body"><div class="ekko-lightbox-container"><div></div></div></div>'+n+"</div></div></div>"),this.modal=t("#"+this.modal_id),this.modal_dialog=this.modal.find(".modal-dialog").first(),this.modal_content=this.modal.find(".modal-content").first(),this.modal_body=this.modal.find(".modal-body").first(),this.lightbox_container=this.modal_body.find(".ekko-lightbox-container").first(),this.lightbox_body=this.lightbox_container.find("> div:first-child").first(),this.showLoading(),this.modal_arrows=null,this.border={top:parseFloat(this.modal_dialog.css("border-top-width"))+parseFloat(this.modal_content.css("border-top-width"))+parseFloat(this.modal_body.css("border-top-width")),right:parseFloat(this.modal_dialog.css("border-right-width"))+parseFloat(this.modal_content.css("border-right-width"))+parseFloat(this.modal_body.css("border-right-width")),bottom:parseFloat(this.modal_dialog.css("border-bottom-width"))+parseFloat(this.modal_content.css("border-bottom-width"))+parseFloat(this.modal_body.css("border-bottom-width")),left:parseFloat(this.modal_dialog.css("border-left-width"))+parseFloat(this.modal_content.css("border-left-width"))+parseFloat(this.modal_body.css("border-left-width"))},this.padding={top:parseFloat(this.modal_dialog.css("padding-top"))+parseFloat(this.modal_content.css("padding-top"))+parseFloat(this.modal_body.css("padding-top")),
right:parseFloat(this.modal_dialog.css("padding-right"))+parseFloat(this.modal_content.css("padding-right"))+parseFloat(this.modal_body.css("padding-right")),bottom:parseFloat(this.modal_dialog.css("padding-bottom"))+parseFloat(this.modal_content.css("padding-bottom"))+parseFloat(this.modal_body.css("padding-bottom")),left:parseFloat(this.modal_dialog.css("padding-left"))+parseFloat(this.modal_content.css("padding-left"))+parseFloat(this.modal_body.css("padding-left"))},this.modal.on("show.bs.modal",this.options.onShow.bind(this)).on("shown.bs.modal",(function(){return o.modal_shown(),o.options.onShown.call(o)})).on("hide.bs.modal",this.options.onHide.bind(this)).on("hidden.bs.modal",(function(){return o.gallery&&t(document).off("keydown.ekkoLightbox"),o.modal.remove(),o.options.onHidden.call(o)})).modal("show",i),this.modal}).prototype={modal_shown:function(){var e,i=this;return this.options.remote?(this.gallery=this.$element.data("gallery"),this.gallery&&(this.gallery_items="document.body"===this.options.gallery_parent_selector||""===this.options.gallery_parent_selector?t(document.body).find('*[data-toggle="lightbox"][data-gallery="'+this.gallery+'"]'):this.$element.parents(this.options.gallery_parent_selector).first().find('*[data-toggle="lightbox"][data-gallery="'+this.gallery+'"]'),this.gallery_index=this.gallery_items.index(this.$element),t(document).on("keydown.ekkoLightbox",this.navigate.bind(this)),this.options.directional_arrows&&this.gallery_items.length>1&&(this.lightbox_container.prepend('<div class="ekko-lightbox-nav-overlay"><a href="#" class="'+this.strip_stops(this.options.left_arrow_class)+'"></a><a href="#" class="'+this.strip_stops(this.options.right_arrow_class)+'"></a></div>'),this.modal_arrows=this.lightbox_container.find("div.ekko-lightbox-nav-overlay").first(),this.lightbox_container.find("a"+this.strip_spaces(this.options.left_arrow_class)).on("click",(function(t){return t.preventDefault(),i.navigate_left()})),this.lightbox_container.find("a"+this.strip_spaces(this.options.right_arrow_class)).on("click",(function(t){return t.preventDefault(),i.navigate_right()})))),this.options.type?"image"===this.options.type?this.preloadImage(this.options.remote,!0):"youtube"===this.options.type&&(e=this.getYoutubeId(this.options.remote))?this.showYoutubeVideo(e):"vimeo"===this.options.type?this.showVimeoVideo(this.options.remote):"instagram"===this.options.type?this.showInstagramVideo(this.options.remote):this.error('Could not detect remote target type. Force the type using data-type="image|youtube|vimeo"'):this.detectRemoteType(this.options.remote)):this.error("No remote target given")},strip_stops:function(t){return t.replace(/\./g,"")},strip_spaces:function(t){return t.replace(/\s/g,"")},isImage:function(t){return t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSwf:function(t){return t.match(/\.(swf)((\?|#).*)?$/i)},getYoutubeId:function(t){var e;return!(!(e=t.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/))||11!==e[2].length)&&e[2]},getVimeoId:function(t){return t.indexOf("vimeo")>0&&t},getInstagramId:function(t){return t.indexOf("instagram")>0&&t},navigate:function(t){if(39===(t=t||window.event).keyCode||37===t.keyCode){if(39===t.keyCode)return this.navigate_right();if(37===t.keyCode)return this.navigate_left()}},navigate_left:function(){var e;if(1!==this.gallery_items.length)return this.showLoading(),0===this.gallery_index?this.gallery_index=this.gallery_items.length-1:this.gallery_index--,this.options.onNavigate("left",this.gallery_index),this.$element=t(this.gallery_items.get(this.gallery_index)),this.updateTitleAndFooter(),e=this.$element.attr("data-remote")||this.$element.attr("href"),this.detectRemoteType(e,this.$element.attr("data-type"))},navigate_right:function(){var e,i;if(1!==this.gallery_items.length)return this.showLoading(),this.gallery_index===this.gallery_items.length-1?this.gallery_index=0:this.gallery_index++,this.options.onNavigate("right",this.gallery_index),this.$element=t(this.gallery_items.get(this.gallery_index)),i=this.$element.attr("data-remote")||this.$element.attr("href"),this.updateTitleAndFooter(),this.detectRemoteType(i,this.$element.attr("data-type")),this.gallery_index+1<this.gallery_items.length&&(i=(e=t(this.gallery_items.get(this.gallery_index+1),!1)).attr("data-remote")||e.attr("href"),"image"===e.attr("data-type")||this.isImage(i))?this.preloadImage(i,!1):void 0},detectRemoteType:function(t,e){var i;return"image"===e||this.isImage(t)?(this.options.type="image",this.preloadImage(t,!0)):"youtube"===e||(i=this.getYoutubeId(t))?(this.options.type="youtube",this.showYoutubeVideo(i)):"vimeo"===e||(i=this.getVimeoId(t))?(this.options.type="vimeo",this.showVimeoVideo(i)):"instagram"===e||(i=this.getInstagramId(t))?(this.options.type="instagram",this.showInstagramVideo(i)):this.error('Could not detect remote target type. Force the type using data-type="image|youtube|vimeo"')},updateTitleAndFooter:function(){var t,e,i,n;return i=this.modal_content.find(".modal-header"),e=this.modal_content.find(".modal-footer"),n=this.$element.data("title")||"",t=this.$element.data("footer")||"",n||this.options.always_show_close?i.css("display","").find(".modal-title").html(n||"&nbsp;"):i.css("display","none"),t?e.css("display","").html(t):e.css("display","none"),this},showLoading:function(){return this.lightbox_body.html('<div class="modal-loading">Loading..</div>'),this},showYoutubeVideo:function(t){var e,i,n;return e=560/315,n=this.$element.data("width")||560,i=(n=this.checkDimensions(n))/e,this.resize(n),this.lightbox_body.html('<iframe width="'+n+'" height="'+i+'" src="//www.youtube.com/embed/'+t+'?badge=0&autoplay=1&html5=1" frameborder="0" allowfullscreen></iframe>'),this.modal_arrows?this.modal_arrows.css("display","none"):void 0},showVimeoVideo:function(t){var e,i,n;return e=500/281,n=this.$element.data("width")||560,i=(n=this.checkDimensions(n))/e,this.resize(n),this.lightbox_body.html('<iframe width="'+n+'" height="'+i+'" src="'+t+'?autoplay=1" frameborder="0" allowfullscreen></iframe>'),this.modal_arrows?this.modal_arrows.css("display","none"):void 0},showInstagramVideo:function(t){var e,i;return i=this.$element.data("width")||612,e=i=this.checkDimensions(i),this.resize(i),this.lightbox_body.html('<iframe width="'+i+'" height="'+e+'" src="'+this.addTrailingSlash(t)+'embed/" frameborder="0" allowfullscreen></iframe>'),this.modal_arrows?this.modal_arrows.css("display","none"):void 0},error:function(t){return this.lightbox_body.html(t),this},preloadImage:function(e,i){var n,r=this;return n=new Image,(null==i||!0===i)&&(n.onload=function(){var e;return(e=t("<img />")).attr("src",n.src),e.addClass("img-responsive"),r.lightbox_body.html(e),r.modal_arrows&&r.modal_arrows.css("display","block"),r.resize(n.width)},n.onerror=function(){return r.error("Failed to load image: "+e)}),n.src=e,n},resize:function(e){var i;return i=e+this.border.left+this.padding.left+this.padding.right+this.border.right,this.modal_dialog.css("width","auto").css("max-width",i),this.lightbox_container.find("a").css("padding-top",(function(){return t(this).parent().height()/2})),this},checkDimensions:function(t){return t+this.border.left+this.padding.left+this.padding.right+this.border.right>document.body.clientWidth&&(t=this.modal_body.width()),t},close:function(){return this.modal.modal("hide")},addTrailingSlash:function(t){return"/"!==t.substr(-1)&&(t+="/"),t}},t.fn.ekkoLightbox=function(i){return this.each((function(){var n;return n=t(this),i=t.extend({remote:n.attr("data-remote")||n.attr("href"),gallery_parent_selector:n.attr("data-parent"),type:n.attr("data-type")},i,n.data()),new e(this,i),this}))},t.fn.ekkoLightbox.defaults={gallery_parent_selector:"*:not(.row)",left_arrow_class:".icon .icon-arrow-left",right_arrow_class:".icon .icon-arrow-right",directional_arrows:!0,type:null,always_show_close:!0,onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){},onNavigate:function(){}}}.call(this),function(){function t(e){var i=t.modules[e];if(!i)throw new Error('failed to require "'+e+'"');return"exports"in i||"function"!=typeof i.definition||(i.client=i.component=!0,i.definition.call(this,i.exports={},i),delete i.definition),i.exports}t.modules={},t.register=function(e,i){t.modules[e]={definition:i}},t.define=function(e,i){t.modules[e]={exports:i}},t.register("component~emitter@1.1.2",(function(t,e){function i(t){if(t)return n(t)}function n(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}e.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},i.prototype.once=function(t,e){function i(){n.off(t,i),e.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},i.fn=e,this.on(t,i),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var r=0;r<n.length;r++)if((i=n[r])===e||i.fn===e){n.splice(r,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks[t];if(i)for(var n=0,r=(i=i.slice(0)).length;n<r;++n)i[n].apply(this,e);return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}})),t.register("dropzone",(function(e,i){i.exports=t("dropzone/lib/dropzone.js")})),t.register("dropzone/lib/dropzone.js",(function(e,i){(function(){var e,n,r,o,s,a,l,c,u={}.hasOwnProperty,d=function(t,e){function i(){this.constructor=t}for(var n in e)u.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},h=[].slice;n="undefined"!=typeof Emitter&&null!==Emitter?Emitter:t("component~emitter@1.1.2"),l=function(){},e=function(t){function e(t,n){var r,o,s;if(this.element=t,this.version=e.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(e.instances.push(this),this.element.dropzone=this,r=null!=(s=e.optionsForElement(this.element))?s:{},this.options=i({},this.defaultOptions,r,null!=n?n:{}),this.options.forceFallback||!e.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(o=this.getExistingFallback())&&o.parentNode&&o.parentNode.removeChild(o),!1!==this.options.previewsContainer&&(this.options.previewsContainer?this.previewsContainer=e.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(!0===this.options.clickable?this.clickableElements=[this.element]:this.clickableElements=e.getElements(this.options.clickable,"clickable")),this.init()}var i;return d(e,t),e.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached"],e.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(t,e){return e()},init:function(){return l},forceFallback:!1,fallback:function(){var t,i,n,r,o,s;for(this.element.className=this.element.className+" dz-browser-not-supported",r=0,o=(s=this.element.getElementsByTagName("div")).length;r<o;r++)t=s[r],/(^| )dz-message($| )/.test(t.className)&&(i=t,t.className="dz-message");return i||(i=e.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(i)),(n=i.getElementsByTagName("span")[0])&&(n.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(t){var e,i,n;return e={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},i=t.width/t.height,e.optWidth=this.options.thumbnailWidth,e.optHeight=this.options.thumbnailHeight,null==e.optWidth&&null==e.optHeight?(e.optWidth=e.srcWidth,e.optHeight=e.srcHeight):null==e.optWidth?e.optWidth=i*e.optHeight:null==e.optHeight&&(e.optHeight=1/i*e.optWidth),n=e.optWidth/e.optHeight,t.height<e.optHeight||t.width<e.optWidth?(e.trgHeight=e.srcHeight,e.trgWidth=e.srcWidth):i>n?(e.srcHeight=t.height,e.srcWidth=e.srcHeight*n):(e.srcWidth=t.width,e.srcHeight=e.srcWidth/n),e.srcX=(t.width-e.srcWidth)/2,e.srcY=(t.height-e.srcHeight)/2,e},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:l,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:l,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var i,n,r,o,s,a,l,c,u,d,h,p,f;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(t.previewElement=e.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement),r=0,a=(u=t.previewElement.querySelectorAll("[data-dz-name]")).length;r<a;r++)u[r].textContent=t.name;for(o=0,l=(d=t.previewElement.querySelectorAll("[data-dz-size]")).length;o<l;o++)d[o].innerHTML=this.filesize(t.size);for(this.options.addRemoveLinks&&(t._removeLink=e.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),t.previewElement.appendChild(t._removeLink)),f=this,i=function(i){return i.preventDefault(),i.stopPropagation(),t.status===e.UPLOADING?e.confirm(f.options.dictCancelUploadConfirmation,(function(){return f.removeFile(t)})):f.options.dictRemoveFileConfirmation?e.confirm(f.options.dictRemoveFileConfirmation,(function(){return f.removeFile(t)})):f.removeFile(t)},p=[],s=0,c=(h=t.previewElement.querySelectorAll("[data-dz-remove]")).length;s<c;s++)n=h[s],p.push(n.addEventListener("click",i));return p}},removedfile:function(t){var e;return t.previewElement&&null!=(e=t.previewElement)&&e.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){var i,n,r,o,s;if(t.previewElement){for(t.previewElement.classList.remove("dz-file-preview"),t.previewElement.classList.add("dz-image-preview"),s=[],n=0,r=(o=t.previewElement.querySelectorAll("[data-dz-thumbnail]")).length;n<r;n++)(i=o[n]).alt=t.name,s.push(i.src=e);return s}},error:function(t,e){var i,n,r,o,s;if(t.previewElement){for(t.previewElement.classList.add("dz-error"),"String"!=typeof e&&e.error&&(e=e.error),s=[],n=0,r=(o=t.previewElement.querySelectorAll("[data-dz-errormessage]")).length;n<r;n++)i=o[n],s.push(i.textContent=e);return s}},errormultiple:l,processing:function(t){if(t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink))return t._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:l,uploadprogress:function(t,e){var i,n,r,o,s;if(t.previewElement){for(s=[],n=0,r=(o=t.previewElement.querySelectorAll("[data-dz-uploadprogress]")).length;n<r;n++)i=o[n],s.push(i.style.width=e+"%");return s}},totaluploadprogress:l,sending:l,sendingmultiple:l,success:function(t){if(t.previewElement)return t.previewElement.classList.add("dz-success")},successmultiple:l,canceled:function(t){return this.emit("error",t,"Upload canceled.")},canceledmultiple:l,complete:function(t){if(t._removeLink)return t._removeLink.textContent=this.options.dictRemoveFile},completemultiple:l,maxfilesexceeded:l,maxfilesreached:l,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name></span></div>\n    <div class="dz-size" data-dz-size></div>\n    <img data-dz-thumbnail />\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-success-mark"><span>\u2714</span></div>\n  <div class="dz-error-mark"><span>\u2718</span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n</div>'},i=function(){var t,e,i,n,r,o,s;for(n=arguments[0],o=0,s=(i=2<=arguments.length?h.call(arguments,1):[]).length;o<s;o++)for(t in e=i[o])r=e[t],n[t]=r;return n},e.prototype.getAcceptedFiles=function(){var t,e,i,n,r;for(r=[],e=0,i=(n=this.files).length;e<i;e++)(t=n[e]).accepted&&r.push(t);return r},e.prototype.getRejectedFiles=function(){var t,e,i,n,r;for(r=[],e=0,i=(n=this.files).length;e<i;e++)(t=n[e]).accepted||r.push(t);return r},e.prototype.getFilesWithStatus=function(t){var e,i,n,r,o;for(o=[],i=0,n=(r=this.files).length;i<n;i++)(e=r[i]).status===t&&o.push(e);return o},e.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(e.QUEUED)},e.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(e.UPLOADING)},e.prototype.getActiveFiles=function(){var t,i,n,r,o;for(o=[],i=0,n=(r=this.files).length;i<n;i++)(t=r[i]).status!==e.UPLOADING&&t.status!==e.QUEUED||o.push(t);return o},e.prototype.init=function(){var t,i,n,r,o,s,a,l;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(e.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(l=this,n=function(){return l.hiddenFileInput&&document.body.removeChild(l.hiddenFileInput),l.hiddenFileInput=document.createElement("input"),l.hiddenFileInput.setAttribute("type","file"),(null==l.options.maxFiles||l.options.maxFiles>1)&&l.hiddenFileInput.setAttribute("multiple","multiple"),l.hiddenFileInput.className="dz-hidden-input",null!=l.options.acceptedFiles&&l.hiddenFileInput.setAttribute("accept",l.options.acceptedFiles),l.hiddenFileInput.style.visibility="hidden",l.hiddenFileInput.style.position="absolute",l.hiddenFileInput.style.top="0",l.hiddenFileInput.style.left="0",l.hiddenFileInput.style.height="0",l.hiddenFileInput.style.width="0",document.body.appendChild(l.hiddenFileInput),l.hiddenFileInput.addEventListener("change",(function(){var t,e,i,r;if((e=l.hiddenFileInput.files).length)for(i=0,r=e.length;i<r;i++)t=e[i],l.addFile(t);return n()}))},n()),this.URL=null!=(s=window.URL)?s:window.webkitURL,r=0,o=(a=this.events).length;r<o;r++)t=a[r],this.on(t,this.options[t]);return this.on("uploadprogress",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("canceled",function(t){return function(e){return t.emit("complete",e)}}(this)),this.on("complete",function(t){return function(){if(0===t.getUploadingFiles().length&&0===t.getQueuedFiles().length)return setTimeout((function(){return t.emit("queuecomplete")}),0)}}(this)),i=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(t){return function(e){return t.emit("dragstart",e)}}(this),dragenter:function(t){return function(e){return i(e),t.emit("dragenter",e)}}(this),dragover:function(t){return function(e){var n;try{n=e.dataTransfer.effectAllowed}catch(t){}return e.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",i(e),t.emit("dragover",e)}}(this),dragleave:function(t){return function(e){return t.emit("dragleave",e)}}(this),drop:function(t){return function(e){return i(e),t.drop(e)}}(this),dragend:function(t){return function(e){return t.emit("dragend",e)}}(this)}}],this.clickableElements.forEach(function(t){return function(i){return t.listeners.push({element:i,events:{click:function(n){if(i!==t.element||n.target===t.element||e.elementInside(n.target,t.element.querySelector(".dz-message")))return t.hiddenFileInput.click()}}})}}(this)),this.enable(),this.options.init.call(this)},e.prototype.destroy=function(){var t;return this.disable(),this.removeAllFiles(!0),(null!=(t=this.hiddenFileInput)?t.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,e.instances.splice(e.instances.indexOf(this),1)},e.prototype.updateTotalUploadProgress=function(){var t,e,i,n,r,o,s;if(i=0,e=0,this.getActiveFiles().length){for(r=0,o=(s=this.getActiveFiles()).length;r<o;r++)i+=(t=s[r]).upload.bytesSent,e+=t.upload.total;n=100*i/e}else n=100;return this.emit("totaluploadprogress",n,e,i)},e.prototype._getParamName=function(t){return"function"==typeof this.options.paramName?this.options.paramName(t):this.options.paramName+(this.options.uploadMultiple?"["+t+"]":"")},e.prototype.getFallbackForm=function(){var t,i,n,r;return(t=this.getExistingFallback())?t:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',i=e.createElement(n),"FORM"!==this.element.tagName?(r=e.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(i):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=r?r:i)},e.prototype.getExistingFallback=function(){var t,e,i,n,r,o;for(e=function(t){var e,i,n;for(i=0,n=t.length;i<n;i++)if(e=t[i],/(^| )fallback($| )/.test(e.className))return e},n=0,r=(o=["div","form"]).length;n<r;n++)if(i=o[n],t=e(this.element.getElementsByTagName(i)))return t},e.prototype.setupEventListeners=function(){var t,e,i,n,r,o,s;for(s=[],n=0,r=(o=this.listeners).length;n<r;n++)t=o[n],s.push(function(){var n,r;for(e in r=[],n=t.events)i=n[e],r.push(t.element.addEventListener(e,i,!1));return r}());return s},e.prototype.removeEventListeners=function(){var t,e,i,n,r,o,s;for(s=[],n=0,r=(o=this.listeners).length;n<r;n++)t=o[n],s.push(function(){var n,r;for(e in r=[],n=t.events)i=n[e],r.push(t.element.removeEventListener(e,i,!1));return r}());return s},e.prototype.disable=function(){var t,e,i,n,r;for(this.clickableElements.forEach((function(t){return t.classList.remove("dz-clickable")})),this.removeEventListeners(),r=[],e=0,i=(n=this.files).length;e<i;e++)t=n[e],r.push(this.cancelUpload(t));return r},e.prototype.enable=function(){return this.clickableElements.forEach((function(t){return t.classList.add("dz-clickable")})),this.setupEventListeners()},e.prototype.filesize=function(t){var e;return t>=109951162777.6?(t/=109951162777.6,e="TiB"):t>=107374182.4?(t/=107374182.4,e="GiB"):t>=104857.6?(t/=104857.6,e="MiB"):t>=102.4?(t/=102.4,e="KiB"):(t*=10,e="b"),"<strong>"+Math.round(t)/10+"</strong> "+e},e.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},e.prototype.drop=function(t){var e,i;t.dataTransfer&&(this.emit("drop",t),(e=t.dataTransfer.files).length&&((i=t.dataTransfer.items)&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(e)))},e.prototype.paste=function(t){var e,i;if(null!=(null!=t&&null!=(i=t.clipboardData)?i.items:void 0))return this.emit("paste",t),(e=t.clipboardData.items).length?this._addFilesFromItems(e):void 0},e.prototype.handleFiles=function(t){var e,i,n,r;for(r=[],i=0,n=t.length;i<n;i++)e=t[i],r.push(this.addFile(e));return r},e.prototype._addFilesFromItems=function(t){var e,i,n,r,o;for(o=[],n=0,r=t.length;n<r;n++)null!=(i=t[n]).webkitGetAsEntry&&(e=i.webkitGetAsEntry())?e.isFile?o.push(this.addFile(i.getAsFile())):e.isDirectory?o.push(this._addFilesFromDirectory(e,e.name)):o.push(void 0):null!=i.getAsFile&&(null==i.kind||"file"===i.kind)?o.push(this.addFile(i.getAsFile())):o.push(void 0);return o},e.prototype._addFilesFromDirectory=function(t,e){var i,n,r;return i=t.createReader(),r=this,n=function(t){var i,n,o;for(n=0,o=t.length;n<o;n++)(i=t[n]).isFile?i.file((function(t){if(!r.options.ignoreHiddenFiles||"."!==t.name.substring(0,1))return t.fullPath=e+"/"+t.name,r.addFile(t)})):i.isDirectory&&r._addFilesFromDirectory(i,e+"/"+i.name)},i.readEntries(n,(function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(t):void 0}))},e.prototype.accept=function(t,i){return t.size>1024*this.options.maxFilesize*1024?i(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):e.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(i(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,i):i(this.options.dictInvalidFileType)},e.prototype.addFile=function(t){return t.upload={progress:0,total:t.size,bytesSent:0},this.files.push(t),t.status=e.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,(i=this,function(e){return e?(t.accepted=!1,i._errorProcessing([t],e)):(t.accepted=!0,i.options.autoQueue&&i.enqueueFile(t)),i._updateMaxFilesReachedClass()}));var i},e.prototype.enqueueFiles=function(t){var e,i,n;for(i=0,n=t.length;i<n;i++)e=t[i],this.enqueueFile(e);return null},e.prototype.enqueueFile=function(t){if(t.status!==e.ADDED||!0!==t.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(t.status=e.QUEUED,this.options.autoProcessQueue)return setTimeout((i=this,function(){return i.processQueue()}),0);var i},e.prototype._thumbnailQueue=[],e.prototype._processingThumbnail=!1,e.prototype._enqueueThumbnail=function(t){if(this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(t),setTimeout((e=this,function(){return e._processThumbnailQueue()}),0);var e},e.prototype._processThumbnailQueue=function(){var t;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),(t=this,function(){return t._processingThumbnail=!1,t._processThumbnailQueue()}))},e.prototype.removeFile=function(t){if(t.status===e.UPLOADING&&this.cancelUpload(t),this.files=c(this.files,t),this.emit("removedfile",t),0===this.files.length)return this.emit("reset")},e.prototype.removeAllFiles=function(t){var i,n,r,o;for(null==t&&(t=!1),n=0,r=(o=this.files.slice()).length;n<r;n++)((i=o[n]).status!==e.UPLOADING||t)&&this.removeFile(i);return null},e.prototype.createThumbnail=function(t,e){var i,n;return(i=new FileReader).onload=(n=this,function(){var r;return(r=document.createElement("img")).onload=function(){var i,o,s,l,c,u,d,h;if(t.width=r.width,t.height=r.height,null==(s=n.options.resize.call(n,t)).trgWidth&&(s.trgWidth=s.optWidth),null==s.trgHeight&&(s.trgHeight=s.optHeight),o=(i=document.createElement("canvas")).getContext("2d"),i.width=s.trgWidth,i.height=s.trgHeight,a(o,r,null!=(c=s.srcX)?c:0,null!=(u=s.srcY)?u:0,s.srcWidth,s.srcHeight,null!=(d=s.trgX)?d:0,null!=(h=s.trgY)?h:0,s.trgWidth,s.trgHeight),l=i.toDataURL("image/png"),n.emit("thumbnail",t,l),null!=e)return e()},r.src=i.result}),i.readAsDataURL(t)},e.prototype.processQueue=function(){var t,e,i,n;if(e=this.options.parallelUploads,t=i=this.getUploadingFiles().length,!(i>=e)&&(n=this.getQueuedFiles()).length>0){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,e-i));for(;t<e;){if(!n.length)return;this.processFile(n.shift()),t++}}},e.prototype.processFile=function(t){return this.processFiles([t])},e.prototype.processFiles=function(t){var i,n,r;for(n=0,r=t.length;n<r;n++)(i=t[n]).processing=!0,i.status=e.UPLOADING,this.emit("processing",i);return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)},e.prototype._getFilesWithXhr=function(t){var e;return function(){var i,n,r,o;for(o=[],i=0,n=(r=this.files).length;i<n;i++)(e=r[i]).xhr===t&&o.push(e);return o}.call(this)},e.prototype.cancelUpload=function(t){var i,n,r,o,s,a,l;if(t.status===e.UPLOADING){for(r=0,s=(n=this._getFilesWithXhr(t.xhr)).length;r<s;r++)(i=n[r]).status=e.CANCELED;for(t.xhr.abort(),o=0,a=n.length;o<a;o++)i=n[o],this.emit("canceled",i);this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else(l=t.status)!==e.ADDED&&l!==e.QUEUED||(t.status=e.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));if(this.options.autoProcessQueue)return this.processQueue()},e.prototype.uploadFile=function(t){return this.uploadFiles([t])},e.prototype.uploadFiles=function(t){var n,r,o,s,a,l,c,u,d,h,p,f,g,m,v,y,b,_,w,x,$,C,k,S,j,T,A,D,I,E,P,O;for(y=new XMLHttpRequest,b=0,$=t.length;b<$;b++)(n=t[b]).xhr=y;for(s in y.open(this.options.method,this.options.url,!0),y.withCredentials=!!this.options.withCredentials,g=null,O=this,o=function(){var e,i,r;for(r=[],e=0,i=t.length;e<i;e++)n=t[e],r.push(O._errorProcessing(t,g||O.options.dictResponseError.replace("{{statusCode}}",y.status),y));return r},m=function(e){return function(i){var r,o,s,a,l,c,u,d,h;if(null!=i)for(o=100*i.loaded/i.total,s=0,c=t.length;s<c;s++)(n=t[s]).upload={progress:o,total:i.total,bytesSent:i.loaded};else{for(r=!0,o=100,a=0,u=t.length;a<u;a++)100===(n=t[a]).upload.progress&&n.upload.bytesSent===n.upload.total||(r=!1),n.upload.progress=o,n.upload.bytesSent=n.upload.total;if(r)return}for(h=[],l=0,d=t.length;l<d;l++)n=t[l],h.push(e.emit("uploadprogress",n,o,n.upload.bytesSent));return h}}(this),y.onload=function(i){return function(n){var r;if(t[0].status!==e.CANCELED&&4===y.readyState){if(g=y.responseText,y.getResponseHeader("content-type")&&~y.getResponseHeader("content-type").indexOf("application/json"))try{g=JSON.parse(g)}catch(t){n=t,g="Invalid JSON response from server."}return m(),200<=(r=y.status)&&r<300?i._finished(t,g,n):o()}}}(this),y.onerror=function(){if(t[0].status!==e.CANCELED)return o()},(null!=(T=y.upload)?T:y).onprogress=m,l={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&i(l,this.options.headers),l)a=l[s],y.setRequestHeader(s,a);if(r=new FormData,this.options.params)for(p in A=this.options.params)v=A[p],r.append(p,v);for(_=0,C=t.length;_<C;_++)n=t[_],this.emit("sending",n,y,r);if(this.options.uploadMultiple&&this.emit("sendingmultiple",t,y,r),
"FORM"===this.element.tagName)for(w=0,k=(D=this.element.querySelectorAll("input, textarea, select, button")).length;w<k;w++)if(d=(u=D[w]).getAttribute("name"),h=u.getAttribute("type"),"SELECT"===u.tagName&&u.hasAttribute("multiple"))for(x=0,S=(I=u.options).length;x<S;x++)(f=I[x]).selected&&r.append(d,f.value);else(!h||"checkbox"!==(E=h.toLowerCase())&&"radio"!==E||u.checked)&&r.append(d,u.value);for(c=j=0,P=t.length-1;0<=P?j<=P:j>=P;c=0<=P?++j:--j)r.append(this._getParamName(c),t[c],t[c].name);return y.send(r)},e.prototype._finished=function(t,i,n){var r,o,s;for(o=0,s=t.length;o<s;o++)(r=t[o]).status=e.SUCCESS,this.emit("success",r,i,n),this.emit("complete",r);if(this.options.uploadMultiple&&(this.emit("successmultiple",t,i,n),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()},e.prototype._errorProcessing=function(t,i,n){var r,o,s;for(o=0,s=t.length;o<s;o++)(r=t[o]).status=e.ERROR,this.emit("error",r,i,n),this.emit("complete",r);if(this.options.uploadMultiple&&(this.emit("errormultiple",t,i,n),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()},e}(n),e.version="3.10.2",e.options={},e.optionsForElement=function(t){return t.getAttribute("id")?e.options[r(t.getAttribute("id"))]:void 0},e.instances=[],e.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},e.autoDiscover=!0,e.discover=function(){var t,i,n,r,o,s;for(document.querySelectorAll?n=document.querySelectorAll(".dropzone"):(n=[],t=function(t){var e,i,r,o;for(o=[],i=0,r=t.length;i<r;i++)e=t[i],/(^| )dropzone($| )/.test(e.className)?o.push(n.push(e)):o.push(void 0);return o},t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))),s=[],r=0,o=n.length;r<o;r++)i=n[r],!1!==e.optionsForElement(i)?s.push(new e(i)):s.push(void 0);return s},e.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],e.isBrowserSupported=function(){var t,i,n,r;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(i=0,n=(r=e.blacklistedBrowsers).length;i<n;i++)r[i].test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},c=function(t,e){var i,n,r,o;for(o=[],n=0,r=t.length;n<r;n++)(i=t[n])!==e&&o.push(i);return o},r=function(t){return t.replace(/[\-_](\w)/g,(function(t){return t.charAt(1).toUpperCase()}))},e.createElement=function(t){var e;return(e=document.createElement("div")).innerHTML=t,e.childNodes[0]},e.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},e.getElement=function(t,e){var i;if("string"==typeof t?i=document.querySelector(t):null!=t.nodeType&&(i=t),null==i)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},e.getElements=function(t,e){var i,n,r,o,s,a,l;if(t instanceof Array){n=[];try{for(r=0,s=t.length;r<s;r++)i=t[r],n.push(this.getElement(i,e))}catch(t){t,n=null}}else if("string"==typeof t)for(n=[],o=0,a=(l=document.querySelectorAll(t)).length;o<a;o++)i=l[o],n.push(i);else null!=t.nodeType&&(n=[t]);if(null==n||!n.length)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return n},e.confirm=function(t,e,i){return window.confirm(t)?e():null!=i?i():void 0},e.isValidFile=function(t,e){var i,n,r,o,s;if(!e)return!0;for(e=e.split(","),i=(n=t.type).replace(/\/.*$/,""),o=0,s=e.length;o<s;o++)if("."===(r=(r=e[o]).trim()).charAt(0)){if(-1!==t.name.toLowerCase().indexOf(r.toLowerCase(),t.name.length-r.length))return!0}else if(/\/\*$/.test(r)){if(i===r.replace(/\/.*$/,""))return!0}else if(n===r)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each((function(){return new e(this,t)}))}),null!=i?i.exports=e:window.Dropzone=e,e.ADDED="added",e.QUEUED="queued",e.ACCEPTED=e.QUEUED,e.UPLOADING="uploading",e.PROCESSING=e.UPLOADING,e.CANCELED="canceled",e.ERROR="error",e.SUCCESS="success",s=function(t){var e,i,n,r,o,s,a,l;for(t.naturalWidth,o=t.naturalHeight,(e=document.createElement("canvas")).width=1,e.height=o,(i=e.getContext("2d")).drawImage(t,0,0),n=i.getImageData(0,0,1,o).data,l=0,r=o,s=o;s>l;)0===n[4*(s-1)+3]?r=s:l=s,s=r+l>>1;return 0===(a=s/o)?1:a},a=function(t,e,i,n,r,o,a,l,c,u){var d;return d=s(e),t.drawImage(e,i,n,r,o,a,l,c,u/d)},o=function(t,e){var i,n,r,o,s,a,l,c,u;if(r=!1,u=!0,n=t.document,c=n.documentElement,i=n.addEventListener?"addEventListener":"attachEvent",l=n.addEventListener?"removeEventListener":"detachEvent",a=n.addEventListener?"":"on",o=function(i){if("readystatechange"!==i.type||"complete"===n.readyState)return("load"===i.type?t:n)[l](a+i.type,o,!1),!r&&(r=!0)?e.call(t,i.type||i):void 0},s=function(){try{c.doScroll("left")}catch(t){return t,void setTimeout(s,50)}return o("poll")},"complete"!==n.readyState){if(n.createEventObject&&c.doScroll){try{u=!t.frameElement}catch(t){}u&&s()}return n[i](a+"DOMContentLoaded",o,!1),n[i](a+"readystatechange",o,!1),t[i](a+"load",o,!1)}},e._autoDiscoverFunction=function(){if(e.autoDiscover)return e.discover()},o(window,e._autoDiscoverFunction)}).call(this)})),"object"==typeof exports?module.exports=t("dropzone"):"function"==typeof define&&define.amd?define([],(function(){return t("dropzone")})):this.Dropzone=t("dropzone")}(),"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),function(t,e,i){var n={init:function(e,i){this.$elem=t(i),this.options=t.extend({},t.fn.owlCarousel.options,this.$elem.data(),e),this.userOptions=e,this.loadContent()},loadContent:function(){function e(t){var e,i="";if("function"==typeof n.options.jsonSuccess)n.options.jsonSuccess.apply(this,[t]);else{for(e in t.owl)t.owl.hasOwnProperty(e)&&(i+=t.owl[e].item);n.$elem.html(i)}n.logIn()}var i,n=this;"function"==typeof n.options.beforeInit&&n.options.beforeInit.apply(this,[n.$elem]),"string"==typeof n.options.jsonPath?(i=n.options.jsonPath,t.getJSON(i,e)):n.logIn()},logIn:function(){this.$elem.data("owl-originalStyles",this.$elem.attr("style")),this.$elem.data("owl-originalClasses",this.$elem.attr("class")),this.$elem.css({opacity:0}),this.orignalItems=this.options.items,this.checkBrowser(),this.wrapperWidth=0,this.checkVisible=null,this.setVars()},setVars:function(){if(0===this.$elem.children().length)return!1;this.baseClass(),this.eventTypes(),this.$userItems=this.$elem.children(),this.itemsAmount=this.$userItems.length,this.wrapItems(),this.$owlItems=this.$elem.find(".owl-item"),this.$owlWrapper=this.$elem.find(".owl-wrapper"),this.playDirection="next",this.prevItem=0,this.prevArr=[0],this.currentItem=0,this.customEvents(),this.onStartup()},onStartup:function(){this.updateItems(),this.calculateAll(),this.buildControls(),this.updateControls(),this.response(),this.moveEvents(),this.stopOnHover(),this.owlStatus(),!1!==this.options.transitionStyle&&this.transitionTypes(this.options.transitionStyle),!0===this.options.autoPlay&&(this.options.autoPlay=5e3),this.play(),this.$elem.find(".owl-wrapper").css("display","block"),this.$elem.is(":visible")?this.$elem.css("opacity",1):this.watchVisibility(),this.onstartup=!1,this.eachMoveUpdate(),"function"==typeof this.options.afterInit&&this.options.afterInit.apply(this,[this.$elem])},eachMoveUpdate:function(){!0===this.options.lazyLoad&&this.lazyLoad(),!0===this.options.autoHeight&&this.autoHeight(),this.onVisibleItems(),"function"==typeof this.options.afterAction&&this.options.afterAction.apply(this,[this.$elem])},updateVars:function(){"function"==typeof this.options.beforeUpdate&&this.options.beforeUpdate.apply(this,[this.$elem]),this.watchVisibility(),this.updateItems(),this.calculateAll(),this.updatePosition(),this.updateControls(),this.eachMoveUpdate(),"function"==typeof this.options.afterUpdate&&this.options.afterUpdate.apply(this,[this.$elem])},reload:function(){var t=this;e.setTimeout((function(){t.updateVars()}),0)},watchVisibility:function(){var t=this;if(!1!==t.$elem.is(":visible"))return!1;t.$elem.css({opacity:0}),e.clearInterval(t.autoPlayInterval),e.clearInterval(t.checkVisible),t.checkVisible=e.setInterval((function(){t.$elem.is(":visible")&&(t.reload(),t.$elem.animate({opacity:1},200),e.clearInterval(t.checkVisible))}),500)},wrapItems:function(){this.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>'),this.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">'),this.wrapperOuter=this.$elem.find(".owl-wrapper-outer"),this.$elem.css("display","block")},baseClass:function(){var t=this.$elem.hasClass(this.options.baseClass),e=this.$elem.hasClass(this.options.theme);t||this.$elem.addClass(this.options.baseClass),e||this.$elem.addClass(this.options.theme)},updateItems:function(){var e,i;if(!1===this.options.responsive)return!1;if(!0===this.options.singleItem)return this.options.items=this.orignalItems=1,this.options.itemsCustom=!1,this.options.itemsDesktop=!1,this.options.itemsDesktopSmall=!1,this.options.itemsTablet=!1,this.options.itemsTabletSmall=!1,this.options.itemsMobile=!1;if((e=t(this.options.responsiveBaseWidth).width())>(this.options.itemsDesktop[0]||this.orignalItems)&&(this.options.items=this.orignalItems),!1!==this.options.itemsCustom)for(this.options.itemsCustom.sort((function(t,e){return t[0]-e[0]})),i=0;i<this.options.itemsCustom.length;i+=1)this.options.itemsCustom[i][0]<=e&&(this.options.items=this.options.itemsCustom[i][1]);else e<=this.options.itemsDesktop[0]&&!1!==this.options.itemsDesktop&&(this.options.items=this.options.itemsDesktop[1]),e<=this.options.itemsDesktopSmall[0]&&!1!==this.options.itemsDesktopSmall&&(this.options.items=this.options.itemsDesktopSmall[1]),e<=this.options.itemsTablet[0]&&!1!==this.options.itemsTablet&&(this.options.items=this.options.itemsTablet[1]),e<=this.options.itemsTabletSmall[0]&&!1!==this.options.itemsTabletSmall&&(this.options.items=this.options.itemsTabletSmall[1]),e<=this.options.itemsMobile[0]&&!1!==this.options.itemsMobile&&(this.options.items=this.options.itemsMobile[1]);this.options.items>this.itemsAmount&&!0===this.options.itemsScaleUp&&(this.options.items=this.itemsAmount)},response:function(){var i,n,r=this;if(!0!==r.options.responsive)return!1;n=t(e).width(),r.resizer=function(){t(e).width()!==n&&(!1!==r.options.autoPlay&&e.clearInterval(r.autoPlayInterval),e.clearTimeout(i),i=e.setTimeout((function(){n=t(e).width(),r.updateVars()}),r.options.responsiveRefreshRate))},t(e).resize(r.resizer)},updatePosition:function(){this.jumpTo(this.currentItem),!1!==this.options.autoPlay&&this.checkAp()},appendItemsSizes:function(){var e=this,i=0,n=e.itemsAmount-e.options.items;e.$owlItems.each((function(r){var o=t(this);o.css({width:e.itemWidth}).data("owl-item",Number(r)),0!=r%e.options.items&&r!==n||r>n||(i+=1),o.data("owl-roundPages",i)}))},appendWrapperSizes:function(){this.$owlWrapper.css({width:this.$owlItems.length*this.itemWidth*2,left:0}),this.appendItemsSizes()},calculateAll:function(){this.calculateWidth(),this.appendWrapperSizes(),this.loops(),this.max()},calculateWidth:function(){this.itemWidth=Math.round(this.$elem.width()/this.options.items)},max:function(){var t=-1*(this.itemsAmount*this.itemWidth-this.options.items*this.itemWidth);return this.options.items>this.itemsAmount?this.maximumPixels=t=this.maximumItem=0:(this.maximumItem=this.itemsAmount-this.options.items,this.maximumPixels=t),t},min:function(){return 0},loops:function(){var e,i,n=0,r=0;for(this.positionsInArray=[0],this.pagesInArray=[],e=0;e<this.itemsAmount;e+=1)r+=this.itemWidth,this.positionsInArray.push(-r),!0===this.options.scrollPerPage&&((i=(i=t(this.$owlItems[e])).data("owl-roundPages"))!==n&&(this.pagesInArray[n]=this.positionsInArray[e],n=i))},buildControls:function(){!0!==this.options.navigation&&!0!==this.options.pagination||(this.owlControls=t('<div class="owl-controls"/>').toggleClass("clickable",!this.browser.isTouch).appendTo(this.$elem)),!0===this.options.pagination&&this.buildPagination(),!0===this.options.navigation&&this.buildButtons()},buildButtons:function(){var e=this,i=t('<div class="owl-buttons"/>');e.owlControls.append(i),e.buttonPrev=t("<div/>",{class:"owl-prev",html:e.options.navigationText[0]||""}),e.buttonNext=t("<div/>",{class:"owl-next",html:e.options.navigationText[1]||""}),i.append(e.buttonPrev).append(e.buttonNext),i.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',(function(t){t.preventDefault()})),i.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',(function(i){i.preventDefault(),t(this).hasClass("owl-next")?e.next():e.prev()}))},buildPagination:function(){var e=this;e.paginationWrapper=t('<div class="owl-pagination"/>'),e.owlControls.append(e.paginationWrapper),e.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",(function(i){i.preventDefault(),Number(t(this).data("owl-page"))!==e.currentItem&&e.goTo(Number(t(this).data("owl-page")),!0)}))},updatePagination:function(){var e,i,n,r,o,s;if(!1===this.options.pagination)return!1;for(this.paginationWrapper.html(""),e=0,i=this.itemsAmount-this.itemsAmount%this.options.items,r=0;r<this.itemsAmount;r+=1)0==r%this.options.items&&(e+=1,i===r&&(n=this.itemsAmount-this.options.items),o=t("<div/>",{class:"owl-page"}),s=t("<span></span>",{text:!0===this.options.paginationNumbers?e:"",class:!0===this.options.paginationNumbers?"owl-numbers":""}),o.append(s),o.data("owl-page",i===r?n:r),o.data("owl-roundPages",e),this.paginationWrapper.append(o));this.checkPagination()},checkPagination:function(){var e=this;if(!1===e.options.pagination)return!1;e.paginationWrapper.find(".owl-page").each((function(){t(this).data("owl-roundPages")===t(e.$owlItems[e.currentItem]).data("owl-roundPages")&&(e.paginationWrapper.find(".owl-page").removeClass("active"),t(this).addClass("active"))}))},checkNavigation:function(){if(!1===this.options.navigation)return!1;!1===this.options.rewindNav&&(0===this.currentItem&&0===this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.addClass("disabled")):0===this.currentItem&&0!==this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.removeClass("disabled")):this.currentItem===this.maximumItem?(this.buttonPrev.removeClass("disabled"),this.buttonNext.addClass("disabled")):0!==this.currentItem&&this.currentItem!==this.maximumItem&&(this.buttonPrev.removeClass("disabled"),this.buttonNext.removeClass("disabled")))},updateControls:function(){this.updatePagination(),this.checkNavigation(),this.owlControls&&(this.options.items>=this.itemsAmount?this.owlControls.hide():this.owlControls.show())},destroyControls:function(){this.owlControls&&this.owlControls.remove()},next:function(t){if(this.isTransition)return!1;if(this.currentItem+=!0===this.options.scrollPerPage?this.options.items:1,this.currentItem>this.maximumItem+(!0===this.options.scrollPerPage?this.options.items-1:0)){if(!0!==this.options.rewindNav)return this.currentItem=this.maximumItem,!1;this.currentItem=0,t="rewind"}this.goTo(this.currentItem,t)},prev:function(t){if(this.isTransition)return!1;if(this.currentItem=!0===this.options.scrollPerPage&&0<this.currentItem&&this.currentItem<this.options.items?0:this.currentItem-(!0===this.options.scrollPerPage?this.options.items:1),0>this.currentItem){if(!0!==this.options.rewindNav)return this.currentItem=0,!1;this.currentItem=this.maximumItem,t="rewind"}this.goTo(this.currentItem,t)},goTo:function(t,i,n){var r=this;return!r.isTransition&&("function"==typeof r.options.beforeMove&&r.options.beforeMove.apply(this,[r.$elem]),t>=r.maximumItem?t=r.maximumItem:0>=t&&(t=0),r.currentItem=r.owl.currentItem=t,!1!==r.options.transitionStyle&&"drag"!==n&&1===r.options.items&&!0===r.browser.support3d?(r.swapSpeed(0),!0===r.browser.support3d?r.transition3d(r.positionsInArray[t]):r.css2slide(r.positionsInArray[t],1),r.afterGo(),r.singleItemTransition(),!1):(t=r.positionsInArray[t],!0===r.browser.support3d?(r.isCss3Finish=!1,!0===i?(r.swapSpeed("paginationSpeed"),e.setTimeout((function(){r.isCss3Finish=!0}),r.options.paginationSpeed)):"rewind"===i?(r.swapSpeed(r.options.rewindSpeed),e.setTimeout((function(){r.isCss3Finish=!0}),r.options.rewindSpeed)):(r.swapSpeed("slideSpeed"),e.setTimeout((function(){r.isCss3Finish=!0}),r.options.slideSpeed)),r.transition3d(t)):!0===i?r.css2slide(t,r.options.paginationSpeed):"rewind"===i?r.css2slide(t,r.options.rewindSpeed):r.css2slide(t,r.options.slideSpeed),void r.afterGo()))},jumpTo:function(t){"function"==typeof this.options.beforeMove&&this.options.beforeMove.apply(this,[this.$elem]),t>=this.maximumItem||-1===t?t=this.maximumItem:0>=t&&(t=0),this.swapSpeed(0),!0===this.browser.support3d?this.transition3d(this.positionsInArray[t]):this.css2slide(this.positionsInArray[t],1),this.currentItem=this.owl.currentItem=t,this.afterGo()},afterGo:function(){this.prevArr.push(this.currentItem),this.prevItem=this.owl.prevItem=this.prevArr[this.prevArr.length-2],this.prevArr.shift(0),this.prevItem!==this.currentItem&&(this.checkPagination(),this.checkNavigation(),this.eachMoveUpdate(),!1!==this.options.autoPlay&&this.checkAp()),"function"==typeof this.options.afterMove&&this.prevItem!==this.currentItem&&this.options.afterMove.apply(this,[this.$elem])},stop:function(){this.apStatus="stop",e.clearInterval(this.autoPlayInterval)},checkAp:function(){"stop"!==this.apStatus&&this.play()},play:function(){var t=this;if(t.apStatus="play",!1===t.options.autoPlay)return!1;e.clearInterval(t.autoPlayInterval),t.autoPlayInterval=e.setInterval((function(){t.next(!0)}),t.options.autoPlay)},swapSpeed:function(t){"slideSpeed"===t?this.$owlWrapper.css(this.addCssSpeed(this.options.slideSpeed)):"paginationSpeed"===t?this.$owlWrapper.css(this.addCssSpeed(this.options.paginationSpeed)):"string"!=typeof t&&this.$owlWrapper.css(this.addCssSpeed(t))},addCssSpeed:function(t){return{"-webkit-transition":"all "+t+"ms ease","-moz-transition":"all "+t+"ms ease","-o-transition":"all "+t+"ms ease",transition:"all "+t+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(t){return{"-webkit-transform":"translate3d("+t+"px, 0px, 0px)","-moz-transform":"translate3d("+t+"px, 0px, 0px)","-o-transform":"translate3d("+t+"px, 0px, 0px)","-ms-transform":"translate3d("+t+"px, 0px, 0px)",transform:"translate3d("+t+"px, 0px,0px)"}},transition3d:function(t){this.$owlWrapper.css(this.doTranslate(t))},css2move:function(t){this.$owlWrapper.css({left:t})},css2slide:function(t,e){var i=this;i.isCssFinish=!1,i.$owlWrapper.stop(!0,!0).animate({left:t},{duration:e||i.options.slideSpeed,complete:function(){i.isCssFinish=!0}})},checkBrowser:function(){var t=i.createElement("div");t.style.cssText="  -moz-transform:translate3d(0px, 0px, 0px); -ms-transform:translate3d(0px, 0px, 0px); -o-transform:translate3d(0px, 0px, 0px); -webkit-transform:translate3d(0px, 0px, 0px); transform:translate3d(0px, 0px, 0px)",t=t.style.cssText.match(/translate3d\(0px, 0px, 0px\)/g),this.browser={support3d:null!==t&&1===t.length,isTouch:"ontouchstart"in e||e.navigator.msMaxTouchPoints}},moveEvents:function(){!1===this.options.mouseDrag&&!1===this.options.touchDrag||(this.gestures(),this.disabledEvents())},eventTypes:function(){var t=["s","e","x"];this.ev_types={},!0===this.options.mouseDrag&&!0===this.options.touchDrag?t=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]:!1===this.options.mouseDrag&&!0===this.options.touchDrag?t=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]:!0===this.options.mouseDrag&&!1===this.options.touchDrag&&(t=["mousedown.owl","mousemove.owl","mouseup.owl"]),this.ev_types.start=t[0],this.ev_types.move=t[1],this.ev_types.end=t[2]},disabledEvents:function(){this.$elem.on("dragstart.owl",(function(t){t.preventDefault()})),this.$elem.on("mousedown.disableTextSelect",(function(e){return t(e.target).is("input, textarea, select, option")}))},gestures:function(){function n(t){if(void 0!==t.touches)return{x:t.touches[0].pageX,y:t.touches[0].pageY};if(void 0===t.touches){if(void 0!==t.pageX)return{x:t.pageX,y:t.pageY};if(void 0===t.pageX)return{x:t.clientX,y:t.clientY}}}function r(e){"on"===e?(t(i).on(a.ev_types.move,o),t(i).on(a.ev_types.end,s)):"off"===e&&(t(i).off(a.ev_types.move),t(i).off(a.ev_types.end))}function o(r){r=r.originalEvent||r||e.event,a.newPosX=n(r).x-l.offsetX,a.newPosY=n(r).y-l.offsetY,a.newRelativeX=a.newPosX-l.relativePos,"function"==typeof a.options.startDragging&&!0!==l.dragging&&0!==a.newRelativeX&&(l.dragging=!0,a.options.startDragging.apply(a,[a.$elem])),(8<a.newRelativeX||-8>a.newRelativeX)&&!0===a.browser.isTouch&&(void 0!==r.preventDefault?r.preventDefault():r.returnValue=!1,l.sliding=!0),(10<a.newPosY||-10>a.newPosY)&&!1===l.sliding&&t(i).off("touchmove.owl"),a.newPosX=Math.max(Math.min(a.newPosX,a.newRelativeX/5),a.maximumPixels+a.newRelativeX/5),!0===a.browser.support3d?a.transition3d(a.newPosX):a.css2move(a.newPosX)}function s(i){var n;(i=i.originalEvent||i||e.event).target=i.target||i.srcElement,l.dragging=!1,!0!==a.browser.isTouch&&a.$owlWrapper.removeClass("grabbing"),a.dragDirection=0>a.newRelativeX?a.owl.dragDirection="left":a.owl.dragDirection="right",0!==a.newRelativeX&&(n=a.getNewPosition(),a.goTo(n,!1,"drag"),l.targetElement===i.target&&!0!==a.browser.isTouch&&(t(i.target).on("click.disable",(function(e){e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t(e.target).off("click.disable")})),n=(i=t._data(i.target,"events").click).pop(),i.splice(0,0,n))),r("off")}var a=this,l={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};a.isCssFinish=!0,a.$elem.on(a.ev_types.start,".owl-wrapper",(function(i){var o;if(3===(i=i.originalEvent||i||e.event).which)return!1;if(!(a.itemsAmount<=a.options.items)){if(!1===a.isCssFinish&&!a.options.dragBeforeAnimFinish||!1===a.isCss3Finish&&!a.options.dragBeforeAnimFinish)return!1;!1!==a.options.autoPlay&&e.clearInterval(a.autoPlayInterval),!0===a.browser.isTouch||a.$owlWrapper.hasClass("grabbing")||a.$owlWrapper.addClass("grabbing"),a.newPosX=0,a.newRelativeX=0,t(this).css(a.removeTransition()),o=t(this).position(),l.relativePos=o.left,l.offsetX=n(i).x-o.left,l.offsetY=n(i).y-o.top,r("on"),l.sliding=!1,l.targetElement=i.target||i.srcElement}}))},getNewPosition:function(){var t=this.closestItem();return t>this.maximumItem?t=this.currentItem=this.maximumItem:0<=this.newPosX&&(this.currentItem=t=0),t},closestItem:function(){var e=this,i=!0===e.options.scrollPerPage?e.pagesInArray:e.positionsInArray,n=e.newPosX,r=null;return t.each(i,(function(o,s){n-e.itemWidth/20>i[o+1]&&n-e.itemWidth/20<s&&"left"===e.moveDirection()?(r=s,e.currentItem=!0===e.options.scrollPerPage?t.inArray(r,e.positionsInArray):o):n+e.itemWidth/20<s&&n+e.itemWidth/20>(i[o+1]||i[o]-e.itemWidth)&&"right"===e.moveDirection()&&(!0===e.options.scrollPerPage?(r=i[o+1]||i[i.length-1],e.currentItem=t.inArray(r,e.positionsInArray)):(r=i[o+1],e.currentItem=o+1))})),e.currentItem},moveDirection:function(){var t;return 0>this.newRelativeX?(t="right",this.playDirection="next"):(t="left",this.playDirection="prev"),t},customEvents:function(){var t=this;t.$elem.on("owl.next",(function(){t.next()})),t.$elem.on("owl.prev",(function(){t.prev()})),t.$elem.on("owl.play",(function(e,i){t.options.autoPlay=i,t.play(),t.hoverStatus="play"})),t.$elem.on("owl.stop",(function(){t.stop(),t.hoverStatus="stop"})),t.$elem.on("owl.goTo",(function(e,i){t.goTo(i)})),t.$elem.on("owl.jumpTo",(function(e,i){t.jumpTo(i)}))},stopOnHover:function(){var t=this;!0===t.options.stopOnHover&&!0!==t.browser.isTouch&&!1!==t.options.autoPlay&&(t.$elem.on("mouseover",(function(){t.stop()})),t.$elem.on("mouseout",(function(){"stop"!==t.hoverStatus&&t.play()})))},lazyLoad:function(){var e,i,n,r;if(!1===this.options.lazyLoad)return!1;for(e=0;e<this.itemsAmount;e+=1)"loaded"!==(i=t(this.$owlItems[e])).data("owl-loaded")&&(n=i.data("owl-item"),"string"!=typeof(r=i.find(".lazyOwl")).data("src")?i.data("owl-loaded","loaded"):(void 0===i.data("owl-loaded")&&(r.hide(),i.addClass("loading").data("owl-loaded","checked")),(!0!==this.options.lazyFollow||n>=this.currentItem)&&n<this.currentItem+this.options.items&&r.length&&this.lazyPreload(i,r)))},lazyPreload:function(t,i){function n(){t.data("owl-loaded","loaded").removeClass("loading"),i.removeAttr("data-src"),"fade"===s.options.lazyEffect?i.fadeIn(400):i.show(),"function"==typeof s.options.afterLazyLoad&&s.options.afterLazyLoad.apply(this,[s.$elem])}function r(){a+=1,s.completeImg(i.get(0))||!0===o?n():100>=a?e.setTimeout(r,100):n()}var o,s=this,a=0;"DIV"===i.prop("tagName")?(i.css("background-image","url("+i.data("src")+")"),o=!0):i[0].src=i.data("src"),r()},autoHeight:function(){function i(){var i=t(o.$owlItems[o.currentItem]).height();o.wrapperOuter.css("height",i+"px"),o.wrapperOuter.hasClass("autoHeight")||e.setTimeout((function(){o.wrapperOuter.addClass("autoHeight")}),0)}function n(){r+=1,o.completeImg(s.get(0))?i():100>=r?e.setTimeout(n,100):o.wrapperOuter.css("height","")}var r,o=this,s=t(o.$owlItems[o.currentItem]).find("img");void 0!==s.get(0)?(r=0,n()):i()},completeImg:function(t){return!(!t.complete||void 0!==t.naturalWidth&&0===t.naturalWidth)},onVisibleItems:function(){var e;for(!0===this.options.addClassActive&&this.$owlItems.removeClass("active"),this.visibleItems=[],e=this.currentItem;e<this.currentItem+this.options.items;e+=1)this.visibleItems.push(e),!0===this.options.addClassActive&&t(this.$owlItems[e]).addClass("active");this.owl.visibleItems=this.visibleItems},transitionTypes:function(t){this.outClass="owl-"+t+"-out",this.inClass="owl-"+t+"-in"},singleItemTransition:function(){var t=this,e=t.outClass,i=t.inClass,n=t.$owlItems.eq(t.currentItem),r=t.$owlItems.eq(t.prevItem),o=Math.abs(t.positionsInArray[t.currentItem])+t.positionsInArray[t.prevItem],s=Math.abs(t.positionsInArray[t.currentItem])+t.itemWidth/2;t.isTransition=!0,t.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":s+"px","-moz-perspective-origin":s+"px","perspective-origin":s+"px"}),r.css({position:"relative",left:o+"px"}).addClass(e).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",(function(){t.endPrev=!0,r.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend"),t.clearTransStyle(r,e)})),n.addClass(i).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",(function(){t.endCurrent=!0,n.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend"),t.clearTransStyle(n,i)}))},clearTransStyle:function(t,e){t.css({position:"",left:""}).removeClass(e),this.endPrev&&this.endCurrent&&(this.$owlWrapper.removeClass("owl-origin"),this.isTransition=this.endCurrent=this.endPrev=!1)},owlStatus:function(){this.owl={userOptions:this.userOptions,baseElement:this.$elem,userItems:this.$userItems,owlItems:this.$owlItems,currentItem:this.currentItem,prevItem:this.prevItem,visibleItems:this.visibleItems,isTouch:this.browser.isTouch,browser:this.browser,dragDirection:this.dragDirection}},clearEvents:function(){this.$elem.off(".owl owl mousedown.disableTextSelect"),t(i).off(".owl owl"),t(e).off("resize",this.resizer)},unWrap:function(){0!==this.$elem.children().length&&(this.$owlWrapper.unwrap(),this.$userItems.unwrap().unwrap(),this.owlControls&&this.owlControls.remove()),this.clearEvents(),this.$elem.attr("style",this.$elem.data("owl-originalStyles")||"").attr("class",this.$elem.data("owl-originalClasses"))},destroy:function(){this.stop(),e.clearInterval(this.checkVisible),this.unWrap(),this.$elem.removeData()},reinit:function(e){e=t.extend({},this.userOptions,e),this.unWrap(),this.init(e,this.$elem)},addItem:function(t,e){var i;return!!t&&(0===this.$elem.children().length?(this.$elem.append(t),this.setVars(),!1):(this.unWrap(),(i=void 0===e||-1===e?-1:e)>=this.$userItems.length||-1===i?this.$userItems.eq(-1).after(t):this.$userItems.eq(i).before(t),void this.setVars()))},removeItem:function(t){if(0===this.$elem.children().length)return!1;t=void 0===t||-1===t?-1:t,this.unWrap(),this.$userItems.eq(t).remove(),this.setVars()}};t.fn.owlCarousel=function(e){return this.each((function(){if(!0===t(this).data("owl-init"))return!1;t(this).data("owl-init",!0);var i=Object.create(n);i.init(e,this),t.data(this,"owlCarousel",i)}))},t.fn.owlCarousel.options={items:5,itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!0,paginationNumbers:!1,responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:e,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:!1,lazyFollow:!0,lazyEffect:"fade",autoHeight:!1,jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,addClassActive:!1,transitionStyle:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1}}(jQuery,window,document),function(t){"use strict";var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.prototype.close=function(e){function i(){o.trigger("closed.bs.alert").remove()}var n=t(this),r=n.attr("data-target");r||(r=(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]*$)/,""));var o=t(r);e&&e.preventDefault(),o.length||(o=n.hasClass("alert")?n:n.parent()),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one(t.support.transition.end,i).emulateTransitionEnd(150):i())};var n=t.fn.alert;t.fn.alert=function(e){return this.each((function(){var n=t(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof e&&r[e].call(n)}))},t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.bs.alert.data-api",e,i.prototype.close)}(jQuery);var Sentry=function(t){function e(t,e){function i(){this.constructor=t}Pt(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function i(t){var e="function"==typeof Symbol&&t[Symbol.iterator],i=0;return e?e.call(t):{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}}}function n(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}function r(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(n(arguments[e]));return t}function o(){return"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function s(){return o()?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:Ft}function a(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return m(t,Error)}}function l(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function c(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function u(t){return"[object String]"===Object.prototype.toString.call(t)}function d(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function h(t){return"[object Object]"===Object.prototype.toString.call(t)}function p(t){return"undefined"!=typeof Event&&m(t,Event)}function f(t){return"undefined"!=typeof Element&&m(t,Element)}function g(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function m(t,e){try{return t instanceof e}catch(t){return!1}}function v(t,e){try{for(var i=t,n=[],r=0,o=0,s=" > ".length,a=void 0;i&&r++<5&&!("html"===(a=y(i,e))||r>1&&o+n.length*s+a.length>=80);)n.push(a),o+=a.length,i=i.parentNode;return n.reverse().join(" > ")}catch(t){return"<unknown>"}}function y(t,e){var i,n,r,o,s,a,l,c=t,d=[];if(!c||!c.tagName)return"";d.push(c.tagName.toLowerCase());var h=(null===(i=e)||void 0===i?void 0:i.length)?e.filter((function(t){return c.getAttribute(t)})).map((function(t){return[t,c.getAttribute(t)]})):null;if(null===(n=h)||void 0===n?void 0:n.length)h.forEach((function(t){d.push("["+t[0]+'="'+t[1]+'"]')}));else if(c.id&&d.push("#"+c.id),(r=c.className)&&u(r))for(o=r.split(/\s+/),l=0;l<o.length;l++)d.push("."+o[l])
;var p=["type","name","title","alt"];for(l=0;l<p.length;l++)s=p[l],(a=c.getAttribute(s))&&d.push("["+s+'="'+a+'"]');return d.join("")}function b(t){var e=s();if(!("console"in e))return t();var i=e.console,n={};["debug","info","warn","error","log","assert"].forEach((function(t){t in e.console&&i[t].__sentry_original__&&(n[t]=i[t],i[t]=i[t].__sentry_original__)}));var r=t();return Object.keys(n).forEach((function(t){i[t]=n[t]})),r}function _(t){try{return t&&"function"==typeof t&&t.name||Xt}catch(t){return Xt}}function w(t,e){return void 0===e&&(e=0),"string"!=typeof t||0===e||t.length<=e?t:t.substr(0,e)+"..."}function x(t,e){if(!Array.isArray(t))return"";for(var i=[],n=0;n<t.length;n++){var r=t[n];try{i.push(String(r))}catch(t){i.push("[value cannot be serialized]")}}return i.join(e)}function $(t,e){return!!u(t)&&(i=e,"[object RegExp]"===Object.prototype.toString.call(i)?e.test(t):"string"==typeof e&&-1!==t.indexOf(e));var i}function C(t,e,i){if(e in t){var n=t[e],r=i(n);if("function"==typeof r)try{r.prototype=r.prototype||{},Object.defineProperties(r,{__sentry_original__:{enumerable:!1,value:n}})}catch(t){}t[e]=r}}function k(t){if(a(t)){var e=t,i={message:e.message,name:e.name,stack:e.stack};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);return i}if(p(t)){var r=t,o={};o.type=r.type;try{o.target=f(r.target)?v(r.target):Object.prototype.toString.call(r.target)}catch(t){o.target="<unknown>"}try{o.currentTarget=f(r.currentTarget)?v(r.currentTarget):Object.prototype.toString.call(r.currentTarget)}catch(t){o.currentTarget="<unknown>"}for(var s in"undefined"!=typeof CustomEvent&&m(t,CustomEvent)&&(o.detail=r.detail),r)Object.prototype.hasOwnProperty.call(r,s)&&(o[s]=r[s]);return o}return t}function S(t){return function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(t))}function j(t,e,i){void 0===e&&(e=3),void 0===i&&(i=102400);var n=D(t,e);return S(n)>i?j(t,e-1,i):n}function T(t,e){return"domain"===e&&t&&"object"==typeof t&&t.v?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":"undefined"!=typeof global&&t===global?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":h(i=t)&&"nativeEvent"in i&&"preventDefault"in i&&"stopPropagation"in i?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: "+_(t)+"]":"symbol"==typeof t?"["+String(t)+"]":"bigint"==typeof t?"[BigInt: "+String(t)+"]":t;var i}function A(t,e,i,n){if(void 0===i&&(i=1/0),void 0===n&&(n=new Yt),0===i)return function(t){var e=Object.prototype.toString.call(t);if("string"==typeof t)return t;if("[object Object]"===e)return"[Object]";if("[object Array]"===e)return"[Array]";var i=T(t);return d(i)?i:e}(e);if(null!=e&&"function"==typeof e.toJSON)return e.toJSON();var r=T(e,t);if(d(r))return r;var o=k(e),s=Array.isArray(e)?[]:{};if(n.memoize(e))return"[Circular ~]";for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(s[a]=A(a,o[a],i-1,n));return n.unmemoize(e),s}function D(t,e){try{return JSON.parse(JSON.stringify(t,(function(t,i){return A(t,i,e)})))}catch(t){return"**non-serializable**"}}function I(t,e){void 0===e&&(e=40);var i=Object.keys(k(t));if(i.sort(),!i.length)return"[object has no keys]";if(i[0].length>=e)return w(i[0],e);for(var n=i.length;n>0;n--){var r=i.slice(0,n).join(", ");if(!(r.length>e))return n===i.length?r:w(r,e)}return""}function E(t){var e,n;if(h(t)){var r=t,o={};try{for(var s=i(Object.keys(r)),a=s.next();!a.done;a=s.next()){var l=a.value;void 0!==r[l]&&(o[l]=E(r[l]))}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return o}return Array.isArray(t)?t.map(E):t}function P(){if(!("fetch"in s()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function O(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function F(){if(!P())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}function M(t){if(!Zt[t])switch(Zt[t]=!0,t){case"console":"console"in Kt&&["debug","info","warn","error","log","assert"].forEach((function(t){t in Kt.console&&C(Kt.console,t,(function(e){return function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];N("console",{args:i,level:t}),e&&Function.prototype.apply.call(e,Kt.console,i)}}))}));break;case"dom":!function(){if("document"in Kt){var t=N.bind(null,"dom"),e=z(t,!0);Kt.document.addEventListener("click",e,!1),Kt.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((function(e){var i=Kt[e]&&Kt[e].prototype;i&&i.hasOwnProperty&&i.hasOwnProperty("addEventListener")&&(C(i,"addEventListener",(function(e){return function(i,n,r){if("click"===i||"keypress"==i)try{var o=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},s=o[i]=o[i]||{refCount:0};if(!s.handler){var a=z(t);s.handler=a,e.call(this,i,a,r)}s.refCount+=1}catch(t){}return e.call(this,i,n,r)}})),C(i,"removeEventListener",(function(t){return function(e,i,n){if("click"===e||"keypress"==e)try{var r=this.__sentry_instrumentation_handlers__||{},o=r[e];o&&(o.refCount-=1,o.refCount<=0&&(t.call(this,e,o.handler,n),o.handler=void 0,delete r[e]),0===Object.keys(r).length&&delete this.__sentry_instrumentation_handlers__)}catch(t){}return t.call(this,e,i,n)}})))}))}}();break;case"xhr":!function(){if("XMLHttpRequest"in Kt){var t=[],e=[],i=XMLHttpRequest.prototype;C(i,"open",(function(i){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=this,s=n[1];o.__sentry_xhr__={method:u(n[0])?n[0].toUpperCase():n[0],url:n[1]},u(s)&&"POST"===o.__sentry_xhr__.method&&s.match(/sentry_key/)&&(o.__sentry_own_request__=!0);var a=function(){if(4===o.readyState){try{o.__sentry_xhr__&&(o.__sentry_xhr__.status_code=o.status)}catch(t){}try{var i=t.indexOf(o);if(-1!==i){t.splice(i);var r=e.splice(i)[0];o.__sentry_xhr__&&void 0!==r[0]&&(o.__sentry_xhr__.body=r[0])}}catch(t){}N("xhr",{args:n,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:o})}};return"onreadystatechange"in o&&"function"==typeof o.onreadystatechange?C(o,"onreadystatechange",(function(t){return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return a(),t.apply(o,e)}})):o.addEventListener("readystatechange",a),i.apply(o,n)}})),C(i,"send",(function(i){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.push(this),e.push(n),N("xhr",{args:n,startTimestamp:Date.now(),xhr:this}),i.apply(this,n)}}))}}();break;case"fetch":(function(){if(!P())return!1;var t=s();if(O(t.fetch))return!0;var e=!1,i=t.document;if(i&&"function"==typeof i.createElement)try{var n=i.createElement("iframe");n.hidden=!0,i.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=O(n.contentWindow.fetch)),i.head.removeChild(n)}catch(t){Qt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return e})()&&C(Kt,"fetch",(function(t){return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n={args:e,fetchData:{method:q(e),url:L(e)},startTimestamp:Date.now()};return N("fetch",Ot({},n)),t.apply(Kt,e).then((function(t){return N("fetch",Ot(Ot({},n),{endTimestamp:Date.now(),response:t})),t}),(function(t){throw N("fetch",Ot(Ot({},n),{endTimestamp:Date.now(),error:t})),t}))}}));break;case"history":!function(){function t(t){return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=e.length>2?e[2]:void 0;if(n){var r=Bt,o=String(n);Bt=o,N("history",{from:r,to:o})}return t.apply(this,e)}}if(n=(i=(e=s()).chrome)&&i.app&&i.app.runtime,r="history"in e&&!!e.history.pushState&&!!e.history.replaceState,!n&&r){var e,i,n,r,o=Kt.onpopstate;Kt.onpopstate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=Kt.location.href,n=Bt;if(Bt=i,N("history",{from:n,to:i}),o)try{return o.apply(this,t)}catch(t){}},C(Kt.history,"pushState",t),C(Kt.history,"replaceState",t)}}();break;case"error":ee=Kt.onerror,Kt.onerror=function(t,e,i,n,r){return N("error",{column:n,error:r,line:i,msg:t,url:e}),!!ee&&ee.apply(this,arguments)};break;case"unhandledrejection":ie=Kt.onunhandledrejection,Kt.onunhandledrejection=function(t){return N("unhandledrejection",t),!ie||ie.apply(this,arguments)};break;default:Qt.warn("unknown instrumentation type:",t)}}function R(t){t&&"string"==typeof t.type&&"function"==typeof t.callback&&(Jt[t.type]=Jt[t.type]||[],Jt[t.type].push(t.callback),M(t.type))}function N(t,e){var n,r;if(t&&Jt[t])try{for(var o=i(Jt[t]||[]),s=o.next();!s.done;s=o.next()){var a=s.value;try{a(e)}catch(e){Qt.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+_(a)+"\nError: "+e)}}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function q(t){return void 0===t&&(t=[]),"Request"in Kt&&m(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function L(t){return void 0===t&&(t=[]),"string"==typeof t[0]?t[0]:"Request"in Kt&&m(t[0],Request)?t[0].url:String(t[0])}function z(t,e){return void 0===e&&(e=!1),function(i){if(i&&Gt!==i&&!function(t){if("keypress"!==t.type)return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if("INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return!1}catch(t){}return!0}(i)){var n="keypress"===i.type?"input":i.type;(void 0===Wt||function(t,e){if(!t)return!0;if(t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(t){}return!1}(Gt,i))&&(t({event:i,name:n,global:e}),Gt=i),clearTimeout(Wt),Wt=Kt.setTimeout((function(){Wt=void 0}),te)}}}function H(){var t=s(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var i=new Uint16Array(8);e.getRandomValues(i),i[3]=4095&i[3]|16384,i[4]=16383&i[4]|32768;var n=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return n(i[0])+n(i[1])+n(i[2])+n(i[3])+n(i[4])+n(i[5])+n(i[6])+n(i[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function B(t){if(!t)return{};var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var i=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+i+n}}function W(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function G(t,e,i){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||i||"Error"}function U(t,e){var i;if(t.exception&&t.exception.values){var n=t.exception.values[0],r=n.mechanism;if(n.mechanism=Ot(Ot(Ot({},{type:"generic",handled:!0}),r),e),e&&"data"in e){var o=Ot(Ot({},null===(i=r)||void 0===i?void 0:i.data),e.data);n.mechanism.data=o}}}function V(t){var e;if(null===(e=t)||void 0===e?void 0:e.__sentry_captured__)return!0;try{Object.defineProperty(t,"__sentry_captured__",{value:!0})}catch(t){}return!1}function Q(){var t=s();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function Y(t){Q().push(t)}function X(){var t=s();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function K(t){var e=X(),i=tt(e);return et(e,t),i}function J(){var t=X();return Z(t)&&!tt(t).isOlderThan(pe)||et(t,new fe),o()?function(t){var e,i,n;try{var r=null===(n=null===(i=null===(e=X().__SENTRY__)||void 0===e?void 0:e.extensions)||void 0===i?void 0:i.domain)||void 0===n?void 0:n.active;if(!r)return tt(t);if(!Z(r)||tt(r).isOlderThan(pe)){var o=tt(t).getStackTop();et(r,new fe(o.client,de.clone(o.scope)))}return tt(r)}catch(e){return tt(t)}}(t):tt(t)}function Z(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function tt(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new fe),t.__SENTRY__.hub}function et(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}function it(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=J();if(n&&n[t])return n[t].apply(n,r(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function nt(t,e){var i;try{throw new Error("Sentry syntheticException")}catch(t){i=t}return it("captureException",t,{captureContext:e,originalException:t,syntheticException:i})}function rt(t){it("withScope",t)}function ot(t){return t.reduce((function(t,e){return t.every((function(t){return e.name!==t.name}))&&t.push(e),t}),[])}function st(t){var e={};return function(t){var e=t.defaultIntegrations&&r(t.defaultIntegrations)||[],i=t.integrations,n=r(ot(e));Array.isArray(i)?n=r(n.filter((function(t){return i.every((function(e){return e.name!==t.name}))})),ot(i)):"function"==typeof i&&(n=i(n),n=Array.isArray(n)?n:[n]);var o=n.map((function(t){return t.name}));return-1!==o.indexOf("Debug")&&n.push.apply(n,r(n.splice(o.indexOf("Debug"),1))),n}(t).forEach((function(t){e[t.name]=t,function(t){-1===me.indexOf(t.name)&&(t.setupOnce(Y,J),me.push(t.name),Qt.log("Integration installed: "+t.name))}(t)})),Object.defineProperty(e,"initialized",{value:!0}),e}function at(t){if(t.metadata&&t.metadata.sdk){var e=t.metadata.sdk;return{name:e.name,version:e.version}}}function lt(t,e){return e?(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=r(t.sdk.integrations||[],e.integrations||[]),t.sdk.packages=r(t.sdk.packages||[],e.packages||[]),t):t}function ct(t,e){var i=at(e),n="aggregates"in t?"sessions":"session";return{body:JSON.stringify(Ot(Ot({sent_at:(new Date).toISOString()},i&&{sdk:i}),e.forceEnvelope()&&{dsn:e.getDsn().toString()}))+"\n"+JSON.stringify({type:n})+"\n"+JSON.stringify(t),type:n,url:e.getEnvelopeEndpointWithUrlEncodedAuth()}}function ut(t,e){var i=at(e),n=t.type||"event",r="transaction"===n||e.forceEnvelope(),o=t.debug_meta||{},s=o.transactionSampling,a=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&(i[n[r]]=t[n[r]])}return i}(o,["transactionSampling"]),l=s||{},c=l.method,u=l.rate;0===Object.keys(a).length?delete t.debug_meta:t.debug_meta=a;var d={body:JSON.stringify(i?lt(t,e.metadata.sdk):t),type:n,url:r?e.getEnvelopeEndpointWithUrlEncodedAuth():e.getStoreEndpointWithUrlEncodedAuth()};if(r){var h=JSON.stringify(Ot(Ot({event_id:t.event_id,sent_at:(new Date).toISOString()},i&&{sdk:i}),e.forceEnvelope()&&{dsn:e.getDsn().toString()}))+"\n"+JSON.stringify({type:n,sample_rates:[{id:c,rate:u}]})+"\n"+d.body;d.body=h}return d}function dt(t){var e=null,i=0;t&&("number"==typeof t.framesToPop?i=t.framesToPop:Ee.test(t.message)&&(i=1));try{if(e=function(t){if(!t||!t.stacktrace)return null;for(var e,i=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,n=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,r=t.stacktrace.split("\n"),o=[],s=0;s<r.length;s+=2){var a=null;(e=i.exec(r[s]))?a={url:e[2],func:e[3],args:[],line:+e[1],column:null}:(e=n.exec(r[s]))&&(a={url:e[6],func:e[3]||e[4],args:e[5]?e[5].split(","):[],line:+e[1],column:+e[2]}),a&&(!a.func&&a.line&&(a.func=Se),o.push(a))}return o.length?{message:pt(t),name:t.name,stack:o}:null}(t))return ht(e,i)}catch(t){}try{if(e=function(t){var e,i;if(!t||!t.stack)return null;for(var r,o,s,a=[],l=t.stack.split("\n"),c=0;c<l.length;++c){if(o=je.exec(l[c])){var u=o[2]&&0===o[2].indexOf("native");o[2]&&0===o[2].indexOf("eval")&&(r=Ie.exec(o[2]))&&(o[2]=r[1],o[3]=r[2],o[4]=r[3]);var d=o[2]&&0===o[2].indexOf("address at ")?o[2].substr("address at ".length):o[2],h=o[1]||Se;h=(e=n(Pe(h,d),2))[0],s={url:d=e[1],func:h,args:u?[o[2]]:[],line:o[3]?+o[3]:null,column:o[4]?+o[4]:null}}else if(o=Ae.exec(l[c]))s={url:o[2],func:o[1]||Se,args:[],line:+o[3],column:o[4]?+o[4]:null};else{if(!(o=Te.exec(l[c])))continue;o[3]&&o[3].indexOf(" > eval")>-1&&(r=De.exec(o[3]))?(o[1]=o[1]||"eval",o[3]=r[1],o[4]=r[2],o[5]=""):0!==c||o[5]||void 0===t.columnNumber||(a[0].column=t.columnNumber+1);d=o[3],h=o[1]||Se;h=(i=n(Pe(h,d),2))[0],s={url:d=i[1],func:h,args:o[2]?o[2].split(","):[],line:o[4]?+o[4]:null,column:o[5]?+o[5]:null}}!s.func&&s.line&&(s.func=Se),a.push(s)}return a.length?{message:pt(t),name:t.name,stack:a}:null}(t))return ht(e,i)}catch(t){}return{message:pt(t),name:t&&t.name,stack:[],failed:!0}}function ht(t,e){try{return Ot(Ot({},t),{stack:t.stack.slice(e)})}catch(e){return t}}function pt(t){var e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function ft(t){var e=mt(t.stack),i={type:t.name,value:t.message};return e&&e.length&&(i.stacktrace={frames:e}),void 0===i.type&&""===i.value&&(i.value="Unrecoverable error caught"),i}function gt(t){return{exception:{values:[ft(t)]}}}function mt(t){if(!t||!t.length)return[];var e=t,i=e[0].func||"",n=e[e.length-1].func||"";return-1===i.indexOf("captureMessage")&&-1===i.indexOf("captureException")||(e=e.slice(1)),-1!==n.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.slice(0,Oe).map((function(t){return{colno:null===t.column?void 0:t.column,filename:t.url||e[0].url,function:t.func||"?",in_app:!0,lineno:null===t.line?void 0:t.line}})).reverse()}function vt(e,i,n){var r=bt(i,n&&n.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return U(r),r.level=t.Severity.Error,n&&n.event_id&&(r.event_id=n.event_id),re.resolve(r)}function yt(e,i,n,r){void 0===n&&(n=t.Severity.Info);var o=_t(i,r&&r.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),re.resolve(o)}function bt(t,e,i){var n,r;if(void 0===i&&(i={}),l(t)&&t.error)return gt(dt(t=t.error));if(c(t)||(r=t,"[object DOMException]"===Object.prototype.toString.call(r))){var o=t;if("stack"in t)n=gt(dt(t));else{var s=o.name||(c(o)?"DOMError":"DOMException"),u=o.message?s+": "+o.message:s;G(n=_t(u,e,i),u)}return"code"in o&&(n.tags=Ot(Ot({},n.tags),{"DOMException.code":""+o.code})),n}return a(t)?n=gt(dt(t)):h(t)||p(t)?(U(n=function(t,e,i){var n={exception:{values:[{type:p(t)?t.constructor.name:i?"UnhandledRejection":"Error",value:"Non-Error "+(i?"promise rejection":"exception")+" captured with keys: "+I(t)}]},extra:{__serialized__:j(t)}};if(e){var r=mt(dt(e).stack);n.stacktrace={frames:r}}return n}(t,e,i.rejection),{synthetic:!0}),n):(G(n=_t(t,e,i),""+t,void 0),U(n,{synthetic:!0}),n)}function _t(t,e,i){void 0===i&&(i={});var n={message:t};if(i.attachStacktrace&&e){var r=mt(dt(e).stack);n.stacktrace={frames:r}}return n}function wt(){var t,e;if(Vt)return Vt;if(O(Fe.fetch))return Vt=Fe.fetch.bind(Fe);var i=Fe.document,n=Fe.fetch;if("function"==typeof(null===(t=i)||void 0===t?void 0:t.createElement))try{var r=i.createElement("iframe");r.hidden=!0,i.head.appendChild(r),(null===(e=r.contentWindow)||void 0===e?void 0:e.fetch)&&(n=r.contentWindow.fetch),i.head.removeChild(r)}catch(t){Qt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return Vt=n.bind(Fe)}function xt(t,e){if("[object Navigator]"===Object.prototype.toString.call(Fe&&Fe.navigator)&&"function"==typeof Fe.navigator.sendBeacon)return Fe.navigator.sendBeacon.bind(Fe.navigator)(t,e);P()&&wt()(t,{body:e,method:"POST",credentials:"omit",keepalive:!0}).then(null,(function(t){console.error(t)}))}function $t(){return We>0}function Ct(t,e,i){if(void 0===e&&(e={}),"function"!=typeof t)return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(e){return t}var n=function(){var n=Array.prototype.slice.call(arguments);try{i&&"function"==typeof i&&i.apply(this,arguments);var r=n.map((function(t){return Ct(t,e)}));return t.handleEvent?t.handleEvent.apply(this,r):t.apply(this,r)}catch(t){throw We+=1,setTimeout((function(){We-=1})),rt((function(i){i.addEventProcessor((function(t){var i=Ot({},t);return e.mechanism&&(G(i,void 0,void 0),U(i,e.mechanism)),i.extra=Ot(Ot({},i.extra),{arguments:n}),i})),nt(t)})),t}};try{for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}catch(t){}t.prototype=t.prototype||{},n.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:n}),Object.defineProperties(n,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:function(){return t.name}})}catch(t){}return n}function kt(t){if(void 0===t&&(t={}),Be.document)if(t.eventId)if(t.dsn){var e=Be.document.createElement("script");e.async=!0,e.src=new ge(t.dsn).getReportDialogEndpoint(t),t.onLoad&&(e.onload=t.onLoad);var i=Be.document.head||Be.document.body;i&&i.appendChild(e)}else Qt.error("Missing dsn option in showReportDialog call");else Qt.error("Missing eventId option in showReportDialog call")}var St,jt,Tt,At,Dt,It,Et,Pt=function(t,e){return(Pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},Ot=function(){return(Ot=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};!function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Debug=2]="Debug",t[t.Verbose=3]="Verbose"}(St||(St={})),function(t){t.Ok="ok",t.Exited="exited",t.Crashed="crashed",t.Abnormal="abnormal"}(jt||(jt={})),function(t){t.Ok="ok",t.Errored="errored",t.Crashed="crashed"}(Tt||(Tt={})),(At=t.Severity||(t.Severity={})).Fatal="fatal",At.Error="error",At.Warning="warning",At.Log="log",At.Info="info",At.Debug="debug",At.Critical="critical",function(t){t.fromString=function(e){switch(e){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;default:return t.Log}}}(t.Severity||(t.Severity={})),(Dt=t.Status||(t.Status={})).Unknown="unknown",Dt.Skipped="skipped",Dt.Success="success",Dt.RateLimit="rate_limit",Dt.Invalid="invalid",Dt.Failed="failed",function(t){t.fromHttpCode=function(e){return e>=200&&e<300?t.Success:429===e?t.RateLimit:e>=400&&e<500?t.Invalid:e>=500?t.Failed:t.Unknown}}(t.Status||(t.Status={})),function(t){t.Explicit="explicitly_set",t.Sampler="client_sampler",t.Rate="client_rate",t.Inheritance="inheritance"}(It||(It={})),function(t){t.BeforeSend="before_send",t.EventProcessor="event_processor",t.NetworkError="network_error",t.QueueOverflow="queue_overflow",t.RateLimitBackoff="ratelimit_backoff",t.SampleRate="sample_rate"}(Et||(Et={}));var Ft={},Mt=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=e[i]);return t}),Rt=function(t){function i(e){var i=this.constructor,n=t.call(this,e)||this;return n.message=e,n.name=i.prototype.constructor.name,Mt(n,i.prototype),n}return e(i,t),i}(Error),Nt=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,qt=function(){function t(t){"string"==typeof t?this.t(t):this.i(t),this.o()}return t.prototype.toString=function(t){void 0===t&&(t=!1);var e=this,i=e.host,n=e.path,r=e.pass,o=e.port,s=e.projectId;return e.protocol+"://"+e.publicKey+(t&&r?":"+r:"")+"@"+i+(o?":"+o:"")+"/"+(n?n+"/":n)+s},t.prototype.t=function(t){var e=Nt.exec(t);if(!e)throw new Rt("Invalid Dsn");var i=n(e.slice(1),6),r=i[0],o=i[1],s=i[2],a=void 0===s?"":s,l=i[3],c=i[4],u=void 0===c?"":c,d="",h=i[5],p=h.split("/");if(p.length>1&&(d=p.slice(0,-1).join("/"),h=p.pop()),h){var f=h.match(/^\d+/);f&&(h=f[0])}this.i({host:l,pass:a,path:d,projectId:h,port:u,protocol:r,publicKey:o})},t.prototype.i=function(t){"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),this.user=t.publicKey||"",this.protocol=t.protocol,this.publicKey=t.publicKey||"",this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},t.prototype.o=function(){var t=this;if(["protocol","publicKey","host","projectId"].forEach((function(e){if(!t[e])throw new Rt("Invalid Dsn: "+e+" missing")})),!this.projectId.match(/^\d+$/))throw new Rt("Invalid Dsn: Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new Rt("Invalid Dsn: Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new Rt("Invalid Dsn: Invalid port "+this.port)},t}(),Lt=s(),zt="Sentry Logger ",Ht=function(){function t(){this.u=!1}return t.prototype.disable=function(){this.u=!1},t.prototype.enable=function(){this.u=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.u&&b((function(){Lt.console.log(zt+"[Log]: "+t.join(" "))}))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.u&&b((function(){Lt.console.warn(zt+"[Warn]: "+t.join(" "))}))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.u&&b((function(){Lt.console.error(zt+"[Error]: "+t.join(" "))}))},t}();Lt.__SENTRY__=Lt.__SENTRY__||{};var Bt,Wt,Gt,Ut,Vt,Qt=Lt.__SENTRY__.logger||(Lt.__SENTRY__.logger=new Ht),Yt=function(){function t(){this.s="function"==typeof WeakSet,this.h=this.s?new WeakSet:[]}return t.prototype.memoize=function(t){if(this.s)return!!this.h.has(t)||(this.h.add(t),!1);for(var e=0;e<this.h.length;e++)if(this.h[e]===t)return!0;return this.h.push(t),!1},t.prototype.unmemoize=function(t){if(this.s)this.h.delete(t);else for(var e=0;e<this.h.length;e++)if(this.h[e]===t){this.h.splice(e,1);break}},t}(),Xt="<anonymous>",Kt=s(),Jt={},Zt={},te=1e3,ee=null,ie=null,ne=6e4,re=function(){function t(t){var e=this;this.l="PENDING",this.p=[],this.m=function(t){e.g("RESOLVED",t)},this.j=function(t){e.g("REJECTED",t)},this.g=function(t,i){"PENDING"===e.l&&(g(i)?i.then(e.m,e.j):(e.l=t,e._=i,e.k()))},this.S=function(t){e.p=e.p.concat(t),e.k()},this.k=function(){if("PENDING"!==e.l){var t=e.p.slice();e.p=[],t.forEach((function(t){t.done||("RESOLVED"===e.l&&t.onfulfilled&&t.onfulfilled(e._),"REJECTED"===e.l&&t.onrejected&&t.onrejected(e._),t.done=!0)}))}};try{t(this.m,this.j)}catch(t){this.j(t)}}return t.resolve=function(e){return new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,i){i(e)}))},t.all=function(e){return new t((function(i,n){if(Array.isArray(e))if(0!==e.length){var r=e.length,o=[];e.forEach((function(e,s){t.resolve(e).then((function(t){o[s]=t,0==(r-=1)&&i(o)})).then(null,n)}))}else i([]);else n(new TypeError("Promise.all requires an array as input."))}))},t.prototype.then=function(e,i){var n=this;return new t((function(t,r){n.S({done:!1,onfulfilled:function(i){if(e)try{return void t(e(i))}catch(t){return void r(t)}else t(i)},onrejected:function(e){if(i)try{return void t(i(e))}catch(t){return void r(t)}else r(e)}})}))},t.prototype.catch=function(t){return this.then((function(t){return t}),t)},t.prototype.finally=function(e){var i=this;return new t((function(t,n){var r,o;return i.then((function(t){o=!1,r=t,e&&e()}),(function(t){o=!0,r=t,e&&e()})).then((function(){o?n(r):t(r)}))}))},t.prototype.toString=function(){return"[object SyncPromise]"},t}(),oe=function(){function t(t){this.O=t,this.D=[]}return t.prototype.isReady=function(){return void 0===this.O||this.length()<this.O},t.prototype.add=function(t){var e=this;if(!this.isReady())return re.reject(new Rt("Not adding Promise due to buffer limit reached."));var i=t();return-1===this.D.indexOf(i)&&this.D.push(i),i.then((function(){return e.remove(i)})).then(null,(function(){return e.remove(i).then(null,(function(){}))})),i},t.prototype.remove=function(t){return this.D.splice(this.D.indexOf(t),1)[0]},t.prototype.length=function(){return this.D.length},t.prototype.drain=function(t){var e=this;return new re((function(i){var n=setTimeout((function(){t&&t>0&&i(!1)}),t);re.all(e.D).then((function(){clearTimeout(n),i(!0)})).then(null,(function(){i(!0)}))}))},t}(),se={nowSeconds:function(){return Date.now()/1e3}},ae=o()?function(){try{return(t=module,e="perf_hooks",t.require(e)).performance}catch(t){return}var t,e}():function(){var t=s().performance;if(t&&t.now)return{now:function(){return t.now()},timeOrigin:Date.now()-t.now()}}(),le=void 0===ae?se:{nowSeconds:function(){return(ae.timeOrigin+ae.now())/1e3}},ce=se.nowSeconds.bind(se),ue=le.nowSeconds.bind(le),de=(function(){var t=s().performance;if(t&&t.now){var e=t.now(),i=Date.now(),n=t.timeOrigin?Math.abs(t.timeOrigin+e-i):36e5,r=n<36e5,o=t.timing&&t.timing.navigationStart,a="number"==typeof o?Math.abs(o+e-i):36e5;(r||a<36e5)&&n<=a&&t.timeOrigin}}(),function(){function t(){this.T=!1,this.N=[],this.R=[],this.I=[],this.C={},this.M={},this.A={},this.q={}}return t.clone=function(e){var i=new t;return e&&(i.I=r(e.I),i.M=Ot({},e.M),i.A=Ot({},e.A),i.q=Ot({},e.q),i.C=e.C,i.L=e.L,i.U=e.U,i.H=e.H,i.P=e.P,i.F=e.F,i.R=r(e.R),i.J=e.J),i},t.prototype.addScopeListener=function(t){this.N.push(t)},t.prototype.addEventProcessor=function(t){return this.R.push(t),this},t.prototype.setUser=function(t){return this.C=t||{},this.H&&this.H.update({user:t}),this.X(),this},t.prototype.getUser=function(){return this.C},t.prototype.getRequestSession=function(){return this.J},t.prototype.setRequestSession=function(t){return this.J=t,this},t.prototype.setTags=function(t){return this.M=Ot(Ot({},this.M),t),this.X(),this},t.prototype.setTag=function(t,e){var i;return this.M=Ot(Ot({},this.M),((i={})[t]=e,i)),this.X(),this},t.prototype.setExtras=function(t){return this.A=Ot(Ot({},this.A),t),this.X(),this},t.prototype.setExtra=function(t,e){var i;return this.A=Ot(Ot({},this.A),((i={})[t]=e,i)),this.X(),this},t.prototype.setFingerprint=function(t){return this.F=t,this.X(),this},t.prototype.setLevel=function(t){return this.L=t,this.X(),this},t.prototype.setTransactionName=function(t){return this.P=t,this.X(),this},t.prototype.setTransaction=function(t){return this.setTransactionName(t)},t.prototype.setContext=function(t,e){var i;return null===e?delete this.q[t]:this.q=Ot(Ot({},this.q),((i={})[t]=e,i)),this.X(),this},t.prototype.setSpan=function(t){return this.U=t,this.X(),this},t.prototype.getSpan=function(){return this.U},t.prototype.getTransaction=function(){var t,e,i,n,r=this.getSpan();return(null===(t=r)||void 0===t?void 0:t.transaction)?null===(e=r)||void 0===e?void 0:e.transaction:(null===(n=null===(i=r)||void 0===i?void 0:i.spanRecorder)||void 0===n?void 0:n.spans[0])?r.spanRecorder.spans[0]:void 0},t.prototype.setSession=function(t){return t?this.H=t:delete this.H,this.X(),this},t.prototype.getSession=function(){return this.H},t.prototype.update=function(e){if(!e)return this;if("function"==typeof e){var i=e(this);return i instanceof t?i:this}return e instanceof t?(this.M=Ot(Ot({},this.M),e.M),this.A=Ot(Ot({},this.A),e.A),this.q=Ot(Ot({},this.q),e.q),e.C&&Object.keys(e.C).length&&(this.C=e.C),e.L&&(this.L=e.L),e.F&&(this.F=e.F),e.J&&(this.J=e.J)):h(e)&&(e=e,this.M=Ot(Ot({},this.M),e.tags),this.A=Ot(Ot({},this.A),e.extra),this.q=Ot(Ot({},this.q),e.contexts),e.user&&(this.C=e.user),e.level&&(this.L=e.level),e.fingerprint&&(this.F=e.fingerprint),e.requestSession&&(this.J=e.requestSession)),this},t.prototype.clear=function(){return this.I=[],this.M={},this.A={},this.C={},this.q={},this.L=void 0,this.P=void 0,this.F=void 0,this.J=void 0,this.U=void 0,this.H=void 0,this.X(),this},t.prototype.addBreadcrumb=function(t,e){var i="number"==typeof e?Math.min(e,100):100;if(i<=0)return this;var n=Ot({timestamp:ce()},t);return this.I=r(this.I,[n]).slice(-i),this.X(),this},t.prototype.clearBreadcrumbs=function(){return this.I=[],this.X(),this},t.prototype.applyToEvent=function(t,e){var i;if(this.A&&Object.keys(this.A).length&&(t.extra=Ot(Ot({},this.A),t.extra)),this.M&&Object.keys(this.M).length&&(t.tags=Ot(Ot({},this.M),t.tags)),this.C&&Object.keys(this.C).length&&(t.user=Ot(Ot({},this.C),t.user)),this.q&&Object.keys(this.q).length&&(t.contexts=Ot(Ot({},this.q),t.contexts)),this.L&&(t.level=this.L),this.P&&(t.transaction=this.P),this.U){t.contexts=Ot({trace:this.U.getTraceContext()},t.contexts);var n=null===(i=this.U.transaction)||void 0===i?void 0:i.name;n&&(t.tags=Ot({transaction:n},t.tags))}return this.B(t),t.breadcrumbs=r(t.breadcrumbs||[],this.I),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this.W(r(Q(),this.R),t,e)},t.prototype.W=function(t,e,i,n){var r=this
;return void 0===n&&(n=0),new re((function(o,s){var a=t[n];if(null===e||"function"!=typeof a)o(e);else{var l=a(Ot({},e),i);g(l)?l.then((function(e){return r.W(t,e,i,n+1).then(o)})).then(null,s):r.W(t,l,i,n+1).then(o).then(null,s)}}))},t.prototype.X=function(){var t=this;this.T||(this.T=!0,this.N.forEach((function(e){e(t)})),this.T=!1)},t.prototype.B=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this.F&&(t.fingerprint=t.fingerprint.concat(this.F)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t}()),he=function(){function t(t){this.errors=0,this.sid=H(),this.duration=0,this.status=jt.Ok,this.init=!0,this.ignoreDuration=!1;var e=ue();this.timestamp=e,this.started=e,t&&this.update(t)}return t.prototype.update=function(t){if(void 0===t&&(t={}),t.user&&(!this.ipAddress&&t.user.ip_address&&(this.ipAddress=t.user.ip_address),this.did||t.did||(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||ue(),t.ignoreDuration&&(this.ignoreDuration=t.ignoreDuration),t.sid&&(this.sid=32===t.sid.length?t.sid:H()),void 0!==t.init&&(this.init=t.init),!this.did&&t.did&&(this.did=""+t.did),"number"==typeof t.started&&(this.started=t.started),this.ignoreDuration)this.duration=void 0;else if("number"==typeof t.duration)this.duration=t.duration;else{var e=this.timestamp-this.started;this.duration=e>=0?e:0}t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),!this.ipAddress&&t.ipAddress&&(this.ipAddress=t.ipAddress),!this.userAgent&&t.userAgent&&(this.userAgent=t.userAgent),"number"==typeof t.errors&&(this.errors=t.errors),t.status&&(this.status=t.status)},t.prototype.close=function(t){t?this.update({status:t}):this.status===jt.Ok?this.update({status:jt.Exited}):this.update()},t.prototype.toJSON=function(){return E({sid:""+this.sid,init:this.init,started:new Date(1e3*this.started).toISOString(),timestamp:new Date(1e3*this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:E({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},t}(),pe=4,fe=function(){function t(t,e,i){void 0===e&&(e=new de),void 0===i&&(i=pe),this.$=i,this.G=[{}],this.getStackTop().scope=e,t&&this.bindClient(t)}return t.prototype.isOlderThan=function(t){return this.$<t},t.prototype.bindClient=function(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()},t.prototype.pushScope=function(){var t=de.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},t.prototype.popScope=function(){return!(this.getStack().length<=1||!this.getStack().pop())},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this.G},t.prototype.getStackTop=function(){return this.G[this.G.length-1]},t.prototype.captureException=function(t,e){var i=this.K=H(),n=e;if(!e){var r=void 0;try{throw new Error("Sentry syntheticException")}catch(t){r=t}n={originalException:t,syntheticException:r}}return this.V("captureException",t,Ot(Ot({},n),{event_id:i})),i},t.prototype.captureMessage=function(t,e,i){var n=this.K=H(),r=i;if(!i){var o=void 0;try{throw new Error(t)}catch(t){o=t}r={originalException:t,syntheticException:o}}return this.V("captureMessage",t,e,Ot(Ot({},r),{event_id:n})),n},t.prototype.captureEvent=function(t,e){var i=H();return"transaction"!==t.type&&(this.K=i),this.V("captureEvent",t,Ot(Ot({},e),{event_id:i})),i},t.prototype.lastEventId=function(){return this.K},t.prototype.addBreadcrumb=function(t,e){var i=this.getStackTop(),n=i.scope,r=i.client;if(n&&r){var o=r.getOptions&&r.getOptions()||{},s=o.beforeBreadcrumb,a=void 0===s?null:s,l=o.maxBreadcrumbs,c=void 0===l?100:l;if(!(c<=0)){var u=ce(),d=Ot({timestamp:u},t),h=a?b((function(){return a(d,e)})):d;null!==h&&n.addBreadcrumb(h,c)}}},t.prototype.setUser=function(t){var e=this.getScope();e&&e.setUser(t)},t.prototype.setTags=function(t){var e=this.getScope();e&&e.setTags(t)},t.prototype.setExtras=function(t){var e=this.getScope();e&&e.setExtras(t)},t.prototype.setTag=function(t,e){var i=this.getScope();i&&i.setTag(t,e)},t.prototype.setExtra=function(t,e){var i=this.getScope();i&&i.setExtra(t,e)},t.prototype.setContext=function(t,e){var i=this.getScope();i&&i.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop(),i=e.scope,n=e.client;i&&n&&t(i)},t.prototype.run=function(t){var e=K(this);try{t(this)}finally{K(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return Qt.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t){return this.Y("startSpan",t)},t.prototype.startTransaction=function(t,e){return this.Y("startTransaction",t,e)},t.prototype.traceHeaders=function(){return this.Y("traceHeaders")},t.prototype.captureSession=function(t){if(void 0===t&&(t=!1),t)return this.endSession();this.Z()},t.prototype.endSession=function(){var t,e,i,n,r;null===(i=null===(e=null===(t=this.getStackTop())||void 0===t?void 0:t.scope)||void 0===e?void 0:e.getSession())||void 0===i||i.close(),this.Z(),null===(r=null===(n=this.getStackTop())||void 0===n?void 0:n.scope)||void 0===r||r.setSession()},t.prototype.startSession=function(t){var e=this.getStackTop(),i=e.scope,n=e.client,r=n&&n.getOptions()||{},o=r.release,a=r.environment,l=(s().navigator||{}).userAgent,c=new he(Ot(Ot(Ot({release:o,environment:a},i&&{user:i.getUser()}),l&&{userAgent:l}),t));if(i){var u=i.getSession&&i.getSession();u&&u.status===jt.Ok&&u.update({status:jt.Exited}),this.endSession(),i.setSession(c)}return c},t.prototype.Z=function(){var t=this.getStackTop(),e=t.scope,i=t.client;if(e){var n=e.getSession&&e.getSession();n&&i&&i.captureSession&&i.captureSession(n)}},t.prototype.V=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var o=this.getStackTop(),s=o.scope,a=o.client;a&&a[t]&&(e=a)[t].apply(e,r(i,[s]))},t.prototype.Y=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=X().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[t])return n.extensions[t].apply(this,e);Qt.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}(),ge=function(){function t(t,e,i){void 0===e&&(e={}),this.dsn=t,this.tt=new qt(t),this.metadata=e,this.nt=i}return t.prototype.getDsn=function(){return this.tt},t.prototype.forceEnvelope=function(){return!!this.nt},t.prototype.getBaseApiEndpoint=function(){var t=this.getDsn(),e=t.protocol?t.protocol+":":"",i=t.port?":"+t.port:"";return e+"//"+t.host+i+(t.path?"/"+t.path:"")+"/api/"},t.prototype.getStoreEndpoint=function(){return this.rt("store")},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this.it()},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this.forceEnvelope()?this.nt:this.et()+"?"+this.it()},t.prototype.getStoreEndpointPath=function(){var t=this.getDsn();return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},t.prototype.getRequestHeaders=function(t,e){var i=this.getDsn(),n=["Sentry sentry_version=7"];return n.push("sentry_client="+t+"/"+e),n.push("sentry_key="+i.publicKey),i.pass&&n.push("sentry_secret="+i.pass),{"Content-Type":"application/json","X-Sentry-Auth":n.join(", ")}},t.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var e=this.getDsn(),i=this.getBaseApiEndpoint()+"embed/error-page/",n=[];for(var r in n.push("dsn="+e.toString()),t)if("dsn"!==r)if("user"===r){if(!t.user)continue;t.user.name&&n.push("name="+encodeURIComponent(t.user.name)),t.user.email&&n.push("email="+encodeURIComponent(t.user.email))}else n.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return n.length?i+"?"+n.join("&"):i},t.prototype.et=function(){return this.rt("envelope")},t.prototype.rt=function(t){return this.nt?this.nt:""+this.getBaseApiEndpoint()+this.getDsn().projectId+"/"+t+"/"},t.prototype.it=function(){var t,e={sentry_key:this.getDsn().publicKey,sentry_version:"7"};return t=e,Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")},t}(),me=[],ve="Not capturing exception because it's already been captured.",ye=function(){function t(t,e){this.ot={},this.ut=0,this.st=new t(e),this.at=e,e.dsn&&(this.ct=new qt(e.dsn))}return t.prototype.captureException=function(t,e,i){var n=this;if(!V(t)){var r=e&&e.event_id;return this.ft(this.ht().eventFromException(t,e).then((function(t){return n.vt(t,e,i)})).then((function(t){r=t}))),r}Qt.log(ve)},t.prototype.captureMessage=function(t,e,i,n){var r=this,o=i&&i.event_id,s=d(t)?this.ht().eventFromMessage(String(t),e,i):this.ht().eventFromException(t,i);return this.ft(s.then((function(t){return r.vt(t,i,n)})).then((function(t){o=t}))),o},t.prototype.captureEvent=function(t,e,i){var n;if(!(null===(n=e)||void 0===n?void 0:n.originalException)||!V(e.originalException)){var r=e&&e.event_id;return this.ft(this.vt(t,e,i).then((function(t){r=t}))),r}Qt.log(ve)},t.prototype.captureSession=function(t){this.lt()?"string"!=typeof t.release?Qt.warn("Discarded session because of missing or non-string release"):(this.dt(t),t.update({init:!1})):Qt.warn("SDK not enabled, will not capture session.")},t.prototype.getDsn=function(){return this.ct},t.prototype.getOptions=function(){return this.at},t.prototype.getTransport=function(){return this.ht().getTransport()},t.prototype.flush=function(t){var e=this;return this.pt(t).then((function(i){return e.getTransport().close(t).then((function(t){return i&&t}))}))},t.prototype.close=function(t){var e=this;return this.flush(t).then((function(t){return e.getOptions().enabled=!1,t}))},t.prototype.setupIntegrations=function(){this.lt()&&!this.ot.initialized&&(this.ot=st(this.at))},t.prototype.getIntegration=function(t){try{return this.ot[t.id]||null}catch(e){return Qt.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t.prototype.yt=function(t,e){var n,r,o=!1,s=!1,a=e.exception&&e.exception.values;if(a){s=!0;try{for(var l=i(a),c=l.next();!c.done;c=l.next()){var u=c.value.mechanism;if(u&&!1===u.handled){o=!0;break}}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}var d=t.status===jt.Ok;(d&&0===t.errors||d&&o)&&(t.update(Ot(Ot({},o&&{status:jt.Crashed}),{errors:t.errors||Number(s||o)})),this.captureSession(t))},t.prototype.dt=function(t){this.ht().sendSession(t)},t.prototype.pt=function(t){var e=this;return new re((function(i){var n=0,r=setInterval((function(){0==e.ut?(clearInterval(r),i(!0)):(n+=1,t&&n>=t&&(clearInterval(r),i(!1)))}),1)}))},t.prototype.ht=function(){return this.st},t.prototype.lt=function(){return!1!==this.getOptions().enabled&&void 0!==this.ct},t.prototype.bt=function(t,e,i){var n=this,r=this.getOptions().normalizeDepth,o=void 0===r?3:r,s=Ot(Ot({},t),{event_id:t.event_id||(i&&i.event_id?i.event_id:H()),timestamp:t.timestamp||ce()});this.wt(s),this.gt(s);var a=e;i&&i.captureContext&&(a=de.clone(a).update(i.captureContext));var l=re.resolve(s);return a&&(l=a.applyToEvent(s,i)),l.then((function(t){return"number"==typeof o&&o>0?n.Et(t,o):t}))},t.prototype.Et=function(t,e){if(!t)return null;var i=Ot(Ot(Ot(Ot(Ot({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((function(t){return Ot(Ot({},t),t.data&&{data:D(t.data,e)})}))}),t.user&&{user:D(t.user,e)}),t.contexts&&{contexts:D(t.contexts,e)}),t.extra&&{extra:D(t.extra,e)});t.contexts&&t.contexts.trace&&(i.contexts.trace=t.contexts.trace);var n=this.getOptions().xt;return(void 0===n?{}:n).ensureNoCircularStructures?D(i):i},t.prototype.wt=function(t){var e=this.getOptions(),i=e.environment,n=e.release,r=e.dist,o=e.maxValueLength,s=void 0===o?250:o;"environment"in t||(t.environment="environment"in e?i:"production"),void 0===t.release&&void 0!==n&&(t.release=n),void 0===t.dist&&void 0!==r&&(t.dist=r),t.message&&(t.message=w(t.message,s));var a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=w(a.value,s));var l=t.request;l&&l.url&&(l.url=w(l.url,s))},t.prototype.gt=function(t){var e=Object.keys(this.ot);e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=r(t.sdk.integrations||[],e))},t.prototype.jt=function(t){this.ht().sendEvent(t)},t.prototype.vt=function(t,e,i){return this._t(t,e,i).then((function(t){return t.event_id}),(function(t){Qt.error(t)}))},t.prototype._t=function(t,e,i){var n,r,o=this,s=this.getOptions(),a=s.beforeSend,l=s.sampleRate,c=this.getTransport();if(!this.lt())return re.reject(new Rt("SDK not enabled, will not capture event."));var u="transaction"===t.type;return!u&&"number"==typeof l&&Math.random()>l?(null===(r=(n=c).recordLostEvent)||void 0===r||r.call(n,Et.SampleRate,"event"),re.reject(new Rt("Discarding event because it's not included in the random sample (sampling rate = "+l+")"))):this.bt(t,i,e).then((function(i){var n,r;if(null===i)throw null===(r=(n=c).recordLostEvent)||void 0===r||r.call(n,Et.EventProcessor,t.type||"event"),new Rt("An event processor returned null, will not send event.");if(e&&e.data&&!0===e.data.__sentry__||u||!a)return i;var s=a(i,e);return o.kt(s)})).then((function(e){var n,r;if(null===e)throw null===(r=(n=c).recordLostEvent)||void 0===r||r.call(n,Et.BeforeSend,t.type||"event"),new Rt("`beforeSend` returned `null`, will not send event.");var s=i&&i.getSession&&i.getSession();return!u&&s&&o.yt(s,e),o.jt(e),e})).then(null,(function(t){if(t instanceof Rt)throw t;throw o.captureException(t,{data:{__sentry__:!0},originalException:t}),new Rt("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+t)}))},t.prototype.ft=function(t){var e=this;this.ut+=1,t.then((function(t){return e.ut-=1,t}),(function(t){return e.ut-=1,t}))},t.prototype.kt=function(t){var e="`beforeSend` method has to return `null` or a valid event.";if(g(t))return t.then((function(t){if(!h(t)&&null!==t)throw new Rt(e);return t}),(function(t){throw new Rt("beforeSend rejected with "+t)}));if(!h(t)&&null!==t)throw new Rt(e);return t},t}(),be=function(){function e(){}return e.prototype.sendEvent=function(){return re.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:t.Status.Skipped})},e.prototype.close=function(){return re.resolve(!0)},e}(),_e=function(){function t(t){this.at=t,this.at.dsn||Qt.warn("No DSN provided, backend will not do anything."),this.St=this.Ot()}return t.prototype.eventFromException=function(){throw new Rt("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(){throw new Rt("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(t){this.St.sendEvent(t).then(null,(function(t){Qt.error("Error while sending event: "+t)}))},t.prototype.sendSession=function(t){this.St.sendSession?this.St.sendSession(t).then(null,(function(t){Qt.error("Error while sending session: "+t)})):Qt.warn("Dropping session because custom transport doesn't implement sendSession")},t.prototype.getTransport=function(){return this.St},t.prototype.Ot=function(){return new be},t}(),we="6.16.1",xe=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){Ut=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this.__sentry_original__||this;return Ut.apply(i,t)}},t.id="FunctionToString",t}(),$e=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Ce=function(){function t(e){void 0===e&&(e={}),this.at=e,this.name=t.id}return t.prototype.setupOnce=function(){Y((function(e){var i=J();if(!i)return e;var n=i.getIntegration(t);if(n){var r=i.getClient(),o=r?r.getOptions():{},s="function"==typeof n._mergeOptions?n._mergeOptions(o):{};return"function"!=typeof n.Dt?e:n.Dt(e,s)?null:e}return e}))},t.prototype.Dt=function(t,e){return this.Tt(t,e)?(Qt.warn("Event dropped due to being internal Sentry Error.\nEvent: "+W(t)),!0):this.Nt(t,e)?(Qt.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+W(t)),!0):this.Rt(t,e)?(Qt.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+W(t)+".\nUrl: "+this.It(t)),!0):!this.Ct(t,e)&&(Qt.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+W(t)+".\nUrl: "+this.It(t)),!0)},t.prototype.Tt=function(t,e){if(!e.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&"SentryError"===t.exception.values[0].type||!1}catch(t){return!1}},t.prototype.Nt=function(t,e){return!(!e.ignoreErrors||!e.ignoreErrors.length)&&this.Mt(t).some((function(t){return e.ignoreErrors.some((function(e){return $(t,e)}))}))},t.prototype.Rt=function(t,e){if(!e.denyUrls||!e.denyUrls.length)return!1;var i=this.It(t);return!!i&&e.denyUrls.some((function(t){return $(i,t)}))},t.prototype.Ct=function(t,e){if(!e.allowUrls||!e.allowUrls.length)return!0;var i=this.It(t);return!i||e.allowUrls.some((function(t){return $(i,t)}))},t.prototype._mergeOptions=function(t){return void 0===t&&(t={}),{allowUrls:r(this.at.whitelistUrls||[],this.at.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:r(this.at.blacklistUrls||[],this.at.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:r(this.at.ignoreErrors||[],t.ignoreErrors||[],$e),ignoreInternal:void 0===this.at.ignoreInternal||this.at.ignoreInternal}},t.prototype.Mt=function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},i=e.type,n=void 0===i?"":i,r=e.value,o=void 0===r?"":r;return[""+o,n+": "+o]}catch(e){return Qt.error("Cannot extract message for event "+W(t)),[]}return[]},t.prototype.At=function(t){var e,i;void 0===t&&(t=[]);for(var n=t.length-1;n>=0;n--){var r=t[n];if("<anonymous>"!==(null===(e=r)||void 0===e?void 0:e.filename)&&"[native code]"!==(null===(i=r)||void 0===i?void 0:i.filename))return r.filename||null}return null},t.prototype.It=function(t){try{if(t.stacktrace){var e=t.stacktrace.frames;return this.At(e)}if(t.exception){var i=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return this.At(i)}return null}catch(e){return Qt.error("Cannot extract url for event "+W(t)),null}},t.id="InboundFilters",t}(),ke=Object.freeze({__proto__:null,FunctionToString:xe,InboundFilters:Ce}),Se="?",je=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Te=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. \/=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Ae=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,De=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Ie=/\((\S*)(?::(\d+))(?::(\d+))\)/,Ee=/Minified React error #\d+;/i,Pe=function(t,e){var i=-1!==t.indexOf("safari-extension"),n=-1!==t.indexOf("safari-web-extension");return i||n?[-1!==t.indexOf("@")?t.split("@")[0]:Se,i?"safari-extension:"+e:"safari-web-extension:"+e]:[t,e]},Oe=50,Fe=s(),Me={event:"error",transaction:"transaction",session:"session",attachment:"attachment"},Re=s(),Ne=function(){function e(t){var e=this;this.options=t,this.D=new oe(30),this.qt={},this.Lt={},this.Ut=new ge(t.dsn,t.Ht,t.tunnel),this.url=this.Ut.getStoreEndpointWithUrlEncodedAuth(),this.options.sendClientReports&&Re.document&&Re.document.addEventListener("visibilitychange",(function(){"hidden"===Re.document.visibilityState&&e.Pt()}))}return e.prototype.sendEvent=function(){throw new Rt("Transport Class has to implement `sendEvent` method")},e.prototype.close=function(t){return this.D.drain(t)},e.prototype.recordLostEvent=function(t,e){var i;if(this.options.sendClientReports){var n=Me[e]+":"+t;Qt.log("Adding outcome: "+n),this.Lt[n]=(null!=(i=this.Lt[n])?i:0)+1}},e.prototype.Pt=function(){if(this.options.sendClientReports){var t=this.Lt;if(this.Lt={},Object.keys(t).length){Qt.log("Flushing outcomes:\n"+JSON.stringify(t,null,2));var e=this.Ut.getEnvelopeEndpointWithUrlEncodedAuth(),i=JSON.stringify(Ot({},this.options.tunnel&&{dsn:this.Ut.getDsn().toString()}))+"\n"+JSON.stringify({type:"client_report"})+"\n"+JSON.stringify({timestamp:ce(),discarded_events:Object.keys(t).map((function(e){var i=n(e.split(":"),2),r=i[0];return{reason:i[1],category:r,quantity:t[e]}}))});try{xt(e,i)}catch(t){Qt.error(t)}}else Qt.log("No outcomes to flush")}},e.prototype.Ft=function(e){var i=e.requestType,n=e.response,r=e.headers,o=e.resolve,s=e.reject,a=t.Status.fromHttpCode(n.status);this.Jt(r)&&Qt.warn("Too many "+i+" requests, backing off until: "+this.Xt(i)),a!==t.Status.Success?s(n):o({status:a})},e.prototype.Xt=function(t){var e=Me[t];return this.qt[e]||this.qt.all},e.prototype.Bt=function(t){return this.Xt(t)>new Date(Date.now())},e.prototype.Jt=function(t){var e,n,r,o,s=Date.now(),a=t["x-sentry-rate-limits"],l=t["retry-after"];if(a){try{for(var c=i(a.trim().split(",")),u=c.next();!u.done;u=c.next()){var d=u.value.split(":",2),h=parseInt(d[0],10),p=1e3*(isNaN(h)?60:h);try{for(var f=(r=void 0,i(d[1].split(";"))),g=f.next();!g.done;g=f.next()){var m=g.value;this.qt[m||"all"]=new Date(s+p)}}catch(t){r={error:t}}finally{try{g&&!g.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return!0}return!!l&&(this.qt.all=new Date(s+function(t,e){if(!e)return ne;var i=parseInt(""+e,10);if(!isNaN(i))return 1e3*i;var n=Date.parse(""+e);return isNaN(n)?ne:n-t}(s,l)),!0)},e}(),qe=function(t){function i(e,i){void 0===i&&(i=wt());var n=t.call(this,e)||this;return n.Wt=i,n}return e(i,t),i.prototype.sendEvent=function(t){return this.$t(ut(t,this.Ut),t)},i.prototype.sendSession=function(t){return this.$t(ct(t,this.Ut),t)},i.prototype.$t=function(t,e){var i=this;if(this.Bt(t.type))return this.recordLostEvent(Et.RateLimitBackoff,t.type),Promise.reject({event:e,type:t.type,reason:"Transport for "+t.type+" requests locked till "+this.Xt(t.type)+" due to too many requests.",status:429});var n={body:t.body,method:"POST",referrerPolicy:F()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(n,this.options.fetchParameters),void 0!==this.options.headers&&(n.headers=this.options.headers),this.D.add((function(){return new re((function(e,r){i.Wt(t.url,n).then((function(n){var o={"x-sentry-rate-limits":n.headers.get("X-Sentry-Rate-Limits"),"retry-after":n.headers.get("Retry-After")};i.Ft({requestType:t.type,response:n,headers:o,resolve:e,reject:r})})).catch(r)}))})).then(void 0,(function(e){throw e instanceof Rt?i.recordLostEvent(Et.QueueOverflow,t.type):i.recordLostEvent(Et.NetworkError,t.type),e}))},i}(Ne),Le=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return e(i,t),i.prototype.sendEvent=function(t){return this.$t(ut(t,this.Ut),t)},i.prototype.sendSession=function(t){return this.$t(ct(t,this.Ut),t)},i.prototype.$t=function(t,e){var i=this;return this.Bt(t.type)?(this.recordLostEvent(Et.RateLimitBackoff,t.type),Promise.reject({event:e,type:t.type,reason:"Transport for "+t.type+" requests locked till "+this.Xt(t.type)+" due to too many requests.",status:429})):this.D.add((function(){return new re((function(e,n){var r=new XMLHttpRequest;for(var o in r.onreadystatechange=function(){if(4===r.readyState){var o={"x-sentry-rate-limits":r.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":r.getResponseHeader("Retry-After")};i.Ft({requestType:t.type,response:r,headers:o,resolve:e,reject:n})}},r.open("POST",t.url),i.options.headers)Object.prototype.hasOwnProperty.call(i.options.headers,o)&&r.setRequestHeader(o,i.options.headers[o]);r.send(t.body)}))})).then(void 0,(function(e){throw e instanceof Rt?i.recordLostEvent(Et.QueueOverflow,t.type):i.recordLostEvent(Et.NetworkError,t.type),e}))},i}(Ne),ze=Object.freeze({__proto__:null,BaseTransport:Ne,FetchTransport:qe,XHRTransport:Le}),He=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return e(n,i),n.prototype.eventFromException=function(t,e){return vt(this.at,t,e)},n.prototype.eventFromMessage=function(e,i,n){return void 0===i&&(i=t.Severity.Info),yt(this.at,e,i,n)},n.prototype.Ot=function(){if(!this.at.dsn)return i.prototype.Ot.call(this);var t=Ot(Ot({},this.at.transportOptions),{dsn:this.at.dsn,tunnel:this.at.tunnel,sendClientReports:this.at.sendClientReports,Ht:this.at.Ht});return this.at.transport?new this.at.transport(t):P()?new qe(t):new Le(t)},n}(_e),Be=s(),We=0,Ge=function(){function e(t){this.name=e.id,this.Gt=!1,this.Kt=!1,this.at=Ot({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50,this.at.onerror&&(Qt.log("Global Handler attached: onerror"),this.zt()),this.at.onunhandledrejection&&(Qt.log("Global Handler attached: onunhandledrejection"),this.Vt())},e.prototype.zt=function(){var t=this;this.Gt||(R({callback:function(i){var n=i.error,r=J(),o=r.getIntegration(e),s=n&&!0===n.__sentry_own_request__;if(o&&!$t()&&!s){var a=r.getClient(),l=void 0===n&&u(i.msg)?t.Qt(i.msg,i.url,i.line,i.column):t.Yt(bt(n||i.msg,void 0,{attachStacktrace:a&&a.getOptions().attachStacktrace,rejection:!1}),i.url,i.line,i.column);U(l,{handled:!1,type:"onerror"}),r.captureEvent(l,{originalException:n})}},type:"error"}),this.Gt=!0)},e.prototype.Vt=function(){var i=this;this.Kt||(R({callback:function(n){var r=n;try{"reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason)}catch(t){}var o=J(),s=o.getIntegration(e),a=r&&!0===r.__sentry_own_request__;if(!s||$t()||a)return!0;var l=o.getClient(),c=d(r)?i.Zt(r):bt(r,void 0,{attachStacktrace:l&&l.getOptions().attachStacktrace,rejection:!0});c.level=t.Severity.Error,U(c,{handled:!1,type:"onunhandledrejection"}),o.captureEvent(c,{originalException:r})},type:"unhandledrejection"}),this.Kt=!0)},e.prototype.Qt=function(t,e,i,n){var r,o=l(t)?t.message:t,s=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);s&&(r=s[1],o=s[2]);var a={exception:{values:[{type:r||"Error",value:o}]}};return this.Yt(a,e,i,n)},e.prototype.Zt=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(t)}]}}},e.prototype.Yt=function(t,e,i,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];var r=isNaN(parseInt(n,10))?void 0:n,o=isNaN(parseInt(i,10))?void 0:i,a=u(e)&&e.length>0?e:function(){var t=s();try{return t.document.location.href}catch(t){return""}}();return 0===t.exception.values[0].stacktrace.frames.length&&t.exception.values[0].stacktrace.frames.push({colno:r,filename:a,function:"?",in_app:!0,lineno:o}),t},e.id="GlobalHandlers",e}(),Ue=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Ve=function(){function t(e){this.name=t.id,this.at=Ot({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}return t.prototype.setupOnce=function(){var t=s();this.at.setTimeout&&C(t,"setTimeout",this.tn.bind(this)),this.at.setInterval&&C(t,"setInterval",this.tn.bind(this)),this.at.requestAnimationFrame&&C(t,"requestAnimationFrame",this.nn.bind(this)),this.at.XMLHttpRequest&&"XMLHttpRequest"in t&&C(XMLHttpRequest.prototype,"send",this.rn.bind(this)),this.at.eventTarget&&(Array.isArray(this.at.eventTarget)?this.at.eventTarget:Ue).forEach(this.in.bind(this))},t.prototype.tn=function(t){return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=e[0];return e[0]=Ct(n,{mechanism:{data:{function:_(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}},t.prototype.nn=function(t){return function(e){return t.call(this,Ct(e,{mechanism:{data:{function:"requestAnimationFrame",handler:_(t)},handled:!0,type:"instrument"}}))}},t.prototype.in=function(t){var e=s(),i=e[t]&&e[t].prototype;i&&i.hasOwnProperty&&i.hasOwnProperty("addEventListener")&&(C(i,"addEventListener",(function(e){return function(i,n,r){try{"function"==typeof n.handleEvent&&(n.handleEvent=Ct(n.handleEvent.bind(n),{mechanism:{data:{function:"handleEvent",handler:_(n),target:t},handled:!0,type:"instrument"}}))}catch(t){}return e.call(this,i,Ct(n,{mechanism:{data:{function:"addEventListener",handler:_(n),target:t},handled:!0,type:"instrument"}}),r)}})),C(i,"removeEventListener",(function(t){return function(e,i,n){var r,o=i;try{var s=null===(r=o)||void 0===r?void 0:r.__sentry_wrapped__;s&&t.call(this,e,s,n)}catch(t){}return t.call(this,e,o,n)}})))},t.prototype.rn=function(t){return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((function(t){t in n&&"function"==typeof n[t]&&C(n,t,(function(e){var i={mechanism:{data:{function:t,handler:_(e)},handled:!0,type:"instrument"}};return e.__sentry_original__&&(i.mechanism.data.handler=_(e.__sentry_original__)),Ct(e,i)}))})),t.apply(this,e)}},t.id="TryCatch",t}(),Qe=function(){function e(t){this.name=e.id,this.at=Ot({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype.addSentryBreadcrumb=function(t){this.at.sentry&&J().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:W(t)},{event:t})},e.prototype.setupOnce=function(){var t=this;this.at.console&&R({callback:function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];t.en.apply(t,r(e))},type:"console"}),this.at.dom&&R({callback:function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];t.on.apply(t,r(e))},type:"dom"}),this.at.xhr&&R({callback:function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];t.un.apply(t,r(e))},type:"xhr"}),this.at.fetch&&R({callback:function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];t.sn.apply(t,r(e))},type:"fetch"}),this.at.history&&R({callback:function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];t.an.apply(t,r(e))},type:"history"})},e.prototype.en=function(e){var i={category:"console",data:{arguments:e.args,logger:"console"},level:t.Severity.fromString(e.level),message:x(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;i.message="Assertion failed: "+(x(e.args.slice(1)," ")||"console.assert"),i.data.arguments=e.args.slice(1)}J().addBreadcrumb(i,{input:e.args,level:e.level})},e.prototype.on=function(t){var e,i="object"==typeof this.at.dom?this.at.dom.serializeAttribute:void 0;"string"==typeof i&&(i=[i]);try{e=t.event.target?v(t.event.target,i):v(t.event,i)}catch(t){e="<unknown>"}0!==e.length&&J().addBreadcrumb({category:"ui."+t.name,message:e},{event:t.event,name:t.name,global:t.global})},e.prototype.un=function(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;var e=t.xhr.__sentry_xhr__||{},i=e.method,n=e.url,r=e.status_code,o=e.body;J().addBreadcrumb({category:"xhr",data:{method:i,url:n,status_code:r},type:"http"},{xhr:t.xhr,input:o})}},e.prototype.sn=function(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?J().addBreadcrumb({category:"fetch",data:e.fetchData,level:t.Severity.Error,type:"http"},{data:e.error,input:e.args}):J().addBreadcrumb({category:"fetch",data:Ot(Ot({},e.fetchData),{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response})))},e.prototype.an=function(t){var e=s(),i=t.from,n=t.to,r=B(e.location.href),o=B(i),a=B(n);o.path||(o=r),r.protocol===a.protocol&&r.host===a.host&&(n=a.relative),r.protocol===o.protocol&&r.host===o.host&&(i=o.relative),J().addBreadcrumb({category:"navigation",data:{from:i,to:n}})},e.id="Breadcrumbs",e}(),Ye="cause",Xe=5,Ke=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this.cn=e.key||Ye,this.O=e.limit||Xe}return t.prototype.setupOnce=function(){Y((function(e,i){
var n=J().getIntegration(t);if(n){var r=n.fn&&n.fn.bind(n);return"function"==typeof r?r(e,i):e}return e}))},t.prototype.fn=function(t,e){if(!(t.exception&&t.exception.values&&e&&m(e.originalException,Error)))return t;var i=this.hn(e.originalException,this.cn);return t.exception.values=r(i,t.exception.values),t},t.prototype.hn=function(t,e,i){if(void 0===i&&(i=[]),!m(t[e],Error)||i.length+1>=this.O)return i;var n=ft(dt(t[e]));return this.hn(t[e],e,r([n],i))},t.id="LinkedErrors",t}(),Je=s(),Ze=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){Y((function(e){var i,n,r;if(J().getIntegration(t)){if(!Je.navigator&&!Je.location&&!Je.document)return e;var o=(null===(i=e.request)||void 0===i?void 0:i.url)||(null===(n=Je.location)||void 0===n?void 0:n.href),s=(Je.document||{}).referrer,a=(Je.navigator||{}).userAgent,l=Ot(Ot(Ot({},null===(r=e.request)||void 0===r?void 0:r.headers),s&&{Referer:s}),a&&{"User-Agent":a}),c=Ot(Ot({},o&&{url:o}),{headers:l});return Ot(Ot({},e),{request:c})}return e}))},t.id="UserAgent",t}(),ti=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(e,i){e((function(e){var n=i().getIntegration(t);if(n){try{if(n.Dt(e,n.vn))return Qt.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(t){return n.vn=e}return n.vn=e}return e}))},t.prototype.Dt=function(t,e){return!(!e||!this.ln(t,e)&&!this.dn(t,e))},t.prototype.ln=function(t,e){var i=t.message,n=e.message;return!(!i&&!n||i&&!n||!i&&n||i!==n||!this.pn(t,e)||!this.yn(t,e))},t.prototype.mn=function(t){var e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch(t){return}else if(t.stacktrace)return t.stacktrace.frames},t.prototype.yn=function(t,e){var i=this.mn(t),n=this.mn(e);if(!i&&!n)return!0;if(i&&!n||!i&&n)return!1;if(i=i,(n=n).length!==i.length)return!1;for(var r=0;r<n.length;r++){var o=n[r],s=i[r];if(o.filename!==s.filename||o.lineno!==s.lineno||o.colno!==s.colno||o.function!==s.function)return!1}return!0},t.prototype.bn=function(t){return t.exception&&t.exception.values&&t.exception.values[0]},t.prototype.dn=function(t,e){var i=this.bn(e),n=this.bn(t);return!!(i&&n&&i.type===n.type&&i.value===n.value&&this.pn(t,e)&&this.yn(t,e))},t.prototype.pn=function(t,e){var i=t.fingerprint,n=e.fingerprint;if(!i&&!n)return!0;if(i&&!n||!i&&n)return!1;i=i,n=n;try{return!(i.join("")!==n.join(""))}catch(t){return!1}},t.id="Dedupe",t}(),ei=Object.freeze({__proto__:null,GlobalHandlers:Ge,TryCatch:Ve,Breadcrumbs:Qe,LinkedErrors:Ke,UserAgent:Ze,Dedupe:ti}),ii=function(t){function i(e){return void 0===e&&(e={}),e.Ht=e.Ht||{},e.Ht.sdk=e.Ht.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:we}],version:we},t.call(this,He,e)||this}return e(i,t),i.prototype.showReportDialog=function(t){void 0===t&&(t={}),s().document&&(this.lt()?kt(Ot(Ot({},t),{dsn:t.dsn||this.getDsn()})):Qt.error("Trying to call showReportDialog with Sentry Client disabled"))},i.prototype.bt=function(e,i,n){return e.platform=e.platform||"javascript",t.prototype.bt.call(this,e,i,n)},i.prototype.jt=function(e){var i=this.getIntegration(Qe);i&&i.addSentryBreadcrumb(e),t.prototype.jt.call(this,e)},i}(ye),ni=[new Ce,new xe,new Ve,new Qe,new Ge,new Ke,new ti,new Ze],ri={},oi=s();oi.Sentry&&oi.Sentry.Integrations&&(ri=oi.Sentry.Integrations);var si=Ot(Ot(Ot({},ri),ke),ei);return t.BrowserClient=ii,t.Hub=fe,t.Integrations=si,t.SDK_NAME="sentry.javascript.browser",t.SDK_VERSION=we,t.Scope=de,t.Transports=ze,t.addBreadcrumb=function(t){it("addBreadcrumb",t)},t.addGlobalEventProcessor=Y,t.captureEvent=function(t){return it("captureEvent",t)},t.captureException=nt,t.captureMessage=function(t,e){var i;try{throw new Error(t)}catch(t){i=t}return it("captureMessage",t,"string"==typeof e?e:void 0,Ot({originalException:t,syntheticException:i},"string"!=typeof e?{captureContext:e}:void 0))},t.close=function(t){var e=J().getClient();return e?e.close(t):(Qt.warn("Cannot flush events and disable SDK. No client defined."),re.resolve(!1))},t.configureScope=function(t){it("configureScope",t)},t.defaultIntegrations=ni,t.eventFromException=vt,t.eventFromMessage=yt,t.flush=function(t){var e=J().getClient();return e?e.flush(t):(Qt.warn("Cannot flush events. No client defined."),re.resolve(!1))},t.forceLoad=function(){},t.getCurrentHub=J,t.getHubFromCarrier=tt,t.init=function(t){if(void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=ni),void 0===t.release){var e=s();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}void 0===t.autoSessionTracking&&(t.autoSessionTracking=!0),void 0===t.sendClientReports&&(t.sendClientReports=!0),function(t,e){var i;!0===e.debug&&Qt.enable();var n=J();null===(i=n.getScope())||void 0===i||i.update(e.initialScope);var r=new t(e);n.bindClient(r)}(ii,t),t.autoSessionTracking&&function(){if(void 0!==s().document){var t=J();"function"==typeof t.startSession&&"function"==typeof t.captureSession&&(t.startSession({ignoreDuration:!0}),t.captureSession(),R({callback:function(e){var i=e.from,n=e.to;void 0!==i&&i!==n&&(t.startSession({ignoreDuration:!0}),t.captureSession())},type:"history"}))}else Qt.warn("Session tracking in non-browser environment with @sentry/browser is not supported.")}()},t.injectReportDialog=kt,t.lastEventId=function(){return J().lastEventId()},t.makeMain=K,t.onLoad=function(t){t()},t.setContext=function(t,e){it("setContext",t,e)},t.setExtra=function(t,e){it("setExtra",t,e)},t.setExtras=function(t){it("setExtras",t)},t.setTag=function(t,e){it("setTag",t,e)},t.setTags=function(t){it("setTags",t)},t.setUser=function(t){it("setUser",t)},t.showReportDialog=function(t){void 0===t&&(t={});var e=J(),i=e.getScope();i&&(t.user=Ot(Ot({},i.getUser()),t.user)),t.eventId||(t.eventId=e.lastEventId());var n=e.getClient();n&&n.showReportDialog(t)},t.startTransaction=function(t,e){return it("startTransaction",Ot({},t),e)},t.withScope=rt,t.wrap=function(t){return Ct(t)()},t}({});Sentry.init({dsn:"https://f0f3a2a970d54aa393ad0343b189238b@o36253.ingest.sentry.io/5239437",ignoreErrors:['Error resolving module specifier "importmap". Relative module specifiers must start with "./", "../" or "/".',"Error resolving module specifier \u201cimportmap\u201d. Relative module specifiers must start with \u201c./\u201d, \u201c../\u201d or \u201c/\u201d.",'Failed to resolve module specifier "importmap". Relative references must start with either "/", "./", or "../".','Fehler beim Aufl\xf6sen des Modulspezifierers "importmap". Relative Modulspezifierer m\xfcssen mit "./", "../" oder "/" beginnen.','Fehler beim Aufl\xf6sen des Modulspezifizierers "importmap". Relative Modulspezifizierer m\xfcssen mit "./", "../" oder "/" beginnen.',"L\u1ed7i khi gi\u1ea3i quy\u1ebft th\xf4ng s\u1ed1 module \u201cimportmap\u201d. C\xe1c th\xf4ng s\u1ed1 module t\u01b0\u01a1ng \u0111\u1ed1i ph\u1ea3i b\u1eaft \u0111\u1ea7u b\u1eb1ng \u201c./\u201d, \u201c../\u201d ho\u1eb7c \u201c/\u201d.",'Module specifier, \'importmap\' does not start with "/", "./", or "../".','You called Tooltipster\'s "disable" method on an uninitialized element','You called Tooltipster\'s "enable" method on an uninitialized element'],beforeSend(t,e){var i=e.originalException,n=["Erreur lors de la r\xe9solution du sp\xe9cificateur de module \xab importmap \xbb. Les sp\xe9cificateurs de module relatifs doivent commencer par \xab ./ \xbb, \xab ../ \xbb ou \xab / \xbb."],r=!1;return i&&i.message&&_.each(n,(function(t){0==t.localeCompare(i.message,"en",{sensitivity:"base"})&&(r=!0)})),r?null:t}}),jQuery((function(t){function e(){var e=t(window).height()-t(".quick-view-header").height()-t(".quick-view-table").find(".paging").height()-24;t(".fixed-thead").height(e)}var i;t(".fixed-thead").find("th").each((function(){var e=t(this).text();t(this).append("<div>"+e+"</div>")})),e(),t(window).resize((function(){clearTimeout(i),i=setTimeout(e,300)})),t(".quick-view").resizable({distance:20,handles:"w",minWidth:400})}));var Aligni={};Aligni.Util={flash:function(t,e){e=e||5e3,setTimeout((function(){$("#"+t).fadeOut()}),e),$("body").off("click","div#notice a.x"),$("body").on("click","div#notice a.x",(function(){$("#"+t).fadeOut()})),$("#"+t).click((function(){$("#"+t).fadeOut()})),$("#notice_recall").show(),$("#notice_recall").hover((function(){$("#"+t).fadeIn()}),(function(){$("#"+t).fadeOut()}))},number_with_delimiter:function(t,e){return t.toFixed(e).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},number_to_currency:function(t,e,i){return(i=i||"$")+Aligni.Util.number_with_delimiter(t,e)},confirmation:function(t,e){$("body").off("click",t),$("body").on("click",t,(function(){return $(this).fastConfirm({position:e.position,questionText:e.questionText,proceedText:e.proceedText,cancelText:e.cancelText,onProceed:function(t){return e.activity?$(e.activity).activity():$(t).activity(),e.mask&&$(e.mask).mask(e.maskText||"Please wait..."),e.url?url=e.url.replace(/{{HREF}}/g,$(t).attr("href")):url=$(t).attr("href"),$.ajax({type:e.method||"POST",dataType:"script",data:e.data||{},headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:url}).done((function(){$(t).activity(!1)})),$(t).fastConfirm("close"),!1}}),!1}))},activity:function(t,e){$(t).activity(e)},periodicObserve:function(t,e,i){obj=jQuery(t),e*=1e3,obj.each((function(){var t=jQuery(this),n=t.val(),r=function(){if(o())a&&clearInterval(a);else{var e=t.val();n!=e&&(n=e,t.map(i))}},o=function(){return 0==t.closest("html").length},s=function(){a&&(clearInterval(a),a=setInterval(r,e))};r();var a=setInterval(r,e);t.bind("keyup click mousemove",s)}))}},Aligni.Note={validateNote:function(t){return 0!=validateField("note_title_"+t,"Title cannot be blank.")&&0!=validateField("note_text_"+t,"Note text cannot be blank.")},validateURL:function(t){return 0!=validateField("note_title_"+t,"Title cannot be blank.")&&0!=validateField("note_text_"+t,"URL cannot be blank.")},z_nothingness:!1},jQuery.jgrid&&jQuery.extend(jQuery.jgrid.defaults,{cmTemplate:{title:!1},altRows:!0,autowidth:!0,datatype:"json",height:"auto",hoverrows:!1,recordtext:"{0} - {1} of {2}",viewrecords:!0});var DemoCountdown={create:function(t,e){this.startTime=new Date,this.nSec=e,this.counterid=document.getElementById(t),this.counterUpdate()},pad:function(t){return t>9?t:"0"+t},counterUpdate:function(){var t="";if(diff=new Date-this.startTime,diff=this.nSec-diff/1e3,diff<=0)return t="The demo database has been reset.  Please reload this page.",void(this.counterid.innerHTML=t);var e=Math.floor(diff/60/60);diff-=60*e*60;var i=Math.floor(diff/60);diff-=60*i;var n=Math.floor(diff);t="Demo database will reset in "+this.pad(e)+":"+this.pad(i)+":"+this.pad(n),this.counterid.innerHTML=t,setTimeout(this.counterUpdate.bind(this),1e3)}};document.getElementById&&document.createTextNode&&(addEvent(window,"load",initCB),addEvent(window,"load",aligniPageSetup));var App=window.App||{};window.pageAttr=function(t){return $("body").attr("data-"+t)},App.handleResize=function(t){var e=null;$(window).resize((function(){clearTimeout(e),e=setTimeout(t,150)}))},App.afterDatatableIsLoaded=function(){var t="datatable";$(".jqgrid-rownum").wrapInner('<span class="number"></span>'),$("#datatable").jqGrid("setGridHeight","auto"),$("#gbox_"+t).parent("div").removeClass("hide"),$(window).resize((function(){gridParentWidth=$("#gbox_"+t).parent().width(),$("#"+t).jqGrid("setGridWidth",gridParentWidth)})),$("#datatable").trigger("resize")},App.preventContextMenu=function(t){$(document).on("contextmenu",t,(function(){return!1}))},App.blurOnReturn=function(t){$("body").on("keydown",t,(function(t){13==t.keyCode&&(t.preventDefault(),$(this).trigger("blur"))}))},App.menuTabs=function(){var t=$(".js-tabset-nav a:not(.remove-report)");$(".js-tabset-container > div").hide(),$(".js-tabset-container > div").each((function(){$this=$(this),$this.is(":first-child")&&$this.fadeIn(100)})),t.click((function(){const t=$(this).parents(".js-tabset").find(".js-tabset-container > div"),e=$(this).parents(".js-tabset-nav"),i=e.height();return t.hide(),t.filter(this.hash).fadeIn(100),t.filter(this.hash).find(".options-grid").height(i-110),t.filter(this.hash).find("input.search").focus(),e.removeClass("border-active"),e.find("a").removeClass("active"),$(this).addClass("active"),t.filter(this.hash).find(".js-selectable-nav li:first label").click(),!1}))},App.dropDownFixPosition=function(t,e){if(0!==t.length&&0!==e.length){var i=t.offset().top+t.outerHeight();e.css("top",i+"px"),e.css("left",t.offset().left+"px")}},App.calculatePanelHeight=function(){var t=$(window).height()-$(".panel-bar").outerHeight();$(".panel-wrap").height(t)},App.toggleHelpers=function(){$("[data-side-panel]").hasClass("expanded")?App.hideHelpers():App.showHelpers()},App.hideHelpers=function(){$(".quantity_helper").hide(),$(".quote_helper").hide()},App.showHelpers=function(){$(".quantity_helper").show(),$(".quote_helper").show()},App.showOverlay=function(t){$("body").addClass("overflow-hidden"),t.addClass("in"),setTimeout((function(){t.removeClass("hide")}),200)},App.hideOverlay=function(t){$("body").removeClass("overflow-hidden"),t.removeClass("in"),setTimeout((function(){t.addClass("hide")}),200)},App.initDropdownScroll=function(){$(".dropdown").on("shown.bs.dropdown",(function(){$(this).children(".dropdown-menu")})).on("hidden.bs.dropdown",(function(){$(this).children(".dropdown-menu")}))},App.attachSwitchViews=function(){$(".container").on("click","[data-toggle='switch']",(function(t){t.preventDefault(),App.switchViews($(this))}))},App.switchViews=function(t,e,i,n){var r=e||t.closest("[data-views-container]"),o=r.data("active-view"),s=i||r.children("[data-first-view]"),a=n||r.children("[data-second-view]");"first"===o?(s.fadeOut(200),setTimeout((function(){a.fadeIn(200),r.data("active-view","second")}),200)):(a.fadeOut(200),setTimeout((function(){s.fadeIn(200),r.data("active-view","first")}),200))},App.attachTruncatedText=function(){$("[data-truncated]").expander({slicePoint:100,userCollapse:!1,expandEffect:"fadeIn",expandSpeed:250,expandText:"&bull;&bull;&bull;",expandPrefix:"",moreClass:"more-link"})},App.attachAutosize=function(){autosize($("textarea:not(.autoheight)")),$(".modal").on("shown.bs.modal",(function(){autosize.update($("textarea:not(.autoheight)"))}))},App.switchActivityViews=function(){$(".container").on("click","[data-switch-activity-views]",(function(t){t.preventDefault();var e=$(this),i=$("[data-activity-views-container]"),n=$("[data-attachments-view]"),r=$("[data-timeline-view]"),o=i.data("active-view"),s=$("[data-container-title]");App.switchViews(e,i,n,r),"first"===o?(e.text("switch to attachments"),s.text("Timeline")):(e.text("switch to timeline"),s.text("Attachments"))}))},App.attachTabDropzone=function(t,e,i,n){var r=new Dropzone(i,{url:t,paramName:e,headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},previewTemplate:Aligni.Dropzone.defaultTemplate});n=n||"div.dz-error-message";return r.on("error",(function(t,e){$(n).html(e.error),$(n).show()})),r},App.attachGlobalDropzone=function(){var t=$("body"),e=$("#global-dropzone-previews"),i=".dz-preview-wrapper",n=new Dropzone(document.body,{url:"upload.php",previewTemplate:Aligni.Dropzone.defaultTemplate,previewsContainer:"#global-dropzone-previews",clickable:!1});t.draghover().on("draghoverstart",(function(){t.addClass("dz-hover")})).on("draghoverend",(function(){t.removeClass("dz-hover")})),n.on("addedfile",(function(){e.addClass("uploaded")})).on("removedfile",(function(){0==e.find(i).length&&e.removeClass("uploaded")}))};var attachScrollbar=function(t,e){t=t||0;$(e||"[data-custom-scrollbar]").niceScroll({scrollspeed:20,cursorcolor:"#000",cursorwidth:3,cursorborder:"0",cursorborderradius:"2px",background:"#cfcfcf",smoothscroll:!1,customWidthOffset:t})},removeScrollbar=function(t){$(t||"[data-custom-scrollbar]").niceScroll().remove()};App.equalWidths=function(){var t=0;$(".ewi").each((function(){var e=$(this).width();e>t&&(t=e)})),$(".ewi").width(t)},App.hoverTableColumns=function(){$(".table-hover-columns td, .table-hover-columns th").hover((function(){var t=parseInt($(this).index())+1;$("td:nth-child("+t+")").addClass("hovered"),$("th:nth-child("+t+")").addClass("hovered")}),(function(){parseInt($(this).index());$("td").removeClass("hovered"),$("th").removeClass("hovered")}))};var closeOverflowDropdown=function(){$(".in-overflow-hidden.dropdown").removeClass("open")};document.addEventListener("turbo:load",(function(){$(".in-overflow-hidden.dropdown").on("click",(function(){var t=$(this).find(".dropdown-toggle").outerHeight(),e=$(this).offset().top,i=$(this).offset().left,n=$(this).find(".dropdown-menu");n.css("top",e+t),n.css("left",i),n.appendTo("body")})),$(".in-overflow-hidden.dropup").on("click",(function(){var t=$(this).find("> a").attr("href"),e=$(t),i=e.outerHeight(),n=$(this).offset().top,r=$(this).offset().left;e.css("top",n-i),e.css("left",r),e.appendTo("body")}))})),$(window).resize((function(){$(".dropdown").parent().removeClass("open"),$(".dropdown-menu").removeClass("open")})),jQuery((function(t){t(window).resize(_.debounce(closeOverflowDropdown,200)),t(".page-wrap").addClass("animate-margin"),t("body").on("click","span.view_more a",(function(e){"#"==t(this).attr("href")&&(t(this).parent("span.view_more:first").hide(),t(this).parent("span.view_more:first").siblings("span.more:first").show(),e.preventDefault())})),t("[data-back-to-top]").on("click",(function(){t("html,body").animate({scrollTop:0})})),t("body").on("mousewheel DOMMouseScroll",".scrollfix",(function(t){var e=t.originalEvent,i=e.wheelDelta||-e.detail;this.scrollTop+=15*(i<0?1:-1),t.preventDefault()})),t("body").on("click",".in-overflow-hidden .dropdown-toggle",(function(){App.dropDownFixPosition(t(".part-revision .dropdown-toggle"),t(".part-revision .dropdown-menu"))})),t(document).delegate('*[data-toggle="lightbox"]',"click",(function(e){e.preventDefault(),t(this).ekkoLightbox()})),t("body").on("click",".toggle-icon",(function(){toggleIcon=t(this),toggleIcon.toggleClass("toggle-icon-active"),toggleIcon.addClass("toggle-animation").delay(500).queue((function(){toggleIcon.removeClass("toggle-animation").dequeue()}))})),t("body").on("click",".quick-view-toggle",(function(e){t(".quick-view").toggleClass("active"),e.preventDefault()})),t(document).keydown((function(e){var i=(e.target||e.srcElement).tagName,n=!("INPUT"==i||"SELECT"==i||"TEXTAREA"==i),r=187==e.which;if(n&&r)return t(".svgicon--plus").parent("a.aligni_modal").click(),!1})),t("body").on("click",".dropdown-menu-noclose",(function(t){t.stopPropagation()})),App.initDropdownScroll(),App.preventContextMenu("a.only_left_click"),(new AligniModal).init()}));var Aligni=window.Aligni||{};Aligni.AllocationQuantityValidation=function(){var t="Must be numeric.",e="Must be an integer.",i="Zero or negative allocation is not allowed. Please use a removal deviation.",n=function(t){return!Number.isNaN(Number(t))},r=function(t){return 0!==t.length&&Number.isInteger(Number(t))};return{validate:function(o,s){var a=n(o);return o<=0?i:s&&!a?t:s||a&&r(o)?null:e}}}(jQuery);var Aligni=window.Aligni||{};Aligni.AuthorizeNet=function(t){var e=function(){this.$creditCardButton=t("button.aligni-credit-card-button"),this.$paymentProfileLink=t("a.aligni-payment-profile-link"),this.useTestEnvironment=t("form#formAuthorizeNetPopup").data("use-auth-net-test-env")};return e.prototype={init:function(){var e=this;AuthorizeNetPopup.options.useTestEnvironment=this.useTestEnvironment,AuthorizeNetPopup.options.skipZIndexCheck=!0,t("div.container").on("click","[data-aligni-create-credit-card-button]",(function(t){t.preventDefault(),AuthorizeNetPopup.openAddPaymentPopup()})),t("div.container").on("click","[data-aligni-update-credit-card-button]",(function(e){e.preventDefault(),AuthorizeNetPopup.openEditPaymentPopup(t(this).data("aligni-update-credit-card-button"))})),AuthorizeNetPopup.options.onPopupClosed=function(t){"Save"==t&&(e.$creditCardButton.attr("disabled",!0).hide(),e.$paymentProfileLink.removeClass("hide").click())}}},e}(jQuery),jQuery((function(){"customer_profiles/show"==pageAttr("aligni-page")&&(new Aligni.AuthorizeNet).init()}));var Aligni=window.Aligni||{};Aligni.AuthorizeNetPopup=function(t){function e(){return t("form#formAuthorizeNetPopup").data("use-auth-net-test-env")}function i(t){AuthorizeNetPopup.options.onPopupClosed=function(e){"Save"==e&&(t.text("Please wait...").attr("disabled",!0),t.trigger({type:"aligniAuthorizeNetPopupSave"}))}}function n(t){i(t),AuthorizeNetPopup.openAddPaymentPopup()}function r(t,e){i(t),AuthorizeNetPopup.openEditPaymentPopup(e)}function o(t,e,i){switch(s(),e){case"new":n(t);break;case"edit":r(t,i);break;default:throw"Unknown Authorize.Net Popup."}}function s(){AuthorizeNetPopup.options.useTestEnvironment=e(),AuthorizeNetPopup.options.skipZIndexCheck=!0}return{open:o}}(jQuery);var Aligni=window.Aligni||{};Aligni.Autocomplete=Aligni.Autocomplete||{},Aligni.Autocomplete.createCategoryExtension=function(t){$.widget("custom.categoryAutocomplete",$.ui.autocomplete,{_renderMenu:function(e,i){var n="",r=this;$.each(i,(function(t,i){i.category!=n&&(e.append("<li class='ui-autocomplete-category ui-autocomplete-category-"+i.category_css_class+"' style='font-weight: bold; padding: 5px; font-size: 1.2em;'>"+i.category+"</li>"),n=i.category),r._renderItem(e,i)})),e.addClass(t.widthCssClass),e.addClass("scrollable")}})};var Aligni=window.Aligni||{};Aligni.Carousel=function(t){var e=function(e){this.$element=t(e),this.numberOfItems=this.$element.data("carousel")};return e.prototype={init:function(){this.$element.owlCarousel({items:this.numberOfItems,navigation:!0,pagination:!1,scrollPerPage:!0})}},e}(jQuery),jQuery((function(t){t("[data-carousel]").each((function(t,e){new Aligni.Carousel(e).init()}))}));var Aligni=window.Aligni||{};Aligni.CheckboxDisable=function(t){function e(t){t.attr("disabled",!1)}function i(t){t.attr("disabled",!0)}function n(){t(document).on("change","input:checkbox[data-checkbox-disable]",(function(){var n=t(this),r=t(n.data("checkbox-disable"));n.is(":checked")?i(r):e(r)}))}return{init:n}}(jQuery),Aligni.CheckboxDisable.init();var Aligni=window.Aligni||{};Aligni.CheckboxGroupToggle=function(t){var e=function(){this.toggleSelector="[data-al-checkbox-toggle]",this.groupSelector="[data-al-checkbox-toggle-group]"};return e.prototype={init:function(){var e=this;t(this.toggleSelector).each((function(){var i=t(this).data("al-checkbox-toggle");e.toggleTrigger(i)})),t(document).on("change",this.groupSelector,(function(){var i=t(this).data("al-checkbox-toggle-group");e.toggleTrigger(i)})),t(document).on("change",this.toggleSelector,(function(){var i=t(this).data("al-checkbox-toggle");e.toggleCheckboxes(this,i)}))},getCheckboxes:function(e){return t("[data-al-checkbox-toggle-group="+e+"]")},toggleCheckboxes:function(e,i){var n=this.getCheckboxes(i);t(e).is(":checked")?n.prop("checked",!0):n.prop("checked",!1)},toggleTrigger:function(e){var i=t("[data-al-checkbox-toggle="+e+"]");this.checkboxesChecked(e)?i.prop("checked",!0).parent("label").addClass("active"):i.prop("checked",!1).parent("label").removeClass("active")},checkboxesChecked:function(e){var i=this.getCheckboxes(e);return _.every(i,(function(e){return t(e).is(":checked")}))}},e}(jQuery),$(document).on("turbo:load ajaxSuccess",(function(){(new Aligni.CheckboxGroupToggle).init()}));var Aligni=window.Aligni||{};Aligni.CheckboxSelection=function(t){var e=function(e){this.$triggerElement=t(e),this.checkSelector=this.$triggerElement.data("al-check-selector"),this.uncheckSelector=this.$triggerElement.data("al-uncheck-selector")};return e.prototype={init:function(){var e=this;this.$triggerElement.off("click"),this.$triggerElement.on("click",(function(i){i.preventDefault(),t(e.uncheckSelector).prop("checked",!1),t(e.checkSelector).prop("checked",!0)}))}},e}(jQuery),$(document).on("turbo:load ajaxSuccess",(function(){$("[data-al-checkbox-selection]").each((function(t,e){new Aligni.CheckboxSelection(e).init()}))}));var Aligni=window.Aligni||{};Aligni.CheckboxStateSwitch=function(t){function e(e){var i=t(t(this).data(l)),r=n(i);e.preventDefault(),i.prop("checked",!0),_.each(r,o)}function i(e){var i=t(t(this).data(c)),r=n(i);e.preventDefault(),i.prop("checked",!1),_.each(r,s)}function n(e){var i=_.map(e,(function(e){return t(e).data("al-checkbox-toggle-group")}));return _.uniq(i)}function r(e){return t("[data-al-checkbox-toggle="+e+"]")}function o(t){$toggle=r(t),$toggle.prop("checked",!0).parent("label").addClass("active")}function s(t){$toggle=r(t),$toggle.prop("checked",!1).parent("label").removeClass("active")}function a(){t(document).on("click","[data-"+l+"]",e),t(document).on("click","[data-"+c+"]",i)}var l="al-checkbox-on-switch",c="al-checkbox-off-switch";return{init:a}}(jQuery),jQuery(document).on("turbo:load ajaxSuccess",Aligni.CheckboxStateSwitch.init);var Aligni=window.Aligni||{};Aligni.ChildCheckbox=function(t){function e(t){t.parent().css("visibility","hidden"),t.attr("checked",!1)}function i(t){t.parent().css("visibility","visible")}function n(){t("[data-child-checkbox]").each((function(){var i=t(this),n=t(i.data("child-checkbox"));i.is(":checked")||e(n)}))}function r(){t(document).on("change","[data-child-checkbox]",(function(){var n=t(this),r=t(n.data("child-checkbox"));n.is(":checked")?i(r):e(r)}))}return{init:r,hideChildCheckboxes:n}}(jQuery),Aligni.ChildCheckbox.init();var Aligni=window.Aligni||{};Aligni.CollapseRemote=function(t){function e(t){t.find(c).activity()}function i(t){t.find(c).activity(!1)}function n(t){t.data(l,!0)}function r(t){return t.data(l)}function o(o){if(!r(o)){var s=o.data(a);e(o),t.get(s,(function(t){i(o),n(o),o.html(t)}))}}function s(){var e=t("[data-"+a+"]");e.off("show.bs.collapse"),e.on("show.bs.collapse",(function(){o(t(this))}))}var a="collapse-remote-url",l="collapse-content-loaded",c=".collapse-placeholder";return{init:s}}(jQuery),jQuery(Aligni.CollapseRemote.init),jQuery(document).on("ajaxSuccess",Aligni.CollapseRemote.init);var Aligni=window.Aligni||{};Aligni.ColorPicker=function(t){function e(t){return a.find((function(e){return t.attr("class").match(e)}))}function i(){var i=t(this),n=i.val(),o=i.parents(r).find(s),a=e(o,n);o.removeClassRegEx(a),o.addClass(""+a+n)}function n(){t(document).on("change",o,i)}var r=".js-color-picker",o=".js-color-picker-input",s=".js-color-picker-toggle",a=["org-color-option-","color-option-"];return{init:n}}(jQuery),Aligni.ColorPicker.init();var Aligni=window.Aligni||{};Aligni.CommentForm=function(t){function e(t){t.attr("disabled","disabled"),t.text("Please wait...")}function i(t){var e=t.text();return function(){t.text(e),t.removeAttr("disabled")}}function n(){var n=t(this),r=n.parents(".al-comment-form"),o=r.data("comments-path"),s=r.find(".al-comment-message"),a=s.val().trim(),l=function(){s.val("")},c=i(n);if(""!==a)return e(n),t.post(o,{message:a}).done(l).always(c),!1}function r(){t(document).on("click",".al-comment-submit",n)}return{init:r}}(jQuery),Aligni.CommentForm.init();var Aligni=window.Aligni||{};Aligni.Confirmation=function(t){var e=function(t){this.$element=t,this.path=this.$element.attr("href"),this.options=this.$element.data("aligni-confirmation"),this.method=this.options.method||"GET",this.questionText=this.options.question_text,this.params=this.options.params||{},this.maskTarget=this.options.mask_target,this.position=this.options.position||"bottom"};return e.prototype={init:function(){var e=this;this.$element.fastConfirm({position:e.position,questionText:e.questionText,onProceed:function(){return e.$element.activity(),e.maskTarget&&t(e.maskTarget).mask("Please wait..."),t.ajax({url:e.path,type:e.method,dataType:"script",data:e.params}).done((function(){e.$element.activity(!1),e.maskTarget&&t(e.maskTarget).unmask()})),e.$element.fastConfirm("close"),!1}})}},e}(jQuery),$(document).on("click","[data-aligni-confirmation]",(function(t){(t.preventDefault(),"#"!==$(this).attr("href"))&&new Aligni.Confirmation($(this)).init()}));var Aligni=window.Aligni||{};Aligni.CopyText=function(t){function e(e){return t("<input type='text' id='copyText' value='"+e+"'>").appendTo("body")}function i(t){var e=document.getElementById(t.attr("id"));e.select(),e.setSelectionRange(0,99999),document.execCommand("copy")}function n(n){var r=e(t(n).val());i(r),r.remove()}function r(){t(document).on("click","[data-copy-text]",(function(e){var i=t(this).data("copy-text");e.preventDefault(),n(i)}))}return{init:r}}(jQuery),Aligni.CopyText.init();var Aligni=window.Aligni||{};Aligni.Datatable=function(t){function e(e,i,n){t(e).dialog("widget").find(".ui-dialog-buttonpane").append("\n       <div class='checkbox inline-block pull-left margin-left-base'>\n         <input type='checkbox' id='"+i+"' value='true'>\n         <label class='control-label' for='"+i+"'>"+n+"</label>\n       </div>\n      ")}function i(e,i){var r=JSON.stringify(n("colNames")),o=JSON.stringify(n("colModel")),s=t(i).is(":checked");t.ajax({type:"PATCH",dataType:"script",url:e,data:{col_names:r,col_model:o,persist_part_list_table_preferences:s}})}function n(e){return t("#datatable").jqGrid("getGridParam",e)}return{addColumnChooserCheckbox:e,savePreferences:i}}(jQuery);var Aligni=window.Aligni||{};Aligni.DateFilter=function(t){var e=function(e){this.$element=t(e),this.type=t(e).data("al-date-filter")};return e.prototype={init:function(){var e=this;this.$element.watermark("YYYY-MM-DD"),t("[data-al-date-filter="+this.type+"]").datepicker({dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,onSelect:function(i){t(e.onSelectSelector()).datepicker("option",e.onSelectDate(),i),t(this).change()}})},onSelectSelector:function(){return"start"==this.type?"[data-al-date-filter=end]":"[data-al-date-filter=start]"},onSelectDate:function(){return"start"==this.type?"minDate":"maxDate"}},e.init=function(){t("[data-al-date-filter]").each((function(t,e){new Aligni.DateFilter(e).init()}))},e}(jQuery),jQuery(Aligni.DateFilter.init),$(document).on("ajaxSuccess",Aligni.DateFilter.init);var Aligni=window.Aligni||{};Aligni.Datepicker=function(t){function e(){t(document).on("click",".al-date-picker-link",(function(e){t(this).closest("form").find("[data-datepicker='true']").datepicker("show"),e.preventDefault()}))}function i(e){e.watermark("YYYY-MM-DD"),e.datepicker({dateFormat:"yy-mm-dd"}),t("body").append(e.datepicker("widget")),e.attr("autocomplete","off")}function n(){t("[data-datepicker='true']").each((function(){i(t(this))})),e()}return{init:n,initField:i}}(jQuery),$(document).on("turbo:load ajaxSuccess",(function(){Aligni.Datepicker.init()}));var Aligni=window.Aligni||{};Aligni.DisableInput=function(t){function e(){var e=t(this).data("disable-input");t(e).prop("disabled",!0)}function i(){t(document).on("click","[data-disable-input]",e)}return{init:i}}(jQuery),Aligni.DisableInput.init();var Aligni=window.Aligni||{};Aligni.DisableWhenBlank=function(t){function e(t){return!t.val()}function i(){var i=t(this).data("disable-when-blank");t(i).prop("disabled",e(t(this)))}function n(){t(document).on("input propertychange change","[data-disable-when-blank]",i)}return{init:n}}(jQuery),Aligni.DisableWhenBlank.init();var Aligni=window.Aligni||{};Aligni.DisableWhenInvalidDate=function(t){function e(t){return!r.test(t.val())}function i(){var i=t(this).data("disable-when-invalid-date");t(i).prop("disabled",e(t(this)))}function n(){t(document).on("input propertychange change","[data-disable-when-invalid-date]",i)}var r=/^(19|20)\d\d[- /.](0[1-9]|1[012])[- /.](0[1-9]|[12][0-9]|3[01])$/;return{init:n}}(jQuery),Aligni.DisableWhenInvalidDate.init();var Aligni=window.Aligni||{};Aligni.DisableWhenUnchecked=function(t){function e(t){return!1===t.is(":checked")}function i(){var i=t(document).find("[data-disable-when-unchecked]"),n=t(i.data("disable-when-unchecked")),r=e(i);n.length>1?n.each((function(e,i){return t(i).prop("disabled",r)})):n.prop("disabled",r)}function n(){t(document).on("input propertychange change","[data-disable-when-unchecked]",i),t(document).on("turbo:load",i)}return{init:n}}(jQuery),Aligni.DisableWhenUnchecked.init();var Aligni=window.Aligni||{};Aligni.DropdownActivity=function(t){function e(){t(this).parents(".dropdown-activity").activity({outside:!0})}function i(){t(document).on("click",".dropdown-activity li",e)}return{init:i}}(jQuery),Aligni.DropdownActivity.init();var Aligni=window.Aligni||{};Aligni.Dropzone=Aligni.Dropzone||{},
Aligni.Dropzone.defaultTemplate="<div class='dz-preview-wrapper'>\n                                    <a href='#' data-dz-remove class='pull-right text-danger'>\n                                      <svg><!-- SVG file not found: 'icons/cross-normal.svg' --></svg>\n                                    </a>\n                                    <div class='dz-preview dz-file-preview'>\n                                      <div class='dz-details'>\n                                        <div class='dz-filename'>\n                                          <span data-dz-name></span>\n                                        </div>\n                                        <div class='dz-success-mark'>\n                                          <svg><!-- SVG file not found: 'icons/thick.svg' --></svg>\n                                        </div>\n                                        <div class='dz-error-mark'>\n                                          <svg><!-- SVG file not found: 'icons/cross-normal.svg' --></svg>\n                                        </div>\n                                        <div class='dz-size' data-dz-size>\n                                        </div>\n                                      </div>\n                                      <div class='dz-progress'>\n                                        <span class='dz-upload' data-dz-uploadprogress></span>\n                                      </div>\n                                      <div class='dz-error-message'>\n                                        <span data-dz-errormessage></span>\n                                      </div>\n                                    </div>\n                                  </div>";var Aligni=window.Aligni||{};Aligni.EnableOnClick=function(t){function e(){var e=t(this).data("enable-on-click");t(e).attr("disabled",!1)}function i(){t(document).on("click","[data-enable-on-click]",e)}return{init:i}}(jQuery),Aligni.EnableOnClick.init();var Aligni=window.Aligni||{};Aligni.Environment=function(){function t(){return!1}return{isTest:t}}();var Aligni=window.Aligni||{};Aligni.ExpandListToggle=function(t){function e(t){return t.hasClass(o)}function i(t,e){t.toggleClass(o),e.find(".expand-list").toggleClass("hide"),n(t)}function n(t){e(t)?(t.find("[data-expanded-list]").show(),t.find("[data-collapsed-list]").hide()):(t.find("[data-expanded-list]").hide(),t.find("[data-collapsed-list]").show())}function r(){t(document).on("click",'[data-toggle="expand-list"]',(function(){var e=t(this),n=e.closest(".expand-list-source");i(e,n)}))}var o="expand-list-on";return{init:r}}(jQuery),Aligni.ExpandListToggle.init();var Aligni=window.Aligni||{};Aligni.ExpanderToggle=function(t){function e(t,e){t.toggleClass("expander-toggle-on"),e.toggleClass(o),e.next(".expander-content").toggleClass(o),i(e)}function i(t){n(t)?(t.find("[data-expanded-message]").show(),t.find("[data-collapsed-message]").hide()):(t.find("[data-expanded-message]").hide(),t.find("[data-collapsed-message]").show())}function n(t){return t.hasClass(o)}function r(){t(document).on("click","[data-toggle='expander']",(function(i){e(t(this),t(this).parents(".expander-source")),i.preventDefault()}))}var o="expander-in";return{init:r}}(jQuery),Aligni.ExpanderToggle.init();var Aligni=window.Aligni||{};Aligni.FieldValidator=function(t){var e=function(e){return t("div#validator-message-"+e)},i=function(e){return t("div#field-validator-"+e+" input#"+e)},n=function(e){return t("div#validator-content-"+e).find(".svgicon--thick")},r=function(e){return t("div#validator-content-"+e).find(".svgicon--cross-normal")},o=function(t){n(t).removeClass("hide"),r(t).addClass("hide")},s=function(t){r(t).removeClass("hide"),n(t).addClass("hide")};return{showSuccess:function(t){e(t).addClass("hide"),i(t).removeClass("with-error"),o(t)},showError:function(t,n){var r=e(t);r.html(n),r.removeClass("hide"),i(t).addClass("with-error"),s(t)}}}(jQuery),jQuery.fn.extend({focusFieldAndPositionCursor:function(){var t=$(this);if(t.is("input[type=text]")){var e=t.val().length;t.focus(),t[0].setSelectionRange(e,e)}return this}});var Aligni=window.Aligni||{};Aligni.FormHeadroom=function(t){function e(e){var i=t(".headroom-wrap"),n=e.height();return{offset:100,tolerance:0,classes:{initial:"comment-form",pinned:"comment-form--pinned",unpinned:"comment-form--unpinned",top:"comment-form--top",bottom:"comment-form--bottom"},onPin:function(){i.css("paddingTop","0")},onUnpin:function(){i.css("paddingTop",n)}}}function i(){jQuery((function(t){if(t("#headroom").data("form-headroom")){var i="#headroom",n=t(i),r=document.querySelector(i);new Headroom(r,e(n)).init()}}))}return{init:i}}(jQuery),Aligni.FormHeadroom.init(),jQuery((function(t){if("true"===pageAttr("headroom-enabled")){var e="#headroom",i=new Headroom(document.querySelector(e));t(".page-wrap").css("paddingTop",t(e).height()),i.init()}}));var Aligni=window.Aligni||{};Aligni.HelpPopup=function(t){function e(){t("[data-help-popup-message]").each((function(){placement=t(this).data("help-popup-placement")||"bottom",t(this).clickover({content:t(this).data("help-popup-message"),container:"body",template:"<div class='popover popover-info'><div class='arrow'></div><div class='popover-content' style='padding: 10px;'></div></div>",html:!0,esc_close:!0,global_close:!0,placement:placement})}))}return{init:e}}(jQuery),jQuery(document).on("turbo:load ajaxSuccess",Aligni.HelpPopup.init);var Aligni=window.Aligni||{};Aligni.InPlaceCommentEditing=function(t){function e(t,e,i){t.removeClass("block"),t.addClass("hide"),e.removeClass("hide"),i.addClass("hide")}function i(t){var e=t.val();t.focus(),t.val(""),t.val(e)}function n(t,e,i){t.removeClass("hide"),t.addClass("block"),e.html(""),i.removeClass("hide")}function r(r){var o=t("#comment_"+r),s=o.find(".al-comment-content"),a=o.find(".al-edit-comment"),l=a.find("#comment_"+r+"_message"),c=o.find(".al-manage-comment-links");e(s,a,c),i(l),t(document).on("click",".al-comment-cancel-edit",(function(){return n(s,a,c),!1}))}return{init:r}}(jQuery);var Aligni=window.Aligni||{};Aligni.InputConfirmation=function(t){function e(){var e=t(this),i=e.val();e.data("input-confirmation")==i?e.trigger("inputValueConfirmed"):e.trigger("inputValueUnconfirmed")}function i(){t(document).on("input propertychange","input[data-input-confirmation]",_.debounce(e,300))}return{init:i}}(jQuery),Aligni.InputConfirmation.init();var Aligni=window.Aligni||{};Aligni.InsertQuery=function(t){function e(){var e=t("[data-insert-query-to]"),i=t(e.data("insert-query-to")),n=i.attr("href").split("?")[0],r=e.attr("id"),o=e.val();i.attr("href",n+"?"+r+"="+o)}function i(){0!==t("[data-insert-query-to]").length&&(t(document).on("input propertychange","[data-insert-query-to]",e),e())}return{init:i}}(jQuery),document.addEventListener("turbo:load",Aligni.InsertQuery.init);var Aligni=window.Aligni||{};Aligni.IntervalPicker=function(t){function e(){var e=t('[data-selector="selector"]'),i=t('[data-selector="target"]'),n=t(".scheduler-ctrl select option:selected").val();e.each((function(){n?(t(this).find(i).hide(),t(this).find("."+n).hide().show()):t(this).find(i).hide().first().show()}))}function i(){t(document).on("change",'[data-selector="ctrl"]',e),t(document).on("turbo:load",e)}return{init:i}}(jQuery),Aligni.IntervalPicker.init();var Aligni=window.Aligni||{};Aligni.KeyboardSubmit=function(t){function e(){t(".al-keyboard-submit").keydown((function(e){(e.metaKey||e.ctrlKey)&&13==e.keyCode&&(t(this).val()&&t(this).closest("form").submit())}))}return{init:e}}(jQuery),jQuery(Aligni.KeyboardSubmit.init),$(document).on("ajaxSuccess turbo:load",Aligni.KeyboardSubmit.init);var Aligni=window.Aligni||{};Aligni.List=function(t){var e=function(e){this.containerId=e,this.containerSelector="#"+this.containerId,this.elementsSelector=this.containerSelector+" .list-searchable",this.optionSelector=".option",this.checkSelector="[data-toggle='multiselect-toggle-all']",this.uncheckSelector="[data-toggle='multiselect-toggle-none']",this.$msOption=t(this.containerSelector+" "+this.optionSelector),this.$msOptionCheckbox=this.$msOption.find(":checkbox:not(.child)"),this.$form=t(this.containerSelector+" form")};return e.prototype={init:function(){var e=this;if(t(this.elementsSelector).length){var i=new List(this.containerId,{valueNames:["list-searchable"]});e.monkeyList=i,e.updateCheckUncheckLinkText()}return this.$form.off("submit"),this.$form.on("submit",(function(){t(this).find("input.search").val(""),e.monkeyList&&e.monkeyList.search()})),t("body").off("click",this.containerSelector+" "+this.checkSelector),t("body").on("click",this.containerSelector+" "+this.checkSelector,(function(t){e.checkVisible(),t.preventDefault()})),t("body").off("click",this.containerSelector+" "+this.uncheckSelector),t("body").on("click",this.containerSelector+" "+this.uncheckSelector,(function(t){e.uncheckVisible(),t.preventDefault()})),e.monkeyList},updateCheckUncheckLinkText:function(){var e=this,i=t(this.containerSelector+" "+this.checkSelector),n=t(this.containerSelector+" "+this.uncheckSelector);e.monkeyList.on("searchComplete",(function(){if(e.monkeyList.searched){var t=e.monkeyList.visibleItems.length;i.text("Select ("+t+")"),n.text("Unselect ("+t+")")}else i.text("Select all"),n.text("Select none")}))},checkVisible:function(){const e=new CustomEvent("checkedall");t.each(this.monkeyList.visibleItems,(function(){var e=t(this.elm),i=e.find(":checkbox");e.find(".option").addClass("active"),i.is(":checked")||i.prop("checked",!0).change()})),t(`${this.containerSelector} ${this.checkSelector}`)[0].dispatchEvent(e)},uncheckVisible:function(){const e=new CustomEvent("uncheckedall");t.each(this.monkeyList.visibleItems,(function(){var e=t(this.elm),i=e.find(":checkbox");e.find(".option").removeClass("active"),i.is(":checked")&&i.prop("checked",!1).change()})),t(`${this.containerSelector} ${this.uncheckSelector}`)[0].dispatchEvent(e)}},e}(jQuery),$(document).on("turbo:load turbo:frame-load ajaxSuccess",(function(){$("[data-aligni-list]").each((function(){new Aligni.List($(this).attr("id")).init()}))}));var Aligni=window.Aligni||{};Aligni.ListGroupToggles=function(t){function e(){t(".list-group-selectable > a.list-group-item").click((function(e){t(this).siblings().removeClass("active").find("input[type=radio]").attr("checked",!1),t(this).addClass("active").find("input[type=radio]").attr("checked",!0),e.preventDefault()}))}return{init:e}}(jQuery),jQuery(Aligni.ListGroupToggles.init),$(document).on("ajaxSuccess",Aligni.ListGroupToggles.init);var Aligni=window.Aligni||{};Aligni.LoadDiscussion=function(t){function e(){t("#discussion").length&&Aligni.ReloadWithTurbo.reload()}function i(){t.tinySub("attachments:updated",e)}return{init:i}}(jQuery),Aligni.LoadDiscussion.init();var Aligni=window.Aligni||{};Aligni.MaskOnClick=function(t){function e(){var e=t(this).data("mask-on-click"),i=t(e);i.mask("Loading..."),i.attr(r,!0)}function i(){t("["+r+"='true']").unmask()}function n(){t(document).on("ajaxSuccess",i),t(document).on("click","[data-mask-on-click]",e)}var r="data-masked-on-click";return{init:n}}(jQuery),Aligni.MaskOnClick.init();var Aligni=window.Aligni||{};Aligni.ModalCreateHotkey=function(t){function e(t,e){var i=o?"\u2318+Enter":"Ctrl+Enter",n=o?"\u21e7+\u2318+Enter":"\u21e7+Ctrl+Enter";t.prop("title",i),e.prop("title",n)}function i(t){if(o){if(t.shiftKey&&t.metaKey&&13==t.which)return 0;if(t.metaKey&&13==t.which)return 1}else{if(t.shiftKey&&t.ctrlKey&&13==t.which)return 0;if(t.ctrlKey&&13==t.which)return 1}}function n(t,e,n){var r=i(t);0===r&&n.click(),1===r&&e.click()}function r(){if(t("body").hasClass("modal-open")){var i=t("form[id^='new']");if(0!==i.length){var r=i.find("[data-hotkey-create]"),o=i.find("[data-hotkey-create-another]");e(r,o),t(document).on("keydown",(function(t){n(t,r,o)}))}}}var o=window.navigator.userAgent.match(/Mac/);return{init:r}}(jQuery),jQuery(Aligni.ModalCreateHotkey.init),jQuery(document).on("ajaxSuccess",Aligni.ModalCreateHotkey.init);var Aligni=window.Aligni||{};Aligni.MultiSelect=function(t){function e(){t(".option").find(":checkbox").on("change",(function(){t(this).is(":checked")?t(this).parents(".option").addClass("active"):t(this).parents(".option").removeClass("active")})),t(".chosen-multi").chosen({width:"100%",no_results_text:"Nothing found."}),t(".chosen-multi").on("change",(function(){t(".chosen-search-input").click()}))}return{init:e}}(jQuery),jQuery(Aligni.MultiSelect.init),$(document).on("ajaxSuccess",Aligni.MultiSelect.init);var Aligni=window.Aligni||{};Aligni.Overlay=function(t){function e(){t(document).on("turbo:load",(function(){t(".overlay.overlay-page").addClass("in")})),t(document).on("click",".close-overlay",(function(){t(".overlay.overlay-page").removeClass("in")}))}return{init:e}}(jQuery),Aligni.Overlay.init(),document.addEventListener("turbo:load",(function(){$("[data-page-modal]").modal("show"),$(document).one("hidden.bs.modal","[data-page-modal]",(function(){var t=$(this).data("dismiss-path");"#"!==t&&Turbo.visit(t)}))}));var Aligni=window.Aligni||{};Aligni.PanelToggle=function(t){var e=function(e){this.$sourceElement=t(e),this.$paneContainer=this.$sourceElement.closest(".panel"),this.$paneBody=t(this.$sourceElement.data("aligni-panel-toggle")),this.collapsableClass="panel-collapsed"};return e.prototype={init:function(){var t=this;this.$sourceElement.off("click"),this.$sourceElement.on("click",(function(e){e.preventDefault(),t.$paneContainer.hasClass(t.collapsableClass)?(t.$paneBody.slideDown(150),t.$paneContainer.removeClass(t.collapsableClass)):t.$paneBody.slideUp(150,"swing",(function(){t.$paneContainer.addClass(t.collapsableClass)}))}))}},e.init=function(){t("[data-aligni-panel-toggle]").each((function(t,e){new Aligni.PanelToggle(e).init()}))},e}(jQuery),jQuery(Aligni.PanelToggle.init),$(document).on("ajaxSuccess",Aligni.PanelToggle.init);var Aligni=window.Aligni||{};Aligni.ParentForm=function(t){function e(e){e.preventDefault();var n=t(this).parents("form");i(n.data("mask-fields")?t(this).parent():t(n.data("mask")),n.data("mask-with-activity")),n[0].requestSubmit()}function i(t,e){e?t.activity():t.mask("Loading..."),t.attr(o,!0)}function n(){var e=t("["+o+"='true']");e.unmask(),e.activity(!1)}function r(){t(document).on("ajaxSuccess",n)}var o="data-masked-on-submit";return{init:r,submit:e}}(jQuery),Aligni.ParentForm.init(),Aligni.PartPreviewModal=function(t){function e(e){var i=e.id,n=e.name;return t("<option></option").text(n).attr("value",i)}function i(){return t("<option></option").text(u).val("")}function n(e){var i=t(l);return e&&e.id&&e.id.toString()===i.val()}function r(r,o){var s=t(l),a=(o.id,o.selectedRevision),u=o.partRevisions;n(a)||(s.empty(),c&&s.append(i()),u.forEach((function(t){s.append(e(t))})),a&&a.id&&s.val(a.id).trigger("change"))}function o(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],i=t(a),n=i.val();new Aligni.PartPreview(i).getPreview(n,e)}function s(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=e.partRevisionId;e.partRevisionSelector&&(l=e.partRevisionSelector),void 0!==e.includeEmptyOption&&(c=e.includeEmptyOption),t.tinySub("part-selected",r),t(document).on("change",l,(function(){o(t(this).val())})),o(i)}var a="#part_number",l="#part_revision_id",c=!0,u="None";return{init:s}}(jQuery);var Aligni=window.Aligni||{};Aligni.PasswordConfirmation=function(t){function e(){var e=t(this),i=e.val(),n=e.data("password-confirmation"),r=function(t){t.confirmed?e.trigger("passwordConfirmed"):e.trigger("passwordUnconfirmed")};t.ajax({type:"POST",url:n,data:{password:i},success:r,dataType:"json"})}function i(){t(document).on("input propertychange","input[data-password-confirmation]",_.debounce(e,300))}return{init:i}}(jQuery),Aligni.PasswordConfirmation.init();var Aligni=window.Aligni||{};Aligni.PercentageWidth=function(t){var e=function(e){this.$element=t(e),this.current=t(e).data("al-percentage-width"),this.max=t(e).data("al-percentage-width-max")};return e.prototype={init:function(){var t=(this.current/this.max*100).toFixed(0);this.$element.data("al-percentage-width-value",t),this.$element.css("width",t+"%")}},e.init=function(){t("[data-al-percentage-width]").each((function(t,e){new Aligni.PercentageWidth(e).init()}))},e}(jQuery),jQuery(Aligni.PercentageWidth.init),$(document).on("ajaxSuccess",Aligni.PercentageWidth.init);var Aligni=window.Aligni||{};Aligni.PlusMinusInputs=function(t){function e(){var e=t(this).parents(".input-group").find("input"),i=parseInt(t(this).attr("data-increment-step")),n=i>0?i:1;return e.val(parseInt(e.val())+n),e.change(),!1}function i(){var e=t(this).parents(".input-group").find("input"),i=e.attr("min"),n=parseInt(t(this).attr("data-decrement-step")),r=n>0?n:1,o=parseInt(e.val())-r;return o=o<i?i:o,e.val(o),e.change(),!1}function n(){t(document).on("click",".increment-plus",e),t(document).on("click",".increment-minus",i)}return{init:n}}(jQuery),Aligni.PlusMinusInputs.init();var Aligni=window.Aligni||{};Aligni.Popover=function(t){var e=function(e){this.$element=t(e),this.name=this.$element.data("popover-toggle")};return e.prototype={init:function(){var e=t('[data-popover-content="'+this.name+'"]').children(),i=this.$element.data("popover-container"),n=e.find("h3.popover-title").html(),r=void 0===i?"body":i;this.$element.clickover({container:r,template:'<div id="'+this.name+'" class="popover"><div class="arrow"></div><div class="popover-content"></div></div>',html:!0,title:n,content:e,esc_close:!0,global_close:!0}),this.$element.on("hidden.bs.popover",(function(t){t.stopPropagation()}))},initSimplePopover:function(){t(this.$element).on("click",(function(t){t.preventDefault()})),this.$element.popover({container:"body"})}},e.init=function(){t("[data-popover-toggle]").each((function(t,e){new Aligni.Popover(e).init()}))},e}(jQuery),jQuery(Aligni.Popover.init),$(document).on("ajaxSuccess turbo:load turbo:frame-load",Aligni.Popover.init);var Aligni=window.Aligni||{};Aligni.populateSelect=function(t){var e=function(e){this.$source=t(e),this.data=this.$source.data(),this.path=this.data.alPopulateSelectPath,this.$target=t(this.data.alPopulateSelectTarget),this.blank=this.data.alPopulateSelectBlank||""};return e.prototype={init:function(){var e=this;e.showActivity(),this.$target.empty(),t.get(e.path,{},(function(t){e.updateSelect(t)}),"json")},updateSelect:function(t){var e=this;e.hideActivity(),this.blank.length&&this.$target.append(this.emptyOption()),t.forEach((function(t){e.$target.append(e.getOption(t))})),e.$target.trigger("selectPopulated")},getOption:function(e){var i=e.id,n=e.name;return t("<option></option").text(n).attr("value",i)},emptyOption:function(){return t("<option></option").text(this.blank).val("")},showActivity:function(){this.$source.parents("div:first").activity(),this.$target.parents("div:first").activity()},hideActivity:function(){this.$source.parents("div:first").activity(!1),this.$target.parents("div:first").activity(!1)}},e}(jQuery);var Aligni=window.Aligni||{};Aligni.ProgressBar=function(t){var e=function(e){this.$progressBar=t(e),this.$sections=this.$progressBar.children("[data-al-progress-bar-section]"),this.totalWidth=0};return e.prototype={init:function(){this.initializeSections(),this.calculateTotalWidth(),this.totalWidth>100&&this.adjustWidestSection()},initializeSections:function(){this.$sections.each((function(){t(this).data("al-percentage-width",t(this).data("al-progress-bar-section")),t(this).data("al-percentage-width-max",t(this).data("al-progress-bar-section-max")),new Aligni.PercentageWidth(this).init()}))},adjustWidestSection:function(){this.findWidestSection();var t=this.getWidth(this.$widestSection)-(this.totalWidth-100);this.$widestSection.css("width",t+"%")},calculateTotalWidth:function(){var e=this;this.$sections.each((function(){e.totalWidth+=e.getWidth(t(this))}))},findWidestSection:function(){var e=this;this.$widestSection=this.$sections.first(),this.$sections.each((function(){e.getWidth(t(this))>e.getWidth(e.$widestSection)&&(e.$widestSection=t(this))}))},getWidth:function(t){return parseInt(t.data("al-percentage-width-value"),10)}},e.init=function(){t(".al-progress-bar").each((function(t,e){new Aligni.ProgressBar(e).init()}))},e}(jQuery),jQuery(Aligni.ProgressBar.init),$(document).on("ajaxSuccess turbo:load",Aligni.ProgressBar.init);var Aligni=window.Aligni||{};Aligni.QuantityInputValidation=function(){var t="Must be numeric.",e="Must be an integer.",i="Zero or negative value is not allowed.",n=function(t){return!Number.isNaN(Number(t))},r=function(t){return 0!==t.length&&Number.isInteger(Number(t))};return{validate:function(o,s){var a=n(o);return 0===o.length?null:a?o<=0?i:s||r(o)?null:e:t}}}(jQuery);var Aligni=window.Aligni||{};Aligni.QuantityInputValidator=function(t){function e(t){var e=t.closest(".validator").siblings("div.validator").find("input");return e.length<=0&&(e=t.closest("form").find("input")),e.hasClass("with-error")}function i(i){var n=t(i.target),r=t.trim(n.val()),o=!n.data("integer-only-quantity"),s=Aligni.QuantityInputValidation.validate(r,o),a=n[0].id,l=t(".js-disableable-action");0!==a.length&&(s?(Aligni.FieldValidator.showError(a,s),l.attr("disabled","disabled"),t("#spanFixErrors").show()):(Aligni.FieldValidator.showSuccess(a),e(n)||(l.removeAttr("disabled"),t("#spanFixErrors").hide())))}function n(){t(document).on("blur","[data-validate-quantity]",(function(t){i(t)}))}return{init:n}}(jQuery),document.addEventListener("turbo:load",(function(){App.blurOnReturn("[data-validate-quantity]"),Aligni.QuantityInputValidator.init()}));var Aligni=window.Aligni||{};Aligni.RadioButtonToggle=function(t){function e(){t(document).on("change","[data-radio-button-toggle]",(function(){t("[data-radio-button-toggle]").each((function(){var e=t(this),i=t(e.data("radio-button-toggle"));e.is(":checked")?(i.removeClass("hide"),i.find("input").attr("disabled",!1)):(i.addClass("hide"),i.find("input").attr("disabled",!0))}))}))}return{init:e}}(jQuery),Aligni.RadioButtonToggle.init();var Aligni=window.Aligni||{};Aligni.RangeSlider=function(t){function e(){var e=t("[data-range-slider]"),i=t("[data-range-slider-min]"),n=t("[data-range-slider-max]"),r=i.data("range-slider-min"),o=n.data("range-slider-max"),s=i.val(),a=n.val(),l=function(){e.slider("values",[i.val(),n.val()])},c=function(e){e.preventDefault();var i=t("#"+t(this).data("range-slider-reset")),n=t(this).data("range-slider-reset-value");i.val(n),i.trigger("input")},u=function(){d()?e.data("range-slider-valid",!1):e.data("range-slider-valid",!0)},d=function(){var t=parseInt(i.val()||0),e=parseInt(n.val()||0);return t>e||t<r||e>o||0==t||0==e};e.length&&(e.slider({range:!0,min:r,max:o,values:[s,a],slide:function(t,e){i.val(e.values[0]),n.val(e.values[1]),u()},create:function(){e.data("range-slider-valid",!0),t(".ui-slider-handle").attr("tabindex","-1")}}),i.on("input",(function(){l(),u()})),n.on("input",(function(){l(),u()})),t("[data-range-slider-reset]").on("click",c))}return{init:e}}(jQuery),jQuery(Aligni.RangeSlider.init),$(document).on("ajaxSuccess",Aligni.RangeSlider.init),Aligni.ReferenceHighlight=function(t){function e(e){var i=t(this).data("reference-highlight-source"),n=t("[data-reference-highlight-target='"+i+"']");e.preventDefault(),n.siblings().children("td").removeAttr("style"),n.children("td").css("background-color","#f2edb1")}function i(){t(document).on("click",n,e)}var n="[data-reference-highlight-source]";return{init:i}}(jQuery),Aligni.ReferenceHighlight.init();var Aligni=window.Aligni||{};Aligni.ReloadWithTurbo=function(t){function e(){t("head").append('<meta name="turbo-cache-control" content="no-preview">'),n=[window.scrollX,window.scrollY],Turbo.visit(window.location.toString(),{action:"replace"})}function i(){document.addEventListener("turbo:load",(function(){n&&(window.scrollTo.apply(window,n),n=null)}))}var n=void 0;return{init:i,reload:e}}(jQuery),Aligni.ReloadWithTurbo.init();var Aligni=window.Aligni||{};Aligni.ResetForm=function(t){function e(e){e.preventDefault();var i=t(this).parents("form");i.trigger("reset"),i.find("select").val("").trigger("change"),i.find("[data-reset-form-remove-element]").remove()}function i(){t(document).on("click","[data-reset-form]",e)}return{init:i}}(jQuery),Aligni.ResetForm.init();var Aligni=window.Aligni||{};Aligni.SeatNumberValidator=function(t){function e(e){var i=t(e.target).first(),n=i.val(),r=i.attr("id"),o=parseInt(i.attr("min")),s=parseInt(i.attr("max")),a=parseInt(i.attr("step"))||1,l=Aligni.SeatsValidation.validate(n,o,s,a),c=t(".js-disableable-action");l?(Aligni.FieldValidator.showError(r,l),c.attr("disabled","disabled"),t("#spanFixErrors").show()):(Aligni.FieldValidator.showSuccess(r),c.removeAttr("disabled"),t("#spanFixErrors").hide())}function i(){t(document).on("keyup","[data-validate-seats]",e)}return{init:i}}(jQuery),Aligni.SeatNumberValidator.init();var Aligni=window.Aligni||{};Aligni.SeatsPrice=function(t){function e(e){var i=t("[data-starting-seats-count]").data("starting-seats-count"),n=e.val();return"relative"===e.data("seats-count")?n:n-i}function i(e){if(t("[data-seats-total-price]").length>0){var i=parseInt(t("[data-seats-total-price]").data("seats-total-price"));t("[data-seats-total-price]").html(i+e)}}function n(){var n=t("[data-seats-count]").first();if(!n.hasClass("with-error")){var r=e(n);if(r>=0){var o=parseInt(n.attr("step"))||1,s=r/o*t("[data-seat-price]").data("seat-price"),a=r/o*t("[data-prorated-seat-price]").data("prorated-seat-price");t("[data-seats-price]").html(s),i(s),a>=0&&t("[data-prorated-seats-price]").html(a.toLocaleString("en-US",{style:"currency",currency:"USD"}))}else t("[data-seats-price]").html(0),i(0)}}function r(){t(document).on("change input propertychange","[data-seats-count]",n),t(document).on("turbo:load",n)}return{init:r}}(jQuery),Aligni.SeatsPrice.init();var Aligni=window.Aligni||{};Aligni.SeatsValidation=function(){var t="Must be numeric.",e="Must be an integer.",i="Negative value is not allowed.",n=function(t){return"Seat are sold in sets of "+t+"."},r=function(t){return"Minimum value is "+t+"."},o=function(t){return"Maximum value is "+t+"."},s=function(t){return!Number.isNaN(Number(t))},a=function(t){return 0!==t.length&&Number.isInteger(Number(t))};return{validate:function(l,c,u,d){var h=s(l);return 0===l.length?null:h?l<0?i:a(l)?l<c?r(c):u>0&&l>u?o(u):l%d!=0?n(d):null:e:t}}}(jQuery),Aligni.SelectOptionGroups=function(t){function e(e){var o=arguments.length<=1||void 0===arguments[1]||arguments[1],s=t(e).data("select-group"),c=t(e).find("option:selected"),u=c.val(),d=c.data("select-group"),h=i(s);n(e)?(u?r(s,d):h.find(l).removeClass("hide"),o&&h.find("option[value='']").prop("selected",!0)):u&&(t("[data-select-group='"+s+"']"+a).find(l+"[data-select-group='"+d+"']").prop("selected",!0),r(s,d))}function i(e){return t("[data-select-group='"+e+"']:not("+a+")")}function n(e){return t(e).data("select-group-parent")}function r(t,e){var n=i(t),r=n.find(l+"[data-select-group='"+e+"']");n.find(l).addClass("hide"),r.removeClass("hide")}function o(){t(document).on("change",s,(function(t){e(this),Aligni.ParentForm.submit.call(this,t)})),t(s).each((function(){e(this,!1)}))}var s="select[data-select-group]",a="[data-select-group-parent=true]",l="option:not([value=''])";return{init:o}}(jQuery),jQuery((function(){Aligni.SelectOptionGroups.init()})),Aligni.SelectPreview=function(t){function e(){t(t(this).data("select-preview")).text(t(this).data("select-preview-value"))}function i(){t(document).on("change","[data-select-preview]",e)}return{init:i}}(jQuery),Aligni.SelectPreview.init();var Aligni=window.Aligni||{};Aligni.SelectableRows=function(t){var e=function(e){this.$selectable=t(e),this.$selectableSubmit=this.$selectable.find("[data-al-selectable-rows-action]"),this.triggerSelector="[data-al-selectable-rows-trigger]",this.checkboxSelector="input:checkbox[data-al-selectable-rows-checkbox]"};return e.prototype={init:function(){var e=this;this.$selectable.off("click",this.triggerSelector),this.$selectable.on("click",this.triggerSelector,(function(t){t.preventDefault(),e.$selectable.toggleClass("selectable-active"),e.resetCheckboxes(),e.unhighlightRows(),e.disableSubmit(),e.triggerEvents()})),this.$selectable.find(".selectable-check").each((function(){var i=t(this);i.off("change",e.checkboxSelector),i.on("change",e.checkboxSelector,(function(){var i=t(this).data("al-selectable-rows-checkbox"),n=t(this).parents("tr"),r=n.next();n.toggleClass("warning"),r.hasClass("child-row")&&r.toggleClass("warning"),t(this).is(":checked")?(e.disableAllCheckboxes(),e.enableCheckboxGroup(i)):1===e.$selectable.find(e.checkboxSelector+":checked").size()?e.enableCheckboxGroup(i):e.enableUncheckedCheckboxes(),2===e.$selectable.find(e.checkboxSelector+":checked").size()?(e.enableSubmit(),e.disableUncheckedCheckboxes(),e.$selectable.find(e.checkboxSelector+":checked").each((function(e,i){++e,t("[data-al-selectable-rows-source="+e+"]").val(t(i).val())}))):e.disableSubmit()}))}))},resetCheckboxes:function(){this.$selectable.find(this.checkboxSelector).attr("checked",!1).attr("disabled",!1).parent().removeAttr("disabled")},unhighlightRows:function(){this.$selectable.find("tr").removeClass("warning")},disableSubmit:function(){this.$selectableSubmit.addClass("disabled").attr("disabled",!0)},enableSubmit:function(){this.$selectableSubmit.removeClass("disabled").removeAttr("disabled")},disableAllCheckboxes:function(){this.disableCheckboxes(this.$selectable.find(this.checkboxSelector))},disableUncheckedCheckboxes:function(){this.disableCheckboxes(this.$selectable.find(this.checkboxSelector+":not(:checked)"))},enableUncheckedCheckboxes:function(){this.enableCheckboxes(this.$selectable.find(this.checkboxSelector+":not(:checked)"))},enableCheckboxGroup:function(t){this.enableCheckboxes(this.$selectable.find(this.checkboxSelector+"[data-al-selectable-rows-checkbox='"+t+"']"))},enableCheckboxes:function(t){t.removeAttr("disabled").parent().removeAttr("disabled")},disableCheckboxes:function(t){t.attr("disabled",!0).parent().attr("disabled",!0)},triggerEvents:function(){this.$selectable.hasClass("selectable-active")?this.$selectable.trigger({type:"alSelectableRowsShown",message:"Aligni selectable rows UI shown.",time:new Date}):this.$selectable.trigger({type:"alSelectableRowsHidden",message:"Aligni selectable rows UI hidden.",time:new Date})}},e.init=function(){t("[data-al-selectable-rows]").each((function(t,e){new Aligni.SelectableRows(e).init()}))},e}(jQuery),jQuery(Aligni.SelectableRows.init),$(document).on("ajaxSuccess",Aligni.SelectableRows.init);var Aligni=window.Aligni||{};Aligni.ShowWhen=function(t){function e(t,e,i){i.some((function(t){return String(t)===String(e)}))?t.show():t.hide()}function i(){t("[data-show-when-target]").each((function(){var i=t(this),n=i.data("show-when-target"),r=t(n),o=i.data("show-when-values");r.on("input propertychange",(function(){e(i,r.val(),o)})),e(i,r.val(),o)}))}return{init:i}}(jQuery),$(document).on("turbo:load",Aligni.ShowWhen.init);var Aligni=window.Aligni||{};Aligni.Slider=function(t){function e(){var e=t("[data-slider]"),i=t("[data-slider-input]"),n=i.data("slider-input"),r=i.data("slider-min"),o=i.data("slider-max"),s=(i.val(),function(){e.slider("value",i.val())}),a=function(t){t.preventDefault(),i.val(n),i.trigger("input")},l=function(){c()?e.data("slider-valid",!1):e.data("slider-valid",!0)},c=function(){var t=parseInt(i.val()||0);return t<r||t>o||0==t};e.length&&(e.slider({range:!1,min:r,max:o,value:n,slide:function(t,e){i.val(e.value),l()},create:function(){e.data("slider-valid",!0),t(".ui-slider-handle").attr("tabindex","-1")}}),i.on("input",(function(){s(),l()})),t("[data-slider-reset]").on("click",a))}return{init:e}}(jQuery),jQuery(Aligni.Slider.init),$(document).on("ajaxSuccess",Aligni.Slider.init);var Aligni=window.Aligni||{};Aligni.sortable=function(t,e){var i=$(t),n=$(t).parents("div:first"),r="sortable-original",o="sortable-placeholder",s=function(t,e){e.item.show().addClass(r)},a=function(t,e){e.item.removeClass(r)},l=function(t,r){$.ajax({type:"POST",url:e,data:{list:c(i),item_id:r.item.data("sortable-id"),position:r.item.index()+1},beforeSend:function(){n.mask("Saving order...")},complete:function(){n.unmask()}})},c=function(t){return t.attr("data-sortable-path")?t.sortable("toArray",{attribute:"data-sortable-id"}):t.sortable("toArray")},u=function(t,e){var i=e.children(),n=e.clone();return n.children().each((function(t,e){$(e).width(i.eq(t).outerWidth())})),n};i.sortable({update:l,start:s,stop:a,helper:u,handle:".handle",placeholder:o,opacity:.5,containment:"document",items:"> *:not(.no-sortable)"})},$(document).on("turbo:load ajaxSuccess",(function(){$("[data-sortable-path]").each((function(){Aligni.sortable($(this),$(this).data("sortable-path"))}))}))
;var Aligni=window.Aligni||{};Aligni.sortableSimple=function(t,e){var i=$(t);update=function(t,n){list=i.sortable("toArray"),$.ajax({type:"POST",url:e,data:{list:list,item_id:n.item.data("sortable-id"),position:n.item.index()+1}}),i.parent().mask("Saving order...")},fixHelper=function(t,e){var i=e.children(),n=e.clone();return n.children().each((function(t,e){$(e).width(i.eq(t).outerWidth())})),n},i.sortable({update:update,helper:fixHelper,opacity:.5,containment:"document",handle:".handle"}).disableSelection()};var Aligni=window.Aligni||{};Aligni.StateCheck=function(t){function e(t){confirm('Purchase state changed to "'+t+'". Press OK to reload the page.')&&window.location.reload()}function i(t,e){if(0!=t){var i=n(t)+" Press OK to go to the index page.";confirm(i)&&(window.location.href=e)}}function n(t){return 404==t?"Purchase no longer exists.":"Sorry, an error has occurred."}function r(){a=!1}function o(n,o,l){var c=null,u=function(t){if(null!==t){var i=t.state;a&&i!==o&&(clearInterval(c),e(i))}};c=setInterval((function(){t.ajax({type:"GET",url:n,success:u,error:function(t){r(),i(t.status,l)},dataType:"json"})}),s),t(document).on("click","[data-stop-polling='true']",r)}var s=1e4,a=!0;return{init:o}}(jQuery);var Aligni=window.Aligni||{};Aligni.SublocationChange=function(t){function e(){t(document).on("change","#inventory_sublocation_change",(function(){var e=this,n=t("option:selected",this).val();i(e,n)}))}var i=function(e,i){var n="/inventory_sublocations/"+i+"/change";t.ajax({method:"GET",dataType:"script",url:n})};return{init:e}}(jQuery),Aligni.SublocationChange.init();var Aligni=window.Aligni||{};Aligni.SubmitOnChangeForm=function(t){function e(){return"[data-submit-on-change='true'] input:not([type=text],[type=search],"+r+")"}function i(e){e.preventDefault(),t(this).prop("disabled",!0).activity(),t("form#"+t(this).data("submit-on-click")).submit()}function n(){t(document).on("change","[data-submit-on-change='true'] select:not("+r+"), "+e(),Aligni.ParentForm.submit),t(document).on("keyup","[data-submit-on-change='true'] input:not("+r+")",_.debounce(Aligni.ParentForm.submit,300)),t(document).on("click","a[data-submit-on-click]",i)}var r="[data-submit-on-change-exclude=true]";return{init:n}}(jQuery),Aligni.SubmitOnChangeForm.init();var Aligni=window.Aligni||{};Aligni.SummaryTooltips=function(t){function e(){t("[data-al-summary-tooltip]:not(.tooltipstered)").each((function(){t(this).tooltipster({theme:"tooltipster-summary-theme",content:"Loading...",contentAsHTML:!0,interactive:!0,trigger:"click",updateAnimation:!1,functionBefore:function(e,i){var n=t(i.origin);!0!==n.data("loaded")&&t.ajax({type:"GET",url:n.data("al-summary-tooltip"),success:function(t){e.content(t),n.data("loaded",!0)}})}})}))}return{init:e}}(jQuery),jQuery(Aligni.SummaryTooltips.init),jQuery(document).on("ajaxSuccess",Aligni.SummaryTooltips.init);var Aligni=window.Aligni||{};Aligni.SyncInput=function(t){function e(){t(document).on("change","[data-"+i+"]",(function(){var e=t(this).val(),n="[data-"+i+"='"+t(this).data(i)+"']",r=t("select"+n),o=t("input:checkbox"+n);r.val(e),o.attr("checked",this.checked)}))}var i="sync-on-change";return{init:e}}(jQuery),Aligni.SyncInput.init();var Aligni=window.Aligni||{};Aligni.TabDropdown=function(t){function e(){return t("[data-tab-dropdown]")}function i(){return e().find("a[data-tab-dropdown-toggle]:not(ul.dropdown-menu a)")}function n(t){var e=i(),n=e.filter("[data-tab-dropdown-toggle='"+t+"']");n.length>0&&(e.addClass("hide"),n.removeClass("hide"))}function r(){function r(e){e.preventDefault(),n(t(this).data("tab-dropdown-toggle"))}var o=e();i();o.find(".dropdown-menu").find("a").on("click",r)}return{init:r,activateTabToggle:n}}(jQuery),jQuery,jQuery(Aligni.TabDropdown.init);var Aligni=window.Aligni||{};Aligni.Tables=Aligni.Tables||{},Aligni.Tables.focusableTableGroups=function(){function t(t){if(r.get(0)){var n=$(t.target);$.contains(r.get(0),n.get(0))?e(n):i()}}function e(t){var e=t.closest(s);e.hasClass(o)||(e.is(n)||i(),e.addClass(o),n=e)}function i(){void 0!==n&&n.removeClass(o)}var n,r=$(".js-editable-table-container"),o="has-focus",s="tbody",a=".form-control-editable, [data-focusable-elements] a";$(document).on("click",t),$(a).on("focus",t)},Aligni.Tables.makeTableScrollable=function(){function t(){n.height()>a&&n.height()<$(document).height()?(r.css("max-height",i()).addClass(l),r.parents(".page-wrap").addClass("no-b-padding")):(r.css("max-height","").removeClass(l),r.parents(".page-wrap").removeClass("no-b-padding"))}function e(){var t=0;return o.filter(":visible").each((function(){var e=$(this).outerHeight(!0);t+=e})),t}function i(){return n.height()-e()-s}var n=$(window),r=$(".js-scrollable-table-container"),o=$("[data-exclude-height]"),s=20,a=940,l="has-scrollable-table";0!==r.length&&(App.handleResize(t),t())},Aligni.Tables.adjustWidthOfSelectElements=function(){$(".form-control-width-adjust").each((function(){$(this).change((function(){var t=7*$(this).children("option:selected").text().length+57;$(this).css("width",t+"px")}))}))},Aligni.Tables.initTableLayoutToggle=function(t){function e(){var e=$(this),i=e.data(o),a=void 0!==e.data(s)?$(e.data(s)):e.closest(r);"condensed"!=i?a.removeClass(n):a.addClass(n),docCookies.setItem(t,i)}var i="[data-table-layout-mode]",n="table-condensed",r=".table",o="table-layout-mode",s="target";$(document).on("change",i,e)},jQuery((function(){Aligni.Tables.focusableTableGroups(),Aligni.Tables.makeTableScrollable(),Aligni.Tables.adjustWidthOfSelectElements()}));var Aligni=window.Aligni||{};Aligni.Tabs=function(t){function e(){var e=t(this);if(this.hasAttribute("href")&&-1==e.attr("href").indexOf("add")){var i=e.attr("href");t("div.part-revision ul.dropdown-menu").find("a").each((function(){t(this).attr("href").split("#")[1]?t(this).attr("href",t(this).attr("href").replace(t(this).attr("href").split("#")[1],e.attr("href").split("#")[1])):t(this).attr("href",t(this).attr("href")+i)}))}}function i(e){var i=t(e.target);return i.is("a")?i:i.closest("a")}function n(e){var n=i(e),r=n.attr("data-href"),o=n.attr("href"),s=t(".nav a[href='"+o+"'][data-tab-dropdown-toggle]:not(ul.dropdown-menu a)");t(".tab-content div.errorExplanation").remove(),void 0!==r?(n.activity(),s.activity(),t(o).empty(),t.get(r,_.merge(t.QueryString,{target:"tab"}),(function(e){t(o).html(e),n.activity(!1),s.activity(!1)}))):t(o).tab("show")}function r(e){if(!t(e.target).data("nested-tab"))try{window.location.hash=e.target.hash.replace("#","#"+f)}catch(t){Sentry.captureException(t,{extra:{hash:e.target.hash}})}}function o(){t("div.part-revision ul.dropdown-menu").find("a").each((function(){t(this).attr("href",t(this).attr("href").replace("#","#"+f))}))}function s(){var e=t("body").scrollTop();t("html, body").scrollTop(e)}function a(){t(".primary-tabs-action").addClass("in")}function l(){t(this).parent("li").hasClass("primary-tabs-action-origin")||t(".primary-tabs-action").removeClass("in")}function c(e,i){var n=e.replace(i,""),r=".nav a[href='"+n+"']:not(ul.dropdown-menu a)";Aligni.TabDropdown.activateTabToggle(n),t(r).tab("show")}function u(){t("div#details").addClass("in active")}function d(){var e=document.location.hash;e?(c(e,"tab_"),t("div.part-revision ul.dropdown-menu").find("a").each((function(){t(this).attr("href",t(this).attr("href")+e)})),"#tab_details"===e&&u()):u()}function h(){t("[data-show-active-tab='true']").each((function(e,i){t(i).find("a[data-active-tab='true']").tab("show")}))}function p(){t(document).on("click","[data-toggle=tab]",e),t(document).on("shown.bs.tab","a[data-toggle='tab'].dynamic_content_tab",n),t(document).on("click",".active [data-toggle=tab].dynamic_content_tab:not(ul.dropdown-menu a)",n),t(document).on("shown.bs.tab",".nav a",r),t(document).on("shown.bs.tab",".nav a",o),t(document).on("click",".nav a",s),t(document).on("shown.bs.tab",".primary-tabs-action-origin a",a),t(document).on("shown.bs.tab",".nav a",l),t(document).on("click","[data-show-tab]",(function(){var e=t(this).data("show-tab");t("[href='"+e+"']").tab("show")})),Aligni.Environment.isTest()&&t(document).on("shown.bs.tab",".nav a",(function(e){var n=i(e).attr("href");t("#test-messages").append("<p>Tab shown: "+n+"</p>")}))}var f="tab_";return{init:p,showDetailsTab:u,showActiveTab:h,enableLinkToTab:d}}(jQuery),Aligni.Tabs.init(),jQuery(Aligni.Tabs.showActiveTab),jQuery(Aligni.Tabs.enableLinkToTab);var Aligni=window.Aligni||{};Aligni.Tagsinput=function(t){function e(e,i){var n=t(e),r=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("text"),queryTokenizer:Bloodhound.tokenizers.whitespace,identify:function(t){return t.value},local:i}),o=function(){var t=JSON.parse("["+n.val()+"]"),e=r.get(t);_.each(e,(function(t){n.tagsinput("add",t)}))},s=function(){n.tagsinput("removeAll")};r.initialize(),n.tagsinput({tagClass:function(t){return t.tagClass},itemValue:"value",itemText:"text",freeInput:!1,typeaheadjs:[{minLength:0,classNames:{menu:"tt-menu mock-data-width-12"}},{name:"suggestions",displayKey:"text",limit:100,templates:{suggestion:function(t){return"<span class='block "+t.tagClass+"'>"+t.text+"</span>"}},source:function(t,e){""===t?e(r.index.all()):r.search(t,e)}}]}),o(),t("[data-tagsinput-clear]").on("click",s)}return{init:e}}(jQuery);var Aligni=window.Aligni||{};Aligni.TasksDrawer=function(t){function e(e){t(r).unmask(),t(r).find(".drawer-body").html(e)}function i(){var i=t("[data-tasks-url]").data("tasks-url");t(r).mask("Loading tasks..."),t.get(i,e)}function n(){t(r).on("shown.bs.drawer",i)}var r="#tasks-drawer";return{init:n}}(jQuery),jQuery(document).on("turbo:load",Aligni.TasksDrawer.init);var Aligni=window.Aligni||{};Aligni.Tips=function(t){function e(){pageAttr("aligni-page-tip")&&i()}function i(){var e=t("#aligni_modal"),i=pageAttr("aligni-page-tip");t.get(i,{target:"modal"},(function(t){e.html(t),e.modal("show")}))}return{init:e}}(jQuery),jQuery(Aligni.Tips.init);var Aligni=window.Aligni||{};Aligni.Togglable=function(t){function e(){t(document).on("click",".togglable",(function(){t(this).parent().find(".togglable").removeClass("active"),t(this).addClass("active")}))}return{init:e}}(jQuery),Aligni.Togglable.init();var Aligni=window.Aligni||{};Aligni.Toggle=function(t){function e(){t(document).on("change","[data-"+i+"]",(function(){var e=t(this).data(i),n=t(this).data("toggle-class")||"in";t(e).toggleClass(n)}))}var i="toggle-on-change";return{init:e}}(jQuery),Aligni.Toggle.init();var Aligni=window.Aligni||{};Aligni.ToggleInputState=function(t){function e(e){var n=e.data("toggle-input-field").state,r=t(".form-control["+("data-input-state="+n)+"]");e.parent().toggleClass("hide"),r.toggleClass("hide"),i(r)}function i(t){(t.is("input")?t:t.find("input:first")).attr("disabled",!1)}function n(){t(document).on("click","[data-toggle-input-field]",(function(){t(this).data("toggle-input-field").confirm?new r(t(this)).init():e(t(this))}))}var r=function(t){this.$element=t,this.options=t.data("toggle-input-field"),this.questionText=this.options.question_text,this.position=this.options.position||"bottom"};return r.prototype={init:function(){var t=this;this.$element.fastConfirm({position:t.position,questionText:t.questionText,onProceed:function(){return e(t.$element),t.$element.fastConfirm("close"),!1}})}},{init:n}}(jQuery),Aligni.ToggleInputState.init();var Aligni=window.Aligni||{};Aligni.ToggleTableColumns=function(t){function e(){t(document).on("click","[data-toggle-table-columns]",(function(e){var i=t(e.target).closest(".panel");t(i).find("[data-toggle-table-column]").toggle()}))}return{init:e}}(jQuery),Aligni.ToggleTableColumns.init();var Aligni=window.Aligni||{};Aligni.Tooltips=function(t){function e(){var e=t(this),i=e.data("tooltip-placement"),n=e.data("tooltip-max-width"),r=e.data("tooltip-delay");e.tooltipster({side:""===i?"top":i,maxWidth:n,delay:""===r?200:r,contentAsHTML:!0,multiple:!0})}function i(){t("[data-toggle=tooltip]").each(e)}return{init:i,initTooltip:e}}(jQuery),jQuery(document).on("ajaxSuccess turbo:frame-render turbo:load",(function(){$(".tooltip-display-unit").tooltipster({theme:"tooltip-display-unit",debug:!1}),Aligni.Tooltips.init()}));var Aligni=window.Aligni||{};Aligni.Util=Aligni.Util||{},Aligni.Util.equalizeHeights=function(t){var e=0;$(t).each((function(){thisHeight=$(this).height(),thisHeight>e&&(e=thisHeight)})),$(t).height(e)},Aligni.Util.tabindex=function(t){_.each($(t),(function(t,e){$(t).attr("tabindex",e+1)}))},Aligni.Util.numberer=function(t){_.each($(t),(function(t,e){$(t).html(e+1)}))},Aligni.Util.activateVendorTab=function(t){var e=".nav a[href='#"+t+"']";$(e).parent("li").removeClass("active"),$(e).tab("show")},Aligni.Util.equalizeVendorElements=function(){var t="[data-vendor-element-equalize]",e=0;$(t).children().each((function(){thisHeight=$(this).height(),thisHeight>e&&(e=thisHeight)})),$(t).animate({height:e},500)},Aligni.Util.initPopUpHelpers=function(){var t=new AligniPopUp("quantity_helper"),e=new AligniPopUp("quote_helper");t.init(),e.init()},Aligni.Util.init=function(){Aligni.Util.equalizeHeights("[data-al-equalize-heights]")},jQuery(Aligni.Util.init),$(document).on("ajaxSuccess",Aligni.Util.init);var Aligni=window.Aligni||{};Aligni.ValueChangeObserver=function(t){function e(){var e=t(this).data("value-change-observer"),i=t(this).val();t(this).trigger({type:e!=i?"valueChanged":"valueReset"})}function i(){t(document).on("change","select[data-value-change-observer]",e),t(document).on("input propertychange","input[data-value-change-observer]",_.debounce(e,300))}return{init:i}}(jQuery),Aligni.ValueChangeObserver.init(),Aligni.VaultSelect=function(t){function e(){var e=t(o),i=t(s),n=t("#vault_reference_reference_type_part").is(":checked");i.hasClass("hide")||n?e.addClass("hide"):e.removeClass("hide")}function i(){var i=t(this),n=t(s);i.val()?n.addClass("hide"):(n.removeClass("hide"),n.find("[type='radio']:first").prop("checked",!0)),e()}function n(){t(document).on("change",r,i),t(document).on("change",s+" input",e)}var r="[data-vault-select] input",o="[data-part-revision-preview]",s="[data-reference-type-container]";return{init:n}}(jQuery),Aligni.VaultSelect.init();var Aligni=window.Aligni||{};Aligni.WarningPopup=function(t){function e(){return'<button\n        name="button"\n        type="submit"\n        class="close"\n        aria-hidden="true"\n        data-dismiss="clickover">\n        \xd7\n      </button>'}function i(t){return"<div>\n        "+e()+'\n\n        <div class="popover-content-inner scrollfix">\n          <p class="popover-body">\n            '+t+"\n          </p>\n        </div>\n      </div>"}function n(){t("[data-warning-popup-message]").each((function(){var e=i(t(this).data("warning-popup-message"));t(this).clickover({content:e,container:"body",template:"<div class='popover popover-warning'>\n                     <div class='arrow'></div>\n                     <div class=\"popover-content\">\n                     </div>\n                   </div>",html:!0,esc_close:!0,global_close:!0,placement:"bottom"})}))}return{init:n}}(jQuery),jQuery(Aligni.WarningPopup.init),$(document).on("ajaxSuccess",Aligni.WarningPopup.init);var Aligni=window.Aligni||{};Aligni.PartEditConfirmation=function(t){function e(e){return t("#confirm1").is(":checked")&&t("#confirm2").is(":checked")&&t("#confirm3").is(":checked")&&""!=e.find(".password").val()}function i(e){if(e){var i=t(e);return 0===i.length||!i.is(":checked")}return!1}function n(e){t(e).prop("disabled",!0)}function r(e){t(e).prop("disabled",!1)}function o(e,i){t(document).on("passwordConfirmed",e,(function(){r(i)})),t(document).on("passwordUnconfirmed",e,(function(){n(i)}))}function s(){var r=".al-edit-revision-confirmation",s="input[type='submit'][data-edit-confirmation='true']",a="form input#edit_revision_password";o(a,s),t(document).on("click",s,(function(){var n=t(this).closest("form");return i(t(this).data("edit-confirmation-precondition-checkbox"))||e(n)?(Aligni.Util.activity(t(this)),!0):(alert("You have to confirm that you understand consequences of your actions. Please check three confirmation checkboxes and enter your password."),!1)})),t(document).on("change",r,(function(){var e=t(a);t(r).not(":checked").length>0?(e.prop("disabled",!0),n(s)):e.prop("disabled",!1)}))}return{init:s}}(jQuery),Aligni.PartEditConfirmation.init();var Aligni=window.Aligni||{};Aligni.PartEquipmentItems=function(t){function e(){var e="[data-target='#al-table-content-equipment']",i="div#al-table-content-equipment";t(document).off("click",e),t(document).on("click",e,(function(){var e=this,n=t(this).data("al-path");t(this).activity(),t.get(n,(function(n){t(e).activity(!1),t(i).html(n)}))}))}function i(){e()}return{init:i}}(jQuery),Aligni.PartEquipmentItems.init();var Aligni=window.Aligni||{};Aligni.PartForm=function(){function t(){function t(){var t=$(this).find("option:selected");t.length&&new Aligni.populateSelect(t).init()}function e(){var t=$("select#part_manufacturer_family_id"),e=t.find("option").length,i=t.parents("div.form-group");e>1?i.removeClass("hide"):i.addClass("hide")}$(document).on("change","select#part_manufacturer_id",t),$(document).on("selectPopulated","select#part_manufacturer_family_id",e)}return{init:t}}();var Aligni=window.Aligni||{};Aligni.PartParametersUpdate=function(){function t(t){var e=t.partTypeSelector,i=t.url,n=t.partId,r=t.originalPartId;$("body").on("change",e,(function(){$(this).parents("div:first").activity(),$.get(i,{parttype_id:$(this).val(),part_id:n,orig_part_id:r})}))}return{init:t}}();var Aligni=window.Aligni||{};Aligni.PartPreview=function(t){var e=function(e){this.$input=e,this.$previewElement=t("div.modal-body div#preview"),this.previewURI=e.data("aligni-part-preview-path")||"/part/showcase"};return e.prototype={init:function(){var e=this;this.unbindOnAutocompleteSelected(),this.$input.on("autocompleteSelected",(function(t){var i=t.ui.item.data.partnumber;e.unbindOnBlur(),e.$input.val(i),e.getPreview(i)})),this.unbindOnBlur(),this.$input.on("blur",(function(){var i=t(this).val();e.getPreview(i)}))},getPreview:function(e,i){var n=this,r={part_number:e,revision_id:i};n.$previewElement.activity(),t.get(this.previewURI,r,(function(t){n.$previewElement.html(t),n.$previewElement.activity(!1),n.$input.trigger({type:"partPreviewRendered",message:"Part preview rendered.",time:new Date})}))},unbindOnAutocompleteSelected:function(){this.$input.off("autocompleteSelected")},unbindOnBlur:function(){this.$input.off("blur")}},e.init=function(){t("[data-aligni-part-preview='true']").each((function(){new Aligni.PartPreview(t(this)).init(),t(".equal-height").matchHeight({byRow:!0})}))},e}(jQuery),jQuery(Aligni.PartPreview.init),$(document).on("ajaxSuccess",Aligni.PartPreview.init);var Aligni=window.Aligni||{};Aligni.PartQuote=function(t){function e(){t("body").hasClass("modal-open")&&(0!==t("form[id^='new']").length&&(t(document).on("focusin","#quote_price",(function(t){t.target.select()})),t("#quote_price").focus()))}return{priceFocus:e}}(jQuery),jQuery(Aligni.PartQuote.priceFocus),jQuery(document).on("ajaxSuccess",Aligni.PartQuote.priceFocus);var Aligni=window.Aligni||{};Aligni.PartUsage=function(t){function e(e){t("body").on("change","#current_revision",(function(){var i=t(this);this.checked?(t("div#current_revision_projects").show(),t("div#projects").hide()):(i.siblings("label").activity(),t("div#current_revision_projects").hide(),t("div#projects").show(),t.get(e,(function(e){i.siblings("label").activity(!1),t("div#projects").html(e)})))})),t(".usage_hidden").hide(),t("#check_visible").click((function(){t("tr.usage_visible").toggle(),t(this).hasClass("active")&&!t("#check_hidden").hasClass("active")?t("div.state").show():t("div.state").hide()})),t("#check_hidden").click((function(){t("tr.usage_hidden").toggle(),t(this).hasClass("active")&&!t("#check_visible").hasClass("active")?t("div.state").show():t("div.state").hide()}))}return{init:e}}(jQuery),$((function(){$("[data-part-usage-url]").each((function(){var t=$(this).data("part-usage-url");Aligni.PartUsage.init(t)}))}));var Aligni=window.Aligni||{};Aligni.PartRevision=Aligni.PartRevision||{},Aligni.PartRevision.Release=function(t){var e=function(){this.disposeInventorySelector="input.dispose",this.keepInventorySelector="input.keep",this.upRevAncestorSelector=".al-up-rev-ancestor",this.keepRevAncestorSelector=".al-keep-rev-ancestor",this.ancestorDispositionSelector=".al-up-rev-ancestor, .al-keep-rev-ancestor",this.draftPartAncestorsSelector="[data-part-ancestor-released=false]",this.releasedPartAncestorsSelector="[data-part-ancestor-released=true]",this.setAllUpRevSelector=".al-set-all-up-rev",this.setAllKeepRevSelector=".al-set-all-keep-rev",this.partNumberConfirmationInput=".al-ancestor-up-rev-confirmation #part_number_confirmation",this.ancestorChangesUiSelector=".al-ancestor-changes-ui",this.partNumberConfirmationLabelSelector="label[for='part_number_confirmation']"};return e.prototype={init:function(){var e=this;this.updateUpAncestorsCount(),this.checkAncestors(),this.confirmRelease(),t(document).on("click",this.setAllUpRevSelector,(function(){return t(e.upRevAncestorSelector).prop("checked",!0),e.updateUpAncestorsCount(),!1})),t(document).on("click",this.setAllKeepRevSelector,(function(){return t(e.keepRevAncestorSelector).prop("checked",!0),e.updateUpAncestorsCount(),!1})),t(document).on("change",this.ancestorDispositionSelector,(function(){e.updateUpAncestorsCount()})),t(document).on("change",this.disposeInventorySelector,(function(){var e=t(this).parents("tr:first").next("tr");this.checked&&(e.removeClass("hide"),e.find("input").prop("disabled",!1))})),t(document).on("change",this.keepInventorySelector,(function(){var e=t(this).parents("tr:first").next("tr");this.checked&&(e.addClass("hide"),e.find("input").prop("disabled",!0))}))},checkAncestors:function(){t(this.ancestorDispositionSelector).length>0&&this.disableSubmit()},checkAncestorChanges:function(){var e=t(this.upRevAncestorSelector+":checked").length>0,i=t(this.partNumberConfirmationInput);e?(t(this.ancestorChangesUiSelector).show(),t(this.partNumberConfirmationLabelSelector).text("Enter the part number of this assembly to confirm these changes."),i.prop("disabled",!0)):(t(this.ancestorChangesUiSelector).hide(),t(this.partNumberConfirmationLabelSelector).text("Enter the part number of this assembly to confirm."),i.prop("disabled",!1))},numberOfDraftUpRevs:function(){return t(this.upRevAncestorSelector+this.draftPartAncestorsSelector+":checked").length},numberOfReleasedUpRevs:function(){return t(this.upRevAncestorSelector+this.releasedPartAncestorsSelector+":checked").length},numberOfDraftKeeps:function(){return t(this.keepRevAncestorSelector+this.draftPartAncestorsSelector+":checked").length},numberOfReleasedKeeps:function(){return t(this.keepRevAncestorSelector+this.releasedPartAncestorsSelector+":checked").length},updateUpAncestorsCount:function(){0==this.numberOfDraftUpRevs()&&0==this.numberOfReleasedUpRevs()?t("div.al-up-rev-notice").hide():t("div.al-up-rev-notice").show(),0==this.numberOfDraftKeeps()&&0==this.numberOfReleasedKeeps()?t("div.al-keep-rev-notice").hide():t("div.al-keep-rev-notice").show(),t("span.al-keep-draft-ancestors-count").text(pluralize("draft assembly",this.numberOfDraftKeeps(),!0)),t("span.al-keep-released-ancestors-count").text(pluralize("released assembly",this.numberOfReleasedKeeps(),!0)),t("span.al-up-draft-ancestors-count").text(pluralize("draft assembly",this.numberOfDraftUpRevs(),!0)),t("span.al-up-released-ancestors-count").text(pluralize("released assembly",this.numberOfReleasedUpRevs(),!0)),this.checkAncestorChanges()},confirmRelease:function(){var e=this,i="input[data='disposition-confirmation']",n=t(this.partNumberConfirmationInput);t(document).on("change",i,(function(){t(i).not(":checked").length>0?(n.prop("disabled",!0),e.disableSubmit()):(n.prop("disabled",!1),e.confirmPartNumber())})),n.on("inputValueConfirmed",(function(){e.enableSubmit()})),n.on("inputValueUnconfirmed",(function(){e.disableSubmit()}))},confirmPartNumber:function(){this.partNumberConfirmed()?this.enableSubmit():this.disableSubmit()},partNumberConfirmed:function(){var e=t(this.partNumberConfirmationInput);return 0!==e.val().length&&e.val()==e.data("input-confirmation")},enableSubmit:function(){var e=t("div.wizard-action input[type='submit']");e.prop("disabled",!1),e.data("enabled",!0)},disableSubmit:function(){var e=t("div.wizard-action input[type='submit']");e.prop("disabled",!0),e.data("enabled",!1)}},e}(jQuery),jQuery((function(){"part_revisions/release"==pageAttr("aligni-page")&&(new Aligni.PartRevision.Release).init()}));var Aligni=window.Aligni||{};Aligni.InventoryUnitDisplayUnitChange=function(t){function e(){var e="select#inventory_unit_display_unit_id";t(document).on("change",e,(function(){var e=t(this).find(":selected"),i=e.data("display-quantity"),n=e.data("display-cost-per-unit");t("#inventory_unit_quantity").val(i),t("#inventory_unit_cost_per_unit").val(n)}))}return{init:e}}(jQuery),$(document).on("turbo:load",Aligni.InventoryUnitDisplayUnitChange.init());var Aligni=window.Aligni||{};Aligni.DisplayUnitQuantityConverter=function(t){function e(t){var e=t.parents(".unit-convertor").find(".unit-convertor-popup"),i=parseFloat(t.val()),n=parseFloat(e.data("conversion-factor")),r=e.data("convert-to-integer"),o="";0!=i&&(0==i.length||isNaN(i)?o="":(o=parseFloat((i/n).toFixed(4)),r&&(o=Math.round(o)))),e.find(".unit-convertor-converted-value").html(o)}function i(){t(document).on("focus",".unit-convertor-trigger",(function(){t(this).parents(".unit-convertor").find(".unit-convertor-popup").addClass("active")})),t(document).on("blur",".unit-convertor-trigger",(function(){t(this).parents(".unit-convertor").find(".unit-convertor-popup").removeClass("active")})),t(document).on("focus keyup",".unit-convertor-trigger",(function(){e(t(this))}))}return{init:i}}(jQuery),Aligni.DisplayUnitQuantityConverter.init();var Aligni=window.Aligni||{};Aligni.InventoryUnitSublocationChange=function(t){function e(){var e="select#inventory_unit_inventory_sublocation_id";t("body").off("change",e),t("body").on("change",e,(function(){var e=this,i=t("option:selected",this).val(),n=t(this).data("inventory-unit-id");t.ajax({type:"GET",dataType:"script",data:{id:i,inventory_unit_id:n},beforeSend:function(){t(e).parent("div").activity()},complete:function(){t(e).parent("div").activity(!1)},url:"/inventory_units/sublocation_change"})}))}return{init:e}}(jQuery),$((function(){Aligni.InventoryUnitSublocationChange.init()}));var Aligni=window.Aligni||{};Aligni.InventoryLocation=Aligni.InventoryLocation||{},Aligni.InventoryLocation.Select=function(){function t(t){return $("<option></option").text(t).val("")}function e(e){var i=e.data("includeBlank");i.length>0&&e.append(t(i))}function i(t){return t.find("option:selected").data("inventory-sublocations-path")}function n(t,e){t.parent("div.select").activity(),$.get(e,(function(e){e.length>0&&$.each(e,(function(){t.append($("<option />").val(this.id).text(this.name))})),t.parent("div.select").activity(!1)}))}function r(){$(document).on("change","select[data-name='inventory-location']",(function(){var t=$("select[data-name='inventory-sublocation']");if(t.length>0){var r=i($(this));t.empty(),r&&r.length>0&&n(t,r),e(t)}}))}return{init:r}}(),Aligni.InventoryLocation.Select.init();var Aligni=window.Aligni||{};Aligni.InventorySublocationSelect=function(t){var e=function(e){this.$input=e,this.$binContainer=t("[data-aligni-inventory-sublocation-bin]")};return e.prototype={init:function(){var t=this;this.toggleBinContainer(),this.$input.off("change"),this.$input.on("change",(function(){t.toggleBinContainer()}))},toggleBinContainer:function(){this.$input.find("option:selected").data("has-bins")?(this.$binContainer.removeClass("hide"),this.$binContainer.find("input:text").attr("disabled",!1)):(this.$binContainer.addClass("hide"),this.$binContainer.find("input:text").attr("disabled",!0))}},e}(jQuery),$(document).on("ajaxSuccess",(function(){$("[data-aligni-inventory-sublocation-select]").each((function(){new Aligni.InventorySublocationSelect($(this)).init()}))}));var Autocomplete=function(t){var e=function(e,i){this.fieldSelector=e,this.widthCssClass=i,this.options={source:t(this.fieldSelector).data("autocomplete-url"),params:t(this.fieldSelector).data("autocomplete-params"),position:{my:"right top",at:"right bottom"},autoFocus:!0}};return e.prototype={init:function(){var e=this;Aligni.Autocomplete.createCategoryExtension(this),t(this.fieldSelector).categoryAutocomplete({source:e.setSource(),position:this.options.position,autoFocus:this.options.autoFocus,select:function(e,i){return t(this).val(i.item.data),t(this).trigger({type:"autocompleteSelected",message:"Autocomplete item selected.",ui:i,time:new Date}),!1}}).data("custom-categoryAutocomplete")._renderItem=e.renderItem(),t(this.fieldSelector).categoryAutocomplete("widget").addClass(e.widthCssClass).addClass("scrollable"),Aligni.Environment.isTest()&&t(".modal-header").append("<p>Autocomplete initialized</p>")},setSource:function(){var e=this.options.source;return this.options.params&&(e+="?"+t.param(this.options.params)),e},renderItem:function(){return function(e,i){return t("<li>").data("item.autocomplete",i).append(i.html).appendTo(e)}}},e}(jQuery),QuickSearchAutocomplete=function(t){var e=function(e,i){this.field=t(e),this.quicksearchFieldSelector=e,this.widthCssClass=i,this.options={source:this.field.data("autocomplete-url"),position:{my:"right top",at:"right bottom"},autoFocus:!0,focusOnKey:this.field.data("search-focus-on-key")}};return e.prototype={init:function(){var e=this;Aligni.Autocomplete.createCategoryExtension(this),t(this.quicksearchFieldSelector).categoryAutocomplete({source:this.options.source,position:this.options.position,autoFocus:this.options.autoFocus,select:function(t,e){window.location.href=e.item.url},change:function(){t(this).val(""),t(this).categoryAutocomplete("search","")}}).data("custom-categoryAutocomplete")._renderItem=e.renderItem(),this.options.focusOnKey&&this.focusOnQuestionMarkKey()},focusOnQuestionMarkKey:function(){var e=this;t(document).keydown((function(i){var n=(i.target||i.srcElement).tagName,r=!("INPUT"==n||"SELECT"==n||"TEXTAREA"==n),o=(83==i.which||191==i.which)&&!i.shiftKey;if(r&&o)return t(e.quicksearchFieldSelector).parents("form.search-form").addClass("open"),t(e.quicksearchFieldSelector).focus(),!1}))},renderItem:function(){return function(e,i){return t("<li>").data("item.autocomplete",i).append(i.html).appendTo(e)}}},e}(jQuery),Aligni=window.Aligni||{};Aligni.Account=Aligni.Account||{};var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();Aligni.Account.LabelPrinting=function(){function t(e){_classCallCheck(this,t),this.printers=e.label.framework.getPrinters(),this.env=e.label.framework.checkEnvironment(),this.DLSserviceURI="https://127.0.0.1:41951/DYMO/DLS/Printing/StatusConnected",this.DCDserviceURI="https://127.0.0.1:41951/api/addin/checkApiStatus"}return _createClass(t,[{key:"renderStatus",value:function(){this.checkBrowserSupport(),this.checkFrameworkInstalled(),this.checkWebServicePresent(),this.checkDLS(),this.checkDCD(),this.renderAvailablePrinters(),this.renderErrorDetails()}},{key:"renderAvailablePrinters",value:function(){if(this.printers.length>0){var t=this.printers.map((function(t){return t.name})).join(", ");$("#available-printers").html(t)}else $("#available-printers").html("N/A")}},{key:"checkBrowserSupport",value:function(){this.selector="#browser-supported",this.env.isBrowserSupported?this.pass():this.fail()}},{key:"checkFrameworkInstalled",value:function(){this.selector="#framework-installed",this.env.isFrameworkInstalled?this.pass():this.fail()}},{key:"checkWebServicePresent",value:function(){this.selector="#web-service-present",this.env.isWebServicePresent?this.pass():this.fail()}},{key:"checkDLS",value:function(){$.ajax({url:this.DLSserviceURI,type:"GET",complete:function(t,e){"success"===e&&$("span#dls").html("Yes")}})}},{key:"checkDCD",value:function(){$.ajax({url:this.DCDserviceURI,type:"GET",complete:function(t,e){"success"===e&&$("span#dcd").html("Yes")}})}},{key:"checkLabelVersion",value:function(t){var e=Aligni.LabelPrinting.labelVersion(t);$.ajax({url:this.DLSserviceURI,type:"GET",complete:function(t,i){"success"===i&&("DCD"===e?$("#label-version-warning").removeClass("hide"):$("#label-version-warning").addClass("hide"))}})}},{key:"renderErrorDetails",value:function(){
var t="\n      "+this.env.errorDetails+"<br>\n      Please make sure your DYMO printer is connected and that the DYMO Label\n      Web Service is running on your system.<br>\n      For more information, please refer to our documentation: https://docs.aligni.com/tools/label-printing\n    ";this.env.errorDetails.length>0?$("div#error-details").html(t).removeClass("hide"):$("div#error-details").html("").addClass("hide")}},{key:"pass",value:function(){$(this.selector+" .al-true").removeClass("hide"),$(this.selector+" .al-false").addClass("hide")}},{key:"fail",value:function(){$(this.selector+" .al-true").addClass("hide"),$(this.selector+" .al-false").removeClass("hide")}}]),t}();var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();Aligni.Account.Environment=function(){function t(e,i){_classCallCheck(this,t),this.platform=e.description,i&&(this.labelPrinting=new Aligni.Account.LabelPrinting(i))}return _createClass(t,[{key:"render",value:function(){$("#platform").html(this.platform),this.labelPrinting&&this.labelPrinting.renderStatus()}}]),t}();var Aligni=window.Aligni||{};Aligni.Build=Aligni.Build||{},Aligni.Build.Calendar=function(){function t(){$("body").on("mouseenter","rect[data-aligni-icr]",(function(){for(var t=$(this).attr("data-aligni-icr").split(" "),e=0;e<t.length;e++)$("tr[data-aligni-icr='"+t[e]+"']").addClass("highlight")})),$("body").on("mouseleave","rect[data-aligni-icr]",(function(){for(var t=$(this).attr("data-aligni-icr").split(" "),e=0;e<t.length;e++)$("tr[data-aligni-icr='"+t[e]+"']").removeClass("highlight")})),$("body").on("mouseenter","tr[data-aligni-icr]",(function(){$("rect[data-aligni-icr~='"+$(this).attr("data-aligni-icr")+"']").each((function(){var t=$(this).attr("class");$(this).attr("class",t+" highlight")}))})),$("body").on("mouseleave","tr[data-aligni-icr]",(function(){$("rect[data-aligni-icr~='"+$(this).attr("data-aligni-icr")+"']").each((function(){var t=$(this).attr("class").replace(/highlight/g,"");$(this).attr("class",t)}))}))}return{init:t}}(),Aligni.Build.Reservation=function(t){var e=function(){this.inputSelector="input.al-reservation-quantity:not(:disabled)"};return e.prototype={init:function(){var e=this;this.updateTabIndexes(),t("div#parts").off("focus",this.inputSelector),t("div#parts").on("focus",this.inputSelector,(function(){e.$input=t(this),e.isValid()&&t(this).data("current-quantity",t(this).val())})),t("div#parts").off("change",this.inputSelector),t("div#parts").on("change",this.inputSelector,(function(){e.$input=t(this),e.submit()}))},updateTabIndexes:function(){Aligni.Util.tabindex(this.inputSelector)},submit:function(){if(this.validate(),this.isValid()){if(this.hideError(),!this.persisted()&&this.blankQuantity())return!1;this.submitRequest()}else this.showError()},validate:function(){var t=this.quantity(),e=parseFloat(t),i=this.$input.data("allows-fractional"),n=/^((\.\d+)|(\d+(\.\d+)?))$/;if(this.removeError(),t.length>0)if(i){if(isNaN(t))return this.addError("Must be numeric."),!1;if(!n.test(t))return this.addError("Must be a valid decimal number."),!1}else if(!isInteger(t))return this.addError("Must be an integer."),!1;return e<=0?(this.addError("Must be a number greater than 0."),!1):e>this.allocatedQuantity()?(this.addError("Exceeds allocated quantity."),!1):!(e>this.quantityAvailableForReservation())||(this.addError("Exceeds available quantity."),!1)},allocatedQuantity:function(){var e=this.$input.data("build-allocation-item-id");return t("#al-over-under-"+e).find("[data-quantity-allocated]").data("quantity-allocated")},quantityAvailableForReservation:function(){return(parseFloat(this.$input.data("current-quantity"))||0)+parseFloat(this.$input.data("quantity"))},persisted:function(){return this.$input.data("persisted")},quantity:function(){return this.$input.val()},blankQuantity:function(){return _.isEmpty(_.trim(this.quantity()))},submitRequest:function(){var e=this,i=this.$input.data("path"),n=this.$input.data("method"),r=this.$input.data("inventory-unit-id"),o=this.$input.data("render-part-columns"),s=this.$input.parents("tbody").find("td.row-number").find("span.number").text();t.ajax({url:i,type:n,dataType:"script",data:{build_reservation_item:{quantity_reserved:e.quantity()},inventory_unit_id:r,render_part_columns:o,row_number:s},beforeSend:function(){e.$input.parents("td").mask(),e.$input.parent("div.form-group").activity()}})},isValid:function(){return null==this.$input.data("reservation-error")},removeError:function(){this.$input.removeData("reservation-error")},addError:function(t){this.$input.data("reservation-error",t)},showError:function(){this.$inputHolder().addClass("has-error"),this.$errorHolder().addClass("block error-message-padding").removeClass("hide"),this.$errorHolder().html(this.$input.data("reservation-error"))},hideError:function(){this.$inputHolder().removeClass("has-error"),this.$errorHolder().removeClass("block error-message-padding").addClass("hide"),this.$errorHolder().empty()},$inputHolder:function(){return this.$input.parent("div")},$errorHolder:function(){return this.$input.siblings("span.al-reservation-error")}},e}(jQuery),Aligni.Build.Finalization=function(t){var e=function(){this.unitCostSelector="input.price_entry",this.$container=t("div.container")};return e.prototype={init:function(){var e=this;this.$container.off("click","[data-quote-select]"),this.$container.on("click","[data-quote-select]",(function(i){e.handleQuoteSelection(t(this),i)})),this.$container.off("input propertychange","[data-build-non-material-item-id]"),this.$container.on("input propertychange","[data-build-non-material-item-id]",_.debounce(e.updateNonMaterialItem,300))},handleQuoteSelection:function(e,i){var n=e.attr("data-quote-select-dom"),r=e.attr("data-quote-select-price"),o=t("input#unit_cost_build_non_material_item_"+n);i.preventDefault(),o.val(r).trigger("input"),t("#aligni_modal").modal("hide")},updateNonMaterialItem:function(){var e=t(this),i=e.data("build-non-material-item-id"),n=t("input#quantity_finalized_build_non_material_item_"+i).val(),r=t("input#unit_cost_build_non_material_item_"+i).val(),o=e.data("path"),s={build_non_material_item:{quantity_finalized:n,unit_cost:r}};t.ajax({type:"PATCH",dataType:"script",url:o,data:s,beforeSend:function(){Aligni.Util.activity(e.parent())},complete:function(){Aligni.Util.activity(e.parent(),!1)}})}},e}(jQuery),Aligni.Build.RecurringToggle=function(){function t(t){$(t).slideDown("slow"),$(t).find("input").attr("disabled",!1)}function e(t){$(t).slideUp("slow"),$(t).find("input").attr("disabled",!0)}function i(){$(document).on("change","[data-build-recurring-toggle]",(function(){var i="#expected-completion-date",n=$("#expected-reservation-date").find("label");$("[data-build-recurring-toggle]").is(":checked")?(e(i),n.html("Start Date <em><svg><!-- SVG file not found: 'icons/dot.svg' --></svg></em>")):(t(i),n.html("Expected Reservation Date <em><svg><!-- SVG file not found: 'icons/dot.svg' --></svg></em>"))}))}return{init:i}}(),Aligni.Build.RecurringToggle.init();var Aligni=window.Aligni||{};Aligni.Charts=Aligni.Charts||{},Aligni.Charts.Helpers=function(t){var e=function(){},i={month:"Monthly",week:"Weekly",day:"Daily",url:"/root/sites/update_chart?period="},n={week:"Last 7 Days",month:"Last 30 Days",overall:"Overall",url:"/root/sites/update_api_chart?period="},r={number_of_hits:"Hits",site_ticks:"Site",number_of_blocks:"Blocks"},o=function(e){var i=Object.keys(e),n=Object.values(e),r="<a href='#' class="+i[0]+">"+n[0]+"</a>",o="<a href='#' class="+i[1]+">"+n[1]+"</a>",s="<a href='#' class="+i[2]+">"+n[2]+"</a>";return t("<span class='text-small'>("+r+" - "+o+" - "+s+")</span>")},s=function(t,e,i,n){t.xAxis[0].update({categories:e[n]},!1),_.forEach(i,(function(i,n){t.series[n].setData(e[i],!1)})),t.zoomOut(),t.redraw()},a=function(e,i,n,r){_.forEach(i,(function(o,a){t("div#"+e.renderTo.id+" a."+a).on("click",(function(){var o=this;t(this).activity(),t.get(i.url+a,(function(i){s(e,i,n,r),t(o).activity(!1)})),event.preventDefault()}))}))},l=function(e,i,n,r){_.forEach(i,(function(o,a){t("div#"+e.renderTo.id+" a."+a).on("click",(function(){var o=this;t(this).activity();var l=Aligni.Charts.Sort.init(e,a,i,n,r);s(e,l,n,r),t(o).activity(!1),event.preventDefault()}))}))};return e.periodControls=function(){return o(i)},e.apiPeriodControls=function(){return o(n)},e.sortControls=function(){return o(r)},e.initPeriodChangeEventHandlers=function(t,e){a(t,i,e,"ticks")},e.initApiUsageChangeEventHandlers=function(t,e){a(t,n,e,"site_ticks"),l(t,r,e,"site_ticks")},e}(jQuery);var Aligni=window.Aligni||{};Aligni.Charts.Sort=function(){function t(t,r,o,s,a){return n(i(e(t,s,a),r),o)}function e(t,e,i){var n=t.xAxis[0].categories,o=r(t);return n.map((function(t,n){var r={};return r[i]=t,r[e[0]]=o[0][n],r[e[1]]=o[1][n],r}))}function i(t,e){return t.sort((function(t,i){return"string"!=typeof t[e]?i[e]-t[e]:i[e]<t[e]?1:i[e]>t[e]?-1:i[e]===t[e]?0:void 0}))}function n(t,e){var i={};return _.forEach(e,(function(e,n){i[n]=t.map((function(t){return t[n]}))})),i}function r(t){return t.series.map((function(t){return t.yData}))}var o=function(){};return o.init=function(e,i,n,r,o){return t(e,i,n,r,o)},o}(jQuery),Aligni.Charts.Subscription=function(t){var e=function(t,e,i,n){this.containerSelector=t,this.ticks=e,this.sitesData=i,this.accountsData=n};return e.prototype={init:function(){t(this.containerSelector).highcharts({chart:{type:"line",zoomType:"x",resetZoomButton:{position:{align:"right",verticalAlign:"top"},relativeTo:"chart"},panning:!0,panKey:"shift",borderColor:"#d8e0e5",borderWidth:2,borderRadius:3,marginTop:70,height:265,events:{load:function(){var t=this,e={0:"number_of_sites",1:"number_of_accounts"};Aligni.Charts.Helpers.initPeriodChangeEventHandlers(t,e)}}},title:{text:'Subscription Status <span class="text-small">'+Aligni.Charts.Helpers.periodControls().html(),useHTML:!0,align:"center"},subtitle:{text:"Hold the 'shift' key to pan.",align:"right",style:{"font-size":"9px"},y:0},credits:!1,xAxis:{categories:this.ticks,min:37,max:47,labels:{step:1}},yAxis:[{min:0,title:{text:"Sites"}},{min:0,title:{text:"Accounts"},opposite:!0}],legend:{align:"center",verticalAlign:"top",y:20,floating:!0,backgroundColor:Highcharts.theme&&Highcharts.theme.background2||"white",borderColor:"#CCC",borderWidth:0,shadow:!1,itemStyle:{"font-size":"10px"},symbolHeight:10,symbolWidth:10},plotOptions:{line:{dataLabels:{enabled:!0,formatter:function(){return this.y}},enableMouseTracking:!1},column:{stacking:"normal",pointPadding:.05,groupPadding:.05}},series:[{name:"Sites",color:"#edc240",data:this.sitesData,yAxis:0},{name:"Accounts",color:"#cb4b4b",data:this.accountsData,yAxis:1}]})}},e}(jQuery),Aligni.Charts.Revenue=function(t){var e=function(t,e,i,n){this.containerSelector=t,this.ticks=e,this.totalData=i,this.averageData=n};return e.prototype={init:function(){t(this.containerSelector).highcharts({chart:{type:"line",zoomType:"x",resetZoomButton:{position:{align:"right",verticalAlign:"top"},relativeTo:"chart"},panning:!0,panKey:"shift",borderColor:"#d8e0e5",borderWidth:2,borderRadius:3,marginTop:70,height:265,events:{load:function(){var t=this,e={0:"total_revenue",1:"average_revenue"};Aligni.Charts.Helpers.initPeriodChangeEventHandlers(t,e)}}},title:{text:'Revenue Status <span class="text-small">'+Aligni.Charts.Helpers.periodControls().html(),useHTML:!0,align:"center"},subtitle:{text:"Hold the 'shift' key to pan.",align:"right",style:{"font-size":"9px"},y:0},credits:!1,xAxis:{categories:this.ticks,min:37,max:47,labels:{step:1}},yAxis:[{min:0,title:{text:"Total"}},{min:0,title:{text:"Average"},opposite:!0}],legend:{align:"center",verticalAlign:"top",y:20,floating:!0,backgroundColor:Highcharts.theme&&Highcharts.theme.background2||"white",borderColor:"#CCC",borderWidth:0,shadow:!1,itemStyle:{"font-size":"10px"},symbolHeight:10,symbolWidth:10},plotOptions:{line:{dataLabels:{enabled:!0,formatter:function(){return"$"+this.y}},enableMouseTracking:!1},column:{stacking:"normal",pointPadding:.05,groupPadding:.05}},series:[{name:"Total",color:"#4da74d",data:this.totalData,yAxis:0},{name:"Average",color:"#bfb8d8",data:this.averageData,yAxis:1}]})}},e}(jQuery),Aligni.Charts.ApiUsage=function(t){var e=function(t,e,i,n){this.containerSelector=t,this.site_ticks=e,this.hitData=i,this.blockedData=n};return e.prototype={init:function(){t(this.containerSelector).highcharts({chart:{type:"column",zoomType:"x",resetZoomButton:{position:{align:"right",verticalAlign:"top"},relativeTo:"chart"},panning:!0,panKey:"shift",borderColor:"#d8e0e5",borderWidth:2,borderRadius:3,marginTop:90,height:450,events:{load:function(){var t=this,e={0:"number_of_hits",1:"number_of_blocks"};Aligni.Charts.Helpers.initApiUsageChangeEventHandlers(t,e)}}},title:{text:'API Usage <span class="text-small">'+Aligni.Charts.Helpers.apiPeriodControls().html(),useHTML:!0,align:"center"},subtitle:{text:'Sort By: <span class="text-small">'+Aligni.Charts.Helpers.sortControls().html(),useHTML:!0,align:"center"},credits:!1,xAxis:{categories:this.site_ticks,labels:{step:1,rotation:60}},yAxis:[{min:0,title:{text:"Hits"}},{min:0,title:{text:"Blocks"},opposite:!0}],legend:{align:"center",verticalAlign:"top",y:20,floating:!0,backgroundColor:Highcharts.theme&&Highcharts.theme.background2||"white",borderColor:"#CCC",borderWidth:0,shadow:!1,itemMarginTop:25,itemStyle:{"font-size":"10px"},symbolHeight:10,symbolWidth:10},tooltip:{pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>'},plotOptions:{line:{dataLabels:{enabled:!0,formatter:function(){return this.y}},enableMouseTracking:!1},column:{pointPadding:.05,groupPadding:.05}},series:[{name:"Hits",color:"#edc240",data:this.hitData,yAxis:0},{name:"Blocks",color:"#cb4b4b",data:this.blockedData,yAxis:1}]})}},e}(jQuery);var Aligni=window.Aligni||{};Aligni.Eco=Aligni.Eco||{},Aligni.Eco.Autocomplete=function(t){function e(e){var n=e.ui.item.data;t(this).val(n.title),t("#eco_id").val(n.id),t("#preview").html(i(n))}function i(t){return"\n      <div>"+t.title+"</div>\n      <div>ECO-"+t.number+"</div>\n      <div>"+t.description+"</div>\n    "}function n(){return'\n      <dl class="key-value-horizontal no-bottom-margin no-top-margin">\n        <dd><span class="mock-data mock-data-width-4"></span></dd>\n        <dd><span class="mock-data mock-data-width-4"></span></dd>\n        <dd><span class="mock-data mock-data-width-10"></span></dd>\n      </dl>\n    '}function r(i){var r=t(i);t("#preview").html(n()),r.on("autocompleteSelected",e)}return{init:r}}(jQuery);var Aligni=window.Aligni||{};Aligni.Equipment=Aligni.Equipment||{};var Aligni=window.Aligni||{};Aligni.Equipment.Search=function(t){var e=function(){this.formSelector="[data-aligni-equipment-search]",this.tableSelector="div#equipment table"};return e.prototype={init:function(){t("div.container").on("keydown",this.formSelector+" input[type=search]",_.debounce(this.submitForm.bind(this),200))},submitForm:function(){t(this.tableSelector).mask("Loading..."),t(this.formSelector).submit()}},e}(jQuery),jQuery((function(){"equipment/index"==pageAttr("aligni-page")&&(new Aligni.Equipment.Search).init()})),Aligni.Equipment.AdditionModification=function(t){var e=function(){this.mainContainerSelector="[data-equipment-addition-modification]",this.partNumberSelector=this.mainContainerSelector+" input#part_number",this.newSectionSelector="[data-equipment-addition-modification-section='new']",this.existingSectionSelector="[data-equipment-addition-modification-section='existing']",this.existingItemModificationFieldsSelector=this.mainContainerSelector+" .al-existing-item-modification-fields",this.itemInventoryContainerSelector=this.mainContainerSelector+" div#item-inventory",this.partInventoryContainerSelector=this.mainContainerSelector+" div#part-inventory"};return e.prototype={init:function(){var e=this;e.enableExistingSection(),t("body").off("change",this.mainContainerSelector+" .btn-group input:radio"),t("body").on("change",this.mainContainerSelector+" .btn-group input:radio",(function(){e.toggleSection(this)})),t("body").off("change",this.mainContainerSelector+" div#items-list input:radio"),t("body").on("change",this.mainContainerSelector+" div#items-list input:radio",(function(){e.getItemAvailableInventoryUnits(this)})),t("body").off("partPreviewRendered",this.partNumberSelector),t("body").on("partPreviewRendered",this.partNumberSelector,(function(){e.getPartAvailableInventoryUnits()}))},toggleSection:function(e){var i=this;"new"==t(e).val()&&t(e).is(":checked")?i.enableNewSection():i.enableExistingSection()},enableNewSection:function(){t(this.newSectionSelector).find("input, textarea").attr("disabled",!1),t(this.existingSectionSelector).find("input, textarea").attr("disabled",!0)},enableExistingSection:function(){t(this.newSectionSelector).find("input, textarea").attr("disabled",!0),t(this.existingSectionSelector).find("input, textarea").attr("disabled",!1)},getItemAvailableInventoryUnits:function(e){var i=t(e).val(),n=t(e).data("equipment-id");if(i){var r=this,o="/equipment/"+encodeURIComponent(n)+"/equipment_items/"+encodeURIComponent(i)+"/available_inventory_units";t(this.mainContainerSelector).mask("Loading..."),t.get(o,(function(e){t(r.mainContainerSelector).unmask(),t(r.itemInventoryContainerSelector).html(e),t(r.existingItemModificationFieldsSelector).removeClass("hide")}))}else t(this.itemInventoryContainerSelector).empty(),t(this.existingItemModificationFieldsSelector).addClass("hide")},getPartAvailableInventoryUnits:function(){var e=this,i=t(this.mainContainerSelector+" input#part_id").val();i?(t(this.mainContainerSelector).mask("Loading..."),t.get("/parts/"+encodeURIComponent(i)+"/available_inventory_units",(function(i){t(e.mainContainerSelector).unmask(),t(e.partInventoryContainerSelector).html(i)}))):t(this.partInventoryContainerSelector).empty()}},e}(jQuery),$(document).on("aligniModalShown","[data-new-equipment-addition-modification]",(function(){"equipment/show"==pageAttr("aligni-page")&&(new Aligni.Equipment.AdditionModification).init()})),Aligni.Equipment.RemovalModification=function(t){var e=function(){this.mainContainerSelector="[data-equipment-removal-modification]",this.inventorySublocationSectionSelector=this.mainContainerSelector+" .al-sublocation-section"};return e.prototype={init:function(){var e=this;t("body").off("change",this.mainContainerSelector+" div#items-list input:radio"),t("body").on("change",this.mainContainerSelector+" div#items-list input:radio",(function(){e.toggleInventorySublocationSelection(this)}))},toggleInventorySublocationSelection:function(e){var i=t(this.inventorySublocationSectionSelector),n=i.find("select");t(e).data("material")?(i.removeClass("hide"),n.attr("disabled",!1)):(i.addClass("hide"),n.attr("disabled",!0))}},e}(jQuery),$(document).on("aligniModalShown","[data-new-equipment-removal-modification]",(function(){"equipment/show"==pageAttr("aligni-page")&&(new Aligni.Equipment.RemovalModification).init()})),Aligni.Equipment.Comparison=function(t){var e=function(){this.formSelector="form#aligni-comparison-form",this.dividerRowSelector="tr[data-al-comparison-row-divider]"};return e.prototype={init:function(){var e=this;t("body").off("autocompleteSelected",this.formSelector+" .autocomplete"),t("body").on("autocompleteSelected",this.formSelector+" .autocomplete",(function(i){e.data=i.ui.item.data,e.comparisonIndex=t(this).data("aligni-comparison-index");var n=t("[data-aligni-comparison-source="+e.comparisonIndex+"]");e.setValue(this),e.setBaseId(),e.setCategory(),e.resetVersion(),n.activity(),t.get(e.previewURI(),e.previewData(),(function(i){n.html(i).activity(!1),t("input#source_1_identifier").val()&&t("input#source_2_identifier").val()&&(e.mask(),e.submitForm())}))})),t("body").off("change","select.aligni-source-version, input.aligni-comparison-option"),t("body").on("change","select.aligni-source-version, input.aligni-comparison-option",(function(){e.mask(),e.submitForm()})),t("body").on("alSelectableRowsShown",(function(){e.adjustDividerRowColspan(9),e.adjustQuickComparisonRowColspan(10)})),t("body").on("alSelectableRowsHidden",(function(){e.adjustDividerRowColspan(8),e.adjustQuickComparisonRowColspan(9)}))},setValue:function(e){"Equipment"==this.data.category?t(e).val(this.data.identifier):t(e).val(this.data.partnumber)},setBaseId:function(){t("#"+this.comparisonIndex+"_base_id").val(this.data.id)},setCategory:function(){t("#"+this.comparisonIndex+"_category").val(this.data.category)},resetVersion:function(){t("select#"+this.comparisonIndex+"_source_id").remove()},previewURI:function(){return"Equipment"==this.data.category?"/equipment/"+this.data.id+"/showcase":"/part/showcase"},previewData:function(){return"Equipment"==this.data.category?{}:{part_number:this.data.partnumber}},mask:function(){t("div#aligni-comparison-selection").mask("Please wait..."),t("div#aligni-comparison-result").mask("Please wait...")},submitForm:function(){t(this.formSelector).submit()},adjustDividerRowColspan:function(e){t(this.dividerRowSelector+" td:not(.marker-cell)").attr("colspan",e)},adjustQuickComparisonRowColspan:function(e){t("tr.drilldown td:first").attr("colspan",e)}},e}(jQuery),jQuery((function(){"equipment_comparison/tool"==pageAttr("aligni-page")&&(new Aligni.Equipment.Comparison).init()})),Aligni.Equipment.ItemVisibility=function(t){var e=function(){this.showVisUiSelector="[data-show-visibility-ui]",this.hideVisUiSelector="[data-hide-visibility-ui]",this.visControlsSelector="[data-visibility-controls]",this.datatableSelector="#datatable"};return e.prototype={init:function(){var e=this;t("body").off("click",this.showVisUiSelector),t("body").on("click",this.showVisUiSelector,(function(i){i.preventDefault(),t(this).hide(),t(this).parents("div.panel-dashbox").addClass("panel-orange"),e.showVisibilityUI()})),t("body").off("click",this.hideVisUiSelector),t("body").on("click",this.hideVisUiSelector,(function(i){i.preventDefault(),t(e.showVisUiSelector).fadeToggle("fast"),t(this).parents("div.panel-dashbox").removeClass("panel-orange"),e.hideVisibilityUI()})),this.handleVisibilitySlider(),this.handleVisibilityRangeSlider()},showVisibilityUI:function(){this.showVisibilityControls(),this.showVisibilityColumn()},hideVisibilityUI:function(){this.hideVisibilityControls(),this.hideVisibilityColumn()},showVisibilityControls:function(){t(this.visControlsSelector).fadeToggle("fast")},hideVisibilityControls:function(){t(this.visControlsSelector).hide("fast")},showVisibilityColumn:function(){t(this.datatableSelector).showCol("visibility_details"),t(this.datatableSelector).trigger("resize")},hideVisibilityColumn:function(){t(this.datatableSelector).hideCol("visibility_details"),t(this.datatableSelector).trigger("resize")},handleVisibilitySlider:function(){var e=t("form[data-equipment-item-visibility]"),i=t("[data-slider]"),n=t("input#equipment_item_visibility"),r=function(){return i.data("slider-valid")},o=function(){r()?e.find(":submit").attr("disabled",!1):e.find(":submit").attr("disabled",!0)};n.on("input",(function(){o()})),i.on("slide",(function(){o()}))},handleVisibilityRangeSlider:function(){var e=t("form#select-item-visibility"),i=t("[data-range-slider]"),n=t("input#min_visibility"),r=t("input#max_visibility"),o=function(){return i.data("range-slider-valid")},s=function(){o()?e.find(":submit").attr("disabled",!1):e.find(":submit").attr("disabled",!0)};n.on("input",(function(){s()})),r.on("input",(function(){s()})),i.on("slide",(function(){s()}))}},e}(jQuery),$(document).on("ajaxSuccess",(function(){"equipment/show"==pageAttr("aligni-page")&&(new Aligni.Equipment.ItemVisibility).init()}));var Aligni=window.Aligni||{};Aligni.GlobalNavigation=function(t){function e(){return t("[data-navbar]").data("expanded")}function i(){var i=t("[data-part-cart]"),n=i.find("li");n.addClass("fade-in-out"),setTimeout((function(){e()?i.addClass("expanded"):i.removeClass("expanded"),n.removeClass("fade-in-out")}),300)}function n(){var i=e()?"disable":"enable";t("[data-navbar]").find("[data-toggle=tooltip-navigation]").each((function(){t(this).tooltipster(i)}))}function r(){var r=t("[data-navbar]");e()?r.addClass("expanded"):r.removeClass("expanded"),n(),i()}function o(){var i=t("[data-navbar]");e()?i.data("expanded",!1):i.data("expanded",!0),t.ajax({method:"PATCH",url:"/settings/sidebar_navigation",data:{sidebar_navigation_expanded:i.data("expanded")}}),r()}function s(){t(document).on("click","[data-menu-btn]",o),t("[data-toggle=tooltip-navigation]").each(Aligni.Tooltips.initTooltip),n()}return{init:s}}(jQuery),jQuery((function(){Aligni.GlobalNavigation.init()})),jQuery((function(){try{var t=jstz.determine();docCookies.setItem("timezone",t.name(),"Infinity","/")}catch(t){if(!(t instanceof RangeError))throw t;console.log(t.message)}}));var Aligni=window.Aligni||{};Aligni.Onboarding=Aligni.Onboarding||{},Aligni.Onboarding.Dropzone=function(t){function e(e){var n=e.data("onboarding-dropzone"),r=t("a[data-onboarding-import='"+n+"']");return{url:"/csv_files?csv_file_name=onboarding_"+n+"_csv_file",paramName:"csv_file",headers:{"X-CSRF-Token":t("meta[name='csrf-token']").attr("content")},previewTemplate:Aligni.Dropzone.defaultTemplate,autoProcessQueue:!0,uploadMultiple:!1,maxFiles:1,previewsContainer:"[data-onboarding-dropzone-preview]",init:function(){this.on("addedfile",(function(){t(".dz-message").hide(),e.mask("Please wait..."),i(r)})),this.on("removedfile",(function(){})),this.on("success",(function(){e.submit()})),this.on("error",(function(){}))}}}function i(t){t.attr("disabled",!0)}function n(){var i=t("form[data-onboarding-dropzone]");i.length&&i.find(".dropzone-area").dropzone(e(i))}return{init:n}}(jQuery),Aligni.Onboarding.PartsAndVendorsDropzone=function(t){function e(e){e.removeAllFiles(!0),t(".dz-message").show(),t(".dropzone-wrapper").unmask()}function i(e){e.map((function(e){t(".alert-danger .media-body").append("<p>"+e+"</p>")})),t(".alert-success").hide(),t(".alert-danger").show()}function n(){return{url:t(".dropzone-area").data("dropzone-uri"),paramName:"mdb",headers:{"X-CSRF-Token":t("meta[name='csrf-token']").attr("content")},autoProcessQueue:!0,uploadMultiple:!1,maxFiles:1,init:function(){this.on("addedfile",(function(){t(".alert-danger").hide(),t(".alert-danger .media-body").empty(),t(".dz-message").hide(),t(".dropzone-wrapper").mask("Please wait...")})),this.on("success",(function(){e(this),t(".alert-success").show()})),this.on("error",(function(t,n){e(this),i(n.errors.mdb)}))}}}function r(){t(".dropzone-area").length>0&&t(".dropzone-area").dropzone(n())}return{init:r}}(jQuery);var Aligni=window.Aligni||{};Aligni.PartsImport=Aligni.PartsImport||{},Aligni.PartsImport.SampleData=function(t){var e=function(t){this.$selectBox=t};return e.prototype={init:function(){this.getSampleData(),this.$selectBox.on("change",this.getSampleData.bind(this)),t.tinySub("toggle-header",this.getSampleData.bind(this))},getSampleData:function(){var e=this.$selectBox.val(),i=this.$selectBox.data("aligni-parameter"),n=".csv-data-cell-"+e+":visible",r=_.compact(_.map(t(n),t.text)),o=_.map(r,this.renderSampleData);t("[data-aligni-parameter='"+i+"']").find(".csv-sample-data").html(o)},renderSampleData:function(t){return"<span class='sample-data' style='padding: 5px;'>"+t+"</span>"}},e.init=function(){t("[data-aligni-sample-data]").each((function(){new e(t(this)).init()}))},e}(jQuery),jQuery(Aligni.PartsImport.SampleData.init),$.tinySub("part_import:update_columns",Aligni.PartsImport.SampleData.init),Aligni.PartsImport.ColumnHighlight=function(t){var e=function(t){this.$selectBox=t};return e.successClass="success",e.headerSelector=".csv-data-header",e.cellSelector=".csv-data-cell",e.selectBoxSelector="[data-aligni-column-highlight]",e.thickIcon="<svg><!-- SVG file not found: 'icons/thick.svg' --></svg>",e.requiredIcon="",e.prototype={init:function(){this.$selectBox.on("change",(function(){e.highlightColumns(t(this).parents("table"))})),e.highlightColumns(t("#rotated"))}},e.highlightColumns=function(i){e.clearHighlight(),i.find(e.selectBoxSelector).each((function(){e.highlightColumn(t(this)),e.highlightOriginalParameter(t(this))}))},e.highlightColumn=function(i){if(i.val()){var n=i.val(),r=(e.cellSelector,e.headerSelector+"-"+n),o=t(r),s=i.data("aligni-parameter-label");o.addClass(e.successClass).html(e.thickIcon+"\n"+s)}},e.highlightOriginalParameter=function(i){var n=i.data("aligni-parameter"),r=i.data("aligni-parameter-required"),o=t("[data-aligni-parameter='"+n+"']"),s=o.find("[data-aligni-thick-container]");o.removeClass(e.successClass),i.val()?(o.addClass(e.successClass),s.html(e.thickIcon)):r?s.html(e.requiredIcon):s.html("")},e.clearHighlight=function(){t(e.headerSelector).html("").removeClass(e.successClass),t(e.cellSelector).removeClass(e.successClass)},e.init=function(){t(e.selectBoxSelector).each((function(){new e(t(this)).init()}))},e}(jQuery),jQuery(Aligni.PartsImport.ColumnHighlight.init),jQuery(App.hoverTableColumns),jQuery(document).on("ajaxSuccess",App.hoverTableColumns),$.tinySub("part_import:update_columns",Aligni.PartsImport.ColumnHighlight.init),Aligni.PartsImport.HeaderToggle=function(t){var e=function(t){this.$checkbox=t};return e.prototype={init:function(){this.$checkbox.off("click"),this.$checkbox.on("click",this.toggle.bind(this)),this.toggle()},toggle:function(){var e=this.$checkbox.is(":checked"),i=t(".aligni-csv-data-table tbody tr:first");e?i.hide():i.show(),t.tinyPub("toggle-header")}},e.init=function(){t("[data-aligni-header-toggle]").each((function(){new e(t(this)).init()}))},e}(jQuery),jQuery(Aligni.PartsImport.HeaderToggle.init),jQuery(document).on("ajaxSuccess",Aligni.PartsImport.HeaderToggle.init),Aligni.PartsImport.SelectBoxSync=function(t){var e=function(t){this.$selectBox=t};return e.prototype={init:function(){this.$selectBox.on("change",this.syncSelectBoxes.bind(this))},syncSelectBoxes:function(){var e=this.$selectBox.attr("id"),i=this.$selectBox.val();t("[id='"+e+"']").val(i)}},e.init=function(){t("[data-aligni-sample-data]").each((function(){new e(t(this)).init()}))},e}(jQuery),jQuery(Aligni.PartsImport.SelectBoxSync.init),$.tinySub("part_import:update_columns",Aligni.PartsImport.SelectBoxSync.init),Aligni.PartsImport.CustomParameters=function(t){function e(){t(document).on("submit",r,i),t("#select-parameters-modal").on("shown.bs.modal",n)}function i(e){e.preventDefault();var i=t(this).find("input[type='submit']"),n=i.attr("value"),o=t("#aligni-set-columns-form"),s=t(r),a=t("#skip_first_row").is(":checked"),l=t("#match-columns [data-toggle='tab'].active").data("target"),c=_.concat(o.serializeArray(),s.serializeArray(),{name:"skip_first_row",value:a},{name:"active_view",value:l});i.attr("value","Please wait..."),i.attr("disabled",!0),t.post(s.attr("action"),c,(function(){i.attr("value",n),i.removeAttr("disabled")}),"script")}function n(){t(r+" li").show(),t(r+" .option").removeClass("active"),t("[name^='custom_parameters[']").attr("checked",!1),t("[data-aligni-parameter]").each((function(){var e=t(this).data("aligni-parameter"),i=t('[data-aligni-parameter-name="'+e+'"]');i.attr("checked",!0),i.parents("li").hide()}))}var r="#aligni-select-parameters-form";return{init:e}}(jQuery),$((function(){Aligni.PartsImport.CustomParameters.init()})),Aligni.PartsImport.RemoveParameter=function(t){function e(){t(document).on("click","[data-aligni-remove-parameter]",i)}function i(e){e.preventDefault();var i=t(this).data("aligni-remove-parameter");t('[data-aligni-parameter="'+i+'"]').remove()}return{init:e}}(jQuery),$((function(){Aligni.PartsImport.RemoveParameter.init()})),Aligni.PartsImport.DefaultUnit=function(t){function e(){var e=t(".aligni-default-unit");t("#column_unit").val()?e.hide():e.show()}function i(){t(document).on("change","#column_unit",e),t(document).on("ajaxSuccess",e),e()}return{init:i}}(jQuery),jQuery(Aligni.PartsImport.DefaultUnit.init),$(document).on("click","[data-search-button]",(function(t){t.preventDefault();var e=$("[data-search-form]"),i=$("[data-search-field]"),n=$(this);"off"===n.data("expanded")?(n.data("expanded","on"),e.addClass("open"),i.focus()):$.trim(i.val()).length?e.submit():(n.data("expanded","off"),e.removeClass("open"),i.data("value",""))})),$(document).on("blur","[data-search-field]",(function(){setTimeout((function(){var t=$("[data-search-form]"),e=$("[data-search-button]");t.removeClass("open"),e.data("expanded","off")}),150)})),document.addEventListener("turbo:load",(function(){$(".settings-link.active").closest("div").removeClass("collapsed").addClass("in")}));var Aligni=window.Aligni||{};Aligni.Shortage=Aligni.Shortage||{},
Aligni.Shortage.Allocation=function(t){var e=function(){this.$window=t(window),this.$pageWrap=t("[data-page-wrap]"),this.dataId="id",this.hiddenClass="hide",this.visibleClass="visible",this.cellHoveredClass="cell-hovered",this.dataHideTitle="hide-title",this.dataShowTitle="show-title",this.$dataTable=null,this.$excludeHeightElements=t("[data-exclude-height]"),this.scrollableWrapperSelector=".DTFC_ScrollWrapper",this.scrollableInnerWrappersSelectors=".DTFC_LeftBodyWrapper, .DTFC_LeftBodyLiner, .DTFC_RightBodyWrapper, .DTFC_RightBodyLiner",this.scrollableTbodySelector=".dataTables_scrollBody",this.magicHeightOffset=25,this.$buildDetails=t(".js-build-details"),this.$buildDetailsBlankSlate=this.$buildDetails.filter('[data-id="0"]'),this.pinColumnSelector=".js-pin-column",this.$pinColumnAction=t(this.pinColumnSelector),this.$pinnedDetailsContainer=t(".js-pinned-build-details"),this.columnPinnedClass="column-pinned",this.cellPinnedClass="cell-pinned"};return e.prototype={init:function(e,i){var n=this;this.$shortageDataTable=t(e),this.theadInitialHeight=t(e).find("thead").first().outerHeight(!0)+2,this.$pageWrap.css("max-width","100%").addClass("no-b-padding"),this.initDataTable(),this.initDataTableEvents(),this.initPinningColumnsEvents(),this.initBuildColumnToggler(),this.$window.on("resize",(function(){n.updateDataTableHeights()})),Aligni.Shortage.StockIndicators.toggle(i)},dataTableOptions:function(){return{searching:!1,ordering:!0,info:!1,paging:!1,scrollY:this.calculateScrollableHeight(),scrollX:!0,scrollCollapse:!0,columnDefs:[{targets:"asl-no-sort",orderable:!1}],fixedColumns:{leftColumns:4}}},getExcludedElementsHeight:function(){var e=0;return this.$excludeHeightElements.each((function(){var i=t(this).outerHeight(!0);e+=i})),e},calculateScrollableHeight:function(t){var e=void 0===t?this.theadInitialHeight:0;return this.$window.height()-this.getExcludedElementsHeight()-e-this.magicHeightOffset},updateDataTableHeights:function(){var e=this.calculateScrollableHeight();t(this.scrollableWrapperSelector).height(this.calculateScrollableHeight(!0)),t(this.scrollableInnerWrappersSelectors).height(e),t(this.scrollableTbodySelector).css("max-height",e)},initDataTable:function(){this.$dataTable=this.$shortageDataTable.DataTable(this.dataTableOptions())},initDataTableEvents:function(){var e=this;this.$shortageDataTable.find("tbody").on("mouseenter","td[data-id]",(function(){e.markHoveredTableColumn(e.$dataTable.cell(this).index().column),e.showAppropriateBuildDetails(t(this).data(e.dataId))})),t(".dataTables_scrollHeadInner").find("table").find("thead").on("mouseenter","th[data-id]",(function(){e.handleHoveredTheadCell(t(this).index())}))},markHoveredTableColumn:function(e){this.cleanMarkedTableColumns(),t(this.$dataTable.column(e).nodes()).addClass(this.cellHoveredClass)},cleanMarkedTableColumns:function(){t(this.$dataTable.cells().nodes()).removeClass(this.cellHoveredClass)},showAppropriateBuildDetails:function(t){var e=this.$buildDetails.filter("[data-id="+t+"]");this.$buildDetails.addClass(this.hiddenClass),this.$buildDetailsBlankSlate.addClass(this.hiddenClass),e.removeClass(this.hiddenClass)},handleHoveredTheadCell:function(t){this.markHoveredTableColumn(t)},initPinningColumnsEvents:function(){var e=this;this.$pinColumnAction.on("click",(function(i){i.preventDefault();var n=t(this),r=t(this).parent("th[data-id]"),o=r.data(e.dataId),s=t(e.$dataTable.cells().nodes()).filter("[data-id="+o+"]");n.hasClass(e.visibleClass)?(n.removeClass(e.visibleClass),r.removeClass(e.columnPinnedClass),s.removeClass(e.cellPinnedClass),e.removePinnedBuildDetails(o)):(n.addClass(e.visibleClass),r.addClass(e.columnPinnedClass),s.addClass(e.cellPinnedClass),e.appendPinnedBuildDetails(o))}))},initBuildColumnToggler:function(){var e=this,i=e.columnPinnedClass,n="asl-columns-pinned";t(document).on("click","a[data-"+n+"]",(function(r){r.preventDefault();var o=t("th[data-id]."+i).find(e.pinColumnSelector),s=t("th[data-id]:not(."+i+")").find(e.pinColumnSelector);t(this).data(n)?(e.restoreRows(),s.removeClass("invisible"),o.removeClass("dev-link-disabled"),t(this).data(n,!1),t(this).addClass("text-default").removeClass("text-primary")):(e.hideRows(),s.addClass("invisible"),o.addClass("dev-link-disabled"),t(this).data(n,!0),t(this).addClass("text-primary").removeClass("text-default"))}))},hideRows:function(){t.fn.dataTableExt.rowsToHide={},this.$dataTable.rows().every((function(e){var i=t(this.row(e).node()).find("td.cell-pinned"),n=!0;_.each(i,(function(e){(t(e).hasClass("bg-highlight")||t(e).hasClass("bg-state-danger"))&&(n=!1)})),n&&(t.fn.dataTableExt.rowsToHide[e]=this.id())})),this.$dataTable.hideRows()},restoreRows:function(){this.$dataTable.restoreRows()},appendPinnedBuildDetails:function(t){var e=this.$buildDetails.filter("[data-id="+t+"]").clone();e.appendTo(this.$pinnedDetailsContainer).removeClass(this.hiddenClass),e.find(".al-build-column-reference").removeClass("invisible")},removePinnedBuildDetails:function(t){this.$pinnedDetailsContainer.find("[data-id="+t+"]").remove()}},e}(jQuery),Aligni.Shortage.Report=function(t){const e=function(){this.$window=t(window),this.$pageWrap=t("[data-page-wrap]"),this.dataId="id",this.hiddenClass="hide",this.visibleClass="visible",this.cellHoveredClass="cell-hovered",this.dataHideTitle="hide-title",this.dataShowTitle="show-title",this.$dataTable=null,this.$excludeHeightElements=t("[data-exclude-height]"),this.scrollableWrapperSelector=".DTFC_ScrollWrapper",this.scrollableInnerWrappersSelectors=".DTFC_LeftBodyWrapper, .DTFC_LeftBodyLiner, .DTFC_RightBodyWrapper, .DTFC_RightBodyLiner",this.scrollableTbodySelector=".dataTables_scrollBody",this.magicHeightOffset=25,this.$buildDetails=t(".build-details-popup")};return e.prototype={init(e,i){const n=this;this.$shortageDataTable=t(e),this.theadInitialHeight=t(e).find("thead").first().outerHeight(!0)+2,this.$pageWrap.css("max-width","100%").addClass("no-b-padding"),this.initDataTable(),this.initDataTableEvents(),this.positionBuildDetails(),this.$window.on("resize",(()=>{n.updateDataTableHeights()})),Aligni.Shortage.StockIndicators.toggle(i)},dataTableOptions(){return{searching:!1,ordering:!0,info:!1,paging:!1,scrollY:this.calculateScrollableHeight(),scrollX:!0,scrollCollapse:!0,columnDefs:[{targets:"asl-no-sort",orderable:!1}],fixedColumns:{leftColumns:3}}},getExcludedElementsHeight(){let e=0;return this.$excludeHeightElements.each((function(){const i=t(this).outerHeight(!0);e+=i})),e},calculateScrollableHeight(t){const e=void 0===t?this.theadInitialHeight:0;return this.$window.height()-this.getExcludedElementsHeight()-e-this.magicHeightOffset},updateDataTableHeights(){const e=this.calculateScrollableHeight();t(this.scrollableWrapperSelector).height(this.calculateScrollableHeight(!0)),t(this.scrollableInnerWrappersSelectors).height(e),t(this.scrollableTbodySelector).css("max-height",e)},initDataTable(){this.$dataTable=this.$shortageDataTable.DataTable(this.dataTableOptions())},initDataTableEvents(){const e=this;this.$shortageDataTable.find("tbody td[data-id]").hover((function(){e.markHoveredTableColumn(e.$dataTable.cell(this).index().column),e.showAppropriateBuildDetails(t(this).data(e.dataId))}))},markHoveredTableColumn(e){t(this.$dataTable.column(e).nodes()).toggleClass(this.cellHoveredClass)},showAppropriateBuildDetails(t){this.$buildDetails.filter(`[data-id=${t}]`).toggleClass(this.visibleClass)},positionBuildDetails(){const e=this;t(".dataTables_scrollBody").on("mousemove",(function(i){const n=t(this).height();i.pageY-t(this).offset().top<n-n/2?e.$buildDetails.css({top:"auto",bottom:"5px"}):e.$buildDetails.css({bottom:"auto",top:e.theadInitialHeight+5})}))}},e}(jQuery),Aligni.Shortage.StockIndicators=function(t){function e(t){t.asl_hide_stock_indicators?n():i()}function i(){t("td[data-stock-below=true]").each((function(e,i){t(i).find("[data-asl-stock-below-indicator]").removeClass("hide")})),t("td[data-stock-above=true]").each((function(e,i){t(i).find("[data-asl-stock-above-indicator]").removeClass("hide")}))}function n(){t("td[data-stock-below=true]").each((function(e,i){t(i).find("[data-asl-stock-below-indicator]").addClass("hide")})),t("td[data-stock-above=true]").each((function(e,i){t(i).find("[data-asl-stock-above-indicator]").addClass("hide")}))}return{toggle:e}}(jQuery),document.addEventListener("turbo:before-cache",(function(){$(".flash-msg").hide(),0!=$("#datatable").jqGrid().length&&$.jgrid.gridUnload("#datatable")})),document.documentElement.addEventListener("turbo:frame-render",(function(t){"turbo-modal"===t.target.id&&$("#aligni_modal").modal("show")}));var Aligni=window.Aligni||{};Aligni.UnitConversion=Aligni.UnitConversion||{},Aligni.UnitConversion.Reverse=function(t){function e(){return t("#unit_conversion_to_unit_id option:selected")}function i(t,i){var n=t.data("from-allow-fractional"),r=e().data("to-allow-fractional"),o=Number.isInteger(i);if(1===i)return!0;if(r){if(n||o)return!0}else if(n&&i<1)return!0;return!1}function n(t,e){var n="Unit conversions are always unidirectional. In this\n      case, the reverse unit conversion will be created automatically.",r="Unit conversions are always unidirectional. In\n      this case, the reverse unit conversion cannot be created as it is\n      incompatible with the units of measure.";i(t,e)?t.text(n):t.text(r)}function r(){var i=1/parseFloat(t("#unit_conversion_factor").val()),r=!Number.isNaN(i),o=e().data("reverse-exists"),s=t("[data-from-allow-fractional]");r&&!o?(s.removeClass("hide"),n(s,i)):s.addClass("hide")}function o(){r(),t(document).on("change","#unit_conversion_to_unit_id",r),t(document).on("input propertychange","#unit_conversion_factor",r)}return{init:o}}(jQuery);var Aligni=window.Aligni||{};Aligni.Vault=Aligni.Vault||{},Aligni.Vault.AttachableVaults=function(t){function e(){return t(".part-select:checked").val()}function i(){return t(".part-revision-select-wrapper").not(".hide").find(".part-revision-select:checked").val()}function n(){s(),a(),o(),r()}function r(){var n=t('[data-part="'+e()+'"][data-part-revision="'+i()+'"]'),r=n.find(".vaults-select"),o=n.data("singleItem");n.removeClass("hide"),r.prop("name","vault_id"),o&&r.first().prop("checked",!0),r.trigger("change")}function o(){t(".vaults-select-wrapper").addClass("hide")}function s(){t(".vaults-select").each((function(){t(this).removeProp("name")}))}function a(){t(".vaults-select").each((function(){t(this).removeProp("checked")}))}function l(){t(".part-revision-select").each((function(){t(this).removeProp("checked")}))}function c(){var i=t(".part-revision-select-wrapper[data-part='"+e()+"']");if($singlePartRevision=i.data("singleItem"),l(),s(),o(),t(".part-revision-select-wrapper[data-part]").addClass("hide"),i.removeClass("hide"),$singlePartRevision){var n=i.find(".part-revision-select").first();n.prop("checked",!0),n.trigger("change")}i.find("select").trigger("change")}function u(){var e=t(".vaults-select-wrapper").not(".hide").find(".vaults-select:checked").val();t("#aligni_modal input[type='submit']").prop("disabled",!e)}function d(){c(),n(),u(),t(".part-select").on("change",c),t(".part-revision-select").on("change",n),t(".part-select").on("change",u),t(".part-revision-select").on("change",u),t(".vaults-select").on("change",u)}return{init:d}}(jQuery);var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();Aligni.LabelPrinting=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"labelVersion",value:function(t){return t.isDLSLabel()?"DLS":"DCD"}}]),t}();var App=window.App||{};App.handleNewBuild=function(){var t="form#formBuildAdd input#part_number",e=$("header.page-header div#info"),i="/part/showcase",n=$("div.contextual-help-build-1"),r=$("select#icr_part_revision_id"),o=$("div.recurring"),s=$("input#create_build"),a=function(){s.removeAttr("disabled"),s.parent("span").activity(!1)},l=function(){s.attr("disabled","disabled"),s.parent("span").activity()},c=function(t){var e=$("<option />").val(t.id).text(t.name);return t.active&&e.prop("selected",!0),e};$(t).focus(),$("body").on("click","input#icr_is_recurring",(function(){this.checked?o.slideDown("slow"):o.slideUp("slow")})),$("body").on("change","select#icr_part_revision_id",(function(){var n={type:"build",part_number:$(t).val(),revision_id:$(this).val()};l(),$.get(i,n,(function(t){e.html(t),e.activity(!1),a()}))})),$("form#formBuildAdd .autocomplete").on("autocompleteSelected",(function(o){var s=o.ui.item.data,u=s.partnumber,d=s.revisions,h={type:"build",part_number:u};$(t).val(u),e.activity(),n.hide(),l(),$.get(i,h,(function(t){e.html(t),e.activity(!1),a()})),r.find("option").remove(),$.each(d,(function(t,e){if(e.released){var i=c(e);r.append(i)}}))})),$(t).on("keydown",(function(t){if(9==t.keyCode){var o={type:"build",part_number:$(this).val()};e.activity(),n.hide(),l(),$.get(i,o,(function(t){e.html(t),e.activity(!1),a(),$("div#info input#part_id").val()&&(r.parent("div").activity(!0),r.find("option").remove(),l(),$.get("/part/"+encodeURIComponent($("div#info input#part_id").val())+"/revisions",(function(t){$.each(t,(function(t,e){if(e.released){var i=c(e);r.append(i),r.parent("div").activity(!1)}})),a()})))}))}}))};var App=window.App||{};App.handleNewAdditionDeviation=function(){var t="form#create_addition input#part_number",e=$("div.modal-body div#info"),i="/part/showcase",n=$("form#create_addition input:submit"),r=function(){n.removeAttr("disabled"),n.parent("div").activity(!1)},o=function(){n.attr("disabled","disabled"),n.parent("div").activity()};$("form#create_addition .autocomplete").on("autocompleteSelected",(function(n){var s=n.ui.item.data.partnumber,a={type:"subpart",part_number:s};$(t).val(s),e.activity(),o(),$.get(i,a,(function(t){e.html(t),e.activity(!1),r()}))})),$(t).on("keydown",(function(t){if(9==t.keyCode){var n={type:"subpart",part_number:$(this).val()};e.activity(),o(),$.get(i,n,(function(t){e.html(t),e.activity(!1),r()}))}}))};var App=window.App||{};App.handleSubpartForm=function(){var t="form.subpart input#part_number",e=$("input#part_revision_data_set"),i=$("div.modal-body div#info"),n=$("select#subpart_subpart_part_revision_id"),r="/part/showcase",o=function(){e.val("")},s=function(){e.val("1")};$("body").on("focus",t,(function(){o()})),$(t).on("keydown",(function(t){if(9==t.keyCode){var e={type:"subpart",part_number:$(this).val()};i.activity(),$.get(r,e,(function(t){i.html(t),i.activity(!1),$("div#info input#part_id").val()&&(n.parent("div").activity(!0),n.find("option").remove(),$.get("/part/"+encodeURIComponent($("input#part_id").val())+"/revisions",(function(t){$.each(t,(function(t,e){n.append($("<option />").val(e.id).text(e.name)),n.parent("div").activity(!1)})),s()})))}))}})),$("body").on("change","select#subpart_subpart_part_revision_id",(function(){var e={type:"subpart",part_number:$(t).val(),revision_id:$(this).val()};s(),$.get(r,e,(function(t){i.html(t),i.activity(!1)}))})),$("form.subpart .autocomplete").on("autocompleteSelected",(function(e){var o=e.ui.item.data,a=o.partnumber,l={type:"subpart",part_number:a},c=o.revisions;$(t).val(a),i.activity(),$.get(r,l,(function(t){i.html(t),i.activity(!1)})),n.find("option").remove(),$.each(c,(function(t,e){n.append($("<option />").val(e.id).text(e.name)),e.active&&n.val(e.id),s()}))}))},jQuery((function(){App.switchActivityViews(),App.attachSwitchViews(),App.attachTruncatedText(),App.attachAutosize()}));var App=window.App||{};App.handleSplitPopover=function(t){var e=$(this).data("item-id"),i=$("input:text#qty_"+e),n=$("input#al-asset-id-"+e),r=i.data("integer-only-quantity"),o=$(this).siblings("div").children("input").map((function(){return $(this).val()})).get(),s=$("tr#item_"+e).find("td.qty").find("span.al-this-shipment"),a=o.filter((function(t){return t})).reduce((function(t,e){return r?t+parseInt(e,10):t+parseFloat(e)}),0);if(!isNaN(a)&&0!==a){if(s.removeClass("hide"),r)s.html($.number(a,0));else{var l=a%1!=0?4:2;s.html(parseFloat($.number(a,l,".")))}$("input[type='hidden']#split_qty_"+e).val(o),i.closest(".validator").hide(),i.prop("disabled",!0),n.attr("disabled",!0).parent("div").hide(),$("tr#item_"+e).find(".al-asset-id-assignment-disabled").removeClass("hide")}$(this).parents("div.popover").find("button.close").click(),s.length>0&&$(this).parent("div.popover-content-inner").find("a.reset").parents("div:first").show(),t.preventDefault()},App.resetSplit=function(){var t=$(this).parents("div.popover"),e=$(this).data("item-id"),i=$("input#al-asset-id-"+e),n=t.find("div.form-group:first").clone();n.find("input:text").attr("value",""),$("tr#item_"+e).find("td.qty").find("span.al-this-shipment").empty().addClass("hide"),$("input[type='hidden']#split_qty_"+e).val(""),$("input:text#qty_"+e).closest(".validator").show(),$("input:text#qty_"+e).prop("disabled",!1).show(),i.attr("disabled",!1).parent("div").show(),$("tr#item_"+e).find(".al-asset-id-assignment-disabled").addClass("hide"),t.find("button.close").click(),$(this).parents("div:first").hide(),t.find("div.form-group").remove(),t.find("div.popover-content-inner").prepend(n.prop("outerHTML")),$("[data-popover-toggle="+e+"]").addClass("faded-actions")},App.repositionArrow=function(t){var e=t.parents("div.popover").attr("id"),i=$('a[data-popover-toggle="'+e+'"]').children(".svgicon--split"),n=$("div#"+e).find("div.arrow");n.position({my:"right+120%",at:"right",of:i}),n.position({my:"right+120%",at:"right",of:i})},App.initSplitting=function(){$("[data-popover-toggle]").on("shown.bs.popover",(function(){$(this).removeClass("faded-actions")})),$("[data-popover-toggle]").on("hidden.bs.popover",(function(){$(this).addClass("faded-actions")})),$("body").on("click","a.split",App.handleSplitPopover),$("body").on("click","a.reset",App.resetSplit),$("body").on("keyup",".popover-content-inner input:text",(function(){var t=$(this).parents("div.popover-content-inner").find("input"),e=t.filter((function(){return""===this.value})),i=$(this).parent("div.form-group").clone(),n=$(this).parents("div.form-group").siblings("a.split"),r=$(this).attr("id").split("_"),o=r[0]+"_"+r[1]+"_"+(parseInt(r[2])+1).toString();i.attr("id","field-validator-"+o),i.find(".validator-content").attr("id","validator-content-"+o),i.find(".validator-message").attr("id","validator-message-"+o),i.find("input:text").attr("id",o),i.find("input:text").attr("value",""),i.find(".unit-convertor-popup").removeClass("active"),$(this).val().length>0?t.length<10&&0==e.length&&(n.before(i.prop("outerHTML")),App.repositionArrow($(this))):e.length>1&&(e.last().closest(".validator").remove(),App.repositionArrow(t.first()))}))},App.inventoryLocationupdate=function(){$("#inventory_location_id").change((function(){obj=$(this),$.ajax({type:"POST",dataType:"script",headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:$(this).data("path"),data:{inventory_location_id:$(this).val()},beforeSend:function(){Aligni.Util.activity(obj.parent())},complete:function(){Aligni.Util.activity(obj.parent(),!1)}})}))},jQuery((function(){"receive_inventory"==pageAttr("prefix")&&(App.initSplitting(),App.inventoryLocationupdate())}));var Aligni=window.Aligni||{};Aligni.SafetyStockAssistant={setupItemHandler:function(t,e,i){$("#minimum_"+t).change((function(){$(this).parent("td").activity(),$(this).val()&&$("#maximum_"+t).val()&&(Number($(this).val())>Number($("#maximum_"+t).val())?$(this).siblings("span.info").removeClass("hide"):$(this).siblings("span.info").addClass("hide")),$.ajax({type:"POST",headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/safety_stock_assistant/set_inventory_minimum/",data:{inventory_minimum:$(this).val(),id:t,inventory_location_id:e},success:function(e){$("#minimum_"+t).parent("td").activity(!1),$("#minimum_"+t).val(e)}})})),$("#maximum_"+t).change((function(){$(this).parent("td").activity(),$(this).val()&&$("#minimum_"+t).val()&&(Number($(this).val())<Number($("#minimum_"+t).val())?$(this).siblings("span.info").removeClass("hide"):$(this).siblings("span.info").addClass("hide")),$.ajax({type:"POST",headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/safety_stock_assistant/set_inventory_maximum/",data:{inventory_maximum:$(this).val(),id:t,inventory_location_id:e},success:function(e){$("#maximum_"+t).parent("td").activity(!1),$("#maximum_"+t).val(e)}})})),$("#minimum_"+t+",#maximum_"+t).focus((function(){$("#divUsageSummary").mask("Updating..."),$("#divUsageChart").mask("Updating..."),$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/part/"+t+"/helper_quantity?item_id="+t+"&type=page",success:function(t){$("#divUsageSummary").html(t),$("#h1UsageSummary").html(i),$("#divUsageSummary").unmask(),$("p.blank").addClass("hide")}}),$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/inventory_history/chart?part_id="+t+"&years_back=10&years_ahead=4&period=quarter",success:function(t){$("#divUsageChart").html(t),$("#h1UsageChart").html(i),$("p.blank").addClass("hide")}})}))}},jQuery((function(t){t("body").on("change","select#add_location_id",(function(){t(this).parent("div").activity(),t.getScript("/inventory_consumption/update_inventory_location?add_location_id="+t(this).val())}))}));var Aligni=window.Aligni||{};Aligni.InventoryAdjustment=function(){function t(t,e){if(parseFloat(t)%1!=0&&!e)return{raw_adjustment:t};if(t){var i;i=e?/[^\d.]/g:/[^\d]/g;var n=t.replace(i,""),r=parseFloat(n),o=t.charAt(0);return r||0===r||(r=""),"+"!=o&&"-"!=o&&(o=""),{value:r,operation:o,field_value:o+n}}return{value:"",operation:"",field_value:""}}function e(t,e,i){null==i&&(i=1);var n=t;return e&&""!==e.value&&(e.value||0==e.value)&&("+"==e.operation?n+=i*e.value:"-"==e.operation?n-=i*e.value:n=i*e.value),parseFloat(n.toFixed(9))}return{parseAdjustment:t,calculatePostAdjustmentQuantity:e}}();var Aligni=window.Aligni||{};Aligni.Inventory=Aligni.Inventory||{},Aligni.Inventory.ManualAdjustment=Aligni.Inventory.ManualAdjustment||{},Aligni.InventoryAdjustment.Adjustment=function(t){function e(t,e,i,n){c.factor=1/i,c.allowFractional=n,c.currentQuantity=t/i,c.reservedQuantity=e/i}function i(e){u=Aligni.InventoryAdjustment.parseAdjustment(e,allowFractional),t.tinyPub("adjustment:update")}function n(){return newQuantity=Aligni.InventoryAdjustment.calculatePostAdjustmentQuantity(currentQuantity,u,factor),newQuantity}function r(){var t=n()-reservedQuantity;return parseFloat(t.toFixed(9))}function o(){return currentQuantity<n()}function s(){return currentQuantity===n()}function a(){return r()<0}function l(){return n()<0}var c=this,u=0;return{init:e,setAdjustment:i,getNewCurrentQuantity:n,getNewAvailableQuantity:r,hasIncreasedQuantity:o,hasUnchangedQuantity:s,hasNegativeNewAvailableQuantity:a,hasNegativeNewCurrentQuantity:l}}(jQuery),Aligni.InventoryAdjustment.View=function(t){function e(e,o){n=e,r=t(o.adjustmentField),t.tinySub("adjustment:update",i)}function i(){var e=n.getNewCurrentQuantity(),i=n.getNewAvailableQuantity(),o=t("span.post_adjustment"),s=t("span.post_adjustment_current_quantity"),a=t("span.post_adjustment_available_quantity");s.text(e),a.text(i),n.hasNegativeNewAvailableQuantity()?(r.parent("div").addClass("has-error"),a.addClass("alert alert-danger-white-on-red"),n.hasNegativeNewCurrentQuantity()&&s.addClass("alert alert-danger-white-on-red")):(r.parent("div").removeClass("has-error"),o.removeClass("alert alert-danger-white-on-red"),n.hasIncreasedQuantity()?o.addClass("text-success").removeClass("text-danger"):n.hasUnchangedQuantity()?o.removeClass("text-success text-danger"):o.addClass("text-danger").removeClass("text-success"))}var n=null,r=null;return{init:e,render:i}}(jQuery),Aligni.Inventory.ManualAdjustment.App=function(t){function e(){a=t("form#adjust_quantity_form").find("input[type='submit']"),l=t(s),currentQuantity=parseFloat(l.data("currentQuantity")),reservedQuantity=parseFloat(l.data("reservedQuantity")),factor=parseFloat(l.data("factor")),allowFractional=l.data("allow-fractional"),c.init(currentQuantity,reservedQuantity,factor,allowFractional),u.init(c,{adjustmentField:s}),t("body").on("keyup",s,i),t(document).on("shown.bs.modal",i),t.tinySub("adjustment:update",n)}function i(){c.setAdjustment(l.val())}function n(){l.parsley().validate(),l.parsley().isValid()?r():o()}function r(){a.attr("disabled",!1)}function o(){a.attr("disabled",!0)}var s=".modal-dialog input#inventory_unit_quantity_adjustment",a=null,l=null,c=Aligni.InventoryAdjustment.Adjustment,u=Aligni.InventoryAdjustment.View;return{init:e}}(jQuery);var Aligni=window.Aligni||{};Aligni.Components=Aligni.Components||{},Aligni.Components.Basic=Aligni.Components.Basic||{},Aligni.Components.Basic.PanelMessage=function(){function t(){$(document).on("turbo:load ajaxSuccess",(function(){var t=$(".panel-message"),e=$(".with-panel-message");e.length>0&&0===t.length&&$(e).removeClass("with-panel-message"),t.length>0&&$(t[0]).parents(".panel").addClass("with-panel-message"),$(".panel-message").off("closed.bs.alert").on("closed.bs.alert",(function(){$(this).parents(".panel").removeClass("with-panel-message")}))}))}return{init:t}}(jQuery),Aligni.Components.Basic.PanelMessage.init();var AligniModal=function(t){var e=function(){this.sourceSelector="a.aligni_modal",this.targetSelector="#aligni_modal"};return e.prototype={init:function(){var e=this;App.preventContextMenu(this.sourceSelector),t(document).on("click",this.sourceSelector,(function(){var i=t(this),n=e.targetElement(i);return i.activity(),e.removeExisting(),e.createNew(i,n),!1})),t(document).on("shown.bs.modal",".modal",(function(){if(Aligni.Environment.isTest())t(".modal-header").append("<p>Modal shown</p>");else{var e=t(this).find("input:text, textarea, input[type=number]").first();void 0===e.data("datepicker")&&e.val(e.val()).focus()}})),Aligni.Environment.isTest()&&t("#test-messages").append("<p>Aligni Modal initialized</p>")},targetElement:function(e){return e.data("target")?t(e.data("target")):t(this.targetSelector)},createNew:function(e,i){var n=this;if(""===e.attr("href"))e.activity(!1),i.modal("show");else{var r=e.attr("href");t.get(r,{target:"modal",modal_data:e.data("modal-data")},(function(r){e.activity(!1),t(r).is(n.targetSelector)?(i.replaceWith(r),n.targetElement(e).modal("show")):(i.html(r),i.modal("show"))}))}t(document).on("shown.bs.modal",".modal",(function(){e.trigger({type:"aligniModalShown",message:"Aligni modal shown.",time:new Date})}))},removeExisting:function(){t(document).on("hidden.bs.modal",".modal",(function(){t(this).removeData("bs.modal")}))}},e}(jQuery),AligniPopUp=function(t){var e=function(t,e){this.type=t,this.element=e,this.options={container:"body",template:'<div class="popover"><div class="arrow"></div><div class="popover-content"></div></div>',html:!0,esc_close:!0,placement:"left"}};return e.prototype={init:function(){var e=this;this.configureOptions(),this.element||(this.element=t(this.selector())),this.element.on("click",(function(){var i=t(this);i.activity(),i.unbind("click"),t.get(i.data("path"),(function(n){i.clickover(t.extend(e.options,{content:n})),i.click(),i.activity(!1)}))}))},selector:function(){return""===this.type?".aligni_pop_up":".aligni_pop_up."+this.type},configureOptions:function(){var e=this;switch(this.type){case"quantity_helper":t.extend(this.options,e.quantityHelperOptions());break;case"quote_helper":t.extend(this.options,e.quoteHelperOptions())}},quantityHelperOptions:function(){return{placement:"right",onShown:function(){t("#tableQuantityHelperConsumptions_"+t(this).data("id")).tablesorter({sortList:[[0,1]]})}}},quoteHelperOptions:function(){return{placement:"bottom",onShown:function(){t("#quoteTable_"+t(this).data("id")).tablesorter({sortList:[[5,1]]})}}}},e}(jQuery),AligniCountryAutocomplete=function(t){var e=function(t){this.fieldSelector=t,this.options={source:["Afghanistan","\xc5land Islands","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antarctica","Antigua and Barbuda","Argentina","Armenia","Aruba","Ascension Island","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bonaire","Bosnia and Herzegovina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory","British Virgin Islands","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Cayman Islands","Central African Republic","Chad","Chile","China","Christmas Island","Cocos (Keeling) Islands","Colombia","Comoros","Republic of the Congo","Democratic Republic of the Congo","Cook Islands","Costa Rica","Croatia","Cuba","Cura\xe7ao","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Falkland Islands","Faroe Islands","Fiji","Finland","France","French Guiana","French Polynesia","French Southern and Antarctic Lands","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Heard Island and McDonald Islands","Vatican City","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Ivory Coast","Iran","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macau","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","North Korea","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcairn Islands","Poland","Portugal","Puerto Rico","Qatar","Republic of Kosovo","R\xe9union","Romania","Russia","Rwanda","Saint Barth\xe9lemy","Saint Helena","Saint Kitts and Nevis","Saint Lucia","Saint Martin","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","S\xe3o Tom\xe9 and Pr\xedncipe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Sint Maarten","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Svalbard and Jan Mayen","Swaziland","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tokelau","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Minor Outlying Islands","United States Virgin Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","Wallis and Futuna","Western Sahara","Yemen","Zambia","Zimbabwe"],position:{my:"right top",at:"right bottom"},autoFocus:!0}};return e.prototype={init:function(){var e=this;t(e.fieldSelector).css("visibility","visible"),t(e.fieldSelector).autocomplete(e.options)}},e}(jQuery);jQuery((function(t){t("body").on("click",".remove_fields",(function(e){return t(this).prev("input[type=hidden]").val("1"),t(this).closest("div.fields").hide(),e.preventDefault()})),t("body").on("click",".add_fields",(function(e){var i,n;return n=(new Date).getTime(),i=new RegExp(t(this).data("id"),"g"),t(this).parent(".form-actions").before(t(this).data("fields").replace(i,n)),e.preventDefault()}))}));var App=window.App||{};jQuery((function(t){var e=t("[data-page-wrap]"),i=t("[data-side-panel]"),n=t("[data-main-tabs-nav]"),r=t("[data-main-tabs-content]"),o=t("[data-side-panel-tabs-nav]"),s=t("[data-side-panel-tabs-content]"),a=1606;showHelperTab=function(){t("a[href='#helpers']").parents("li:first").show()},hideHelperTab=function(){t("a[href='#helpers']").parents("li:first").hide(),t("div#helpers").hide()},moveTabsToSidePanel=function(){var e=n.children("li.movable"),i=e.first();l=r.find(i.find("a").attr("href")),e.each((function(e,i){var n=t(i),a=n.detach(),l=r.find(n.find("a").attr("href")).detach();a.appendTo(o),l.appendTo(s)}));var a=o.children("li");if(!a.hasClass("active")){i=a.first();var l=s.find(i.find("a").attr("href"));i.addClass("active"),l.addClass("in active")}showHelperTab()},moveTabsToMain=function(){o.children("li.movable").each((function(e,i){var o=t(i),a=o.detach(),l=s.find(o.find("a").attr("href")).detach();a.appendTo(n),l.appendTo(r)}))
;n.children("li"),r.children(".tab-pane");n.removeClass("hide"),hideHelperTab()},toggleNoteUpdateCopy=function(){t("span.note-update-copy").toggle(),t("span.side-panel-note-update-copy").toggle()},openSidePanel=function(){i.removeClass("expanded-without-animation"),i.addClass("expanded"),e.addClass("side-panel-expanded animate-margin"),App.hideHelpers()},closeSidePanel=function(){e.addClass("animate-margin"),i.removeClass("expanded expanded-without-animation"),e.removeClass("side-panel-expanded"),App.showHelpers()},handleSidePanel=function(){t(window).width()>a?(i.hasClass("expanded")||(moveTabsToSidePanel(),openSidePanel(),toggleNoteUpdateCopy(),t("div#table").on("focus","[data-source-field]",(function(){var e=t(this),n=e.data("source-field"),r=t("[data-position-arrow='"+n+"']");t("[data-position-arrow]").addClass("hide"),r.removeClass("hide"),t("div.side-panel").activity(),t("div#helpers .tab-pane-body").empty(),t("a[href='#comments']").parents("li:first").removeClass("active"),t("a[href='#attachments']").parents("li:first").removeClass("active"),t("a[href='#helpers']").parents("li:first").addClass("active"),t("div#comments").removeClass("active in"),t("div#attachments").removeClass("active in"),t("div#helpers").addClass("active in"),t.get(e.data("path"),(function(e){t("div#helpers .tab-pane-body").html(e),t("div.side-panel").activity(!1),i.hasClass("expanded")&&t("div#helpers").show()}))}))),showHelperTab()):i.hasClass("expanded")&&(moveTabsToMain(),closeSidePanel(),toggleNoteUpdateCopy())},"side_panel"==pageAttr("prefix")&&(App.handleResize(handleSidePanel),handleSidePanel(),t(window).width()>1606&&(t(".page-wrap").removeClass("animate-margin"),i.addClass("expanded-without-animation")))}));var Aligni=window.Aligni||{};Aligni.Pagination=function(t){var e=function(e,i,n){this.$container=t("div.container"),this.paginationContainerSelector=e,this.paginator=i,this.info=n,this.formSelector=e+" form.pagination",this.pageControlSelector=this.formSelector+" a.pagination",this.perPageControlSelector=this.formSelector+" select",this.entriesSelector=this.formSelector+" span.entries"};return e.prototype={init:function(){var e=this;this.renderPaginator(),this.renderInfo(),this.$container.off("click",this.pageControlSelector),this.$container.on("click",this.pageControlSelector,(function(){t(this).activity()})),this.$container.off("change",this.perPageControlSelector),this.$container.on("change",this.perPageControlSelector,(function(){t(e.formSelector).activity(),t(e.formSelector)[0].requestSubmit()}))},renderPaginator:function(){var e=this;t(e.paginationContainerSelector).html(e.paginator)},renderInfo:function(){var e=this;t(e.entriesSelector).show().html(e.info)}},e}(jQuery),jQuery((function(t){if("builds/show"===pageAttr("aligni-page")){var e=function(e){return t(e).parents("div.form-group").find("div.alert-warning")},i=function(){e(this).removeClass("invisible")},n=function(){e(this).addClass("invisible")},r=function(){t("a.al-deviation-ui").addClass("hide")},o=function(){t("a.al-deviation-ui").removeClass("hide")},s=function(){t(this).find("#build_deviation_item_quantity").focusFieldAndPositionCursor()};t(document).on("valueChanged","input#icr_quantity",i),t(document).on("valueReset","input#icr_quantity",n),t(document).on("valueChanged","select#icr_part_revision_id",i),t(document).on("valueReset","select#icr_part_revision_id",n),t("body").on("show.bs.collapse","div.al-deviation-ui",r),t("body").on("hide.bs.collapse","div.al-deviation-ui",o),t("body").on("shown.bs.collapse","div.al-deviation-ui",s)}})),jQuery((function(t){if("bulk_updates/choose_file"===pageAttr("aligni-page")){var e=".dropzone-area",i="input[type='radio'][name='bulk_update_type']",n="#aligni-revision-bypass-checkboxes",r=function(){t(n).show()},o=function(){t(n).hide()},s=function(){t(i).on("change",(function(){"in_place"===this.value?r():o()}))};(function(){new Dropzone(e,{url:"/bulk_updates/upload_file",paramName:"bomfile",headers:{"X-CSRF-Token":t('meta[name="csrf-token"]').attr("content")},previewTemplate:Aligni.Dropzone.defaultTemplate,uploadMultiple:!1,maxFiles:1})})(),s()}}));var Aligni=window.Aligni||{};Aligni.Homepage=function(t){function e(){var e=t("#home-search");e.length>0&&e.focus()}function i(){t(document).on("click",o+" a",(function(){t(this).siblings().removeClass("active"),t(this).addClass("active"),t(this).activity()}))}function n(){t("a.al-show-part-index").click()}function r(){e(),i()}var o="div#al-homepage-perspective-switcher";return{init:r,showPartindex:n}}(jQuery),jQuery((function(){Aligni.Homepage.init()})),jQuery((function(t){function e(){t(r+" select").prop("disabled",!0),t(r+" select").prop("selectedIndex",0)}function i(){t(r+" select").prop("disabled",!1)}function n(){t(this).is(":checked")?e():i()}var r="#al-add-parts-to-adjustment-batch-form";t(document).on("change","#al-add-all-checkbox",n)})),jQuery((function(t){"inventory_transfer/show"===pageAttr("aligni-page")&&t(document).on("submit","#al-promise-date-form",(function(){t("#al-promise-date").activity()}))})),jQuery((function(t){if("inventory_units/bulk_import/new"===pageAttr("aligni-page"))new Dropzone(".dropzone-area",{url:"/csv_files?csv_file_name=inventory_units_csv_file",paramName:"csv_file",headers:{"X-CSRF-Token":t('meta[name="csrf-token"]').attr("content")},previewTemplate:Aligni.Dropzone.defaultTemplate,uploadMultiple:!1,maxFiles:1})})),jQuery((function(t){"manufacturers/show"===pageAttr("aligni-page")&&t(document).on("click",".listing-with-details-toggle",(function(){var e=t(this),i=e.parents(".listing-with-details-items").find(".listing-with-details-toggle");return $hrefID=t(e.attr("href")),$details=e.parents(".listing-with-details").find(".listing-with-details-detail"),i.removeClass("active"),e.addClass("active"),$details.removeClass("in active"),$hrefID.addClass("in active"),!1}))}));var Aligni=window.Aligni||{};Aligni.PartAlternate=Aligni.PartAlternate||{},Aligni.PartAlternate.SelectedRelationship=function(t){function e(){var e=t("#al-part-alternate-relationship-select input[name=relationship]:checked");if(e.length>0){var i=e.parent().find(t("label")),n=t(i.html()).removeClass("text-muted");t("#selected-part-alternate-rel span").html(n)}}function i(){t(document).on("change","input[type=radio][name=relationship]",e)}return{init:i,setSelectedIcon:e}}(jQuery),jQuery((function(t){if("part_import/choose_file"===pageAttr("aligni-page"))new Dropzone(".dropzone-area",{url:"/part_import/upload_file",paramName:"bomfile",headers:{"X-CSRF-Token":t('meta[name="csrf-token"]').attr("content")},previewTemplate:Aligni.Dropzone.defaultTemplate,uploadMultiple:!1,maxFiles:1})})),jQuery((function(t){if("purchases/show"===pageAttr("aligni-page")){var e=function(){var e=t(this),i=e.data("aligni-purchase-item-id"),n=t("input#purchase_items_"+i+"_quantity").val(),r=t("input#purchase_items_"+i+"_price").val(),s=t("input#purchase_items_"+i+"_note").val(),a=e.data("aligni-purchase-item-update-path");o(e,a,{purchase_item:{quantity:n,price:r,note:s}},"PATCH")},i=function(){var e=t(this),i=e.attr("data-aligni-purchase-unit"),n={unit_id:e.val()};o(e,i,n,"PATCH")},n=function(){var e=t(this),i=e.attr("data-aligni-purchase-vendor-select"),n={vendor_id:e.val()};o(e,i,n,"PATCH")},r=function(e){e.preventDefault();var i=t(this),n=i.attr("href"),r={quote_id:i.data("aligni-purchase-item-quote-update")};o(i,n,r,"PATCH")},o=function(e,i,n,r){r=r||"POST";t.ajax({type:r,dataType:"script",url:i,data:n,beforeSend:function(){Aligni.Util.activity(e.parent())},complete:function(){Aligni.Util.activity(e.parent(),!1)}})};t(document).on("change","select[data-aligni-purchase-unit]",i),t(document).on("change","select[data-aligni-purchase-vendor-select]",n),t(document).on("click","a[data-aligni-purchase-item-quote-update]",r),t(document).on("change","input[data-aligni-purchase-item-id]",e),Aligni.Tables.initTableLayoutToggle("purchaseTableLayout"),Aligni.Util.equalizeVendorElements()}})),jQuery((function(t){if("quote_requests/show"===pageAttr("aligni-page")){var e=function(){var e=t(this),i=e.data("aligni-quote-request-item-id"),n=t("input#quote_request_items_"+i+"_quantity").val(),r=t("input#quote_request_items_"+i+"_note").val(),s=e.data("aligni-quote-request-item-update-path");o(e,s,{quote_request_item:{quantity:n,note:r}},"PATCH")},i=function(){var e=t(this),i=e.data("aligni-quote-request-item-unit"),n={unit_id:e.val()};o(e,i,n,"PATCH")},n=function(){var e=t(this),i=e.data("aligni-quote-request-item-vendor"),n=e.is(":checked"),r={vendor_selected:n};n||e.siblings(".dropdown").find("input:radio").addClass("removed"),o(e,i,r,"PATCH")},r=function(){var e=t(this),i=e.data("aligni-quote-request-item-vendor-part-number"),n={vendor_part_number_id:e.val(),quote_request_items_vendor_id:e.data("aligni-quote-request-items-vendor-id")};o(e,i,n,"PATCH")},o=function(e,i,n,r){r=r||"POST";t.ajax({type:r,dataType:"script",url:i,data:n,beforeSend:function(){Aligni.Util.activity(e.parent())},complete:function(){Aligni.Util.activity(e.parent(),!1)}})};t(document).on("change","input[data-aligni-quote-request-item-id]",e),t(document).on("change","select[data-aligni-quote-request-item-unit]",i),t(document).on("change","input[data-aligni-quote-request-item-vendor]",n),t(document).on("change","input:radio.quote_request_item_vendor_part_number:not(.removed)",r),Aligni.Tables.initTableLayoutToggle("quoteRequestTableLayout"),Aligni.Util.equalizeVendorElements()}})),jQuery((function(t){(function(){t('[data-toggle="popover"]').each((function(t,e){new Aligni.Popover(e).initSimplePopover()}))})()})),jQuery((function(t){if("safety_stocks/bulk_import/new"===pageAttr("aligni-page"))new Dropzone(".dropzone-area",{url:"/csv_files?csv_file_name=safety_stocks_csv_file",paramName:"csv_file",headers:{"X-CSRF-Token":t('meta[name="csrf-token"]').attr("content")},previewTemplate:Aligni.Dropzone.defaultTemplate,uploadMultiple:!1,maxFiles:1})})),$(document).on("click","[data-toggle='date-format']",(function(){if("safety_stock_group/index"===pageAttr("aligni-page")){var t=$("#safety_stock_human_date_format"),e=t.val();t.val("true"===e?"false":"true"),t.parent("form").submit()}})),document.addEventListener("turbo:load",(function(){"safety_stock_group/show"===pageAttr("aligni-page")&&$(".view-safety-stock-item-details").on("click",(function(){$("#safety-stock-item-details").drawer("show"),$("#safety-stock-item-details").activity()}))})),document.addEventListener("turbo:load",(function(){"safety_stock_item/show"===pageAttr("aligni-page")&&($(document).on("click","#drawer-close-overlay",(function(){var t=$(this).data("visit-on-close");$("#safety-stock-item-details").drawer("hide"),Turbo.visit(t)})),$(document).on("keyup",(function(t){if(27==t.keyCode){var e=$("#close-safety-stock-item-drawer").attr("href");$("#safety-stock-item-details").drawer("hide"),Turbo.visit(e)}})),$(document).on("click","#close-safety-stock-item-drawer",(function(){$("#safety-stock-item-details").drawer("hide")})))})),document.addEventListener("turbo:load",(function(){if("settings/customer_profiles/show"===pageAttr("aligni-page")){var t=function(t){t.preventDefault();var e=$(this);options=e.data("credit-card-link"),Aligni.AuthorizeNetPopup.open(e,options.action,options.payment_profile_id)},e=function(){var t=$(this).attr("href"),e=$(this).data("credit-card-link").method;$.ajax({url:t,type:e,dataType:"script"})};$(document).off("click","[data-credit-card-link]"),$(document).on("click","[data-credit-card-link]",t),$(document).off("aligniAuthorizeNetPopupSave","[data-credit-card-link]"),$(document).on("aligniAuthorizeNetPopupSave","[data-credit-card-link]",e)}})),document.addEventListener("turbo:load",(function(){"settings/integrations/ultracart_configuration/show"===pageAttr("aligni-page")&&$("select#ultracart_configuration_account_site_affiliation_id").chosen({allow_single_deselect:!0,width:"100%"})})),$(document).on("change","select#inventory_report_inventory_location_id",(function(){$("select#inventory_report_inventory_sublocation_id").find("option:gt(0)").remove(),$(this).val().length>0?($(this).parents("dd").activity(),$.get("/inventory_locations/"+encodeURIComponent($(this).val())+"/get_inventory_sublocations",(function(t){var e=$("select#inventory_report_inventory_sublocation_id");t.length>0?($.each(t,(function(){e.append($("<option />").val(this.id).text(this.name))})),$("div#inventory_sublocation_selection").show()):$("div#inventory_sublocation_selection").hide(),$("select#inventory_report_inventory_location_id").parents("dd").activity(!1)}))):$("div#inventory_sublocation_selection").hide()})),document.addEventListener("turbo:load",(function(){"invitations/new"===pageAttr("aligni-page")&&$(document).on("click",".invitation-type-switch",(function(t){var e=$(t.currentTarget).attr("data-invitation-type");$(".modal input[type=text]").attr("disabled",!0),$(".modal input[type=text]").val(""),$(".modal input[type=checkbox]").attr("checked",!1),$(".modal input[type=radio]").attr("checked",!1),$("#invitation_"+e).attr("checked",!0),$("#"+e+"_invitation_email").removeAttr("disabled"),"viewer"===e&&$("#invitation-view-only").attr("checked",!0)}))})),document.addEventListener("turbo:load",(function(){function t(t){new AligniLabelPrinter("inventory",{},{},t).init()}function e(e){dymo.label.framework.init(t(e))}"settings/labels"===pageAttr("aligni-page")&&($(document).off("shown.bs.modal","[data-show-label]"),$(document).on("shown.bs.modal","[data-show-label]",(function(){e($(this).data("label-path"))})))})),document.addEventListener("turbo:load",(function(){"settings/part_display_styles"===pageAttr("aligni-page")&&($("body").on("autocompleteSelected","form#preview .autocomplete",(function(t){$(this).val(t.ui.item.data.manufacturer_pn),$(this).parent("form").activity(),$("form#preview").submit()})),App.menuTabs())})),jQuery((function(){$(document).on("change",".check-all-options",(function(){var t=$(this).closest(".toggle-set"),e=t.find(".toggle-set-content");t.find(".check-no-options").removeAttr("checked"),e.find(":checkbox").attr("checked","checked").trigger("change")})),$(document).on("click",".toggle-to-none",(function(t){var e=$(this).closest(".toggle-set"),i=e.find(".toggle-set-content");e.find(".check-all-options").removeAttr("checked"),i.find(":checkbox:enabled").removeAttr("checked").trigger("change"),i.find("input[type=checkbox]:disabled").length>0&&t.stopImmediatePropagation(),i.find(":checkbox:enabled").removeAttr("checked").trigger("change")})),$(document).on("change",".toggle-set-content :checkbox",(function(){var t=$(this).closest(".toggle-set");t.find("[data-toggle='buttons'] label").removeClass("active"),t.find("input:disabled").length>0?(t.find(".legend").addClass("has-warning"),t.find(".legend .implied-permissions-notice").removeClass("hide")):(t.find(".legend").removeClass("has-warning"),t.find(".legend .implied-permissions-notice").addClass("hide"))})),$(document).on("change","[data-implied-permissions]",(function(){var t=$(this).data("implied-permissions");"checked"==$(this).attr("checked")?t.forEach((function(t){var e=$("#permission_"+t);e.attr("checked","checked").attr("disabled","disabled").trigger("change"),e.closest(".flex-row").find(".al-implied-permission-msg").removeClass("hide")})):t.forEach((function(t){var e=[],i=$("#permission_"+t);$.each($("[data-implied-permissions]:checked"),(function(t,i){elementImpliedPermissions=$(i).data("implied-permissions"),""!=elementImpliedPermissions&&$.merge(e,elementImpliedPermissions)})),$.inArray(t,e)<0&&(i.removeAttr("disabled").trigger("change"),i.closest(".flex-row").find(".al-implied-permission-msg").addClass("hide"))}))})),$(document).on("input",".manage_up_to",(function(){this.style.width=.55*(this.value.length+1)+"em"}))})),document.addEventListener("turbo:load",(function(){"roles/new"===pageAttr("aligni-page")&&$(document).on("change","input[type='radio'][name='permission_set[view_only]']",(function(){$(this).parent().activity();var t=$(this).val(),e=$(this).data("permission-groups-path");$.ajax({type:"GET",dataType:"script",url:e,data:{view_only:t}})}))})),document.addEventListener("turbo:load",(function(){if("settings/subscription/new"===pageAttr("aligni-page")){var t=function(t,e,i){var n=i-t;$("span#addon-over-limit").html(pluralize(e,n,!0)),$("span#addon-total-quantity").html(t)},e=function(e,i,n){var r=$("div#addon-usage-warning"),o=parseInt($("[data-addon-default-limit]").data("addon-default-limit")),s=parseInt($("[data-addon-usage]").data("addon-usage")),a=i+o;r.length>0?a<s?(t(a,n,s),r.removeClass("hide"),e.attr("disabled",!0)):(r.addClass("hide"),e.attr("disabled",!1)):e.attr("disabled",!1)},i=function(t,e,i){var n=t.data("addon-action");n&&n.length>0&&t.prop("value",n+" "+pluralize(i,e,!0))};$(document).on("change","[data-seats-count]",(function(){var t=$(this).parents("form").find("input:submit"),n=$("[data-addon-subject]").data("addon-subject"),r=parseFloat($("[data-proration-index]").data("proration-index")),o=parseInt($(this).val()),s=o*r;e(t,o,n),i(t,o,n),$("[data-prorated-quantity]").html(_.round(s))}))}})),jQuery((function(){function t(){var t=$("#unit_conversion_factor").val(),e=$("#unit_conversion_calculation").data("from-unit"),i=$("#unit_conversion_to_unit_id option:selected").text();$.isNumeric(t)?$("#unit_conversion_calculation").html("1 ("+e+") = "+t+" ("+i+") <br> 1 ("+i+") = "+1/t+" ("+e+")"):$("#unit_conversion_calculation").text("Calculation not available")}$(document).on("input propertychange","#unit_conversion_factor",t),$(document).on("change","#unit_conversion_to_unit_id",t)})),document.addEventListener("turbo:load",(function(){if("settings/usage_report"===pageAttr("aligni-page")){var t=function(){var t=$(this).find("option:selected");t.length&&new Aligni.populateSelect(t).init()};$(document).off("change","select#usage_report_group"),$(document).on("change","select#usage_report_group",t)}})),document.addEventListener("turbo:load",(function(){"settings/export_templates"===pageAttr("aligni-page")&&$("div.al-parameters-group").sortable({items:"div.sortable-item",handle:"div.handle"}).disableSelection()})),jQuery((function(t){if("usage_report/show"===pageAttr("aligni-page")){var e=function(){var e=t(this).find("option:selected");e.length&&new Aligni.populateSelect(e).init()};t(document).on("change","select#usage_report_group",e)}}));var Aligni=window.Aligni||{};Aligni.Show=function(t){function e(){t("#al-vault-change-entries").length&&Aligni.ReloadWithTurbo.reload()}function i(){t.tinySub("attachments:updated",e)}return{init:i}}(jQuery),Aligni.Show.init(),window.stimulusApp=Stimulus.Application.start();var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}};window.stimulusApp.register("admin-emails",function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"sendTestEmail",value:function(){$.post("/root/admin_email_tests",$(this.element).serialize())}}]),e}(Stimulus.Controller));var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}};window.stimulusApp.register("activity",function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"show",value:function(){$(this.element).activity()}}]),e}(Stimulus.Controller));var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}};window.stimulusApp.register("asset-id-field",function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"toggle",value:function(){this.autogenerateTargets.forEach((function(t){t.classList.toggle("hide")}))}},{key:"remove",value:function(t){t.preventDefault(),this.removeTargets.forEach((function(t){t.classList.toggle("hide")})),this.enableTarget.disabled=!1}}],[{key:"targets",get:function(){return["autogenerate","remove","enable"]}}]),e}(Stimulus.Controller));var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}};window.stimulusApp.register("autocomplete",function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"connect",value:function(){new Autocomplete("#"+this.element.id+".autocomplete","").init()}}]),e}(Stimulus.Controller));var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}};window.stimulusApp.register("auto-expand-textarea",function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"connect",value:function(){this.element.style.resize="none",this.element.style.minHeight=this.element.scrollHeight+"px"}},{key:"resize",value:function(){this.element.style.height="5px",this.element.style.height=this.element.scrollHeight+"px"}}]),e}(Stimulus.Controller));var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}};window.stimulusApp.register("change-plan",function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"connect",value:function(){this.selectPlan()}},{key:"selectPlan",value:function(){var t=this.planTarget.selectedOptions[0];this.costValue=t.getAttribute("data-cost"),this.errorsValue=t.getAttribute("data-errors")}},{key:"costValueChanged",value:function(){this.costTarget.innerHTML=this.costValue}},{key:"errorsValueChanged",value:function(){var t=this;if(this.errorsValue){var e=JSON.parse(this.errorsValue);e.length?(this.errorsTarget.innerHTML="",e.forEach((function(e){var i=document.createElement("li");i.appendChild(document.createTextNode(e)),t.errorsTarget.appendChild(i)})),this.disableSubmit()):this.enableSubmit()}else this.enableSubmit()}},{key:"enableSubmit",value:function(){this.errorsContainerTarget.classList.add("hide"),this.submitButtonTarget.disabled=!1}},{key:"disableSubmit",value:function(){this.errorsContainerTarget.classList.remove("hide"),this.submitButtonTarget.disabled=!0}}],[{key:"values",get:function(){return{cost:Number,currentCost:Number,errors:String}}},{key:"targets",get:function(){return["cost","errors","errorsContainer","plan","submitButton"]}}]),e}(Stimulus.Controller));var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}};window.stimulusApp.register("chosen",function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"connect",value:function(){$(this.element).chosen({allow_single_deselect:!1,width:"100%"})}}]),e}(Stimulus.Controller));var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}};window.stimulusApp.register("clipboard",function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"copy",value:function(){navigator.clipboard.writeText(this.sourceTarget.value)}}],[{key:"targets",get:function(){return["source"]}}]),e}(Stimulus.Controller)),document.execCommand;var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}};window.stimulusApp.register("close-modal",function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"handleSuccess",value:function(t){var e=t.detail;null!=e&&(422!==e.fetchResponse.statusCode&&$(this.element.parentElement).modal("hide"))}}]),e}(Stimulus.Controller));var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}};window.stimulusApp.register("datepicker",function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"connect",value:function(){Aligni.Datepicker.initField($(this.element))}}]),e}(Stimulus.Controller));var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}};window.stimulusApp.register("expander",function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"toggleExpand",value:function(t){var e=t.currentTarget.attributes["data-part-id"].value;document.querySelectorAll('[data-part-id="'+e+'"').forEach((function(t){return t.classList.toggle("expander-toggle-on")})),this.childTargets.filter((function(t){return t.attributes["data-part-id"].value===e})).forEach((function(t){return t.classList.toggle("expanded")}));var i=new CustomEvent("expander-toggled");this.element.dispatchEvent(i)}}],[{key:"targets",get:function(){return["child"]}}]),e}(Stimulus.Controller));var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}};window.stimulusApp.register("flash-message",function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"connect",value:function(){Aligni.Util.flash("flash-msg-success",5e3),Aligni.Util.flash("flash-msg-danger",5e3)}}]),e}(Stimulus.Controller));var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}};window.stimulusApp.register("inventory-forecast-chart",function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"connect",value:function(){if(Highcharts.setOptions({lang:{thousandsSep:","},time:{useUTC:!1},chart:{style:{fontFamily:"sans-serif",fontWeight:"normal"}}}),!this.isMinimized){var t=this.activeLocationIds();this.renderChart(t)}}},{key:"renderChart",value:function(t){var e=this;if(this.hasResultsTarget){var i=this.buildUrl(t);fetch(i).then((function(t){return t.json()})).then((function(t){e.chartResponseHandler(t)}))}}},{key:"selectLocation",value:function(){var t=this.inventoryLocationIdTarget.value;this.renderChart(t)}},{key:"filter",value:function(t){var e=t.target.children[1].value,i=this.activeLocationIds();i.includes(e)?i=i.filter((function(t){
return t!==e})):i.push(e),this.renderChart(i)}},{key:"resize",value:function(t){var e=t.target,i=e.value,n=$(e).parent(".btn-toggle")[0];this.deactivateResizeButtons(),n.classList.add("active"),this.resizeChart(i)}},{key:"resizeChart",value:function(t){var e=this,i=new URLSearchParams;i.append("size",t),fetch(this.resizeUrlValue+"?"+i,this.postOptions).then((function(t){return t.json()})).then((function(t){e.chartResponseHandler(t)}))}},{key:"toggleView",value:function(){var t=this,e=this.locationValue;fetch(this.minUrlValue,this.postOptions).then((function(t){return t.json()})).then((function(i){i&&!1===i.collapse&&t.renderChart(e),t.toggleDisableButtons()}))}},{key:"buildUrl",value:function(t){var e=new URLSearchParams;return t.forEach((function(t){return e.append("inventory_location_ids[]",t)})),"/inventory/forecast/"+this.partValue+"?"+e}},{key:"getChart",value:function(t){var e=t.legend,i=t.series_data,n=t.yaxis_plot_bands,r=t.xaxis_plot_bands,o=t.xaxis_plot_lines;$(this.resultsTarget).highcharts({chart:{type:"line",zoomType:"xy"},credits:!1,title:{text:""},xAxis:{useHTML:!0,type:"datetime",labels:{align:"center",formatter:function(){return"<div>"+Highcharts.dateFormat("%b",new Date(this.value))+"<br /> "+Highcharts.dateFormat("%Y",new Date(this.value))+"</div>"}},plotLines:o,plotBands:r,startOnTick:!1,endOnTick:!1,minTickInterval:24192e5},yAxis:{title:{text:"Total on Hand <br /> ("+e+")",margin:40},gridLineWidth:1,alternateGridColor:null,plotBands:n,labels:{step:1}},tooltip:{useHTML:!0,backgroundColor:null,borderWidth:0,shadow:!1,hideDelay:200,formatter:function(){var t=this.series.data[this.point.index],e=t.marker;if(e.enabled){var i=t.label,n=t.description;return'<div style="border: 2px solid '+e.fillColor+';\n              border-radius: 5px; background-color: rgba(255, 255, 255, 0.8);\n              box-shadow: 1px 1px 2px #888;padding: 8px;">\n\n              <h3 style="font-weight:normal;margin:0;">Available quantity: '+this.y+'\n              <span style="color:#666;padding-left:10px;font-size:12px;">'+i+'</span></h3>\n              <hr style="border:none;margin-top:4px;margin-bottom:4px;height:1px;background-color:#999;">\n              '+n.join(" <br /> ")+"\n            </div>"}return!1}},series:[{data:i,lineWidth:2,showInLegend:!1}]})}},{key:"chartResponseHandler",value:function(t){t.series_data.length>0?(this.hideZeroMessage(),this.getChart(t)):this.showZeroMessage()}},{key:"getCurrentDate",value:function(){var t=new Date;return Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())}},{key:"showZeroMessage",value:function(){this.resultsTarget.innerHTML="",this.resultsTarget.style.height=0,this.zeroStateTarget.style.display="block"}},{key:"hideZeroMessage",value:function(){var t=this.currentSize;this.zeroStateTarget.style.display="none",this.resultsTarget.style.height=t+"px"}},{key:"activeLocationIds",value:function(){var t=[];return this.inventoryLocationIdTargets.forEach((function(e){$(e).parent(".btn-toggle")[0].classList.contains("active")&&t.push(e.value)})),t}},{key:"toggleDisableButtons",value:function(){[this.inventoryLocationIdTargets,this.sizeTargets].flat().forEach((function(t){var e=t,i=$(e).parent(".btn-toggle")[0];void 0!==i&&i.toggleAttribute("disabled"),e.toggleAttribute("disabled")}))}},{key:"deactivateResizeButtons",value:function(){this.sizeTargets.forEach((function(t){$(t).parent(".btn-toggle")[0].classList.remove("active")}))}},{key:"isMinimized",get:function(){return void 0!==this.inventoryLocationIdTargets.find((function(t){var e=$(t),i=$(e.parent(".btn-toggle")[0]);return void 0!==e&&e.attr("disbaled")||void 0!==i&&i.attr("disabled")}))}},{key:"postOptions",get:function(){return{method:"POST",headers:{"X-CSRF-Token":document.querySelector("[name='csrf-token']").content,"Content-Type":"application/json"}}}},{key:"currentSize",get:function(){var t=0;return this.sizeTargets.forEach((function(e){var i=e;$(i).parent(".btn-toggle")[0].classList.contains("active")&&(t=i.value)})),t}}],[{key:"targets",get:function(){return["inventoryLocationId","results","size","zeroState"]}},{key:"values",get:function(){return{part:Number,location:Array,minUrl:String,resizeUrl:String}}}]),e}(Stimulus.Controller));var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}};window.stimulusApp.register("iu-move-split",function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"enable",value:function(){var t=this.quantityTarget.value.trim(),e=this.quantityTarget.dataset.totalQuantity,i=""===t,n=parseFloat(e)===parseFloat(t);i||n?(this.assetIdTarget.value="",this.assetIdTarget.disabled=!0,this.autogenerateCheckboxTarget.checked&&this.autogenerateCheckboxTarget.click(),this.autogenerateCheckboxTarget.disabled=!0):(this.assetIdTarget.disabled=!1,this.autogenerateCheckboxTarget.disabled=!1)}}],[{key:"targets",get:function(){return["quantity","assetId","autogenerateCheckbox"]}}]),e}(Stimulus.Controller));var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}};window.stimulusApp.register("mentions",function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"connect",value:function(){var t=this;Aligni.Environment.isTest()||fetch(this.accountsUrlValue,{redirect:"manual"}).then((function(t){return t.ok?t.text():"[]"})).then((function(e){var i=t;t.mentionableAccounts=JSON.parse(e),t.initializeAutocomplete(),t.initializeHighlight(),$(document).on("ajaxSuccess",(function(){i.initializeHighlight()}))}))}},{key:"initializeAutocomplete",value:function(){new Tribute({values:this.accountsWithoutActiveAccount,menuItemTemplate:this.mentionTemplate,lookup:function(t){return t.key+t.value}}).attach($(this.commentInputTarget))}},{key:"mentionTemplate",value:function(t){return t.original.key+'<span class="text-muted small"> @'+t.original.value+"</span>"}},{key:"initializeHighlight",value:function(){var t=this,e=this.commentsTarget;new Mark(e).mark(this.mentionableAccounts.map((function(t){return"@"+t.value})),{element:"span",separateWordSearch:!1,className:"text-royal",each:function(e){var i=e.textContent.slice(1);e.title=t.accountFullName(i)}})}},{key:"accountFullName",value:function(t){return this.mentionableAccounts.find((function(e){return e.value===t})).key}},{key:"accountsWithoutActiveAccount",get:function(){var t=this;return this.mentionableAccounts.filter((function(e){return e.value!==t.activeAccountValue}))}}],[{key:"targets",get:function(){return["commentInput","comments"]}},{key:"values",get:function(){return{accountsUrl:String,activeAccount:String}}}]),e}(Stimulus.Controller));var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}};window.stimulusApp.register("msr-settings",function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"connect",value:function(){this.selectLastBuild(),this.selectInventoryLocation()}},{key:"selectInventoryLocation",value:function(){var t=this,e=this.inventoryLocationIdTarget.value,i=this.allocatedBuildsUrlValue+"?inventory_location_id="+e;null!==this.lastBuildTarget.offsetParent&&$(this.lastBuildTarget).activity({outside:!0}),fetch(i).then((function(t){return t.text()})).then((function(e){t.initLastBuildSelect(e),$(t.lastBuildTarget).activity(!1)}))}},{key:"selectLastBuild",value:function(){this.lastBuildTarget.value?this.disableTimelineControls():this.enableTimelineControls()}},{key:"initLastBuildSelect",value:function(t){this.lastBuildTarget.innerHTML=t,this.focusedBuildIdValue&&(this.lastBuildTarget.value=this.focusedBuildIdValue)}},{key:"disableTimelineControls",value:function(){this.timelineControlTargets.forEach((function(t){t.disabled=!0,t.value=null}))}},{key:"enableTimelineControls",value:function(){this.timelineControlTargets.forEach((function(t){t.disabled=!1}))}}],[{key:"targets",get:function(){return["lastBuild","inventoryLocationId","timelineControl"]}},{key:"values",get:function(){return{allocatedBuildsUrl:String,focusedBuildId:Number}}}]),e}(Stimulus.Controller));var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}};window.stimulusApp.register("pagination",function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"connect",value:function(){this.hasPaginatorTarget&&new Aligni.Pagination("#"+this.element.id,$(this.paginatorTarget).html(),$(this.entriesInfoTarget).html()).init()}}],[{key:"targets",get:function(){return["entriesInfo","paginator"]}}]),e}(Stimulus.Controller));var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}};window.stimulusApp.register("part-preview",function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"connect",value:function(){var t=$(this.element),e=t.val(),i=new Aligni.PartPreview(t);i.init(),i.getPreview(e)}}]),e}(Stimulus.Controller));var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}};window.stimulusApp.register("part-revision-release",function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"toggleDispositions",value:function(){$(this.makeActiveTarget).is(":checked")?(this.enableDispositions(),this.disableSubmit()):(this.disableDispositions(),this.enableSubmit())}},{key:"enableDispositions",value:function(){$(this.dispositionsTarget).slideDown(),$(this.dispositionsTarget).find("input").prop("disabled",!1)}},{key:"enableSubmit",value:function(){$(this.submitTarget).prop("disabled",!1)}},{key:"disableDispositions",value:function(){$(this.dispositionsTarget).slideUp(),$(this.dispositionsTarget).find("input").prop("disabled",!0)}},{key:"disableSubmit",value:function(){if($(this.submitTarget).data("enabled"))return!1;$(this.submitTarget).prop("disabled",!0)}}],[{key:"targets",get:function(){return["makeActive","dispositions","submit"]}}]),e}(Stimulus.Controller));var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}};window.stimulusApp.register("product-demand-matrix-datatable",function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"connect",value:function(){var t,e=this;this.hasTableTarget&&(t=$(e.tableTarget).DataTable({searching:!1,ordering:!1,info:!1,scrollCollapse:!0,paging:!1,scrollY:!1,scrollX:!0,responsive:!0,fixedColumns:{leftColumns:4},columnDefs:[{width:20,targets:0},{width:68,targets:1},{width:150,targets:[2,3]}]}),e.element.addEventListener("expander-toggled",(function(){t.draw()})))}}],[{key:"targets",get:function(){return["table"]}}]),e}(Stimulus.Controller));var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}};window.stimulusApp.register("purchase-order-receive-all",function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"receiveAll",value:function(){this.quantityTargets.forEach((function(t){t.value=$(t).data("outstanding-quantity")}))}}],[{key:"targets",get:function(){return["quantity"]}}]),e}(Stimulus.Controller));var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}};window.stimulusApp.register("search-parameter",function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"listOptions",value:function(t){var e=$(t.currentTarget).data("search-parameter-options-url-param");$(this.parameterSearchTarget).activity(!0),$.ajax({url:e,dataType:"script",type:"GET",success:function(){$(this.parameterSearchTarget).activity(!1)}})}}],[{key:"targets",get:function(){return["parameterSearch"]}}]),e}(Stimulus.Controller));var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}};window.stimulusApp.register("search-type",function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"showSearchField",value:function(t){this.filterLabelTargets.forEach((function(t){t.classList.remove("active")})),t.currentTarget.classList.add("active"),this.hasSearchInputTarget&&this.searchInputTarget.focus()}}],[{key:"targets",get:function(){return["filterLabel","filterOptions","searchInput"]}}]),e}(Stimulus.Controller));var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}};window.stimulusApp.register("settings-addons-modal",function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"renderCostChange",value:function(){this.hasCostChangeTarget&&(this.cost=this.getCostChange(),this.costChangeTarget.innerHTML=this.changeText+" "+this.formattedCostChange)}},{key:"getCostChange",value:function(){var t=this.quantityTarget.value,e=this.costValue*(t/this.perSetValue);return this.isAbsoluteChange?e:e-this.totalCostValue}},{key:"changeText",get:function(){return this.cost<0?"be reduced by":"increase"}},{key:"formattedCostChange",get:function(){return Math.abs(this.cost).toLocaleString("en-US",{style:"currency",currency:"USD"})}},{key:"isAbsoluteChange",get:function(){return"absolute"===this.quantityChangeValue}}],[{key:"targets",get:function(){return["costChange","quantity"]}},{key:"values",get:function(){return{perSet:Number,totalCost:Number,quantityChange:String,cost:Number}}}]),e}(Stimulus.Controller));var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}};window.stimulusApp.register("signup-options",function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"connect",value:function(){this.showHideOption()}},{key:"showHideOption",value:function(){this.organizationOptionTarget.checked?(this.personalTarget.classList.add("hide"),this.businessTarget.classList.remove("hide"),this.termsTarget.disabled=!0,this.termsTarget.checked=!1,this.termsBusinessTarget.disabled=!1,this.businessNameTarget.disabled=!1,this.businessNameTarget.classList.add("required")):(this.personalTarget.classList.remove("hide"),this.businessTarget.classList.add("hide"),this.termsTarget.disabled=!1,this.termsBusinessTarget.disabled=!0,this.termsBusinessTarget.checked=!1,this.businessNameTarget.disabled=!0,this.businessNameTarget.classList.remove("required"))}}],[{key:"targets",get:function(){return["personal","business","businessName","terms","termsBusiness","organizationOption"]}}]),e}(Stimulus.Controller));var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}};window.stimulusApp.register("submit-on-change",function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"connect",value:function(){this.hasDatepickerTarget&&this.initDatepicker()}},{key:"submit",value:function(){var t=this;this.hasMaskValue&&$("#"+this.maskValue).activity(),clearTimeout(this.timeout),this.timeout=setTimeout((function(){t.formTarget.requestSubmit()}),200)}},{key:"initDatepicker",value:function(){var t=this,e=this.datepickerTarget,i=$(e);i.watermark("YYYY-MM-DD"),i.datepicker({dateFormat:"yy-mm-dd"}),i.datepicker("option","onSelect",(function(){return t.submit()})),$("body").append(i.datepicker("widget")),i.attr("autocomplete","off")}}],[{key:"targets",get:function(){return["form","datepicker"]}},{key:"values",get:function(){return{mask:String}}}]),e}(Stimulus.Controller));var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function(t,e,i){for(var n=!0;n;){var r=t,o=e,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,i=s,n=!0,a=c=void 0}};window.stimulusApp.register("tabset",function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"connect",value:function(){var t=this;App.menuTabs(),this.lists={},this.allFiltersCount={},this.listTargets.forEach((function(e){var i=new Aligni.List(e.getAttribute("id")),n=e.getAttribute("data-list-name");t.lists[n]=i.init(),t.lists[n]&&(t.countAllFilters(n),t.countSelectedFilters(n))}))}},{key:"countAllFilters",value:function(t){this.allFiltersCount[t]=this.filterCheckboxTargets.filter((function(e){return e.getAttribute("data-list-name")===t})).length}},{key:"countSelectedFilters",value:function(t){var e=this.lists[t].items.filter((function(t){return $(t.elm).find(":checkbox").is(":checked")})).length,i=this.filterCountTargets.find((function(e){return e.getAttribute("data-list-name")===t}));e===this.allFiltersCount[t]&&e>0?i.textContent="All":i.textContent=e>0?e+" of "+this.allFiltersCount[t]:""}},{key:"toggleFilter",value:function(t){var e=t.currentTarget.getAttribute("data-list-name");this.countSelectedFilters(e)}}],[{key:"targets",get:function(){return["filterCheckbox","filterCount","list"]}}]),e}(Stimulus.Controller)),$(document).on("turbo:load ajaxSuccess",App.attachAutosize),jQuery((function(t){t(document).on("submit","form[method=get][data-turboform=true]",(function(e){e.preventDefault();var i=t(this);Turbo.visit(i.attr("action")+"?"+i.serialize())})),t(".equal-height").matchHeight({byRow:!0}),jQuery.migrateWarnings.length>0&&Sentry.captureMessage("jQuery deprecation warning",{extra:{warnings:jQuery.migrateWarnings.join(", ")}}),t("#test-messages").append("<p>Aligni JavaScript code initialized</p>")}));